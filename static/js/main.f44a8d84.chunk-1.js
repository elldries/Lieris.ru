/*! For license information please see main.f44a8d84.chunk.js.LICENSE.txt */
(this.webpackJsonpartboard=this.webpackJsonpartboard||[]).push([[0],{120:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(51);const n=Object(s.a)("UPDATE_PRESETS",e=>e)},137:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));var s=a(51);const n=Object(s.a)("FETCH_FONTS_REQUEST"),o=Object(s.a)("FETCH_FONTS_SUCCESS",e=>e)},138:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));var s=a(51);const n=Object(s.a)("FETCH_COMPONENTS_REQUEST",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};return e})),o=Object(s.a)("FETCH_COMPONENTS_SUCCESS",e=>e)},14:function(e,t,a){"use strict";a.d(t,"a",(function(){return k})),a.d(t,"b",(function(){return b}));var s=a(0),n=a.n(s),o=a(449),i=a(10),r=a.n(i),l=a(2),c=a(5),p=a.n(c);class d extends n.a.Component{constructor(){super(...arguments),this.componentDidMount=()=>{const{timeOut:e}=this.props;0!==e&&(this.timer=setTimeout(this.requestHide,e))},this.componentWillUnmount=()=>{this.timer&&clearTimeout(this.timer)},this.close=()=>{const{onClick:e}=this.props;e&&e(),this.requestHide()},this.requestHide=()=>{const{onRequestHide:e}=this.props;e&&e()},this.resendEmailConfirmation=()=>{p.a.defaults.headers.common.Authorization="Bearer "+this.props.user.jwt,p.a.post("/users/resend_confirmation",{},{headers:{"Content-Type":"application/json"}}).then(()=>{b.success("Confirmation email successfully sent.","Thank you.")})},this.goTo=(e,t,a,s)=>{if(e.preventDefault(),a)return a.postMessage({action:"skipWaiting"}),a.postMessage({type:"SKIP_WAITING"}),void document.location.reload();"resendEmailConfirmation"===t?(this.resendEmailConfirmation(),this.close()):("development"===window.ENV&&(t=t.replace("lvh.me","lvh.me:3000")),s?(this.close&&this.close(),window.open(t,"",s)):document.location.href=t)}}render(){const{type:e,message:t,buttons:a,buttonCloseText:s,buttonLinkText:o,buttonLinkUrl:i,buttonLinkTarget:l,worker:c,publish:p}=this.props;let{title:d}=this.props;const h=r()(["notification","notification-".concat(e)]);return d=d?n.a.createElement("h4",{className:"title"},d):null,n.a.createElement("div",{className:h},n.a.createElement("svg",{onClick:this.close,style:{position:"absolute",top:20,right:22},width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M15 1L1 15",stroke:"#333333"}),n.a.createElement("path",{d:"M1 1L15 15",stroke:"#333333"}))),n.a.createElement("div",{className:"notification-message",role:"alert"},d,n.a.createElement("div",{className:"message"},t),a&&n.a.createElement("div",{className:"notification-message__buttons"},p?n.a.createElement("a",{href:i,rel:"noopener noreferrer",target:"_blank",className:"notification-message__button-link"},o):n.a.createElement("a",{href:i,onClick:e=>{this.goTo(e,i,c,l)},className:"notification-message__button-link"},o),"resendEmailConfirmation"!==i&&n.a.createElement("button",{onClick:this.close,className:"notification-message__button-close"},s))))}}d.defaultProps={type:"info",title:null,message:null,timeOut:5e3,onClick:()=>{},onRequestHide:()=>{}};var h=Object(l.b)(e=>({user:e.sessions}),{})(d);class m extends n.a.Component{constructor(){super(...arguments),this.handleRequestHide=e=>()=>{const{onRequestHide:t}=this.props;t&&t(e)}}render(){const{notifications:e,enterTimeout:t,leaveTimeout:a}=this.props,s=r()("notification-container",{"notification-container-empty":0===e.length});return n.a.createElement("div",{className:s},n.a.createElement(o.CSSTransitionGroup,{transitionName:"notification",transitionEnterTimeout:t,transitionLeaveTimeout:a},e.map(e=>{const t=e.id||(new Date).getTime();return n.a.createElement(h,{key:t,buttonLinkTarget:e.buttonLinkTarget,buttons:e.buttons,buttonLinkUrl:e.buttonLinkUrl,buttonLinkText:e.buttonLinkText,buttonCloseText:e.buttonCloseText,type:e.type,title:e.title,message:e.message,timeOut:e.timeOut,onClick:e.onClick,worker:e.worker,publish:e.publish,onRequestHide:this.handleRequestHide(e)})})))}}m.defaultProps={notifications:[],onRequestHide:()=>{},enterTimeout:400,leaveTimeout:400};var u=m,g=a(230);const _="change",f="info",v="success",w="warning",C="error";class y extends g.EventEmitter{constructor(){super(),this.listNotify=[]}create(e){const t={id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),type:"info",title:null,message:null,timeOut:5e3,buttons:!1,buttonCloseText:"Close",buttonLinkText:"#",buttonLinkUrl:"/",buttonLinkTarget:"_self",worker:{},publish:!1};e.priority?this.listNotify.unshift(Object.assign(t,e)):this.listNotify.push(Object.assign(t,e)),this.emitChange()}info(e,t,a,s,n,o,i,r,l,c,p){let d=arguments.length>11&&void 0!==arguments[11]&&arguments[11];this.create({type:f,message:e,title:t,timeOut:a,onClick:s,priority:n,buttons:o,buttonCloseText:i,buttonLinkText:r,buttonLinkUrl:l,buttonLinkTarget:c,worker:p,publish:d})}success(e,t,a,s,n,o,i,r,l,c,p){let d=arguments.length>11&&void 0!==arguments[11]&&arguments[11];this.create({type:v,message:e,title:t,timeOut:a,onClick:s,priority:n,buttons:o,buttonCloseText:i,buttonLinkText:r,buttonLinkUrl:l,buttonLinkTarget:c,worker:p,publish:d})}warning(e,t,a,s,n,o,i,r,l,c,p){let d=arguments.length>11&&void 0!==arguments[11]&&arguments[11];this.create({type:w,message:e,title:t,timeOut:a,onClick:s,priority:n,buttons:o,buttonCloseText:i,buttonLinkText:r,buttonLinkUrl:l,buttonLinkTarget:c,worker:p,publish:d})}error(e,t,a,s,n,o,i,r,l,c,p){let d=arguments.length>11&&void 0!==arguments[11]&&arguments[11];this.create({type:C,message:e,title:t,timeOut:a,onClick:s,priority:n,buttons:o,buttonCloseText:i,buttonLinkText:r,buttonLinkUrl:l,buttonLinkTarget:c,worker:p,publish:d})}remove(e){this.listNotify=this.listNotify.filter(t=>e.id!==t.id),this.emitChange()}emitChange(){this.emit(_,this.listNotify)}addChangeListener(e){this.addListener(_,e)}removeChangeListener(e){this.removeListener(_,e)}}var b=new y;class E extends n.a.Component{constructor(){super(...arguments),this.state={notifications:[]},this.componentWillMount=()=>{b.addChangeListener(this.handleStoreChange)},this.componentWillUnmount=()=>{b.removeChangeListener(this.handleStoreChange)},this.handleStoreChange=e=>{this.setState({notifications:e})},this.handleRequestHide=e=>{b.remove(e)}}render(){const{notifications:e}=this.state,{enterTimeout:t,leaveTimeout:a}=this.props;return n.a.createElement(u,{enterTimeout:t,leaveTimeout:a,notifications:e,onRequestHide:this.handleRequestHide})}}E.defaultProps={enterTimeout:400,leaveTimeout:400};var k=E},15:function(e,t,a){"use strict";var s=a(59);t.a=Object(s.a)()},16:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"e",(function(){return p})),a.d(t,"f",(function(){return d}));var s=a(51);const n=Object(s.a)("CREATE_SITE_REQUEST",(e,t,a)=>[e,t,a]),o=Object(s.a)("CREATE_SITE_SUCCESS",e=>e),i=Object(s.a)("FETCH_SITE_REQUEST",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return[e,t]})),r=Object(s.a)("FETCH_SITE_SUCCESS",e=>e),l=Object(s.a)("UPDATE_SITE_REQUEST",(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return[e,t,a]})),c=Object(s.a)("UPDATE_SITE_SUCCESS",e=>e),p=Object(s.a)("REMOVE_SITE_REQUEST",(e,t)=>[e,t]),d=Object(s.a)("REMOVE_SITE_SUCCESS",e=>e)},225:function(e,t,a){"use strict";a.d(t,"c",(function(){return dr})),a.d(t,"b",(function(){return hr}));var s=a(0),n=a.n(s),o=a(2),i=a(454),r=a.n(i),l=a(4),c=a.n(l),p=a(5),d=a.n(p),h=a(89),m=a.n(h),u=a(455),g=a.n(u),_=a(456),f=a.n(_),v=a(15);function w(e){let t,{targetIndex:a,node:s,currentIndex:n,getNodeKey:o,path:i=[],lowerSiblingCounts:r=[],ignoreCollapsed:l=!0,isPseudoRoot:c=!1}=e;s.children&&(t=Object.values(s.children));const p=c?[]:[...i,o({node:s,treeIndex:n})];if(n===a)return{node:s,lowerSiblingCounts:r,path:p};if(!t||l&&!0!==s.expanded)return{nextIndex:n+1};let d=n+1;const h=t.length;for(let m=0;m<h;m+=1){const e=w({ignoreCollapsed:l,getNodeKey:o,targetIndex:a,node:t[m],currentIndex:d,lowerSiblingCounts:[...r,h-m-1],path:p});if(e.node)return e;d=e.nextIndex}return{nextIndex:d}}function C(e){let{node:t,ignoreCollapsed:a=!0}=e;return w({getNodeKey:()=>{},ignoreCollapsed:a,node:t,currentIndex:0,targetIndex:-1}).nextIndex-1}function y(e){let{treeData:t,getNodeKey:a,callback:s,ignoreCollapsed:n=!0}=e;!t||t.length<1||function e(t){let a,{callback:s,getNodeKey:n,ignoreCollapsed:o,isPseudoRoot:i=!1,node:r,parentNode:l=null,currentIndex:c,path:p=[],lowerSiblingCounts:d=[]}=t;r.children&&(a=Object.keys(r.children));const h=i?[]:[...p,n({node:r,treeIndex:c})];if(!i){if(!1===s(i?null:{node:r,parentNode:l,path:h,lowerSiblingCounts:d,treeIndex:c}))return!1}if(!r.children||!0!==r.expanded&&o&&!i)return c;let m=c;const u=a.length;if("function"!==typeof r.children)for(let g=0;g<u;g+=1)if(m=e({callback:s,getNodeKey:n,ignoreCollapsed:o,node:r.children[a[g]],parentNode:i?null:r,currentIndex:m+1,lowerSiblingCounts:[...d,u-g-1],path:h}),!1===m)return!1;return m}({callback:s,getNodeKey:a,ignoreCollapsed:n,isPseudoRoot:!0,node:{children:t},currentIndex:-1,path:[],lowerSiblingCounts:[]})}function b(e){let{treeData:t,path:a,newNode:s,getNodeKey:n,ignoreCollapsed:o=!0}=e;const i=e=>{let t,{isPseudoRoot:r=!1,node:l,currentTreeIndex:c,pathIndex:p}=e;if(l.children&&(t=Object.keys(l.children)),!r&&n({node:l,treeIndex:c})!==a[p])return"RESULT_MISS";if(p>=a.length-1)return"function"===typeof s?s({node:l,treeIndex:c}):s;if(!l.children)throw new Error("Path referenced children of node with no children.");let d=c+1;for(let a=0;a<t.length;a+=1){const e=i({node:l.children[t[a]],currentTreeIndex:d,pathIndex:p+1});if("RESULT_MISS"!==e){if(e){const s=t.slice(0,a),n=t.slice(a+1);let o={};for(const e of s)o[e]=l.children[e];let i={};for(const e of n)i[e]=l.children[e];return{...l,children:{...o,[e.id]:e,...i}}}const s=t.slice(0,a),n=t.slice(a+1);let o={};for(const e of s)o[e]=l.children[e];let i={};for(const e of n)i[e]=l.children[e];return{...l,children:{...o,...i}}}d+=1+C({node:l.children[t[a]],ignoreCollapsed:o})}return"RESULT_MISS"},r=i({node:{children:t},currentTreeIndex:-1,pathIndex:-1,isPseudoRoot:!0});return"RESULT_MISS"===r?(console.error("No node found at the given path."),t):r.children}function E(e){let{treeData:t,path:a,getNodeKey:s,ignoreCollapsed:n=!0}=e;return b({treeData:t,path:a,getNodeKey:s,ignoreCollapsed:n,newNode:null})}function k(e){let{treeData:t,depth:a,minimumTreeIndex:s,newNode:n,getNodeKey:o=(()=>{}),ignoreCollapsed:i=!0,expandParent:r=!1}=e;if(!t&&0===a)return{treeData:[n],treeIndex:0,path:[o({node:n,treeIndex:0})],parentNode:null};const l=function e(t){let a,{targetDepth:s,minimumTreeIndex:n,newNode:o,ignoreCollapsed:i,expandParent:r,isPseudoRoot:l=!1,isLastChild:c,node:p,currentIndex:d,currentDepth:h,getNodeKey:m,path:u=[]}=t;p.children&&(a=Object.keys(p.children));const g=e=>l?[]:[...u,m({node:e,treeIndex:d})];if(d>=n-1||c&&(!p.children||!a.length)){if("function"===typeof p.children)throw new Error("Cannot add to children defined by a function");{const e=r?{expanded:!0}:{},t={...p,...e,children:p.children?{[o.id]:o,...p.children}:{[o.id]:o}};return{node:t,nextIndex:d+2,insertedTreeIndex:d+1,parentPath:g(t),parentNode:l?null:t}}}if(h>=s-1){if(!p.children||"function"===typeof p.children||!0!==p.expanded&&i&&!l)return{node:p,nextIndex:d+1};let e=d+1,t=null,s=null;for(let o=0;o<a.length;o+=1){if(e>=n){t=e,s=o;break}e+=1+C({node:p.children[a[o]],ignoreCollapsed:i})}if(null===s){if(e<n&&!c)return{node:p,nextIndex:e};t=e,s=a.length}const r=a.slice(0,s),h=a.slice(s);let m={};for(const a of r)m[a]=p.children[a];let u={};for(const a of h)u[a]=p.children[a];const _={...p,children:{...m,[o.id]:o,...u}};return{node:_,nextIndex:e,insertedTreeIndex:t,parentPath:g(_),parentNode:l?null:_}}if(!p.children||"function"===typeof p.children||!0!==p.expanded&&i&&!l)return{node:p,nextIndex:d+1};let _=null,f=null,v=null,w=d+1,y=p.children;if("function"!==typeof y){let t=0,a=Object.keys(y);for(const l of a){if(a=Object.keys(y),null!==_)continue;const l=e({targetDepth:s,minimumTreeIndex:n,newNode:o,ignoreCollapsed:i,expandParent:r,isLastChild:c&&t===a.length-1,node:y[a[t]],currentIndex:w,currentDepth:h+1,getNodeKey:m,path:[]});"insertedTreeIndex"in l&&({insertedTreeIndex:_,parentNode:v,parentPath:f}=l),w=l.nextIndex,y[l.node.id]=l.node,t++}}const b={...p,children:y},E={node:b,nextIndex:w};return null!==_&&(E.insertedTreeIndex=_,E.parentPath=[...g(b),...f],E.parentNode=v),E}({targetDepth:a,minimumTreeIndex:s,newNode:n,ignoreCollapsed:i,expandParent:r,getNodeKey:o,isPseudoRoot:!0,isLastChild:!0,node:{children:t},currentIndex:-1,currentDepth:-1});if(!("insertedTreeIndex"in l))throw new Error("No suitable position found to insert.");const c=l.insertedTreeIndex;return{treeData:l.node.children,treeIndex:c,path:[...l.parentPath,o({node:n,treeIndex:c})],parentNode:l.parentNode}}function S(e){let{treeData:t,getNodeKey:a,ignoreCollapsed:s=!0}=e;if(!t||t.length<1)return[];const n=[];return y({treeData:t,getNodeKey:a,ignoreCollapsed:s,callback:e=>{n.push(e)}}),n}function x(e){let{flatData:t,getKey:a=(e=>e.id),getParentKey:s=(e=>e.parentId),rootKey:n="0"}=e;if(!t)return[];const o={};if(t.forEach(e=>{const t=s(e);t in o?o[t].push(e):o[t]=[e]}),!(n in o))return[];const i=e=>{const t=a(e);if(t in o){let a={};for(const e of o[t])a[e.id]=i(e);return{...e,children:a}}return{...e}};let r={};for(const l of o[n])l.id&&(r[l.id]=i(l));return r}var N=a(14),B=a(78),F=a(16),A=a(32),L=a(137),O=a(138),D=a(120),M=a(12),P=a.n(M),I=a(347),T=a(36),R=a(9),j=a(1027);const G=n.a.createElement("svg",{className:"react-contexify__item-icon",width:"5",height:"9",viewBox:"0 0 5 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M4.5 0.5L0.5 4.5L4.5 8.5",stroke:"#444444",strokeLinecap:"round",strokeLinejoin:"round"})),H=n.a.createElement("svg",{className:"react-contexify__subitems-icon",width:"5",height:"9",viewBox:"0 0 5 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.5 0.5L4.5 4.5L0.5 8.5",stroke:"#444444",strokeLinecap:"round",strokeLinejoin:"round"})),U=e=>{v.a.push(e)};var Z=Object(j.a)()(e=>{let{menu_id:t,siteId:a,pageId:s,cancel:o,onHidden:i,userIsOwner:r,handleToggleShortcuts:l,handleToggleVersionHistory:c,t:p}=e;return n.a.createElement(R.Menu,{animation:"fade",onHidden:i,className:"react-contexify_top-panel",id:t},n.a.createElement(R.Item,{className:"react-contexify__item react-contexify__item_first",onClick:o},G,n.a.createElement("span",{className:"va-middle"},p("app.editor.menu.backtopages"))),n.a.createElement(R.Separator,null),n.a.createElement(R.Item,{className:"react-contexify__item",onClick:U.bind(null,"/account/sites/".concat(a,"/pages/create"))},p("app.editor.menu.newpage")),n.a.createElement(R.Separator,null),n.a.createElement(R.Submenu,{className:"react-contexify__item-withsub",label:p("app.editor.menu.page"),arrow:H},n.a.createElement(R.Item,{onClick:c},p("app.editor.menu.viewversionhistory")),n.a.createElement(R.Item,{className:"react-contexify__item",onClick:U.bind(null,"/account/sites/".concat(a,"/pages/").concat(s,"/settings/general"))},p("app.editor.menu.pagessettings"))),n.a.createElement(R.Submenu,{className:"react-contexify__item-withsub",label:p("app.editor.menu.websitesettings"),arrow:H},n.a.createElement(R.Item,{onClick:U.bind(null,"/account/sites/".concat(a,"/settings/general"))},p("app.editor.menu.websitesettingsmenu.general")),n.a.createElement(R.Item,{onClick:U.bind(null,"/account/sites/".concat(a,"/settings/domains"))},p("app.editor.menu.websitesettingsmenu.domains")),n.a.createElement(R.Item,{onClick:U.bind(null,"/account/sites/".concat(a,"/settings/headhtml"))},p("app.editor.menu.websitesettingsmenu.customcode")),r&&n.a.createElement(R.Item,{onClick:U.bind(null,"/account/sites/".concat(a,"/settings/transfer"))},p("app.editor.menu.websitesettingsmenu.transfer")),n.a.createElement(R.Item,{onClick:U.bind(null,"/account/sites/".concat(a,"/settings/delete"))},p("app.editor.menu.websitesettingsmenu.delete"))),n.a.createElement(R.Separator,null),n.a.createElement(R.Submenu,{className:"react-contexify__item-withsub",label:p("app.editor.menu.account"),arrow:H},n.a.createElement(R.Item,{onClick:U.bind(null,"/account/profile/general/userinfo")},p("app.editor.menu.accountmenu.profile")),n.a.createElement(R.Item,{onClick:U.bind(null,"/account/profile/general/password")},p("app.editor.menu.accountmenu.password")),n.a.createElement(R.Item,{onClick:U.bind(null,"/account/profile/general/privacy")},p("app.editor.menu.accountmenu.privacy"))),n.a.createElement(R.Submenu,{className:"react-contexify__item-withsub",label:p("app.editor.menu.help"),arrow:H},n.a.createElement(R.Item,{onClick:l},p("app.editor.menu.helpmenu.keyboard"))))});class z extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={value:"",loading:!1},this.close=()=>{this.state.loading||this.props.handleCloseImport()},this.handleImportComponents=e=>{const t=this.handleImport(e);this.props.addComponentsFromJSON(t)},this.handleImport=function(){let t={update:JSON.parse(e.state.value)},a="/pages/".concat(window.pageId,"/page_components");e.setState({loading:!0}),d.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.sessions.jwt),Object.assign(t,{options:{current_device:window.currentDeviceName,current_groups:[]}}),d.a.put(a,t).then(()=>{e.setState({loading:!1}),window.location.reload()}).catch(()=>{e.setState({loading:!1})})},this.handleChangeValue=e=>{let{target:t}=e,{value:a}=t;this.setState({value:a})}}componentWillMount(){window.handleImportComponents=this.handleImportComponents}render(){const{value:e,loading:t}=this.state;return n.a.createElement("div",{resize:"height",className:"login-wrapper dashboard-create__site unsplash-modal modal-closed modal-open"},n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"Escape",onKeyHandle:this.close}),n.a.createElement("div",{className:"dashboard-create__site-overlay",onClick:this.close}),n.a.createElement("div",{className:"inline-wrapper modal-window"},n.a.createElement("div",{className:"login__form_site_choose-unsplash__image-body"},n.a.createElement("div",{className:"login__form_site_choose-unsplash__image"},n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("textarea",{id:"components-json",onChange:this.handleChangeValue,placeholder:"Components JSON",className:"input input_map-textarea",value:e})),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("button",{disabled:t,id:"handleImport",name:"button",type:"button",title:"Finish",onClick:()=>{this.handleImport()},className:"button button_blue"},t?"Loading...":"Import"))))))}}var V=Object(o.b)(e=>({sessions:e.sessions}),{})(z);var W=e=>{const{changeZoom:t,handleChangeZoom:a}=e;return n.a.createElement("div",{className:"section-editor__top-panel-zoom noselect"},n.a.createElement("div",{className:"section-editor__top-panel-zoom__control section-editor__top-panel-zoom__out",onClick:t.bind(null,"-")},n.a.createElement("svg",{className:"section-editor__top-panel-zoom__out-icon",width:"10px",height:"2px",viewBox:"0 0 10 2",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Buttons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(-81.000000, -28.000000)",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"zoom",transform:"translate(76.000000, 19.000000)",stroke:"#7D8395",strokeWidth:"2"},n.a.createElement("g",{id:"minus-circle"},n.a.createElement("path",{d:"M6,10 L14,10",id:"Shape"})))))),n.a.createElement("div",{className:"section-editor__top-panel-zoom__current"},n.a.createElement("input",{autoComplete:"off",onClick:e=>e.target.select(),id:"zoom_input",type:"text",className:"input input_setting input_setting-inline input_zoom",value:parseInt(window.currentZoom,10)||"",onChange:a}),n.a.createElement("span",{className:"section-editor__top-panel-zoom__current-percent"},"%")),n.a.createElement("div",{className:"section-editor__top-panel-zoom__control section-editor__top-panel-zoom__in",onClick:t.bind(null,"+")},n.a.createElement("svg",{className:"section-editor__top-panel-zoom__in-icon",width:"10px",height:"10px",viewBox:"0 0 10 10",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.a.createElement("g",{id:"Buttons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(-154.000000, -24.000000)",strokeLinecap:"round"},n.a.createElement("g",{id:"zoom",transform:"translate(76.000000, 19.000000)",stroke:"#7D8395",strokeWidth:"2"},n.a.createElement("g",{id:"plus-circle",transform:"translate(73.000000, 0.000000)"},n.a.createElement("g",{id:"Group-5",transform:"translate(6.000000, 6.000000)"},n.a.createElement("path",{d:"M4,0 L4,8",id:"Shape"}),n.a.createElement("path",{d:"M0,4 L8,4",id:"Shape"}))))))))},q=a(457),K=a.n(q),Y=a(458),J=a(459),X=a.n(J),Q=a(460),$=a.n(Q),ee=a(461),te=a.n(ee),ae=a(462);const se={domain_not_paid:{head:"Free Domain Deactivated",details:'This website is no longer active. If you are the owner <a class="link-to-account" href="/account/profile/billing/payment-method">go to your account</a> to add a payment method.',buttonText:"Upgrade to Pro",buttonLink:"/account/profile/billing/payment-method"},site_deactivated:{head:"Website Deactivated",details:'This website is no longer active. If you are the owner <a class="link-to-account" href="/account/profile/billing/payment-method">go to your account</a> to add a payment method.',buttonText:"Upgrade to Pro",buttonLink:"/account/profile/billing/payment-method"},page_not_found:{head:"Page not found!",details:'Sorry, but requested page doesn\'t exist, please try again or <a href="https://help.siter.io/">contact support</a>',buttonText:"Contact support",buttonLink:"https://help.siter.io/"},site_not_paid:{head:"The website has not been paid.",details:'To preview and see the website live, you need to have an active subscription. Consider upgrading the free plan to paid subscription <a href="/account/profile/billing/subscriptions">here</a>',buttonText:"Upgrade to Pro",buttonLink:"/account/profile/billing/subscriptions"},site_not_found:{head:"Site not found!",details:'The server encountered an internal error or misconfiguration and was unable to complete your request. Please try again or <a href="https://help.siter.io/">contact support</a>',buttonText:"Contact support",buttonLink:"https://help.siter.io/"}};var ne=Object(j.a)()(e=>{const{handlePreviewUrl:t,pageUrl:a,publishPage:o,publish:i,t:r,currentSite:l,prePublishDownload:c,subscriptionInfo:p}=e,[d,h]=Object(s.useState)(!1),[m,u]=Object(s.useState)(!1),[g,_]=Object(s.useState)(null);Object(s.useEffect)(()=>{if(d){const e=document.getElementById("sprite"),t=64;let a=0;const s=45,n=1500;let o=!1;const i=setInterval((function(){o||(a=(a+t)%(t*s),e.style.backgroundPosition="-".concat(a,"px 0px"),a===t*(s-1)&&(o=!0,setTimeout(()=>{o=!1},n)))}),30);return()=>clearInterval(i)}},[d]),Object(s.useEffect)(()=>{h(!!i)},[i]);return n.a.createElement("div",{className:"top-panel_buttons_wrapper"},d&&n.a.createElement("div",{className:"top-panel-context-overlay"},n.a.createElement("div",{id:"sprite",style:{backgroundImage:"url(".concat(te.a,")"),backgroundPosition:"0px 0px",width:"64px",height:"64px"}})),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t(),className:"header-menu__right-item-button"},n.a.createElement("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.a.createElement("g",{id:"Unfortunately,-this-block-is-only-available-on-paid-accounts.",transform:"translate(-1248.000000, -24.000000)",fill:"#666A7C"},n.a.createElement("g",{id:"preview",transform:"translate(1238.000000, 11.000000)"},n.a.createElement("path",{d:"M10,21 C11.7,25.6933333 16,29 21,29 C26,29 30.3,25.6933333 32,21 C30.3,16.3066667 26,13 21,13 C16,13 11.7,16.3066667 10,21 Z M21,26 C18.2,26 16,23.8 16,21 C16,18.2 18.2,16 21,16 C23.8,16 26,18.2 26,21 C26,23.8 23.8,26 21,26 L21,26 Z M21,18 C19.3,18 18,19.3 18,21 C18,22.7 19.3,24 21,24 C22.7,24 24,22.7 24,21 C24,19.3 22.7,18 21,18 L21,18 Z",id:"Shape"})))))),n.a.createElement("div",{className:"button button_save-section button_save-section_container button_save-section_container"},n.a.createElement("button",{className:"button button_save-section_publish",onClick:o},r("app.editor.settingspanel.publish")),n.a.createElement("div",{className:"button_blue-devider"}),n.a.createElement("div",{className:"button_save-section_svg-wrapper",onClick:e=>{e.preventDefault(),R.contextMenu.show({id:"top-panel-context-menu",event:e})}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"6",viewBox:"0 0 11 6",fill:"none"},n.a.createElement("path",{d:"M1 1L5.5 5L10 1",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))),n.a.createElement(R.Menu,{id:"top-panel-context-menu",className:"button_save-section_menu"},n.a.createElement(R.Item,{disabled:i,onClick:o},r("app.editor.settingspanel.publish")),n.a.createElement(R.Item,{disabled:d,onClick:async()=>{if(!d)if(h(!0),"Pro"===p)try{await c(!1);const e="https://".concat(l,"/").concat(a);console.log("Iframe URL:",e);const t=document.createElement("iframe");t.style.display="none",t.src=e;const s=async e=>{if(console.log("Message received:",e),"react-devtools-bridge"===e.data.source)return void console.log("Ignoring react-devtools-bridge message");console.log("Message received2:",e);const n=e.data;if(se[n])_(se[n]),u(!0);else{const n=e.data;if(console.log("Received HTML content:",n),"string"!==typeof n||!n.includes("<meta"))return void console.warn("Received unexpected message data:",n);const i="<!DOCTYPE html><html>".concat(n,"</html>"),r=(new DOMParser).parseFromString(i,"text/html"),l=new K.a,c=l.folder("assets/img"),p=l.folder("assets/css"),d=l.folder("assets/js"),h=r.querySelectorAll('img, [style*="background-image"]'),m=r.querySelectorAll('link[rel="stylesheet"]'),u=r.querySelectorAll("script[src]");let g="";r.querySelectorAll("style").forEach(e=>{g+=e.innerHTML,e.remove()}),p.file("inline-styles.css",g);const _=r.createElement("link");_.rel="stylesheet",_.href="assets/css/inline-styles.css",r.head.appendChild(_);const f=r.querySelectorAll('link[rel="icon"], link[rel="apple-touch-icon"]');for(const e of f){const t=e.href,a=t.split("/").pop();try{const s=await fetch(t).then(e=>e.blob());c.file(a,s),e.href="assets/img/"+a}catch(o){console.warn("Failed to fetch image:",t,o)}}for(const e of h){let t,a;if("img"===e.tagName.toLowerCase()?(t=e.src,a=t.split("/").pop(),e.src="assets/img/"+a):e.style.backgroundImage&&(t=e.style.backgroundImage.slice(5,-2),a=t.split("/").pop(),e.style.backgroundImage="url('assets/img/".concat(a,"')")),t&&a)try{const e=await fetch(t).then(e=>e.blob());c.file(a,e)}catch(o){console.warn("Failed to fetch image:",t,o)}}for(const e of m){const t=e.href;let a=t.split("/").pop();try{const e=await fetch(t),s=await e.text();if(t.includes("family")){a="fonts.css";r.querySelector('link[href="'.concat(t,'"]')).href="assets/css/fonts.css"}p.file(a,s);const n=r.querySelector('link[href="'.concat(t,'"]'));n&&(n.href="assets/css/"+a)}catch(o){console.warn("Failed to fetch CSS file:",t,o)}}for(const e of u){const t=e.src,a=t.split("/").pop();try{const s=await fetch(t).then(e=>e.blob());d.file(a,s),e.src="assets/js/"+a}catch(o){console.warn("Failed to fetch JS file:",t,o)}}const v=r.getElementById("page-content-height-resize");v&&v.style.height&&(v.style.height="");let w=(new XMLSerializer).serializeToString(r);l.file("index.html",w),w=Object(ae.html)(w,{indent_size:2,space_in_empty_paren:!0}),l.file("index.html",w);const C=await l.generateAsync({type:"blob"});Object(Y.saveAs)(C,"".concat(a,".zip")),document.body.removeChild(t),window.removeEventListener("message",s)}h(!1)};window.addEventListener("message",s),t.onload=()=>{console.log("Iframe loaded, 3 sec delay"),setTimeout(()=>{console.log("Sending postMessage"),t.contentWindow.postMessage({type:"getPageContent"},"https://".concat(l))},6e3)},document.body.appendChild(t)}catch(e){console.error("Error:",e),h(!1)}else u(!0),h(!1)}},d&&"Pro"===p?"Saving...":"Download HTML")),m&&n.a.createElement("div",{className:"top-panel-context-overlay",onClick:()=>{u(!1)}},n.a.createElement("div",{className:"top-panel-context-popup",onClick:e=>e.stopPropagation()},n.a.createElement("img",{className:"top-panel-popup-icon",src:X.a,alt:"icon"}),n.a.createElement("span",{className:"top-panel-popup-head"},"Get More Features with Pro Plan"),n.a.createElement("span",{className:"top-panel-popup-details"},"With our Pro plan, you can download your projects as ZIP/HTML files. Upgrade to Pro today for full control and seamless integration!"),n.a.createElement("a",{className:"top-panel-popup-upgrade-link",href:"/account/profile/billing/subscriptions"},"Upgrade to Pro"))),g&&n.a.createElement("div",{className:"top-panel-context-overlay",onClick:()=>{_(null)}},n.a.createElement("div",{className:"top-panel-context-popup",onClick:e=>e.stopPropagation()},n.a.createElement("img",{className:"top-panel-popup-icon",src:$.a,alt:"icon"}),n.a.createElement("span",{className:"top-panel-popup-head"},g.head),n.a.createElement("span",{className:"top-panel-popup-details",dangerouslySetInnerHTML:{__html:g.details}}),n.a.createElement("a",{className:"top-panel-popup-upgrade-link",href:g.buttonLink},g.buttonText))))}),oe=a(53),ie=a(463),re=a.n(ie),le=a(464),ce=a.n(le),pe=a(38),de=a.n(pe);const he=n.a.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M2.5 6.90909L5.36364 11L10.2727 2",stroke:"#3E87F8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));class me extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={saving:!1,publish:!1,importPage:!1,menuIsShow:!1,now:(new Date).getTime()},this.handleHideTooltip=()=>{document.querySelector(".section-editor__top-panel .__react_component_tooltip").classList.remove("show")},this.cancel=()=>{this.state.saving&&!window.confirm("You have unsaved changes, Are you shure?")||v.a.push("/account/sites/".concat(this.props.siteId,"/pages"))},this.handlePreviewUrl=()=>"/account/".concat(this.props.pageId,"/preview"),this.getProtocol=e=>this.props.site.https?"https://":"http://",this.userPaid=()=>{const{user:e}=this.props;return e.subscription&&"active"===e.subscription.status&&-1===e.subscription.plan.identifier.indexOf("free")},this.getSiteUrl=()=>{if(!this.userPaid())return"/account/".concat(window.pageId,"/preview");let e="";return this.props.site.home_page_id!==window.pageId&&(e=this.props.pagePath),"".concat(this.getProtocol()+this.props.site.default_domain,"/").concat(e)},this.publishPage=()=>{const{user:e}=this.props,{t:t}=this.props;if(this.setState({publish:!0}),window.onbeforeunload)return setTimeout(this.publishPage,1e3);d.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),d.a.post("/pages/".concat(window.pageId,"/publish"),{},{headers:{"Content-Type":"application/json"}}).then(e=>{setTimeout(()=>{this.setState({publish:!1}),N.b.success(t("app.pages.successpublished"),t("app.pages.successtext"),5e3,void 0,void 0,!0,"Close","View page",this.getSiteUrl(),"_blank",!1,!0)},1500)}).catch(e=>{setTimeout(()=>{this.setState({publish:!1}),N.b.error("Unknown server error (".concat(e.status,")"),"Error",5e3)},1500)})},this.prePublishDownload=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{user:a}=e.props,{t:s}=e.props;if(window.onbeforeunload)return setTimeout(e.publishPage,1e3);d.a.defaults.headers.common.Authorization="Bearer ".concat(a.jwt),d.a.post("/pages/".concat(window.pageId,"/publish"),{},{headers:{"Content-Type":"application/json"}}).then(a=>{t&&N.b.success(s("app.pages.successpublished"),s("app.pages.successtext"),5e3,void 0,void 0,!0,"Close","View page",e.getSiteUrl(),"_blank",!1,!0)}).catch(t=>{e.setState({publish:!1}),N.b.error("Unknown server error (".concat(t.status,")"),"Error",5e3)})},this.handleOpenImport=e=>{e&&e.shiftKey&&e.metaKey&&(e.preventDefault(),this.setState({importPage:!this.state.importPage}))},this.handleCloseImport=e=>{this.setState({importPage:!1})},this.toggleMenu=e=>{this.refs.menu.classList.contains("section-editor__top-panel__menu_active")?R.contextMenu.hideAll():(R.contextMenu.show({event:e,id:"top-menu"}),this.refs.menu.classList.add("section-editor__top-panel__menu_active"))},this.onHidden=e=>{this.refs.menu.classList.remove("section-editor__top-panel__menu_active")},this.closeTooltip=()=>{this.refs.tooltip.close()},this.handleSave=e=>{(e.metaKey||e.ctrlKey)&&e.preventDefault()},this.updateTooltip=()=>{let e=document.querySelector('[data-for="save-status"]');e.dispatchEvent(new MouseEvent("mouseout",{view:window,bubbles:!0,cancelable:!0})),setTimeout(()=>{e.dispatchEvent(new MouseEvent("mouseenter",{view:window,bubbles:!0,cancelable:!0}))})},this.onSaveStart=()=>{this.setState({saving:!0,block:!0}),setTimeout(()=>{this.setState({block:!1})},500)},this.options=()=>n.a.createElement("div",{className:"dashboard__item-page__footer-name__more-options-wrapper"},this.props.site.pages&&this.props.site.pages.map((e,t)=>n.a.createElement(I.a,{key:t,onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/pages/").concat(e.id,"/editor"),className:"dashboard__item-page__footer-name__more-options__item",activeClassName:"dashboard__item-page__footer-name__more-options__item_active"},n.a.createElement("span",{className:"top-panel__options-item__name"},e.name),e.id===window.pageId?he:"")))}componentDidMount(){window.showSaveStatusTooltip=this.updateTooltip,this.interval=setInterval(()=>{const e=!!window.onbeforeunload;this.state.saving===e||this.state.block||(this.refs.savetooltip.state.show&&this.updateTooltip(),this.setState({saving:e,saveTime:(new Date).getTime()})),this.setState({now:(new Date).getTime()},()=>{this.refs.savetooltip.state.show&&this.updateTooltip()})},1e3),document.addEventListener("siter.savestart",this.onSaveStart)}componentWillUnmount(){clearInterval(this.interval),document.removeEventListener("siter.savestart",this.onSaveStart)}render(){var e,t;const{saving:a}=this.state,s=de()().calendar(de()(this.props.pageUpdatedAt)),o=this.state.saveTime?"".concat(parseInt((this.state.now-this.state.saveTime)/1e3)," seconds ago."):s;return n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{id:"open-import",onClick:this.handleOpenImport.bind(null,{preventDefault:()=>{},metaKey:!0,shiftKey:!0}),style:{display:"none"}}),this.state.importPage&&n.a.createElement(V,{addComponentsFromJSON:this.props.addComponentsFromJSON,handleSaveComponents:this.props.handleSaveComponents,handleOpenImport:this.handleOpenImport,handleCloseImport:this.handleCloseImport,pageId:this.props.pageId}),n.a.createElement("table",{className:"section-editor__top-panel"},n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"i",onKeyHandle:this.handleOpenImport}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"s",onKeyHandle:this.handleSave}),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{ref:"menu",className:"section-editor__top-panel__menu",style:{width:500}},n.a.createElement("div",{className:"section-editor__top-panel__menu-icon",onClick:this.toggleMenu},n.a.createElement("img",{src:re.a,alt:"Logo"}),n.a.createElement("img",{src:ce.a,alt:"Menu"}))),n.a.createElement("td",{style:{width:500}},n.a.createElement(W,{changeZoom:this.props.changeZoom,handleChangeZoom:this.props.handleChangeZoom})),n.a.createElement("td",null),n.a.createElement("td",{style:{width:"100%"},className:"ta-center"},n.a.createElement("div",{className:"section-editor__top-panel__page-select-wrapper"},n.a.createElement(oe.a,{ref:"tooltip",arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"bottom",trigger:[a?"doubleclick":"click"],align:{offset:[0,15]},transitionName:"rc-tooltip-zoom",overlayClassName:"custom-tooltip_page",overlay:this.options()},n.a.createElement("div",{className:"section-editor__top-panel__page-select cp"},n.a.createElement("span",{className:"va-middle"},this.props.site.name),n.a.createElement("svg",{className:"section-editor__top-panel__page-select__svg",width:"5",height:"12",viewBox:"0 0 5 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{opacity:"0.5",d:"M1 1L4 6L1 11",stroke:"white"})),n.a.createElement("span",{className:"va-middle"},this.props.pageName))),n.a.createElement("span",{"data-for":"save-status","data-tip":a?"Autosave now.":"Saved ".concat(o),style:a?{color:"#F2C94C"}:{color:"#27AE60"},className:"va-middle section-editor__top-panel__point-indicator"},"\u25cf"),n.a.createElement(T.a,{ref:"savetooltip",id:"save-status",html:!0,place:"bottom",type:"dark",effect:"solid"}))),n.a.createElement("td",{style:{width:200}},n.a.createElement(ne,{publishPage:this.publishPage,prePublishDownload:this.prePublishDownload,publish:this.state.publish,handlePreviewUrl:this.handlePreviewUrl,pageUrl:this.props.pagePath,currentSite:this.props.site.default_domain,subscriptionInfo:null===(e=this.props.subscriptionInfo)||void 0===e||null===(t=e.plan)||void 0===t?void 0:t.name,userName:this.props.user.email}))))),n.a.createElement(Z,{menu_id:"top-menu",handleToggleShortcuts:this.props.handleToggleShortcuts,style:{top:10,left:10},siteId:this.props.siteId,pageId:this.props.pageId,onHidden:this.onHidden,handleToggleVersionHistory:this.props.handleToggleVersionHistory,userIsOwner:this.props.site.owner_id===this.props.user.id,cancel:this.cancel}))}}var ue=Object(o.b)((e,t)=>({user:e.sessions,site:e.site}),{})(Object(j.a)()(me)),ge=a(87),_e=a.n(ge),fe=a(194);var ve=function(e){const[t,a]=n.a.useState(!!e.hasOwnProperty("open")&&e.open),s=Object(fe.b)({from:{opacity:"0",maxHeight:"41.5px"},to:{opacity:"1",maxHeight:t?"2000px":"41.5px"},config:{duration:"300"}}),o=Object(fe.b)({from:{transform:"rotate(0deg)"},to:{transform:t?"rotate(90deg)":"rotate(0deg)"},config:{duration:"50"}});return n.a.createElement(fe.a.div,{className:"accordion__item",style:s},n.a.createElement("div",{className:"accordion__header "+e.className,onClick:e=>{a(!t)}},n.a.createElement(fe.a.i,{style:o},n.a.createElement("svg",{width:"6",height:"11",viewBox:"0 0 6 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 10L5 5.5L1 1",stroke:"#444444",strokeLinecap:"round",strokeLinejoin:"round"}))),n.a.createElement("h4",{style:{}},e.title)),n.a.createElement("div",{className:"accordion__content"},e.text))},we=a(73),Ce=a.n(we);class ye extends s.Component{constructor(){super(...arguments),this.state={currentVersion:{id:"current"},versionsByDays:[],restoreInProgress:!1,loadInProgress:!0,versionIdInProgress:""},this.handleRestoreVersion=()=>{const{pageId:e,user:t}=this.props,{jwt:a}=t;this.setState({restoreInProgress:!0}),d.a.defaults.headers.common.Authorization="Bearer ".concat(a),d.a.post("/pages/".concat(e,"/versions/").concat(this.state.currentVersion.id,"/restore"),{},{headers:{"Content-Type":"application/json"}}).then(e=>{window.location.reload()}).catch(()=>{this.setState({restoreInProgress:!1})})},this.getFullPageVersion=(e,t)=>{const{pageId:a,user:s}=this.props,{jwt:n}=s;this.setState({versionIdInProgress:t.id}),d.a.defaults.headers.common.Authorization="Bearer ".concat(n),d.a.get("/pages/".concat(a,"/versions/").concat(t.id),{},{headers:{"Content-Type":"application/json"}}).then(t=>{e(t.data.version.pageversion),this.setState({versionIdInProgress:""})}).catch(()=>{this.setState({versionIdInProgress:""})})},this.getVersionsAndSetCurrentVersion=()=>{const{pageId:e,user:t}=this.props,{jwt:a}=t;d.a.defaults.headers.common.Authorization="Bearer ".concat(a),d.a.get("/pages/".concat(e,"/versions")).then(e=>{var t;const a={id:"current",created_at:(new Date).toISOString(),user:{username:null===(t=this.props.user)||void 0===t?void 0:t.username},identifier:"current",meta:{comment:""}};this.setState({currentVersion:a}),e.data.versions.push(a);const s=e.data.versions.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).reduce((e,t)=>{const a=t.created_at.split("T")[0];return e[a]||(e[a]=[]),e[a].push(t),e},{}),n=Object.keys(s).map(e=>({date:e,versions:s[e]}));this.setState({versionsByDays:n,loadInProgress:!1})})},this.onKeyDown=e=>{27===e.keyCode&&this.props.handleToggleVersionHistory()},this.handleChangeCurrentVersion=e=>{"current"===e.id?this.props.handleSetComponentsFromVersion(this.currentComponents,this.currentPage):this.getFullPageVersion(e=>{let t=Object.assign({},e);delete t.preview_component_params,this.props.handleSetComponentsFromVersion(e.preview_component_params,t)},e),window.setTransformator({id:"none"}),this.setState({currentVersion:e})},this.getHistoryItemsMarkup=e=>{const{currentVersion:t,restoreInProgress:a,versionIdInProgress:s}=this.state,{t:o}=this.props,i=e=>e.id===t.id;return e.map((e,t)=>n.a.createElement("label",{htmlFor:"version-"+e.id,className:"editor-version__history-label editor-version__history-panel__item"+(i(e)?" editor-version__history-panel__item_active":""),key:t},s===e.id?n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("style",null,".spinner_6kVp{transform-origin:center;animation:spinner_irSm .75s infinite linear}@keyframes spinner_irSm{100%{transform:rotate(360deg)}}"),n.a.createElement("path",{fill:"#FFF",d:"M10.72,19.9a8,8,0,0,1-6.5-9.79A7.77,7.77,0,0,1,10.4,4.16a8,8,0,0,1,9.49,6.52A1.54,1.54,0,0,0,21.38,12h.13a1.37,1.37,0,0,0,1.38-1.54,11,11,0,1,0-12.7,12.39A1.54,1.54,0,0,0,12,21.34h0A1.47,1.47,0,0,0,10.72,19.9Z",className:"spinner_6kVp"})):n.a.createElement("input",{disabled:a,id:"version-"+e.id,type:"radio",onChange:this.handleChangeCurrentVersion.bind(null,e),checked:i(e),className:"editor-version__history-radio"}),n.a.createElement("span",null,"current"===e.id?o("app.editor.versionhistory.currentversionradio"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ce.a,{className:"capitalize",format:"hh:mm A",date:e.created_at})," by ",e.user.username))))}}componentWillMount(){this.currentComponents=JSON.parse(JSON.stringify(this.props.components)),this.currentPage=JSON.parse(JSON.stringify(this.props.page)),this.getVersionsAndSetCurrentVersion(),document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){this.props.handleSetComponentsFromVersion(this.currentComponents,this.currentPage),document.removeEventListener("keydown",this.onKeyDown),window.setTransformator({id:"none"})}render(){const{t:e}=this.props,{versionsByDays:t,loadInProgress:a,restoreInProgress:s,currentVersion:o,versionIdInProgress:i}=this.state;return n.a.createElement("div",{className:"editor-version__history"},n.a.createElement("div",{className:"header-wrapper__editor header-wrapper_visible header-wrapper_fixed"},n.a.createElement("header",{className:"header-editor"},n.a.createElement("span",{className:"header-wrapper_visible-title"},"current"===o.id?e("app.editor.versionhistory.currentversion"):n.a.createElement(n.a.Fragment,null,e("app.editor.versionhistory.versionwithdate")," ",n.a.createElement(Ce.a,{date:o.created_at,format:"MMMM DD, YYYY, \\at hh:mm A"}))),n.a.createElement("button",{className:"button fr button_white header-menu__right-button",onClick:this.props.handleToggleVersionHistory},e("app.editor.choosetoscrollcancel")),n.a.createElement("button",{disabled:s||"current"===o.id,className:"button fr button_white header-menu__right-button header-menu__right-button_black-text",onClick:this.handleRestoreVersion},s?e("app.editor.versionhistory.loading"):e("app.editor.versionhistory.restore")+"->"))),n.a.createElement("div",{id:"settings_panel",onMouseDown:this.onMouseDown,onMouseOver:this.handleMouseOver,className:"page-editor__settings-panel editor-version__history-panel noselect"},n.a.createElement(_e.a,{id:"scrollbar",ref:"scrollbar",style:{width:"100%",height:window.innerHeight-20}},n.a.createElement("div",{ref:"container",className:"section-editor__settings-panel__modules"},n.a.createElement("div",{className:"editor-version__history-panel__title"},e("app.editor.versionhistory.title")),t.map((t,a)=>n.a.createElement(ve,{key:a,open:0===a,className:"editor-version__history-panel__item",text:this.getHistoryItemsMarkup(t.versions),title:(new Date).toDateString()===new Date(t.date).toDateString()?e("app.editor.versionhistory.today"):n.a.createElement(Ce.a,{date:t.date,format:"MMMM DD, YYYY"})})),a&&n.a.createElement("div",{className:"editor-version__history-panel__title"},e("app.editor.versionhistory.loading"))))),i&&n.a.createElement("div",{className:"editor-version__history-overlay"}))}}var be=Object(o.b)(e=>({site:e.site,user:e.sessions}),{})(Object(j.a)()(ye));class Ee extends s.Component{constructor(){super(...arguments),this.state={currentKeys:[]},this.t=(new Date).getTime()+"",this.isMac=navigator.platform.toUpperCase().indexOf("MAC")>=0,this.keyDown=e=>{e.preventDefault();const{currentKeys:t}=this.state;-1===t.indexOf(e.keyCode)&&t.push(e.keyCode),this.setState({currentKeys:t})},this.keyUp=e=>{e.preventDefault();let{currentKeys:t}=this.state;t=[91,16,17,18].indexOf(e.keyCode)>-1?[]:t.filter(t=>t!==e.keyCode),this.setState({currentKeys:t})}}componentDidMount(){document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp)}componentWillUnmount(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp)}render(){const{currentKeys:e}=this.state,{keys:t,cmdKey:a,altKey:s,shiftKey:o,backspaceKey:i,drag:r,space:l,arrows:c,click:p,clickActive:d}=this.props;return n.a.createElement(n.a.Fragment,null,a&&(this.isMac?n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.indexOf(91)>-1&&" p-e__s-i__t-key_active"),"data-for":this.t,"data-tip":"Command"},n.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M8.125 10C7.09122 10 6.25 9.15878 6.25 8.125V7.08336H3.75V8.125C3.75 9.15878 2.90878 10 1.875 10C0.841217 10 0 9.15878 0 8.125C0 7.09122 0.841217 6.25 1.875 6.25H2.91664V3.75H1.875C0.841217 3.75 0 2.90878 0 1.875C0 0.841217 0.841217 0 1.875 0C2.90878 0 3.75 0.841217 3.75 1.875V2.91664H6.25V1.875C6.25 0.841217 7.09122 0 8.125 0C9.15878 0 10 0.841217 10 1.875C10 2.90878 9.15878 3.75 8.125 3.75H7.08336V6.25H8.125C9.15878 6.25 10 7.09122 10 8.125C10 9.15878 9.15878 10 8.125 10ZM7.08336 7.08336V8.125C7.08336 8.69919 7.55043 9.16664 8.125 9.16664C8.69957 9.16664 9.16664 8.69919 9.16664 8.125C9.16664 7.55081 8.69957 7.08336 8.125 7.08336H7.08336ZM1.875 7.08336C1.30043 7.08336 0.833359 7.55081 0.833359 8.125C0.833359 8.69919 1.30043 9.16664 1.875 9.16664C2.44957 9.16664 2.91664 8.69919 2.91664 8.125V7.08336H1.875ZM3.75 6.25H6.25V3.75H3.75V6.25ZM7.08336 2.91664H8.125C8.69957 2.91664 9.16664 2.44919 9.16664 1.875C9.16664 1.30081 8.69957 0.833359 8.125 0.833359C7.55043 0.833359 7.08336 1.30081 7.08336 1.875V2.91664ZM1.875 0.833359C1.30043 0.833359 0.833359 1.30081 0.833359 1.875C0.833359 2.44919 1.30043 2.91664 1.875 2.91664H2.91664V1.875C2.91664 1.30081 2.44957 0.833359 1.875 0.833359Z",fill:"white"}))):n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.indexOf(17)>-1&&" p-e__s-i__t-key_active"),style:{width:42},"data-for":this.t,"data-tip":"Control"},n.a.createElement("span",null,"Ctrl"))),o&&n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.indexOf(16)>-1&&" p-e__s-i__t-key_active"),"data-for":this.t,"data-tip":"Shift"},n.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M9.89055 5.1351L5.306 0.135103C5.22735 0.0491478 5.11381 0.000249923 5.0001 0M9.89055 5.1351L9.58392 5.41608L9.58337 5.41659L9.58281 5.4171L9.52191 5.4729M9.89055 5.1351C10.0021 5.25679 10.0313 5.43335 9.96462 5.58432L4.99919 0.417025M9.89055 5.1351L9.58405 5.41614L9.58337 5.41676L9.58294 5.41715L9.52202 5.47301L9.52191 5.4729M9.52191 5.4729C9.5001 5.4491 9.49368 5.41463 9.50664 5.38373C9.50674 5.38349 9.50684 5.38325 9.50695 5.383C9.50707 5.38274 9.50719 5.38248 9.50731 5.38222C9.52119 5.35211 9.55104 5.33334 9.58337 5.33334H9.39395M9.52191 5.4729L9.39395 5.33334M9.39395 5.33334L4.99879 0.5399M9.39395 5.33334H8.33338H7.83338V5.83334V9.5M4.99879 0.5399L5.05961 0.473535M4.99879 0.5399L0.605982 5.33334M4.99879 0.5399L4.93746 0.473014M5.05961 0.473535L5.06018 0.472916L4.99935 0.417174L4.99935 0.416268L4.99935 0.415662L5.0001 0M5.05961 0.473535L4.99935 0.418125L4.9992 0.499999C5.01311 0.500024 5.02388 0.497196 5.03212 0.493609C5.04047 0.489975 5.05012 0.483856 5.05961 0.473535ZM5.0001 0L4.99919 0.415811L4.99919 0.416418L4.99919 0.417025M5.0001 0C4.88552 -0.000207066 4.77082 0.0488985 4.69155 0.135103M4.99919 0.417025L0.41663 5.83334C0.251407 5.83334 0.101681 5.73567 0.0353763 5.58432C-0.0313441 5.43335 -0.00205525 5.25716 0.10945 5.1351M4.99919 0.417025L4.99886 0.416722L4.99853 0.416419L4.69155 0.135103M4.69155 0.135103L0.10945 5.1351M4.69155 0.135103L4.99801 0.416892L4.99834 0.417197L4.99919 0.417975L4.999 0.499999C4.98505 0.499968 4.974 0.497093 4.96533 0.49329C4.95665 0.489483 4.9469 0.483214 4.93746 0.473014M0.10945 5.1351L0.41663 5.41573L0.416709 5.4158L0.417792 5.41679L0.478601 5.47234M0.10945 5.1351L0.416058 5.41609L0.41663 5.41661L0.417137 5.41707L0.478072 5.47292L0.478601 5.47234M7.83338 9.5H2.16666M7.83338 9.5V9.58317C7.8334 9.53749 7.87075 9.5 7.91665 9.5H7.83338ZM2.16666 9.5V5.83334V5.33334H1.66666H0.605982M2.16666 9.5H2.08331C2.12916 9.5 2.16666 9.53752 2.16666 9.58335V9.5ZM0.605982 5.33334H0.41663C0.44903 5.33334 0.478851 5.35217 0.492695 5.38222C0.492843 5.38254 0.492993 5.38286 0.493137 5.38319L0.492707 5.38221C0.492924 5.3827 0.493136 5.38319 0.493343 5.38369C0.506479 5.41495 0.499571 5.44938 0.478601 5.47234M0.605982 5.33334L0.478601 5.47234M4.93746 0.473014L4.93725 0.472782L4.93746 0.473014Z",stroke:"white"}))),s&&(this.isMac?n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.indexOf(18)>-1&&" p-e__s-i__t-key_active"),"data-for":this.t,"data-tip":"Option"},n.a.createElement("svg",{width:"15",height:"8",viewBox:"0 0 15 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M7.77752 1.33291H14.3404C14.7032 1.33291 14.9961 1.03387 14.9961 0.666609C14.9961 0.299343 14.7018 0.000305176 14.3404 0.000305176H7.77752C7.41467 0.000305176 7.12181 0.299343 7.12181 0.666609C7.12181 1.03387 7.41467 1.33291 7.77752 1.33291ZM14.3404 6.6677H8.13895L4.17609 0.309505L4.17467 0.310957C4.05895 0.125146 3.85467 0.000305176 3.62181 0.000305176H1.65181C1.28895 0.000305176 0.996094 0.299343 0.996094 0.666609C0.996094 1.03387 1.29038 1.33291 1.65181 1.33291H3.25895L7.22181 7.69111L7.22324 7.68965C7.33895 7.87546 7.54324 8.00031 7.77609 8.00031H14.339C14.7018 8.00031 14.9947 7.70127 14.9947 7.334C14.9947 6.96674 14.7018 6.6677 14.3404 6.6677Z",fill:"white"}))):n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.indexOf(18)>-1&&" p-e__s-i__t-key_active"),style:{width:42}},n.a.createElement("span",null,"Alt"))),l&&n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.indexOf(32)>-1&&" p-e__s-i__t-key_active"),style:{width:88}},n.a.createElement("span",null,"Space")),c&&n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.filter(e=>[37,38,39,40].indexOf(e)>-1).length>0&&" p-e__s-i__t-key_active"),style:{width:57}},n.a.createElement("span",null,"Arrows")),r&&n.a.createElement("div",{className:"p-e__s-i__t-key",style:{width:42}},n.a.createElement("span",null,"Drag")),p&&n.a.createElement("div",{className:"p-e__s-i__t-key "+(d&&" p-e__s-i__t-key_active"),style:{width:57}},n.a.createElement("span",null,"Click")),i&&(this.isMac?n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.indexOf(8)>-1&&" p-e__s-i__t-key_active"),style:{width:70}},n.a.createElement("span",null,"Backspace")):n.a.createElement("div",{className:"p-e__s-i__t-key "+(e.indexOf(46)>-1&&" p-e__s-i__t-key_active"),style:{width:57}},n.a.createElement("span",null,"Delete"))),t&&t.map((t,a)=>{return n.a.createElement("div",{key:t,className:"p-e__s-i__t-key "+(e.indexOf((s=t,"+"===s?187:"-"===s?189:s.toUpperCase().charCodeAt(0)))>-1&&" p-e__s-i__t-key_active")},n.a.createElement("span",{className:"uppercase"},t));var s}),n.a.createElement(T.a,{id:this.t,html:!0,place:"bottom",type:"dark",effect:"solid"}))}}var ke=Object(o.b)((e,t)=>({}),{})(Ee);class Se extends s.Component{constructor(){super(...arguments),this.state={clickActive:!1},this.handleMouseDown=()=>{this.setState({clickActive:!0})},this.handleMouseUp=()=>{this.setState({clickActive:!1})}}render(){const{close:e}=this.props,{clickActive:t}=this.state;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"page-editor__shortcuts-info_overlay",onClick:e}),n.a.createElement("div",{className:"page-editor__shortcuts-info noselect",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},n.a.createElement("svg",{onClick:e,className:"page-editor__shortcuts-info__close cp",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.35"},n.a.createElement("path",{d:"M0.382524 9.61748C-0.127508 9.10744 -0.127508 8.28052 0.382524 7.77049L7.77049 0.382524C8.28052 -0.127508 9.10744 -0.127508 9.61748 0.382524C10.1275 0.892556 10.1275 1.71948 9.61748 2.22951L2.22951 9.61748C1.71948 10.1275 0.892557 10.1275 0.382524 9.61748Z",fill:"white"}),n.a.createElement("path",{d:"M9.61748 9.61748C9.10744 10.1275 8.28052 10.1275 7.77049 9.61748L0.382524 2.22951C-0.127508 1.71948 -0.127508 0.892557 0.382524 0.382524C0.892556 -0.127508 1.71948 -0.127508 2.22951 0.382524L9.61748 7.77049C10.1275 8.28052 10.1275 9.10744 9.61748 9.61748Z",fill:"white"}))),n.a.createElement("table",{className:"page-editor__shortcuts-info__table",width:"100%"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"TOOLS"),n.a.createElement("th",null,"ACTIONS"),n.a.createElement("th",null,"OTHER"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("svg",{className:"page-editor__shortcuts-info__table-component__icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M13.75 2.16667V1.66667H12.75V2.16667H13.75ZM12.75 13.8333V14.3333H13.75V13.8333H12.75ZM12.75 2.16667V13.8333H13.75V2.16667H12.75ZM11.6581 15.4743C12.6914 15.1299 13.8086 15.1299 14.8419 15.4743L15.1581 14.5257C13.9195 14.1128 12.5805 14.1128 11.3419 14.5257L11.6581 15.4743ZM11.3419 1.47434C12.5805 1.8872 13.9195 1.8872 15.1581 1.47434L14.8419 0.525658C13.8086 0.870095 12.6914 0.870095 11.6581 0.525658L11.3419 1.47434Z",fill:"white"}),n.a.createElement("path",{d:"M0.543094 12.2969C0.430942 12.5493 0.544589 12.8448 0.796931 12.9569C1.04927 13.0691 1.34475 12.9554 1.45691 12.7031L0.543094 12.2969ZM5 3.5L5.45691 3.29693C5.37666 3.11637 5.19759 3 5 3C4.80241 3 4.62334 3.11637 4.54309 3.29693L5 3.5ZM8.54309 12.7031C8.65525 12.9554 8.95073 13.0691 9.20307 12.9569C9.45541 12.8448 9.56906 12.5493 9.45691 12.2969L8.54309 12.7031ZM4.54309 3.70307L8.54309 12.7031L9.45691 12.2969L5.45691 3.29693L4.54309 3.70307ZM1.45691 12.7031L5.45691 3.70307L4.54309 3.29693L0.543094 12.2969L1.45691 12.7031ZM2.5 10H7.5V9H2.5V10Z",fill:"white"}))),n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Text Tool")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{keys:["t"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Undo")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,keys:["z"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Measure to Selection")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{altKey:!0})))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("svg",{className:"page-editor__shortcuts-info__table-component__icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M13 0.5C13.2761 0.5 13.5 0.723858 13.5 1V13C13.5 13.2761 13.2761 13.5 13 13.5H1C0.723858 13.5 0.5 13.2761 0.5 13V1C0.5 0.723858 0.723858 0.5 1 0.5H13Z",stroke:"white"}))),n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Rectangle Tool")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{keys:["r"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Redo")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,shiftKey:!0,keys:["z"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Duplicate Selected Layer")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{altKey:!0,drag:!0})))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("svg",{className:"page-editor__shortcuts-info__table-component__icon",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("rect",{x:"0.5",y:"0.5",width:"13",height:"8",rx:"4",stroke:"white"}),n.a.createElement("rect",{opacity:"0.5",x:"4",y:"4",width:"6",height:"1",rx:"0.5",fill:"white"}))),n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Button Tool")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{keys:["b"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Group Selection")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,keys:["g"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Move Artboard")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{space:!0})))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("svg",{className:"page-editor__shortcuts-info__table-component__icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M0.5 1.97436C0.5 1.15287 1.15387 0.5 1.94444 0.5H12.0556C12.8461 0.5 13.5 1.15287 13.5 1.97436V9.8718C13.5 10.6933 12.8461 11.3462 12.0556 11.3462H1.94444C1.15387 11.3462 0.5 10.6933 0.5 9.8718V1.97436Z",stroke:"white"}),n.a.createElement("path",{d:"M5.56877 7.23869L5.21522 7.59224L5.92232 8.29935L6.27588 7.9458L5.56877 7.23869ZM12.5688 7.40738L12.9223 7.76094L13.6294 7.05383L13.2759 6.70028L12.5688 7.40738ZM0.756076 8.28516L0.371968 8.60526L1.01216 9.37348L1.39627 9.05338L0.756076 8.28516ZM6.10723 8.4843L6.46079 8.83786L7.16789 8.13075L6.81434 7.7772L6.10723 8.4843ZM5.92131 7.59127L6.27486 7.23772L5.92131 7.59127ZM7.57024 5.23725L5.56877 7.23869L6.27588 7.9458L8.27734 5.94436L7.57024 5.23725ZM11.1058 5.94437L12.5688 7.40738L13.2759 6.70028L11.8129 5.23726L11.1058 5.94437ZM2.23296 7.0544L0.756076 8.28516L1.39627 9.05338L2.87316 7.82261L2.23296 7.0544ZM6.81434 7.7772L6.27486 7.23772L5.56776 7.94483L6.10723 8.4843L6.81434 7.7772ZM2.87316 7.82261C3.66781 7.16039 4.83631 7.21339 5.56776 7.94483L6.27486 7.23772C5.1777 6.14056 3.42494 6.06106 2.23296 7.0544L2.87316 7.82261ZM8.27734 5.94436C9.05839 5.16332 10.3247 5.16332 11.1058 5.94437L11.8129 5.23726C10.6413 4.06569 8.74181 4.06569 7.57024 5.23725L8.27734 5.94436Z",fill:"white"}),n.a.createElement("path",{d:"M7.53785 13.4616C7.53785 13.7589 7.29678 14 6.9994 14C6.70201 14 6.46094 13.7589 6.46094 13.4616C6.46094 13.1642 6.70201 12.9231 6.9994 12.9231C7.29678 12.9231 7.53785 13.1642 7.53785 13.4616Z",fill:"white"}),n.a.createElement("path",{d:"M9.69411 13.4616C9.69411 13.7589 9.45303 14 9.15565 14C8.85827 14 8.61719 13.7589 8.61719 13.4616C8.61719 13.1642 8.85827 12.9231 9.15565 12.9231C9.45303 12.9231 9.69411 13.1642 9.69411 13.4616Z",fill:"white"}),n.a.createElement("path",{d:"M5.38356 13.4616C5.38356 13.7589 5.14249 14 4.8451 14C4.54772 14 4.30664 13.7589 4.30664 13.4616C4.30664 13.1642 4.54772 12.9231 4.8451 12.9231C5.14249 12.9231 5.38356 13.1642 5.38356 13.4616Z",fill:"white"}))),n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Slider Tool")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{keys:["s"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Ungroup Selection")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,shiftKey:!0,keys:["g"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Move Selection (1 px)")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{arrows:!0})))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("svg",{className:"page-editor__shortcuts-info__table-component__icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M0.5 2.33333C0.5 1.23158 1.22819 0.5 1.94444 0.5H12.0556C12.7718 0.5 13.5 1.23158 13.5 2.33333V11.6667C13.5 12.7684 12.7718 13.5 12.0556 13.5H1.94444C1.22819 13.5 0.5 12.7684 0.5 11.6667V2.33333Z",stroke:"white"}),n.a.createElement("path",{d:"M5.56877 8.31572L5.21522 8.66927L5.92232 9.37638L6.27588 9.02283L5.56877 8.31572ZM12.5688 8.48441L12.9223 8.83796L13.6294 8.13085L13.2759 7.7773L12.5688 8.48441ZM0.756076 9.36219L0.371968 9.68229L1.01216 10.4505L1.39627 10.1304L0.756076 9.36219ZM6.10723 9.56133L6.46079 9.91488L7.16789 9.20778L6.81434 8.85422L6.10723 9.56133ZM5.92131 8.6683L6.27486 8.31475L5.92131 8.6683ZM7.57024 6.31428L5.56877 8.31572L6.27588 9.02283L8.27734 7.02139L7.57024 6.31428ZM11.1058 7.0214L12.5688 8.48441L13.2759 7.7773L11.8129 6.31429L11.1058 7.0214ZM2.23296 8.13142L0.756076 9.36219L1.39627 10.1304L2.87316 8.89964L2.23296 8.13142ZM6.81434 8.85422L6.27486 8.31475L5.56776 9.02185L6.10723 9.56133L6.81434 8.85422ZM2.87316 8.89964C3.66781 8.23741 4.83631 8.29041 5.56776 9.02185L6.27486 8.31475C5.1777 7.21758 3.42494 7.13809 2.23296 8.13142L2.87316 8.89964ZM8.27734 7.02139C9.05839 6.24035 10.3247 6.24035 11.1058 7.0214L11.8129 6.31429C10.6413 5.14272 8.74181 5.14271 7.57024 6.31428L8.27734 7.02139Z",fill:"white"}),n.a.createElement("circle",{cx:"4.30739",cy:"4.30764",r:"1.07692",fill:"white"}))),n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Image Tool")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{keys:["i"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Select All Layers")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,keys:["a"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Move Selection (10 px)")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{shiftKey:!0,arrows:!0})))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("svg",{className:"page-editor__shortcuts-info__table-component__icon",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("rect",{x:"0.5",y:"1.5",width:"12",height:"2",rx:"1",stroke:"#FFFFFF"}),n.a.createElement("rect",{x:"0.5",y:"5.5",width:"12",height:"2",rx:"1",stroke:"#FFFFFF"}),n.a.createElement("rect",{x:"0.5",y:"9.5",width:"12",height:"2",rx:"1",fill:"#FFFFFF",stroke:"#FFFFFF"}))),n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Forms")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{keys:["f"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Copy Selected Layers")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,keys:["c"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Zoom In")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,keys:["+"]})))),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Paste Copied Layers")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,keys:["v"]}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Zoom Out")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,keys:["-"]})))),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Delete Selected Layers")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{backspaceKey:!0}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Show/Hide Rulers")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{shiftKey:!0,keys:["r"]})))),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Deep Selection")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{cmdKey:!0,click:!0,clickActive:t}))),n.a.createElement("td",null,n.a.createElement("span",{className:"page-editor__shortcuts-info__table-component__info"},n.a.createElement("span",{className:"page-editor__shortcuts-info__table-label"},"Show/Hide Grid")),n.a.createElement("div",{className:"fr"},n.a.createElement(ke,{shiftKey:!0,keys:["g"]}))))))))}}var xe=Object(o.b)((e,t)=>({}),{})(Se),Ne=a(10),Be=a.n(Ne),Fe=a(191),Ae=a.n(Fe),Le=a(235);var Oe=Object(j.a)()(e=>{let{menu_id:t,arrangeMove:a,handleRemoveWidgets:s,currentBlock:o,handleChangeLock:i,visible:r,handleDetachMasterDepending:l,toggleVisible:c,handleGroupComponents:p,handleUnGroupComponents:d,currentBlocksIsOneGroup:h,getSelectedTreeNodes:m,handleCreateMasterComponent:u,handleCreateAutolayout:g,handleRemoveAutolayout:_,oneOfCurrentIsMasterDependingComponent:f,allCurrentIsMasterDependingComponent:v,selectMainMasterComponent:w,t:C}=e;const y=h(!0),b=v(),E=m().length;return n.a.createElement(R.Menu,{id:t,style:{display:o.isLayout?"none":"",width:"200px"}},!b&&o.json[0]&&n.a.createElement(R.Item,{className:"react-contexify__item_group",onClick:()=>{p()}},C("app.editor.contextmenu.grouplayers")),!b&&y&&"frame"!==y.slug&&y.data&&("default"===y.group_type||!y.group_type)&&n.a.createElement(R.Item,{className:"react-contexify__item_ungroup",onClick:()=>{d()}},C("app.editor.contextmenu.ungrouplayers")),y&&y.autolayout&&n.a.createElement(R.Item,{onClick:_},C("app.editor.contextmenu.removeautolayout")),o.json[0]&&n.a.createElement(R.Item,{onClick:g},C("app.editor.contextmenu.addautolayout")),!f()&&n.a.createElement(R.Item,{className:"react-contexify__item_create-component",onClick:u},C("app.editor.contextmenu.createcomponent")),y&&y.data&&"master_component"===y.group_type&&y.main_master_component_id&&n.a.createElement(n.a.Fragment,null,n.a.createElement(R.Item,{className:"react-contexify__item_ungroup",onClick:()=>{l()}},C("app.editor.contextmenu.detachinstance")),n.a.createElement(I.a,{to:"/account/sites/".concat(window.siteId,"/pages/").concat(y.main_master_component_page_id,"/editor"),onClick:w?w.bind(null,y.main_master_component_id):()=>{}},n.a.createElement(R.Item,{className:"react-contexify__item"},C("app.editor.contextmenu.gotomaster")))),n.a.createElement(R.Item,{className:"react-contexify__item_remove",onClick:s},C("app.editor.contextmenu.remove")),n.a.createElement(R.Separator,null),n.a.createElement(R.Item,{className:"react-contexify__item_bringforward",onClick:()=>{a(1,!1)}},C("app.editor.contextmenu.bringforward")),n.a.createElement(R.Item,{className:"react-contexify__item_bringfront",onClick:()=>{a(1,!0)}},C("app.editor.contextmenu.bringtofront")),n.a.createElement(R.Item,{className:"react-contexify__item_sendbackward",onClick:()=>{a(-1,!1)}},C("app.editor.contextmenu.sendbackward")),n.a.createElement(R.Item,{className:"react-contexify__item_sendtoback",onClick:()=>{a(-1,!0)}},C("app.editor.contextmenu.sendtoback")),o.json[0]&&1===o.json.length&&n.a.createElement(n.a.Fragment,null,n.a.createElement(R.Item,{onClick:()=>{i({target:{checked:!o.json[0].lock}},o.json[0])}},o.json[0].lock?C("app.editor.contextmenu.unlock"):C("app.editor.contextmenu.lock")),n.a.createElement(R.Item,{onClick:c.bind(null,o.json[0])},r(o.json[0])?C("app.editor.contextmenu.hide"):C("app.editor.contextmenu.show"))),(1===o.json.length||y)&&1===E&&n.a.createElement(Le.CopyToClipboard,{text:y.id||o.json[0].id},n.a.createElement(R.Item,{className:"react-contexify__item"},n.a.createElement("div",null,C("app.editor.contextmenu.copyid")))))});var De=e=>e.children;var Me=e=>{const{colsCount:t,height:a}=e;return n.a.createElement("div",{className:"section-editor__artboard-layoutlines"},[...Array(t+1)].map((e,t)=>n.a.createElement(De,{key:t},n.a.createElement("div",{style:{height:parseInt(a,10)+400,left:80*t},className:"section-editor__artboard-layoutlines__line section-editor__artboard-layoutlines__line_left-".concat(t)}),n.a.createElement("div",{style:{height:parseInt(a,10)+400,left:20+80*t},className:"section-editor__artboard-layoutlines__line section-editor__artboard-layoutlines__line_right-".concat(t)}))))},Pe=a(465),Ie=a.n(Pe),Te=a(322),Re=a.n(Te),je=a(466),Ge=a.n(je);class He extends s.Component{constructor(){super(...arguments),this.getAdditionalAttrs=()=>{var e,t;const{component:a,parentIsFrame:s}=this.props;let n={};return s&&(n.pf="true"),"fill"===(null===(e=a.data)||void 0===e?void 0:e.xSizingMode)&&(n.xfill="true"),"fill"===(null===(t=a.data)||void 0===t?void 0:t.ySizingMode)&&(n.yfill="true"),a.main_master_component_id&&(n["data-main-master-component-id"]=a.main_master_component_id),n}}componentDidMount(){this.props.initComponent(this.props.component,this.props.ArtboardComponents,this.props.ArtboardComponentsItems)}componentWillReceiveProps(e){setTimeout(()=>{document.getElementById(e.component.id)&&this.props.updateComponent(e.component)})}render(){var e,t,a,s,o,i,r;const{component:l,componentId:c,onBlur:p,onClick:d,onDoubleClick:h,onMouseOver:m,onMouseOut:u,style:g,classes:_,children:f}=this.props;return n.a.createElement("div",Object.assign({tabIndex:"3",id:c,"data-container":l.container,"data-left-unit":l.left_unit,"data-top-unit":l.top_unit,"data-component-group-id":l.group_id,"data-component-id":c,"data-component-type":l.slug,"data-position-top":null===(e=l.styles)||void 0===e||null===(t=e[null===(a=this.props.currentDevice)||void 0===a?void 0:a.name])||void 0===t?void 0:t.top,"data-position-left":null===(s=l.styles)||void 0===s||null===(o=s[null===(i=this.props.currentDevice)||void 0===i?void 0:i.name])||void 0===o?void 0:o.left,className:_(l),onClick:d,onDoubleClick:h,onBlur:p,onMouseOver:m,onMouseOut:u,"data-href":null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.href,style:g},this.getAdditionalAttrs()),f)}}var Ue=Object(o.b)(e=>({}),{})(He),Ze=a(467),ze=a(323),Ve=a.n(ze),We=a(186),qe=a(169),Ke=a(471);class Ye extends s.Component{constructor(){super(...arguments),this.state={autocompletes:[]},this.placeChanged=e=>{let t;"origin"===e.id?(t=this.state.autocompletes[0].getPlace(),this.props.handleChangeDirectionOrigin({target:{value:t.formatted_address}})):(t=this.state.autocompletes[1].getPlace(),this.props.handleChangeDirectionDestination({target:{value:t.formatted_address}}))},this.componentDidMount=()=>{const e=[];Array.from(document.getElementsByClassName("input-directions")).forEach(t=>{const a=new window.google.maps.places.Autocomplete(t);a.addListener("place_changed",this.placeChanged.bind(this,t)),e.push(a)}),this.setState({autocompletes:e})}}render(){return n.a.createElement("div",{className:"input-directions__wrapper"},n.a.createElement("input",{id:"origin",type:"text",autoComplete:"off",className:"input-directions",onChange:this.props.handleChangeDirectionOrigin,value:this.props.directionOrigin,placeholder:"Origin address.."}),n.a.createElement("input",{id:"dest",type:"text",className:"input-directions input-directions_dest",onChange:this.props.handleChangeDirectionDestination,autoComplete:"off",value:this.props.directionDestination,placeholder:"Destination address.."}))}}var Je=Object(o.b)(e=>({}),{})(Ye);const Xe=Object(We.compose)(Object(We.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDrutUSPfjuwC8b4W9pitclowi3btRQkMo&v=3.exp&libraries=geometry,drawing,places",loadingElement:n.a.createElement("div",{style:{height:"100%"}}),containerElement:n.a.createElement("div",{style:{height:"100%"}}),mapElement:n.a.createElement("div",{style:{height:"100%"}})}),qe.withScriptjs,qe.withGoogleMap)(e=>n.a.createElement(qe.GoogleMap,{ref:e.onMapMounted.bind(void 0,e.componentId),defaultZoom:e.zoom,options:e.options,center:e.center,onDragEnd:e.onDragEnd,onZoomChanged:e.onZoomChanged},e.directions&&"directions"===e.mode&&n.a.createElement(qe.DirectionsRenderer,{directions:e.directions}),e.isSearchBoxShown&&"standart"===e.mode&&n.a.createElement(Ke.SearchBox,{ref:e.onSearchBoxMounted,bounds:e.bounds,controlPosition:window.google.maps.ControlPosition.TOP_CENTER,onPlacesChanged:e.onPlacesChanged},n.a.createElement("input",{type:"text",placeholder:e.t("app.editor.settingspanel.locationplaceholder"),style:{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",margin:"10px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses"}})),"standart"===e.mode&&e.markers.map((e,t)=>n.a.createElement(qe.Marker,{key:t,position:e.position}))));class Qe extends s.Component{constructor(){super(...arguments),this.state={center:{lat:this.props.lat,lng:this.props.lng},directions:void 0},this.searchBoxRefs={},this.get=(e,t,a)=>t.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).every((function(t){return!(t&&void 0===(e=e[t]))}))?e:a,this.setDirections=(e,t)=>{if(this.state.directions&&this.state.directions.request.origin.query===e&&this.state.directions.request.destination.query===t&&this.state.directions.request.travelMode===this.props.travel_mode)return;(new window.google.maps.DirectionsService).route({origin:e,destination:t,travelMode:window.google.maps.TravelMode[this.props.travel_mode]},(e,t)=>{t===window.google.maps.DirectionsStatus.OK&&this.setState({directions:e})})},this.onMapMounted=(e,t)=>{this.props.updateMapRefs({[e]:t}),this.setDirections(this.props.directionOrigin,this.props.directionDestination)},this.onSearchBoxMounted=e=>{this.searchBoxRefs[this.props.componentId]=e},this.onPlacesChanged=()=>{const e=[],t=this.searchBoxRefs[this.props.componentId].getPlaces(),a=t.map(e=>({position:e.geometry.location})),s=this.get(a,"0.position",this.state.center);this.setState({center:s,markers:a}),a[0]&&e.push({position:{lat:a[0].position.lat(),lng:a[0].position.lng()}});let n={markers:e,lat:s.lat(),lng:s.lng()};t.length>0&&(n.address=t[0].formatted_address),this.update(n)},this.update=e=>{const t=Object.assign(JSON.parse(JSON.stringify(this.props.component.data)),e);this.props.handleChangeComponentProperties(JSON.parse(JSON.stringify(this.props.component)),{data:t})},this.handleChangeDirectionOrigin=e=>{this.setDirections(e.target.value,this.props.directionDestination),this.update({direction_origin:e.target.value,address:e.target.value}),this.forceUpdate()},this.handleChangeDirectionDestination=e=>{this.setDirections(this.props.directionOrigin,e.target.value),this.update({direction_destination:e.target.value}),this.forceUpdate()},this.onZoomChanged=()=>{const e=this.props.mapRefs[this.props.componentId].getZoom();this.update({zoom:e})},this.onDragEnd=()=>{const e=this.props.mapRefs[this.props.componentId].getCenter();this.update({lat:e.lat(),lng:e.lng()})},this.isJsonString=e=>{try{JSON.parse(e)}catch(t){return!1}return!0},this.validateMapStylesJSON=()=>this.isJsonString(this.props.mapStyles)?JSON.parse(this.props.mapStyles):[]}componentWillReceiveProps(e){this.props.lat===e.lat&&this.props.lng===e.lng||this.setState({center:{lat:e.lat,lng:e.lng}})}render(){return n.a.createElement("div",{className:"section-editor__widgets__map"},!this.props.isSearchBoxShown&&n.a.createElement("div",{className:"section-editor__widgets__video-overlay"}),this.props.isDirectionsInputsShown&&n.a.createElement(Je,{handleChangeDirectionDestination:this.handleChangeDirectionDestination,handleChangeDirectionOrigin:this.handleChangeDirectionOrigin,directionDestination:this.props.directionDestination,directionOrigin:this.props.directionOrigin}),n.a.createElement(Xe,{t:this.props.t,componentId:this.props.componentId,markers:this.props.markers,center:this.state.center,zoom:this.props.zoom,directions:this.state.directions,isSearchBoxShown:this.props.isSearchBoxShown,mode:this.props.mode,onMarkerClick:this.handleMarkerClick,onMapMounted:this.onMapMounted,onPlacesChanged:this.onPlacesChanged,onSearchBoxMounted:this.onSearchBoxMounted,onDragEnd:this.onDragEnd,onZoomChanged:this.onZoomChanged,update:this.state.update,options:{zoomControl:this.props.controls,scaleControl:this.props.controls,rotateControl:this.props.controls,fullscreenControl:this.props.controls,scrollwheel:this.props.zoomOnScroll,styles:this.validateMapStylesJSON(),streetViewControl:!1,mapTypeControl:!1}}))}}var $e=Object(o.b)(e=>({}),{})(Object(j.a)()(Qe));class et extends s.Component{constructor(){super(...arguments),this.formIsHorizontal=()=>{var e="horizontal"===this.props.design;return["res375"].indexOf(this.props.deviceName)>-1&&this.props.mobileOnlyVertical&&(e=!1),-1===["res375"].indexOf(this.props.deviceName)&&"horizontal"===this.props.design&&(e=!0),e},this.inputWrapperClasses=()=>Be()("strwf__input-wrapper",{["strwf__input-inline strwf__input-wrapper_".concat(this.props.fields.length+1)]:this.formIsHorizontal()}),this.buttonWrapperClasses=()=>Be()("strwf__input-wrapper strwf__form-button__wrapper",{["strwf__input-inline strwf__input-wrapper_".concat(this.props.fields.length+1)]:this.formIsHorizontal()})}render(){const{buttonGradient:e,buttonGradientHover:t,fieldsGradient:a,fieldsGradientHover:s,fieldStyles:o,buttonStyles:i,data:r,theme:l,id:c,fields:p}=this.props,d=CSS.escape(c);return n.a.createElement("div",{className:"strwf__wrapper strwf_".concat(this.formIsHorizontal()?"horizontal":"vertical"," strwf_").concat(l)},n.a.createElement("div",{className:"strwf__input-wrappers"},p.map((e,t)=>n.a.createElement(De,{key:t},["text","email","phone","name"].indexOf(e.type)>-1&&n.a.createElement("div",{className:this.inputWrapperClasses()},this.props.showFieldsLabel&&n.a.createElement("label",{className:"strwf__label",style:this.props.labelStyles,htmlFor:e.id},e.label),n.a.createElement("input",{autoComplete:"off",className:"strwf__input",type:"text",placeholder:e.placeholder,style:o,value:e.placeholder,onChange:()=>{}}),n.a.createElement("div",{className:"strwf__input-wrapper__overlay"})),["number"].indexOf(e.type)>-1&&n.a.createElement("div",{className:this.inputWrapperClasses()},this.props.showFieldsLabel&&n.a.createElement("label",{className:"strwf__label",style:this.props.labelStyles,htmlFor:e.id},e.label),n.a.createElement("input",{autoComplete:"off",className:"strwf__input",type:"number",value:1,placeholder:e.placeholder,style:o,onChange:()=>{}}),n.a.createElement("div",{className:"strwf__input-number__arrows"},n.a.createElement("svg",{className:"strwf__input-number__up",width:"11",height:"6",viewBox:"0 0 11 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 5L5.5 1L10 5",stroke:"black"})),n.a.createElement("svg",{className:"strwf__input-number__down",width:"11",height:"6",viewBox:"0 0 11 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 1L5.5 5L10 1",stroke:"black"}))),n.a.createElement("div",{className:"strwf__input-wrapper__overlay"})),"textarea"===e.type&&n.a.createElement("div",{className:this.inputWrapperClasses()},this.props.showFieldsLabel&&n.a.createElement("label",{className:"strwf__label",style:this.props.labelStyles,htmlFor:e.id},e.label),n.a.createElement("textarea",{className:"strwf__input strwf__input_textarea",placeholder:e.placeholder,style:o,disabled:"disabled",value:e.placeholder}),n.a.createElement("div",{className:"strwf__input-wrapper__overlay"})),"select"===e.type&&n.a.createElement("div",{className:this.inputWrapperClasses()},this.props.showFieldsLabel&&n.a.createElement("label",{className:"strwf__label",style:this.props.labelStyles,htmlFor:e.id},e.label),n.a.createElement("select",{defaultValue:e.placeholder,name:e.name,className:"strwf__input strwf__input_select",style:o},e.options.map((e,t)=>n.a.createElement("option",{key:t},e.title)),n.a.createElement("option",{value:e.placeholder,disabled:!0},e.placeholder)),n.a.createElement("div",{className:"strwf__input-wrapper__overlay"})),"checkbox"===e.type&&n.a.createElement("div",{className:this.inputWrapperClasses()},this.props.showFieldsLabel&&n.a.createElement("label",{className:"strwf__label",style:this.props.labelStyles,htmlFor:e.id},e.label),e.options.map((e,t)=>n.a.createElement("div",{className:"strwf__radio-wrapper",key:t},n.a.createElement("input",{className:"strwf__radio",id:"strwf-checkbox-1",value:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 1",type:"checkbox",name:"chekboks"}),n.a.createElement("label",{className:"strwf__radio-label",htmlFor:"strwf-checkbox-1"},e.title))),n.a.createElement("div",{className:"strwf__input-wrapper__overlay"})),"radio"===e.type&&n.a.createElement("div",{className:this.inputWrapperClasses()},this.props.showFieldsLabel&&n.a.createElement("label",{className:"strwf__label",style:this.props.labelStyles,htmlFor:e.id},e.label),e.options.map((e,t)=>n.a.createElement("div",{className:"strwf__radio-wrapper",key:t},n.a.createElement("input",{className:"strwf__radio",id:"strwf-radio-1",value:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 1",type:"radio",name:"radio"}),n.a.createElement("label",{className:"strwf__radio-label",htmlFor:"strwf-radio-1"},e.title))),n.a.createElement("div",{className:"strwf__input-wrapper__overlay"})))),n.a.createElement("div",{className:this.buttonWrapperClasses()},this.props.showFieldsLabel&&n.a.createElement("label",{className:"strwf__label",style:this.props.labelStyles},"\xa0"),n.a.createElement("button",{className:"strwf_button strwf_form-button",style:i},r.button_with_icon&&n.a.createElement(n.a.Fragment,null,!r.button_icon_svg&&n.a.createElement("i",{style:{marginRight:r.button_icon_margin_right,marginTop:r.button_icon_margin_top,fontSize:r.button_icon_width},className:"str-button__inner-icon material-icons ".concat(r.button_icon_id)}),r.button_icon_svg&&n.a.createElement("svg",{style:{marginRight:r.button_icon_margin_right,marginTop:r.button_icon_margin_top,width:r.button_icon_width},className:"material-icons material-icons_svg material-icons_svg_top",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:r.button_icon_svg}})),n.a.createElement("span",{className:"str-button__inner-value"},this.props.buttonText)),n.a.createElement("style",null,"\n                .form_".concat(d," .strwf_button {\n                  background: -webkit-").concat(e,";\n                  background:    -moz-").concat(e,";\n                  background:     -ms-").concat(e,";\n                  background:      -o-").concat(e,";\n                  background:         ").concat(e,";\n                  display: inline-flex;\n                  justify-content: ").concat("right"===i.textAlign?"flex-end":"left"===i.textAlign?"flex-start":"center"," !important;\n                  align-items: ").concat("top"===r.button_text_align?"flex-start":"bottom"===r.button_text_align?"flex-end":"center"," !important;\n                }\n\n                .form_").concat(d," .strwf_vertical .strwf__input-wrapper {\n                  margin-bottom: 0;\n                  height: ").concat(100/(this.props.fields.length+1),"%;\n                }\n\n                .form_").concat(d," .strwf_vertical .strwf__input-wrapper input {\n                  height: ").concat(100-parseFloat(this.props.formFieldsMargin),"%;\n                }\n\n                .form_").concat(d," .strwf_vertical .strwf__input-wrapper textarea {\n                  height: ").concat(100-parseFloat(this.props.formFieldsMargin),"%;\n                }\n\n                .form_").concat(d," .strwf_vertical .strwf__input-wrapper select {\n                  height: ").concat(100-parseFloat(this.props.formFieldsMargin),"%;\n                }\n\n                .form_").concat(d," .strwf_vertical .strwf__form-button__wrapper {\n                  height: ").concat(100/(this.props.fields.length+1)-parseFloat(this.props.formFieldsMargin)/(this.props.fields.length+1),"%;\n                }\n\n                .form_").concat(d," .strwf_horizontal .strwf__input-wrapper input {\n                  width: ").concat(100-parseFloat(this.props.formFieldsMargin),"% !important;\n                }\n\n                .form_").concat(d," .strwf_horizontal .strwf__input-wrapper textarea {\n                  width: ").concat(100-parseFloat(this.props.formFieldsMargin),"% !important;\n                }\n\n                .form_").concat(d," .strwf_horizontal .strwf__input-wrapper select {\n                  width: ").concat(100-parseFloat(this.props.formFieldsMargin),"% !important;\n                }\n\n                .form_").concat(d," .strwf_horizontal .strwf__input-wrapper {\n                  margin-bottom: 0;\n                  width: ").concat(100/(this.props.fields.length+1),"%;\n                }\n                \n                .form_").concat(d," .strwf_horizontal .strwf__form-button__wrapper {\n                  ").concat(r.customWidth&&"horizontal"===r.form_type?"flex-grow: 0;flex-shrink:0;flex-basis:".concat(i.width,";"):"width: ".concat(100/(this.props.fields.length+1)-parseFloat(this.props.formFieldsMargin)/(this.props.fields.length+1),"%;"),"\n                }\n\n                .form_").concat(d," .strwf__input {\n                  background-image: -webkit-").concat(a,";\n                  background-image:    -moz-").concat(a,";\n                  background-image:     -ms-").concat(a,";\n                  background-image:      -o-").concat(a,";\n                  background-image:         ").concat(a,";\n                }\n\n                .form_").concat(d," .strwf__input.strwf__input_select {\n                  background: url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, -webkit-").concat(a,";\n                  background:    url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, -moz-").concat(a,";\n                  background:     url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, -ms-").concat(a,";\n                  background:      url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, -o-").concat(a,";\n                  background:         url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, ").concat(a,";\n                  text-align-last: ").concat(o.textAlign,";\n                }\n\n                .").concat(d,"_hover .strwf_button {\n                  background: -webkit-").concat(t,";\n                  background:    -moz-").concat(t,";\n                  background:     -ms-").concat(t,";\n                  background:      -o-").concat(t,";\n                  background:         ").concat(t,";\n\n                  display: inline-flex;\n                  justify-content: ").concat("right"===i.textAlign_hover?"flex-end":"left"===i.textAlign_hover?"flex-start":"center"," !important;\n                  align-items: ").concat("top"===r.button_text_align_hover?"flex-start":"bottom"===r.button_text_align_hover?"flex-end":"center"," !important;\n                  border-radius: ").concat(i.borderRadius_hover," !important;\n                  border: ").concat(i.border_hover," !important;\n                  color: ").concat(i.color_hover," !important;\n                  font-size: ").concat(i.fontSize_hover," !important;\n                  font-family: ").concat(i.fontFamily_hover," !important;\n                  letter-spacing: ").concat(i.letterSpacing_hover," !important;\n                  font-weight: ").concat(i.fontWeight_hover," !important;\n                }\n\n                .").concat(d,"_hover .strwf__input {\n                  background-image: -webkit-").concat(s,";\n                  background-image:    -moz-").concat(s,";\n                  background-image:     -ms-").concat(s,";\n                  background-image:      -o-").concat(s,";\n                  background-image:         ").concat(s,";\n\n                  font-family: ").concat(o.fontFamily_hover," !important;\n                  font-size: ").concat(o.fontSize_hover," !important;\n                  border: ").concat(o.border_hover," !important;\n                  color: ").concat(o.color_hover," !important;\n                  text-align: ").concat(o.textAlign_hover," !important;\n                  text-shadow: ").concat(o.textShadow_hover," !important;\n                  letter-spacing: ").concat(o.letterSpacing_hover," !important;\n                  font-weight: ").concat(o.fontWeight_hover," !important;\n                }\n\n                .strwf_underline .strwf__input {\n                  padding-top: 13px;\n                  padding-left: 0;\n                  padding-bottom: 6px;\n                  border-left: 0 !important;\n                  border-right: 0 !important;\n                  border-top: 0 !important;\n                }\n\n                .").concat(d,"_hover .strwf__input.strwf__input_select {\n                  background: url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color_hover,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, -webkit-").concat(s," !important;\n                  background:    url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color_hover,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, -moz-").concat(s," !important;\n                  background:     url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color_hover,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, -ms-").concat(s," !important;\n                  background:      url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color_hover,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, -o-").concat(s," !important;\n                  background:         url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color_hover,"'/%3E%3C/svg%3E%0A\") no-repeat right 16px center, ").concat(s," !important;\n                  text-align-last: {{form_fields_styles.textAlign_hover}} !important;\n                }\n\n                .form_").concat(d," .strwf_underline .strwf__input.strwf__input_select {\n                  background: url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 0 center, -webkit-").concat(s," !important;\n                  background:    url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 0 center, -moz-").concat(s," !important;\n                  background:     url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 0 center, -ms-").concat(s," !important;\n                  background:      url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 0 center, -o-").concat(s," !important;\n                  background:         url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='").concat(o.color,"'/%3E%3C/svg%3E%0A\") no-repeat right 0 center, ").concat(s," !important;\n                  text-align-last: {{form_fields_styles.textAlign_hover}} !important;\n                }\n              ")))))}}var tt=Object(o.b)(e=>({}),{})(et),at=a(88),st=a(107),nt=a.n(st);const ot=[38,40],it=e=>"".concat(e,"%");class rt extends(s.PureComponent||s.Component){constructor(e){super(),this.handleBlur=()=>{},this.handleChange=e=>{this.setUpdatedValue(e.target.value,e)},this.handleKeyDown=e=>{const t=(e=>Number(String(e).replace(/%/g,"")))(e.target.value);if(!isNaN(t)&&(a=e.keyCode,ot.indexOf(a)>-1)){const a=this.getArrowOffset(),s=38===e.keyCode?t+a:t-a;this.setUpdatedValue(s,e)}var a},this.handleDrag=e=>{if(this.props.dragLabel){const t=Math.round(this.props.value+e.movementX);t>=0&&t<=this.props.dragMax&&this.props.onChange&&this.props.onChange(this.getValueObjectWithLabel(t),e)}},this.handleMouseDown=e=>{this.props.dragLabel&&(e.preventDefault(),this.handleDrag(e),window.addEventListener("mousemove",this.handleDrag),window.addEventListener("mouseup",this.handleMouseUp))},this.handleMouseUp=()=>{this.unbindEventListeners()},this.unbindEventListeners=()=>{window.removeEventListener("mousemove",this.handleDrag),window.removeEventListener("mouseup",this.handleMouseUp)},this.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()}}componentWillReceiveProps(e){const t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}componentWillUnmount(){this.unbindEventListeners()}getValueObjectWithLabel(e){return{[this.props.label]:e}}getArrowOffset(){return this.props.arrowOffset||1}setUpdatedValue(e,t){const a=null!==this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(a,t);const s=(e=>String(e).indexOf("%")>-1)(t.target.value);this.props.max?parseInt(e,10)<=this.props.max&&this.setState({value:s?it(e):e}):this.setState({value:s?it(e):e})}render(){const e=nt()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return n.a.createElement("div",{style:e.wrap},n.a.createElement("input",{style:e.input,ref:e=>this.input=e,value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?n.a.createElement("span",{style:e.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}var lt=rt,ct=a(79),pt=a.n(ct);class dt extends s.Component{constructor(e){super(e),this.state={isMouseDown:!1,initialMousePos:null,initialValue:0,value:e.value,steps:e.steps},this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleChange=this.handleChange.bind(this),this.handleInput=this.handleInput.bind(this)}componentWillReceiveProps(e){this.setState({value:e.value})}handleMouseDown(e){const t={x:e.clientX,y:e.clientY};this.setState({initialMousePos:t,initialValue:this.state.value,isMouseDown:!0}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}handleMouseMove(e){if(this.state.isMouseDown&&!this.props.disabled){const{min:t,max:a}=this.props;let s=this.state.initialValue+(e.clientX-this.state.initialMousePos.x)*this.state.steps;s=this.constrain(s,t,a),this.setState({value:s}),this.props.onChange(s)}}handleMouseUp(e){this.state.isMouseDown&&this.props.onScrubEnd&&this.props.onScrubEnd(),this.setState({isMouseDown:!1})}handleInput(e){if(e.which<48||e.which>57)return e.preventDefault();this.setState({value:e.target.value})}handleChange(e){const{min:t,max:a}=this.props,s=isNaN(parseFloat(e.target.value))?0:parseFloat(e.target.value);this.setState({value:this.constrain(s,t,a)})}constrain(e,t,a,s){return s="undefined"!==typeof s?s:0,void 0!==t&&void 0!==a?this.round(Math.min(Math.max(parseFloat(e),t),a),s):e}round(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}render(){return n.a.createElement("span",{style:{cursor:!this.props.disabled&&"ew-resize"},onMouseDown:this.handleMouseDown},this.props.children)}}dt.defaultValues={min:0,max:500,steps:1,value:7,disabled:!1};var ht=dt;class mt extends s.Component{constructor(){super(...arguments),this.inputStyles={input:{width:"27px",border:"none",boxShadow:"none",maxWidth:54},label:{display:"none"}},this.handleChangeInput=(e,t)=>{e.hex?pt.a.isValidHex(e.hex)&&this.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?this.props.onChange({r:e.r||this.props.rgb.r,g:e.g||this.props.rgb.g,b:e.b||this.props.rgb.b,a:this.props.rgb.a,source:"rgb"},t):e.hasOwnProperty("a")&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,this.props.onChange({h:this.props.hsl.h,s:this.props.hsl.s,l:this.props.hsl.l,a:e.a,source:"rgb"},t))}}render(){return n.a.createElement("div",{className:"input-wrapper__setting-right-icons__color-opacity"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:Math.round(100*this.props.rgb.a),onChange:e=>{this.handleChangeInput({a:e},{target:{focus:()=>{}}})}},n.a.createElement("svg",{className:"input-wrapper__setting-right-icons__color-opacity__icon",style:{verticalAlign:"middle"},width:"11",height:"14",viewBox:"0 0 11 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.97434 0.341886C5.90628 0.137715 5.71522 0 5.5 0C5.28478 0 5.09372 0.137715 5.02566 0.341886C4.93112 0.62549 4.64298 1.05936 4.18594 1.66875C4.04956 1.85059 3.90037 2.04537 3.74325 2.25052L3.74321 2.25056L3.74321 2.25057C3.4012 2.69711 3.02156 3.19277 2.65449 3.71099C1.58846 5.21597 0.5 7.07948 0.5 9C0.5 10.4249 0.962836 11.6824 1.8434 12.5861C2.72597 13.4919 3.98691 14 5.5 14C7.01309 14 8.27403 13.4919 9.1566 12.5861C10.0372 11.6824 10.5 10.4249 10.5 9C10.5 7.07948 9.41154 5.21597 8.34551 3.71099C7.97844 3.19277 7.5988 2.69711 7.2568 2.25057L7.25679 2.25056C7.09965 2.0454 6.95045 1.8506 6.81406 1.66875C6.35702 1.05936 6.06888 0.62549 5.97434 0.341886ZM8.5 8.5C8.5 8.22386 8.27614 8 8 8C7.72386 8 7.5 8.22386 7.5 8.5C7.5 9.60457 6.60457 10.5 5.5 10.5C5.22386 10.5 5 10.7239 5 11C5 11.2761 5.22386 11.5 5.5 11.5C7.15685 11.5 8.5 10.1569 8.5 8.5Z",fill:"#AFAFAF"}))),n.a.createElement(rt,{style:this.inputStyles,label:"a",value:Math.round(100*this.props.rgb.a),onChange:this.handleChangeInput}),"%")}}var ut=Object(at.ColorWrap)(mt),gt=a(30);class _t extends s.Component{constructor(){super(...arguments),this.t=(new Date).getTime(),this.handleChange=e=>{this.props.onChange({hex:e.target.value},e)},this.openEyeDropperChrome=()=>{this.eyedropper||(this.eyedropper=new window.EyeDropper),this.eyedropper.open().then(e=>{this.props.onChange({hex:e.sRGBHex})}).catch(e=>{})}}render(){return n.a.createElement("label",{htmlFor:"colorinput-".concat(this.t),className:"colorpicker-pipette"},n.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_4093_20505)"},n.a.createElement("path",{d:"M17.3 0.699994C16.4 -0.200006 14.9 -0.200006 14 0.699994L9.9 4.79999L9.6 4.39999C9.3 4.19999 8.9 3.99999 8.5 3.99999C8.1 3.99999 7.7 4.19999 7.4 4.39999C7.2 4.69999 7 5.09999 7 5.49999C7 5.89999 7.2 6.29999 7.4 6.59999L7.8 6.99999L1.9 12.9C0.7 14 0 15.8 0 17.5C0 17.8 0.2 18 0.5 18C2.1 18 3.9 17.4 5.1 16.1L11 10.2L11.4 10.6C11.7 10.9 12.1 11 12.5 11C12.9 11 13.3 10.8 13.6 10.6C13.9 10.3 14 9.89999 14 9.49999C14 9.09999 13.8 8.69999 13.6 8.39999L13.2 7.99999L17.3 3.99999C18.2 3.09999 18.2 1.49999 17.3 0.699994ZM4.4 15.4C3.5 16.3 2.3 16.9 1 17C1.1 15.7 1.7 14.5 2.5 13.6L8.4 7.69999L10.3 9.59999L4.4 15.4Z",fill:"white"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_4093_20505"},n.a.createElement("rect",{width:"18",height:"18",fill:"white"})))),window.EyeDropper?n.a.createElement("button",{style:{visibility:"hidden"},id:"colorinput-".concat(this.t),onClick:this.openEyeDropperChrome}):n.a.createElement("input",{id:"colorinput-".concat(this.t),onChange:this.handleChange,type:"color",value:this.props.value}))}}var ft=_t;class vt extends s.Component{constructor(){super(...arguments),this.state={current:"HEX",modalOpen:!1},this.modes=["HEX","RGB","HSL"],this.setCurrentMode=e=>{this.setState({current:e},this.setSelectOnFocus)},this.saturationStyles={circle:{width:"10px",borderRadius:"50%",height:"10px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.5)",background:"#FFFFFF",marginTop:"1px",transform:"translate(-4px, -4px)"}},this.hueStyles={},this.alphaStyles={slider:{borderRadius:"2px",border:"2px solid #FFF",height:"8px",boxShadow:"0 1px 2px rgba(0, 0, 0, .5)",background:"#FFFFFF",marginTop:"0px",width:"164px"}},this.inputStyles={input:{width:"100%",padding:"7px 6px 7px",border:"none",boxShadow:"none",color:"#464D52",fontSize:"12px"},label:{display:"none"}},this.inputStyles2={input:{width:"100%",padding:"7px 6px 7px",border:"none",boxShadow:"none",color:"#464D52",fontSize:"12px"},label:{display:"none"}},this.handleChange=(e,t)=>{e.hex?pt.a.isValidHex(e.hex)&&this.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?this.props.onChange({r:e.r||this.props.rgb.r,g:e.g||this.props.rgb.g,b:e.b||this.props.rgb.b,source:"rgb"},t):e.a?(e.a/=100,e.a<0?e.a=0:e.a>1&&(e.a=1),this.props.onChange({h:this.props.hsl.h,s:this.props.hsl.s,l:this.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),this.props.onChange({h:e.h||this.props.hsl.h,s:Number(e.s&&e.s||this.props.hsl.s),l:Number(e.l&&e.l||this.props.hsl.l),source:"hsl"},t))},this.handleChangeInput=(e,t)=>{e.hex?pt.a.isValidHex(e.hex)&&this.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?this.props.onChange({r:e.r||this.props.rgb.r,g:e.g||this.props.rgb.g,b:e.b||this.props.rgb.b,a:this.props.rgb.a,source:"rgb"},t):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,this.props.onChange({h:this.props.hsl.h,s:this.props.hsl.s,l:this.props.hsl.l,a:e.a,source:"rgb"},t)),t.target.focus()},this.onChangeHue=(e,t)=>{(0===e.s&&1===e.l||0===e.s&&0===e.l)&&(e.s=1,e.l=.5),this.props.onChange(e,t)},this.toggleModal=()=>{this.setState({modalOpen:!this.state.modalOpen})},this.handleFocus=e=>{e.preventDefault(),setTimeout(()=>{e.target.select()},200)},this.setSelectOnFocus=()=>{this.refs.opacityvalue&&this.refs.opacityvalue.querySelector("input")&&(this.refs.opacityvalue.querySelector("input").removeEventListener("focus",this.handleFocus),this.refs.opacityvalue.querySelector("input").addEventListener("focus",this.handleFocus))}}componentDidMount(){this.setSelectOnFocus()}render(){return n.a.createElement("div",{className:"colorpicker"},n.a.createElement("div",{className:"colorpicker-sliders"},n.a.createElement("div",{className:"colorpicker-saturation"},n.a.createElement(at.Saturation,Object.assign({},this.props,{style:this.saturationStyles,onChange:this.props.onChange}))),n.a.createElement("div",{className:"colorpicker-sliders-bottom"},n.a.createElement(ft,{onChange:this.handleChangeInput,value:this.props.hex}),n.a.createElement("div",{className:"colorpicker-right-group"},n.a.createElement("div",{className:"colorpicker-hue"},n.a.createElement(at.Hue,{style:this.hueStyles,direction:"horizontal",hsl:this.props.hsl,onChange:(e,t)=>{this.onChangeHue(e,t)}})),n.a.createElement("div",{className:"colorpicker-alpha"},n.a.createElement(at.Alpha,Object.assign({},this.props,{style:this.alphaStyles,direction:"horizontal",hsl:this.props.hsl,onChange:this.props.onChange})))))),n.a.createElement("div",{className:"colorpicker-inputs"},n.a.createElement("div",{className:"colorpicker-inputs-group"},n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__select",onClick:this.toggleModal},n.a.createElement("div",{className:"colorpicker-inputs-group__select-value"},this.state.current),n.a.createElement("div",{className:"colorpicker-inputs-group__select-arrow"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"}))),this.state.modalOpen&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{onClick:this.toggleModal,className:"se__s-p-colorpicker-overlay nocp",style:{zIndex:122}}),n.a.createElement("div",{className:"colorpicker-inputs-group__select-modal"},this.modes.map((e,t)=>n.a.createElement("div",{key:t,onClick:this.setCurrentMode.bind(null,e),className:"colorpicker-inputs-group__select-modal-option ".concat(e===this.state.current&&"colorpicker-inputs-group__select-modal-option_active")},e))))),"HEX"===this.state.current&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-1"},n.a.createElement(lt,{label:"hex",style:this.inputStyles,value:this.props.hex,onChange:this.handleChangeInput})),n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-2",ref:"opacityvalue"},n.a.createElement(lt,{label:"a",style:this.inputStyles2,value:Math.round(100*this.props.rgb.a),onChange:this.handleChangeInput}),n.a.createElement("span",null,"%"))),"RGB"===this.state.current&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-3"},n.a.createElement(lt,{label:"r",style:this.inputStyles,value:this.props.rgb.r,onChange:this.handleChangeInput})),n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-3"},n.a.createElement(lt,{label:"g",style:this.inputStyles,value:this.props.rgb.g,onChange:this.handleChangeInput})),n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-3"},n.a.createElement(lt,{label:"b",style:this.inputStyles,value:this.props.rgb.b,onChange:this.handleChangeInput})),n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-2",ref:"opacityvalue"},n.a.createElement(lt,{label:"a",style:this.inputStyles2,value:Math.round(100*this.props.rgb.a),onChange:this.handleChangeInput}),n.a.createElement("span",null,"%"))),"HSL"===this.state.current&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-3"},n.a.createElement(lt,{label:"h",style:this.inputStyles,value:Math.round(this.props.hsl.h),onChange:this.handleChange})),n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-3 colorpicker-inputs-group__input-type-3_custom"},n.a.createElement(lt,{label:"s",max:100,style:this.inputStyles,value:"".concat(Math.round(100*this.props.hsl.s)),onChange:this.handleChange})),n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-3 colorpicker-inputs-group__input-type-3_custom"},n.a.createElement(lt,{label:"l",max:100,style:this.inputStyles,value:"".concat(Math.round(100*this.props.hsl.l)),onChange:this.handleChange})),n.a.createElement("div",{className:"colorpicker-inputs-group-item colorpicker-inputs-group__input-type-2",ref:"opacityvalue"},n.a.createElement(lt,{label:"a",style:this.inputStyles2,value:Math.round(100*this.props.hsl.a),onChange:this.handleChange}),n.a.createElement("span",null,"%"))))))}}var wt=Object(at.ColorWrap)(vt);class Ct extends s.Component{constructor(){super(...arguments),this.state={presets:[],pageColors:[]},this.defaultPresets=[{start:"rgba(235, 87, 87, 1)"},{start:"rgba(242, 153, 74, 1)"},{start:"rgba(242, 201, 76, 1)"},{start:"rgba(33, 150, 83, 1)"},{start:"rgba(39, 174, 96, 1)"},{start:"rgba(111, 207, 151, 1)"},{start:"rgba(72, 34, 34, 1)"},{start:"rgba(47, 128, 237, 1)"},{start:"rgba(45, 156, 219, 1)"},{start:"rgba(86, 204, 242, 1)"},{start:"rgba(155, 81, 224, 1)"},{start:"rgba(187, 107, 217, 1)"},{start:"rgba(51, 51, 51, 1)"},{start:"rgba(79, 79, 79, 1)"},{start:"rgba(130, 130, 130, 1)"}],this.handleClickPreset=e=>{e.start&&this.props.onChange(e)},this.handleAddPreset=()=>{const e=[...this.state.presets];e.push({start:this.props.currentColor}),this.setState({presets:e}),localStorage.setItem("colorPresets",JSON.stringify(e))},this.handleRemovePreset=e=>{const t=[...this.state.presets];t.splice(e,1),this.setState({presets:t}),localStorage.setItem("colorPresets",JSON.stringify(t))}}componentDidMount(){localStorage.getItem("colorPresets")&&this.setState({presets:JSON.parse(localStorage.getItem("colorPresets"))}),this.props.pageColors&&this.setState({pageColors:window.getPageColors({color:this.props.currentColor}).reverse()})}render(){return n.a.createElement("div",{className:"colorpicker-presets ".concat(this.props.pageColors&&" colorpicker-presets_scroll")},this.props.pageColors&&this.state.pageColors.map((e,t)=>n.a.createElement("div",{key:t,className:"colorpicker-presets__item colorpicker-presets__item_d colorpicker-presets__item-df".concat(t)},n.a.createElement("style",null,".","colorpicker-presets__item-df".concat(t," {background-color: ").concat(e.start,"; }")),n.a.createElement("div",{className:"colorpicker-presets__item-remove"},n.a.createElement("div",{onClick:this.handleClickPreset.bind(null,e),className:"colorpicker-presets__item colorpicker-presets__item_inner colorpicker-presets__item-df".concat(t)})))),!this.props.pageColors&&this.defaultPresets.map((e,t)=>n.a.createElement("div",{key:t,className:"colorpicker-presets__item colorpicker-presets__item_d colorpicker-presets__item-d".concat(t)},n.a.createElement("style",null,".","colorpicker-presets__item-d".concat(t," {background-color: ").concat(e.start,"; }")),n.a.createElement("div",{className:"colorpicker-presets__item-remove"},n.a.createElement("div",{onClick:this.handleClickPreset.bind(null,e),className:"colorpicker-presets__item colorpicker-presets__item_inner colorpicker-presets__item-d".concat(t)})))),!this.props.pageColors&&this.state.presets.map((e,t)=>n.a.createElement("div",{key:t,className:"colorpicker-presets__item colorpicker-presets__item-".concat(t)},n.a.createElement("style",null,".","colorpicker-presets__item-".concat(t," {background-color: ").concat(e.start,"; }")),n.a.createElement("div",{className:"colorpicker-presets__item-remove colorpicker-presets__item-remove__withicon"},n.a.createElement("svg",{onClick:this.handleRemovePreset.bind(null,t),width:"8px",height:"8px",viewBox:"0 0 8 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.a.createElement("g",{id:"Artboard",transform:"translate(-1474.000000, -699.000000)",fill:"#AFAFAF",fillRule:"nonzero"},n.a.createElement("g",{id:"Users-Copy-2",transform:"translate(1247.000000, 679.000000)"},n.a.createElement("path",{d:"M232.313705,23.8994912 L234.637056,26.2228421 C234.916002,26.501788 234.825549,27.0445008 234.435025,27.4350251 C234.044501,27.8255494 233.501788,27.9160015 233.222842,27.6370556 L230.899491,25.3137048 L228.57614,27.6370556 C228.297194,27.9160015 227.754482,27.8255494 227.363957,27.4350251 C226.973433,27.0445008 226.882981,26.501788 227.161927,26.2228421 L229.485278,23.8994912 L227.161927,21.5761404 C226.882981,21.2971944 226.973433,20.7544816 227.363957,20.3639573 C227.754482,19.973433 228.297194,19.8829809 228.57614,20.1619268 L230.899491,22.4852776 L233.222842,20.1619268 C233.501788,19.8829809 234.044501,19.973433 234.435025,20.3639573 C234.825549,20.7544816 234.916002,21.2971944 234.637056,21.5761404 L232.313705,23.8994912 Z",id:"close"}))))),n.a.createElement("div",{onClick:this.handleClickPreset.bind(null,e),className:"colorpicker-presets__item colorpicker-presets__item_inner colorpicker-presets__item-".concat(t)})))),!this.props.pageColors&&n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",onClick:this.handleAddPreset},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"}))))}}var yt=Object(o.b)(e=>({}),{})(Ct);class bt extends s.Component{constructor(){super(...arguments),this.setIsDragging=e=>{this.props.options.gradientStopIsDragging=e},this.onDragStart=e=>{if(!window.event)return e.preventDefault(),!1;this.setIsDragging(!0),this.x=window.event.pageX,this.left=parseFloat(e.target.get("node").getStyle("left"))},this.onDrag=e=>{e.preventDefault(),e.stopPropagation();const t=window.event.pageX-this.x,{updateGradientStopPosition:a}=this.props,s=kt-St;let n=this.left+t;e.target.get("node").setStyles({left:n<0?0:n>s?s:n});const o=parseFloat(e.target.get("node").getStyle("left"))/s;o>1?e.preventDefault():a(o)},this.onDragEnd=()=>{const{refresh:e,onChangeComplete:t}=this.props;this.setIsDragging(!1),e(),t()},this.onDragMouseDown=()=>{this.props.setCurrentGradientStop()}}componentDidMount(){const{y:e}=this.props;this.dragInstance=new e.DD.Drag({node:this.refs.dragNode}).plug(e.Plugin.DDConstrained,{constrain2node:".se__s-p__mk-item__gradient-line__inner"}),this.dragInstance.on("drag:start",this.onDragStart),this.dragInstance.on("drag:drag",this.onDrag),this.dragInstance.on("drag:mouseDown",this.onDragMouseDown),this.dragInstance.on("drag:end",this.onDragEnd)}render(){const{className:e,stopPosition:t}=this.props,a=(kt-St)*t;return n.a.createElement("div",{ref:"dragNode",style:{left:0===t?0:a},className:"se__s-p__mk-item__gradient-line__item "+e})}}var Et=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(bt));const kt=208,St=12;class xt extends s.Component{constructor(){var e;super(...arguments),e=this,this.options={},this.onMouseDown=e=>{const{handleAddGradientStop:t}=this.props,a=e.target.getBoundingClientRect(),s=e.clientX-a.left-St/2,n=s/(kt-St),o=n>1?1:n<0?0:n;let i=t({color:(e=>({r:e[0]/255,g:e[1]/255,b:e[2]/255,a:e[3]/255}))(this.refs.canvasLine.getContext("2d",{willReadFrequently:!0}).getImageData(s,0,1,1).data),position:o});setTimeout(()=>{this.y.all(".se__s-p__mk-item__gradient-line__inner > div").item(i).simulate("mousedown")})},this.updateGradientLine=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;const{gradientStops:a}=t,s=e.refs.canvasLine.getContext("2d",{willReadFrequently:!0}),n=s.createLinearGradient(0,0,210,14);s.clearRect(0,0,210,14),a.map((e,t)=>(n.addColorStop(e.position,Object(gt.b)(e.color,e.color.a)),!0)),s.fillStyle=n,s.fillRect(0,0,210,14)}}shouldComponentUpdate(e){const{gradientStopIsDragging:t}=this.options;return t&&this.updateGradientLine(),!t}componentWillReceiveProps(e){this.updateGradientLine(e)}componentDidMount(){this.updateGradientLine(),window.disableRemoveComponent=!0,document.addEventListener("siter.remove",this.props.handleRemoveGradientStop)}componentWillMount(){window.YUI().use("dd-constrain","node-event-simulate",e=>{this.y=e,this.forceUpdate()})}componentWillUnmount(){window.disableRemoveComponent=!1,document.removeEventListener("siter.remove",this.props.handleRemoveGradientStop)}render(){const{gradientStops:e,currentGradientStop:t,updateGradientStopPosition:a,setCurrentGradientStop:s,onChangeComplete:o,refresh:i}=this.props,r=e=>e===t?"se__s-p__mk-item__gradient-line__item_active":"";return n.a.createElement("div",{className:"se__s-p__mk-item__gradient-line__wrapper"},n.a.createElement("div",{ref:"gradientLine",className:"se__s-p__mk-item__gradient-line"},n.a.createElement("div",{className:"se__s-p__mk-item__gradient-line__canvas"},n.a.createElement("canvas",{ref:"canvasLine",style:{position:"absolute"},width:210,height:14})),n.a.createElement("div",{className:"se__s-p__mk-item__gradient-line__inner",onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove},e.map((e,t)=>this.y&&n.a.createElement(Et,{y:this.y,options:this.options,stopPosition:e.position,className:r(t),setCurrentGradientStop:s.bind(null,t),updateGradientStopPosition:a,refresh:i,onChangeComplete:o,key:t})))))}}var Nt=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(xt));class Bt extends s.Component{constructor(){var e;super(...arguments),e=this,this.getComponentElementAngle=()=>{var e;return this.element.classList.contains("s-e__w-i")?parseFloat(this.element.style.transform.replace("rotate(","")):parseFloat(null===(e=c()(this.element).parents(".s-e__w-i")[0])||void 0===e?void 0:e.style.transform.replace("rotate(",""))},this.updateColorPickerInstrumentations=()=>{const{elementSelector:e}=this.props;if(this.element=document.querySelector(e),this.element){const e=this.element.getBoundingClientRect();Object.assign(this.refs.overlayelement.style,{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",transform:"rotate("+this.getComponentElementAngle()+"deg)"})}},this.initDD=()=>{window.YUI().use("dd-delegate",e=>{this.y=e;var t=new e.DD.Delegate({container:".colorpicker-artboard__overlay-element",nodes:".colorpicker-artboard__overlay-handle"});t.on("drag:start",this.onDragStart),t.on("drag:drag",this.onDrag),t.on("drag:end",this.onDragEnd)})},this.onDragStart=e=>{const{gradientHandlePositions:t}=this.props;this.starts=t.map(e=>{let{x:t,y:a}=e;return{x:100*t,y:100*a}}),window.gradientHandlesIsDrag=!0},this.calculatePointPositionRadial=e=>{var t=Math.atan2(e[1].y-e[0].y,e[1].x-e[0].x);t+=3.1416;var a=e[1].x-e[0].x,s=e[1].y-e[0].y,n=Math.sqrt(a*a+s*s);return{x:e[0].x+Math.cos(t)*n,y:e[0].y+Math.sin(t)*n}},this.calculatePointPositionAngular=e=>{var t=Math.atan2(e[1].y-e[0].y,e[1].x-e[0].x);t+=.7854;var a=e[1].x-e[0].x,s=e[1].y-e[0].y,n=Math.sqrt(a*a+s*s);return{x:e[0].x+Math.cos(t)*n,y:e[0].y+Math.sin(t)*n}},this.onDrag=e=>{const{update:t,gradientHandlePositions:a,fillType:s}=this.props;let n=e.target.get("node"),o=n.getData("index"),i=document.querySelector("#color-handles-line"),r=e.info.offset[0]/(window.currentZoom/100)/this.element.offsetWidth*100,l=e.info.offset[1]/(window.currentZoom/100)/this.element.offsetHeight*100,c=this.starts[o].x+r,p=this.starts[o].y+l;n.setStyles({left:c+"%",top:p+"%"});let d=c/100,h=p/100;if(a[o]={x:d,y:h},"GRADIENT_RADIAL"===s&&parseInt(o)<2){let{x:e,y:t}=this.calculatePointPositionRadial(a);a[2]={x:e,y:t}}i&&function(e,t){for(var a in t)e.setAttribute(a,t[a])}(i,this.lineStyle(a)),t(a),e.preventDefault()},this.onDragEnd=()=>{this.starts=[],this.props.onChangeComplete(),window.gradientHandlesIsDrag=!1},this.handleStyle=e=>{const{elementSelector:t}=this.props;if(document.querySelector(t))return{top:100*e.y+"%",left:100*e.x+"%",fontSize:11}},this.lineStyle=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.gradientHandlePositions;return{x1:100*t[0].x+"%",y1:100*t[0].y+"%",x2:100*t[1].x+"%",y2:100*t[1].y+"%"}}}componentDidMount(){window.updateColorPickerInstrumentations=this.updateColorPickerInstrumentations,this.updateColorPickerInstrumentations(),this.initDD()}componentWillUnmount(){window.updateColorPickerInstrumentations=void 0}render(){const{overlayOnDoubleClick:e,gradientHandlePositions:t,fillType:a}=this.props;return n.a.createElement("div",{ref:"artboardoverlay",onClick:e,className:"colorpicker-artboard__overlay"},n.a.createElement("div",{ref:"overlayelement",className:"colorpicker-artboard__overlay-element"},a.indexOf("GRADIENT")>-1&&n.a.createElement(n.a.Fragment,null,t.map((e,t)=>t<2&&n.a.createElement("div",{key:t,"data-index":t,style:this.handleStyle(e),className:"colorpicker-artboard__overlay-handle colorpicker-artboard__overlay-handle"}))),a.indexOf("GRADIENT")>-1&&n.a.createElement("svg",{className:"colorpicker-artboard__overlay-handle__line"},n.a.createElement("line",Object.assign({id:"color-handles-line"},this.lineStyle(),{strokeWidth:"1",stroke:"white"})))))}}var Ft=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(Bt)),At=a(65);const Lt=e=>{let{options:t,onChange:a,id:s,customClass:o}=e;return n.a.createElement(R.Menu,{style:{marginLeft:-13,marginTop:-15,width:180,minWidth:128},className:o,id:s},t.map((e,t)=>{var s,o;const i=null===(s=document.getElementsByName("preset_id")[0])||void 0===s?void 0:s.value,r=null===(o=document.getElementsByName("trigger_id")[0])||void 0===o?void 0:o.value,l=i===e.value||r===e.value,c="va-middle ".concat(l?"effects-currently_selected":"");return n.a.createElement(R.Item,{onClick:a.bind(null,e),key:t},n.a.createElement("span",{className:c,style:{marginTop:1}},e.label,l&&n.a.createElement("svg",{className:"input-wrapper__setting-fontfamily__popup-section__item-choosed",width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{className:"input-wrapper__setting-fontfamily__popup-section__item-choosed",d:"M1.5 5.90909L4.36364 10L9.27273 1",stroke:"#3E87F8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))}))};class Ot extends s.Component{constructor(){super(...arguments),this.t=(new Date).getTime()+Math.floor(1e4*Math.random()),this.toggleShow=e=>{R.contextMenu.show({id:this.t,event:e,props:{foo:"bar"}})},this.onMenuOpen=()=>{this.props.onOpenX&&this.props.onOpenX(),this.refs[this.t].handleInputBlur();let e=window.event;setTimeout(()=>{this.toggleShow(e)},150)}}render(){const{options:e,onChange:t,customClass:a}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement(At.a,Object.assign({ref:this.t,onOpen:this.onMenuOpen},this.props)),e&&e.length>0&&n.a.createElement(Lt,{customClass:a,id:this.t,onChange:t,options:e||[]}))}}var Dt=Object(o.b)(e=>({}),{})(Ot);let Mt,Pt;const It={input:{width:"100%",border:"none",boxShadow:"none",maxWidth:60},label:{display:"none"}},Tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{color:{r:0,g:0,b:0,a:e},position:t}},Rt=[{label:"Solid",value:"SOLID"},{label:"Linear",value:"GRADIENT_LINEAR"},{label:"Radial",value:"GRADIENT_RADIAL"},{label:"Angular",value:"GRADIENT_ANGULAR"}],jt=e=>{let t=Tt(),a=Tt(0,1);if("SOLID"===e.type){let a=Object.assign({},e.color);a.a=e.opacity,t.color=a}Mt&&(e.gradientStops=Mt),Pt&&(e.gradientTransform=Pt),e.gradientStops||(e.gradientStops=[t,a]),e.opacity=1,e.gradientTransform||(e.gradientTransform=[[6123234262925839e-32,1,0],[-1,6123234262925839e-32,1]]),delete e.color},Gt=(e,t)=>{e.length<3&&e.push([0,0,1]);return Object(gt.d)(e,t)};class Ht extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={displayColorPicker:!1,openDisabled:!1,angle:0,currentGradientStop:0,gradientHandlePositions:[]},this.t=Math.random().toString(36).substr(2,9),this.setTop=()=>{const e=document.getElementById("colorpickerpopup");if(e){let{top:t}=this.refs.colorsetting.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.onPickerHide=()=>{this.props.onPickerHide()},this.handleTogglePicker=()=>{if(this.state.openDisabled)return;const e=new CustomEvent("siter.settings.closeall",{detail:this.t});document.dispatchEvent(e),this.setState({displayColorPicker:!this.state.displayColorPicker},()=>{this.setTop(),this.state.displayColorPicker&&this.props.onPickerShow(),this.state.displayColorPicker||this.onPickerHide()})},this.handleClosePicker=e=>{e&&e.detail===this.t||this.state.displayColorPicker&&(this.setState({displayColorPicker:!1}),this.onPickerHide())},this.handleChangeType=e=>{const t=e.value;let{fill:a}=this.state;const{updateElement:s,index:n}=this.props;let o;switch(t){case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":jt(a);break;case"SOLID":(e=>{if(!e.color){let t=Object.assign({},e.gradientStops[0].color);delete t.a,e.color=t}Mt=e.gradientStops,Pt=e.gradientTransform,delete e.gradientStops,delete e.gradientTransform})(a)}a.type=t,a.type.indexOf("GRADIENT")>-1&&a.hasOwnProperty("gradientTransform")&&(o=Gt(a.gradientTransform,a.type)),s(n,a),this.setState({fill:a,gradientHandlePositions:o},this.onChangeComplete),this.forceUpdate()},this.handleUpdateSolidColor=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{fill:n}=e.state;const{update:o,updateElement:i,index:r}=e.props,{rgb:l}=t;n.color={r:l.r/255,g:l.g/255,b:l.b/255},n.opacity=l.a,e.setState({fill:n},()=>{i(r,n),s&&o(r,n)})},this.handleUpdateGradientOpacity=e=>{let{fill:t}=this.state;const{updateElement:a,index:s}=this.props;t.opacity=e.rgb.a,this.setState({fill:t},()=>{a(s,t)})},this.handleUpdateGradientColor=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{fill:s,currentGradientStop:n}=e.state;const{updateElement:o,index:i,update:r}=e.props,{rgb:l}=t;s.gradientStops=s.gradientStops.slice(0),s.gradientStops[n].color={r:l.r/255,g:l.g/255,b:l.b/255,a:l.a},e.setState({fill:s},()=>{o(i,s),a&&r(i,s)})},this.handleUpdateGradientStopPosition=e=>{let{fill:t,currentGradientStop:a}=this.state;const{updateElement:s,index:n}=this.props;t.gradientStops=t.gradientStops.slice(0),t.gradientStops[a].position=e;const o=t.gradientStops.slice(0).sort((e,t)=>e.position-t.position);JSON.stringify(t.gradientStops)!==JSON.stringify(o)&&(a=o.indexOf(t.gradientStops[a]),t.gradientStops=o),this.setState({fill:t,currentGradientStop:a},()=>{s(n,t)})},this.handleAddGradientStop=e=>{let{fill:t}=this.state;t.gradientStops=t.gradientStops.slice(0),t.gradientStops.push(e),t.gradientStops.sort((e,t)=>e.position-t.position);const a=t.gradientStops.indexOf(e);return this.setState({fill:t,currentGradientStop:a},this.onChangeComplete),a},this.handleRemoveGradientStop=()=>{let{fill:e,currentGradientStop:t}=this.state;const{updateElement:a,index:s}=this.props;e.gradientStops.length>1&&(e.gradientStops=e.gradientStops.slice(0),e.gradientStops.splice(t,1),this.setState({fill:e,currentGradientStop:0},()=>{a(s,e),this.onChangeComplete()}))},this.refreshGradientStops=()=>{let{currentGradientStop:e,fill:t}=this.state;t.gradientStops=t.gradientStops.slice(0),this.setState({currentGradientStop:e,fill:t})},this.setCurrentGradientStop=e=>{this.setState({currentGradientStop:e})},this.updateHandles=e=>{const{updateElement:t,index:a}=this.props;let{fill:s}=this.state;s.gradientTransform=Object(gt.c)(e,s.type),this.setState({gradientHandlePositions:e,fill:s},()=>{t(a,s)})},this.onChangeComplete=()=>{let{fill:e}=this.state;const{index:t,update:a}=this.props;a(t,e)},this.handleChangeSolidInput=(e,t)=>{e.hex?pt.a.isValidHex(e.hex)&&this.handleUpdateSolidColor(pt.a.toState({hex:e.hex,source:"hex"}),t,!0):e.r||e.g||e.b?this.onChange({r:e.r||this.props.rgb.r,g:e.g||this.props.rgb.g,b:e.b||this.props.rgb.b,a:this.props.rgb.a,source:"rgb"},t):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,this.onChange({h:this.props.hsl.h,s:this.props.hsl.s,l:this.props.hsl.l,a:e.a,source:"rgb"},t)),t.target.focus()},this.overlayOnDoubleClick=e=>{this.handleClosePicker()},this.presetChange=e=>{const{fill:t}=this.state,a=e.start.match(/[0-9.]+/gi)||[];e={rgb:{r:parseFloat(a[0]||0),g:parseFloat(a[1]||0),b:parseFloat(a[2]||0),a:parseFloat(a[3]?a[3]:1)}},"SOLID"===t.type?this.handleUpdateSolidColor(e,void 0,!0):this.handleUpdateGradientColor(e,!0)}}componentWillMount(){const{fill:e}=this.props;let t=[];document.addEventListener("siter.settings.closeall",this.handleClosePicker),e.type.indexOf("GRADIENT")>-1&&(t=Gt(e.gradientTransform,e.type)),this.setState({fill:e,gradientHandlePositions:t})}componentWillUnmount(){document.removeEventListener("siter.settings.closeall",this.handleClosePicker),Mt=void 0,Pt=void 0,this.onPickerHide()}render(){const{t:e,size:t,removeFill:a,index:s,elementSelector:o,exceptTypes:i,disableHandles:r,disableRemove:l}=this.props,{displayColorPicker:c,openDisabled:p,fill:d,top:h,currentGradientStop:m,gradientHandlePositions:u}=this.state,g=Be()("se__s-p-colorpicker",{"se__s-p-colorpicker_active":c,"se__s-p-colorpicker_active_override":p,"se__s-p-colorpicker_small":"small"===t}),_=Be()({"input-wrapper__setting":!p,"input-wrapper__setting_small input-wrapper__setting_small-colorpicker":"small"===this.props.size});let f,v,w,C,y;if("SOLID"===d.type&&(f=Object(gt.b)(d.color,d.opacity),v=(e=>{const t=e.match(/[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s]?([\d.]+)[\s+]?/g);if(null===t)return e;const a=t[0].split(", ");return a&&4===a.length?"#".concat("0".concat(parseInt(a[0],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[1],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[2],10).toString(16)).slice(-2)):""})(f),y=f),d.type.indexOf("GRADIENT")>-1){const{color:e}=d.gradientStops[m];C=Object(gt.b)(e,e.a),w="rgba(0, 0, 0, ".concat(d.opacity,")"),y=C}return n.a.createElement("div",{className:g},c&&!r&&n.a.createElement(Ft,{update:this.updateHandles,onChangeComplete:this.onChangeComplete,fillType:d.type,elementSelector:o,overlayOnDoubleClick:this.overlayOnDoubleClick,gradientHandlePositions:u}),n.a.createElement("div",{ref:"colorsetting",className:_},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{background:Object(gt.a)([d],{width:100,height:100})},className:"input-wrapper__setting-color-box input-wrapper__setting-color-box_".concat(this.t),onClick:this.handleTogglePicker}),d.type.indexOf("GRADIENT")>-1&&n.a.createElement("div",{className:"input-wrapper__setting-color-value",onClick:this.handleTogglePicker},n.a.createElement(n.a.Fragment,null,d.mixed?n.a.createElement("span",{onClick:this.handleTogglePicker,className:"cp"},"Mixed"):n.a.createElement("span",{className:"capitalize"},d.type.replace("GRADIENT_","").toLowerCase()))),!c&&n.a.createElement("div",{className:"input-wrapper__setting-clickable",onClick:this.handleTogglePicker}),"SOLID"===d.type&&n.a.createElement("div",{ref:"colorvalue",className:"input-wrapper__setting-color-value"},d.mixed?n.a.createElement("span",{onClick:this.handleTogglePicker,className:"cp"},"Mixed"):n.a.createElement(at.EditableInput,{label:"hex",style:It,value:v,onChange:this.handleChangeSolidInput}))),!p&&!this.props.size&&n.a.createElement("div",{className:"input-wrapper__setting-right-icons input-wrapper__setting-right-icons__color input-wrapper__setting-right-icons_"+this.t,ref:"opacityvalue"},n.a.createElement(n.a.Fragment,null,"SOLID"===d.type&&n.a.createElement(ut,{width:p?"100%":187,color:f,onChange:this.handleUpdateSolidColor,onChangeComplete:this.onChangeComplete}),d.type.indexOf("GRADIENT")>-1&&n.a.createElement(ut,{width:p?"100%":187,color:w,onChange:this.handleUpdateGradientOpacity,onChangeComplete:this.onChangeComplete}),!l&&n.a.createElement("svg",{onClick:a.bind(null,s),className:"input-wrapper__setting-right-icons__minus",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"}))))),c&&n.a.createElement("div",{id:"colorpickerpopup",ref:"colorpickerpopup",className:"se__s-p-colorpicker-popup",style:{top:h}},n.a.createElement("div",{className:"input-wrapper__setting-color-types"},n.a.createElement(Dt,{name:"fill-type",value:d.type,onChange:this.handleChangeType,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-wrapper-fill",customClass:"fill-select",disabled:!1,options:Rt.filter(e=>{let{value:t}=e;return-1===i.indexOf(t)})})),"SOLID"===d.type&&n.a.createElement("div",{className:"se__s-p-colorpicker-wrapper"},n.a.createElement(wt,{width:p?"100%":187,color:f,onChange:this.handleUpdateSolidColor,onChangeComplete:this.onChangeComplete})),d.type.indexOf("GRADIENT")>-1&&n.a.createElement("div",{className:"input-wrapper__setting-color__gradient"},n.a.createElement(Nt,{gradientStops:d.gradientStops,currentGradientStop:m,refresh:this.refreshGradientStops,setCurrentGradientStop:this.setCurrentGradientStop,handleAddGradientStop:this.handleAddGradientStop,handleRemoveGradientStop:this.handleRemoveGradientStop,updateGradientStopPosition:this.handleUpdateGradientStopPosition,onChangeComplete:this.onChangeComplete}),n.a.createElement(wt,{width:"100%",color:C,onChange:this.handleUpdateGradientColor,onChangeComplete:this.onChangeComplete})),n.a.createElement("div",{className:"colorpicker-label"},e("app.editor.settingspanel.swatches")),n.a.createElement(yt,{currentColor:y,onChange:this.presetChange}),n.a.createElement("div",{className:"colorpicker-label",style:{marginTop:8}},e("app.editor.settingspanel.sitecolors")),n.a.createElement(yt,{pageColors:!0,currentColor:y,onChange:this.presetChange})))}}var Ut=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(Ht));const Zt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o="",i=0;for(let l of e){var r;let e,c,p,d;if(e=l.type.indexOf("GRADIENT")>-1?Gt(l.gradientTransform,l.type):[{x:.5,y:0},{x:.5,y:100}],"SOLID"===l.type?(d=Object(gt.b)(l.color,l.opacity),c="linear"):c=l.type.split("_")[1].toLowerCase(),"linear"===c&&(p='x1="'.concat(100*e[0].x,'%" x2="').concat(100*e[1].x,'%" y1="').concat(100*e[0].y,'%" y2="').concat(100*e[1].y,'%"')),"radial"===c){let t=a*e[1].x-a*e[0].x,n=s*e[1].y-s*e[0].y,o=Math.hypot(t,n);p='cx="'.concat(100*e[0].x,'%" r="').concat(o,'%" cy="').concat(100*e[0].y,'%"')}o+="<defs>\n      <".concat(c,'Gradient id="gradient').concat(n?"-hover":"","-").concat(t,"-").concat(i,'" ').concat(p,">\n        ").concat("SOLID"===l.type?'<stop offset="0%" stop-color="'.concat(d,'"></stop>\n          <stop offset="100%" stop-color="').concat(d,'"></stop>'):null===(r=l.gradientStops)||void 0===r?void 0:r.map((e,t)=>'<stop offset="'.concat(100*e.position,'%" stop-color="').concat(Object(gt.b)(e.color,l.opacity*e.color.a),'"></stop>')).join(""),"\n      </").concat(c,"Gradient>\n    </defs>"),i++}return o};class zt extends s.Component{constructor(){super(...arguments),this.state={styles:{},mapRefs:{},refreshChildrens:!1},this.componentClasses=e=>{var t,a,s;if(dr(e.slug)){const t=this.props.currentBlock&&Array.isArray(this.props.currentBlock.group_ids)&&this.props.currentBlock.group_ids.indexOf(e.id)>-1;return Be()("s-e__w-i__group s-e__w-i__group-frame ".concat(e.slug,"_").concat(e.id),{"s-e__w-i__group_lock":e.lock,"s-e__w-i__group_master-component":"master_component"===e.group_type,"s-e__w-i__group_active":t,"s-e__w-i_active":"frame"===e.slug&&t,"s-e__w-i__group-frame":"frame"===e.slug,"s-e__w-i":"frame"===e.slug,"s-e__w-i__autolayout":e.autolayout})}const n=this.props.currentBlock&&Array.isArray(this.props.currentBlockJSON)&&this.props.currentBlockJSON.find(t=>t.id===e.id);return Be()("s-e__w-i ".concat(e.slug,"_").concat(e.id),{"s-e__w-i_active":n,"s-e__w-i_lock":e.lock,"s-e__w-i_invisible":"hidden"===(null===(t=e.styles)||void 0===t||null===(a=t[null===(s=this.props)||void 0===s?void 0:s.currentDevice.name])||void 0===a?void 0:a.visibility),"s-e__w-i_blocked":e.blocked,["".concat(e.id,"_hover")]:"hover"===e.state})},this.updateButtonText=e=>{if(!Array.isArray(this.props.currentBlockJSON))return;const t=JSON.parse(JSON.stringify(this.props.y.one("#".concat(this.props.currentBlockJSON[0].id)).component));this.props.currentBlockJSON[0]&&"button"===t.slug&&(t.data.value=e,this.props.currentBlock.handleChangeProperties({data:t.data},!0,()=>{},!1))},this.updateSliderCaption=(e,t)=>{if(Array.isArray(this.props.currentBlockJSON)){const a=[...this.props.currentBlockJSON[0].data.images];a[t].caption=e;const s={images:a},n=Object.assign(this.props.currentBlockJSON[0].data,s);this.props.currentBlock.handleChangeProperties({data:n}),this.forceUpdate()}},this.updateMapRefs=e=>{this.setState({mapRefs:Object.assign(this.state.mapRefs,e)})},this.handleBlur=e=>{["button","slider"].indexOf(e.slug)>-1&&this.props.handleChangeComponentProperties(e,{blocked:!1},!1)},this.swiperCallback=(e,t)=>{"object"===typeof window.swipers?window.swipers[t]=e:window.swipers={[t]:e}},this.sliderParams=(e,t)=>({ref:t=>{t&&this.swiperCallback(t.swiper,e)},on:{activeIndexChange:()=>{window.swiper={[e]:{index:window.swipers[e].realIndex}}}},containerClass:"swiper-container-horizontal swiper-container swiper-container__mode-".concat(t.mode," swiper-container__arrows-").concat(t.arrows_position," swiper-container__dots-").concat(t.dots_position),rebuildOnUpdate:!0,shouldSwiperUpdate:!0,simulateTouch:!1,pagination:{el:".swiper-pagination",dynamicBullets:!0,clickable:!0,renderBullet:(e,a)=>t.dots_icon_svg?t.dots_icon_svg?'<span class="'.concat(a,'"><svg style="width: ').concat(t.dots_icon_width,'" class="material-icons material-icons_svg" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">').concat(t.dots_icon_svg,"</svg></span>"):void 0:'<span class="'.concat(a,'"> <i style="font-size: ').concat(t.dots_icon_width,'" class="str-button__inner-icon material-icons ').concat(t.dots_icon_id,'"></i></span>')},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},renderPrevButton:()=>n.a.createElement("div",{className:"swiper-button-prev",style:{color:t.arrows}},t.arrows_icon_svg?n.a.createElement("svg",{style:{width:t.arrows_icon_width},className:"material-icons material-icons_svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:t.arrows_icon_svg}}):n.a.createElement("i",{style:{fontSize:t.arrows_icon_width},className:"str-button__inner-icon material-icons ".concat(t.arrows_icon_id)})),renderNextButton:()=>n.a.createElement("div",{className:"swiper-button-next",style:{color:t.arrows}},t.arrows_icon_svg?n.a.createElement("svg",{style:{width:t.arrows_icon_width},className:"material-icons material-icons_svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:t.arrows_icon_svg}}):n.a.createElement("i",{style:{fontSize:t.arrows_icon_width},className:"str-button__inner-icon material-icons ".concat(t.arrows_icon_id)}))}),this.CKEditorConfig=e=>(window.CKEDITOR.dtd.$removeEmpty.i=!1,{enterMode:1,language:"en",format_tags:"h1;h2;h3;h4;h5;h6;p;div;small",format_small:{element:"h6",name:"Small",attributes:{class:"small"}},format_div:{element:"div",name:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439"},readOnly:!1,disableAutoInline:!0,forcePasteAsPlainText:!0,allowedContent:"strike(*){*}[*]; br(*){*}[*]; p(*){*}[*]; u(*){*}[*]; a(*){*}[*]; span(*){*}[*]; i(*){*}[*]; div(*){*}[*]; em(*){*}[*]; b(*){*}[*]; strong(*){*}[*]",extraAllowedContent:"a(*){*}[*] br(*){*}[*] p(*){*}[*] u(*){*}[*] strike(*){*}[*] i(*){*}[*] em(*){*}[*] b(*){*}[*] b(*){*}[*] strong(*){*}[*]",removePlugins:"contextmenu, liststyle, tabletools, tableselection, language, dragdrop, basket, image, magicline, link",disableNativeSpellChecker:!1,on:{blur:t=>{this.handleBlur(e)},instanceReady:e=>{e.editor.focus(),document.execCommand("selectAll",!1,null)}}}),this.validateStyles=e=>{for(const t of Object.keys(e))-1===["string","number"].indexOf(typeof e[t])&&delete e[t]},this.getStylesForShapeInner=e=>{let t=Object.assign({},e.styles[this.props.currentDevice.name]);return this.validateStyles(t),delete t.top,delete t.height,delete t.left,delete t.width,delete t.position,delete t.transform,delete t.filter,t},this.getStylesForImageInner=e=>{let t=Object.assign({},e.styles[this.props.currentDevice.name]);return this.validateStyles(t),delete t.backgroundImage,delete t.position,delete t.top,delete t.left,delete t.width,delete t.height,delete t.transform,t},this.getStylesForVideoInner=e=>{let t=Object.assign({},e.styles[this.props.currentDevice.name]);return this.validateStyles(t),delete t.position,delete t.top,delete t.left,delete t.width,delete t.height,t.backgroundImage="url(".concat(e.data.thumbnail,")"),t.transform="translate(0%)",t},this.getStylesForIcon=e=>{let t=Object.assign({},e.styles[this.props.currentDevice.name]);return this.validateStyles(t),{filter:e.data.box_shadow}},this.getStyles=e=>{var t,a,s,n,o,i,r,l,c,p,d,h;let m;document.getElementsByClassName("section-editor__layout").length>0&&(m=document.getElementsByClassName("section-editor__layout")[0].offsetHeight);let{width:u}=this.props.currentDevice,g=Object.assign({},(null===(t=e.styles)||void 0===t?void 0:t[null===(a=this.props)||void 0===a||null===(s=a.currentDevice)||void 0===s?void 0:s.name])||(null===(n=e.styles)||void 0===n?void 0:n[null===(o=Object.keys(e.styles))||void 0===o?void 0:o[0]]));var _,f,v,w,C,y,b,E,k,S,x,N,B,F,A,L,O,D,M,P,I,T,R,j,G,H,U,Z,z,V,W;["rectangle","image"].indexOf(e.slug)>-1?(g={top:null===(_=e.styles)||void 0===_||null===(f=_[null===(v=this.props)||void 0===v?void 0:v.currentDevice.name])||void 0===f?void 0:f.top,left:null===(w=e.styles)||void 0===w||null===(C=w[null===(y=this.props)||void 0===y?void 0:y.currentDevice.name])||void 0===C?void 0:C.left,position:"absolute",width:null===(b=e.styles)||void 0===b||null===(E=b[null===(k=this.props)||void 0===k?void 0:k.currentDevice.name])||void 0===E?void 0:E.width,height:null===(S=e.styles)||void 0===S||null===(x=S[null===(N=this.props)||void 0===N?void 0:N.currentDevice.name])||void 0===x?void 0:x.height,fontSize:null===(B=e.styles)||void 0===B||null===(F=B[null===(A=this.props)||void 0===A?void 0:A.currentDevice.name])||void 0===F?void 0:F.fontSize,color:null===(L=e.styles)||void 0===L||null===(O=L[null===(D=this.props)||void 0===D?void 0:D.currentDevice.name])||void 0===O?void 0:O.color,display:null===(M=e.styles)||void 0===M||null===(P=M[null===(I=this.props)||void 0===I?void 0:I.currentDevice.name])||void 0===P?void 0:P.display,borderRadius:null===(T=e.styles)||void 0===T||null===(R=T[null===(j=this.props)||void 0===j?void 0:j.currentDevice.name])||void 0===R?void 0:R.borderRadius,visibility:null===(G=e.styles)||void 0===G||null===(H=G[null===(U=this.props)||void 0===U?void 0:U.currentDevice.name])||void 0===H?void 0:H.visibility,filter:null===(Z=e.styles)||void 0===Z||null===(z=Z[null===(V=this.props)||void 0===V?void 0:V.currentDevice.name])||void 0===z?void 0:z.filter},"image"===e.slug&&(g.opacity=null===(W=e.styles[this.props.currentDevice.name])||void 0===W?void 0:W.opacity)):g.position="absolute";return this.props.currentDrawComponent&&this.props.currentDrawComponent.id===e.id&&(g.outline="1px #3E87F8 solid"),g.transform=(null===(i=e.styles)||void 0===i||null===(r=i[null===(l=this.props)||void 0===l||null===(c=l.currentDevice)||void 0===c?void 0:c.name])||void 0===r?void 0:r.transform)||(null===(p=e.styles)||void 0===p||null===(d=p[null===(h=Object.keys(e.styles))||void 0===h?void 0:h[0]])||void 0===d?void 0:d.transform),"button"===e.slug&&("top"===e.data.text_align&&(g.alignItems="flex-start"),"bottom"===e.data.text_align&&(g.alignItems="flex-end")),"code"===e.slug&&("block"===g.display&&(g.display="table"),delete g.overflow),void 0!==m&&(this.props.currentDevice.width>=1200&&"window"===e.container&&(u=window.WORKSPACE_WIDTH),"%"===e.width_unit&&(g.width="".concat(Math.round(parseInt(g.width,10)/100*u),"px")),"%"===e.height_unit&&(g.height="".concat(Math.round(parseInt(g.height,10)/100*m),"px")),"%"===e.left_unit&&(g.left="".concat(Math.round(parseInt(g.left,10)/100*u),"px")),"%"===e.top_unit&&(g.top="".concat(Math.round(parseInt(g.top,10)/100*m),"px"))),this.validateStyles(g),g},this.showSettingsIconsStyles=e=>{if(dr(e.slug)){const t=this.props.getComponentsInGroup(e),a=this.props.ComponentHelper.getCommonRectByComponentsProps(t);if(a){return{top:a.top,left:parseInt(a.left,10)+this.props.ComponentHelper.componentsHelperStyles({container:"grid"}).left}}}return{}}}componentDidMount(){this.forceUpdate()}componentWillReceiveProps(e){e.currentDevice.name!==this.props.currentDevice.name&&setTimeout(()=>{this.forceUpdate()}),this.setState({refreshChildrens:!this.state.refreshChildrens},()=>{this.refs.videoref&&this.refs.videoref.load()})}render(){const{t:e,currentDevice:t,parentIsFrame:a}=this.props;return n.a.createElement(n.a.Fragment,null,Object.keys(this.props.components).map((s,o)=>{var i,r,l,c,p,d,h,m,u,g,_,f,v,w,C,y,b,E,k,S,x,N,B,F,A,L,O,D,M,P,I,T,R,j,G,H,U,Z,z,V,W,q,K,Y,J,X,Q,$,ee,te,ae,se,ne,oe,ie,re,le,ce,pe,de,he,me,ue;let ge=this.props.components[s];const _e=CSS.escape(ge.id),fe=null!==(i=null===ge||void 0===ge||null===(r=ge.styles)||void 0===r||null===(l=r[null===t||void 0===t?void 0:t.name])||void 0===l?void 0:l.top)&&void 0!==i?i:"0px",ve=null!==(c=null===ge||void 0===ge||null===(p=ge.styles)||void 0===p||null===(d=p[null===t||void 0===t?void 0:t.name])||void 0===d?void 0:d.left)&&void 0!==c?c:"0px";return n.a.createElement(De,{key:ge.id},n.a.createElement(Ue,{componentId:ge.id,"data-position-top":fe,"data-position-left":ve,parentIsFrame:a,classes:this.componentClasses,style:this.getStyles(ge),initComponent:this.props.ComponentHelper.initComponent,updateComponent:this.props.ComponentHelper.updateComponent,component:ge,currentDevice:t,ArtboardComponents:this.props.ArtboardComponents,ArtboardComponentsItems:this},"fixed"===(null===(h=ge.styles)||void 0===h||null===(m=h[t.name])||void 0===m?void 0:m.position)&&n.a.createElement("div",{className:"str-component__fix-icon",style:this.showSettingsIconsStyles(ge)},n.a.createElement("svg",{className:"va-top",width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.6626 3.80818L0.137764 5.67214C0.098073 5.72073 0.0965496 5.79214 0.137764 5.84247C0.184663 5.90011 0.269565 5.90864 0.326987 5.86152L2.19152 4.33654C2.09625 4.2517 2.00455 4.16547 1.91913 4.07999C1.82972 3.99062 1.74429 3.89951 1.6626 3.80818Z",fill:"white"}),n.a.createElement("path",{d:"M5.24699 0.751169C4.72563 0.229661 4.13657 -0.026323 3.93087 0.178755C3.92029 0.189396 2.84388 1.65763 2.30436 2.39336C1.95085 2.14141 1.63382 1.99397 1.42948 1.99413C1.35479 1.99413 1.29489 2.01361 1.25404 2.05483C1.02907 2.27941 1.44911 3.06354 2.19187 3.80631C2.79886 4.4133 3.43372 4.80501 3.7679 4.80501C3.84275 4.80501 3.90234 4.78533 3.94334 4.74433C4.09667 4.591 3.94976 4.17703 3.60516 3.69365C4.34112 3.15409 5.80884 2.07772 5.81921 2.06731C6.0247 1.86202 5.76836 1.27274 5.24699 0.751169Z",fill:"white"}))),dr(ge.slug)&&n.a.createElement(n.a.Fragment,null,"frame"===ge.slug&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"str-component__shape-inner strw-shape",style:this.getStylesForShapeInner(ge)}),n.a.createElement("style",null,ge.data.clipContent?".".concat(ge.slug,"_").concat(ge.id," {overflow: hidden;}"):"",".".concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i {\n                          position: relative !important;\n                          top: auto !important;\n                          left: auto !important;\n                          flex-shrink: 0;\n                        }\n\n                        .s-e__w-i__autolayout .s-e__w-i__autolayout  {\n                          overflow: hidden !important; \n                        }\n\n                        .").concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i__group {\n                          position: relative !important;\n                          top: 0 !important;\n                          left: 0 !important;\n                          flex-shrink: 0;\n                        }\n\n                        .").concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i__group.widget-clone__effects-preview {\n                          display: none;\n                        }\n\n                        ").concat("column"===(null===(u=ge.styles)||void 0===u||null===(g=u[t.name])||void 0===g?void 0:g.flexDirection)?".".concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i[yfill]:not(.s-e__w-i__autolayout), .").concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i__group[yfill]:not(.s-e__w-i__autolayout) {\n                          align-self: stretch;\n                          flex: 1 0 0;\n                          flex-shrink: none;\n                        }\n\n                        .").concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i__autolayout[yfill] {\n                          align-self: stretch;\n                          flex: 1 0 0;\n                        }\n                        "):"","\n\n                        ").concat("row"===(null===(_=ge.styles)||void 0===_||null===(f=_[t.name])||void 0===f?void 0:f.flexDirection)?".".concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i[xfill]:not(.s-e__w-i__autolayout), .").concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i__group[xfill]:not(.s-e__w-i__autolayout) {\n                          flex: 1 0 0;\n                          align-self: stretch;\n                        }\n\n                        .").concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout > .s-e__w-i__autolayout[xfill] {\n                          align-self: stretch;\n                          flex: 1 0 0;\n                        }\n                        "):"","\n\n                        .").concat(ge.slug,"_").concat(_e,' {background-image: url("').concat(ge.image_data||ge.data.image,'"); }\n                        .').concat(ge.slug,"_").concat(_e," > .strw-shape {background-image: ").concat(ge.data.fills_css,"}\n\n                        .").concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout {\n                          display: flex;\n                        }\n\n                        .").concat(ge.slug,"_").concat(ge.id,".s-e__w-i__autolayout .s-e__w-i__group:not(.s-e__w-i__group-frame) {\n                          top: 0 !important;\n                          left: 0 !important;\n                        }\n                      "))),n.a.createElement(Wt,{child:!0,getMaxParentGroupId:this.props.getMaxParentGroupId,parentIsFrame:"frame"===ge.slug,y:this.props.y,refreshChildrens:this.state.refreshChildrens,getComponentsInGroup:this.props.getComponentsInGroup,ArtboardComponents:this.props.ArtboardComponents,handleMouseOver:this.props.handleMouseOver,handleMouseOut:this.props.handleMouseOut,currentBlockJSON:this.props.currentBlockJSON,ComponentHelper:this.props.ComponentHelper,components:ge.children||[],currentDevice:t,currentBlock:this.props.currentBlock,removeComponentFromPage:this.props.removeComponentFromPage,handleChangeComponentProperties:this.props.handleChangeComponentProperties,setCurrentBlock:this.props.setCurrentBlock})),a&&n.a.createElement("style",null,".".concat(ge.slug,"_").concat(ge.id," {\n                    order: ").concat(o,";\n                  }")),"code"===ge.slug&&n.a.createElement("div",{className:"str-component__code-inner"},e("app.editor.code")),"text"===ge.slug&&n.a.createElement(n.a.Fragment,null,n.a.createElement("style",null,".".concat(ge.slug,"_").concat(_e," [contenteditable], .").concat(ge.slug,"_").concat(_e," [data-content] { display: table-cell; vertical-align: ").concat(null===(v=ge.data)||void 0===v?void 0:v.align,"; }"),".".concat(ge.slug,"_").concat(_e," {").concat("none"===(null===(w=ge.styles)||void 0===w||null===(C=w[t.name])||void 0===C?void 0:C.textShadow)?"text-shadow: 0px 0px #00000000 !important;":"","}")),n.a.createElement("style",{id:"component-style"},ge.data.hanging_lists&&'[data-content="true"] ol, [data-content="true"] ul { list-style-position: outside; }',ge.data.fills&&1===ge.data.fills.length&&"SOLID"===ge.data.fills[0].type?".".concat(ge.slug,"_").concat(_e," { color: rgba(").concat(255*ge.data.fills[0].color.r,", ").concat(255*ge.data.fills[0].color.g,", ").concat(255*ge.data.fills[0].color.b,", ").concat(ge.data.fills[0].opacity,")}"):".".concat(ge.slug,"_").concat(_e," {background-image: ").concat(ge.data.fills_css,"; -webkit-background-clip: text; -webkit-text-fill-color: transparent;}"),"`}"),n.a.createElement("div",{"data-content":"true",dangerouslySetInnerHTML:{__html:ge.data.content}}),ge.data.fills_hover_css&&n.a.createElement("style",{id:"component-style-hover"},ge.data.fills_hover&&1===ge.data.fills_hover.length&&"SOLID"===ge.data.fills_hover[0].type?".".concat(_e,"_hover { color: rgba(").concat(255*ge.data.fills_hover[0].color.r,", ").concat(255*ge.data.fills_hover[0].color.g,", ").concat(255*ge.data.fills_hover[0].color.b,", ").concat(ge.data.fills_hover[0].opacity,"); -webkit-text-fill-color: unset;background: none; -webkit-background-clip:initial;}"):".".concat(_e,"_hover {background-image: ").concat(ge.data.fills_hover_css,"; -webkit-background-clip: text; -webkit-text-fill-color: transparent;}"))),"rectangle"===ge.slug&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"str-component__shape-inner strw-shape",style:this.getStylesForShapeInner(ge)}),n.a.createElement("style",null,".".concat(ge.slug,"_").concat(_e," .strw-shape {background-image: ").concat(ge.data.fills_css,"}"),ge.data.use_image&&"#".concat(_e,",.").concat(ge.slug,"_").concat(_e,' {background-image: url("').concat(ge.image_data||ge.data.image,'"); }'),".".concat(_e,"_hover .strw-shape {opacity: 1; background-image: ").concat(ge.data.fills_hover_css,"}"))),"image"===ge.slug&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"str-component__shape-inner strw-shape",style:this.getStylesForImageInner(ge)}),n.a.createElement("style",null,".".concat(ge.slug,"_").concat(_e,' {background-image: url("').concat(ge.image_data||ge.data.image,'"); }'),".".concat(ge.slug,"_").concat(_e," .strw-shape {background-image: ").concat(ge.data.fills_css," }"))),"icon"===ge.slug&&n.a.createElement(n.a.Fragment,null,"none"===ge.data.icon_svg&&n.a.createElement("i",{style:this.getStylesForIcon(ge),className:"str-image__inner-icon material-icons ".concat(ge.data.icon_id)}),"none"!==ge.data.icon_svg&&n.a.createElement(n.a.Fragment,null,n.a.createElement("svg",{style:{filter:ge.data.boxShadow},className:"material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false"},null===(y=ge.data.fills)||void 0===y?void 0:y.map((e,t)=>n.a.createElement(De,{key:t},Object(Ze.a)(ge.data.icon_svg))),n.a.createElement("g",{id:"gradient-hover",dangerouslySetInnerHTML:{__html:Zt(ge.data.fills_hover,ge.id,parseFloat(null===(b=ge.styles)||void 0===b||null===(E=b[t.name])||void 0===E?void 0:E.width),parseFloat(null===(k=ge.styles)||void 0===k||null===(S=k[t.name])||void 0===S?void 0:S.height),!0)}}),n.a.createElement("g",{id:"gradient",dangerouslySetInnerHTML:{__html:Zt(ge.data.fills,ge.id,parseFloat(null===(x=ge.styles)||void 0===x||null===(N=x[t.name])||void 0===N?void 0:N.width),parseFloat(null===(B=ge.styles)||void 0===B||null===(F=B[t.name])||void 0===F?void 0:F.height))}}))),n.a.createElement("style",{id:"component-style"},".".concat(ge.slug,"_").concat(_e," i { background: ").concat(ge.data.fills_css,";-webkit-background-clip: text;-webkit-text-fill-color: transparent;}")),n.a.createElement("style",null,ge.data.colored?"":null===(A=ge.data.fills)||void 0===A?void 0:A.map((e,t)=>".".concat(ge.slug,"_").concat(_e," svg > svg:nth-child(").concat(ge.data.fills.length-t,") path { fill: url(#gradient-").concat(ge.id,"-").concat(t,"); }")).join(""),ge.data.colored?"":null===(L=ge.data.fills)||void 0===L?void 0:L.map((e,t)=>".".concat(ge.slug,"_").concat(_e," svg > path:nth-child(").concat(ge.data.fills.length-t,") { fill: url(#gradient-").concat(ge.id,"-").concat(t,"); }")).join(""),ge.data.colored?"":null===(O=ge.data.fills_hover)||void 0===O?void 0:O.map((e,t)=>".".concat(_e,"_hover svg > svg:nth-child(").concat(ge.data.fills_hover.length-t,") path { fill: url(#gradient-hover-").concat(ge.id,"-").concat(t,"); }")).join(""),ge.data.fills_hover_css?".".concat(_e,"_hover #gradient stop { stop-color: transparent !important; }"):""),n.a.createElement("style",{id:"component-style-hover"},".".concat(_e,"_hover i { background: ").concat(ge.data.fills_hover_css,";-webkit-background-clip: text;-webkit-text-fill-color: transparent;}"))),"button"===ge.slug&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"str-button__inner"},ge.data.with_icon&&n.a.createElement(n.a.Fragment,null,!ge.data.icon_svg&&n.a.createElement("i",{style:{marginRight:ge.data.icon_margin_right,marginTop:ge.data.icon_margin_top,fontSize:ge.data.icon_width},className:"str-button__inner-icon material-icons ".concat(ge.data.icon_id)}),ge.data.icon_svg&&n.a.createElement("svg",{style:{marginRight:ge.data.icon_margin_right,marginTop:ge.data.icon_margin_top,width:ge.data.icon_width},className:"material-icons material-icons_svg material-icons_svg_top",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:ge.data.icon_svg}})),n.a.createElement("span",{className:"str-button__inner-value"},ge.blocked&&n.a.createElement(Ve.a,{contenteditable:"true",value:ge.data.value,onChange:this.updateButtonText,config:this.CKEditorConfig(ge)}),!ge.blocked&&n.a.createElement("div",{"data-content":"true",dangerouslySetInnerHTML:{__html:ge.data.value}})),n.a.createElement("style",null,".".concat(ge.slug,"_").concat(_e," .str-button__inner-value {\n                        text-decoration: ").concat(null===(D=ge.styles)||void 0===D||null===(M=D[t.name])||void 0===M?void 0:M.textDecoration,"\n                      }"),".button_".concat(_e," {\n                        background-image: ").concat(ge.data.fills_css,";\n                      }"),".".concat(_e,"_hover {\n                        border: ").concat(null===(P=ge.styles)||void 0===P||null===(I=P[t.name])||void 0===I?void 0:I.border_hover," !important;\n                        background-image: ").concat(ge.data.fills_hover_css,";\n                        color: ").concat(null===(T=ge.styles)||void 0===T||null===(R=T[t.name])||void 0===R?void 0:R.color_hover," !important;\n                        font-family: ").concat((null===(j=ge.styles)||void 0===j||null===(G=j[t.name])||void 0===G?void 0:G.fontFamily_hover)?null===(H=ge.styles)||void 0===H||null===(U=H[t.name])||void 0===U?void 0:U.fontFamily_hover:""," !important;\n                        font-weight: ").concat((null===(Z=ge.styles)||void 0===Z||null===(z=Z[t.name])||void 0===z?void 0:z.fontWeight_hover)?null===(V=ge.styles)||void 0===V||null===(W=V[t.name])||void 0===W?void 0:W.fontWeight_hover:""," !important;\n                        font-size: ").concat((null===(q=ge.styles)||void 0===q||null===(K=q[t.name])||void 0===K?void 0:K.fontSize_hover)?null===(Y=ge.styles)||void 0===Y||null===(J=Y[t.name])||void 0===J?void 0:J.fontSize_hover:""," !important;\n                        letter-spacing: ").concat((null===(X=ge.styles)||void 0===X||null===(Q=X[t.name])||void 0===Q?void 0:Q.letterSpacing_hover)?null===($=ge.styles)||void 0===$||null===(ee=$[t.name])||void 0===ee?void 0:ee.letterSpacing_hover:""," !important;\n                        justify-content: ").concat((null===(te=ge.styles)||void 0===te||null===(ae=te[t.name])||void 0===ae?void 0:ae.justifyContent_hover)?null===(se=ge.styles)||void 0===se||null===(ne=se[t.name])||void 0===ne?void 0:ne.justifyContent_hover:""," !important;\n                        text-shadow: ").concat((null===(oe=ge.styles)||void 0===oe||null===(ie=oe[t.name])||void 0===ie?void 0:ie.textShadow_hover)?null===(re=ge.styles)||void 0===re||null===(le=re[t.name])||void 0===le?void 0:le.textShadow_hover:""," !important;\n                      }")))),"video"===ge.slug&&n.a.createElement("div",{style:this.getStylesForVideoInner(ge),className:"section-editor__widgets__video strw-video"},n.a.createElement("div",{className:"section-editor__widgets__video-overlay"}),""===ge.data.thumbnail&&"youtube"===ge.data.type&&n.a.createElement(Re.a,{url:ge.data.video,controls:ge.data.show_info,muted:ge.data.mute,loop:ge.data.loop,width:"100%",height:"100%",style:{position:"absolute"}}),""===ge.data.thumbnail&&"file"===ge.data.type&&n.a.createElement("video",Object.assign({},ge.data.controls?{controls:!0}:{},{className:"siter-video__file",width:"100%",height:"100%"}),n.a.createElement("source",{src:ge.data.video_url,type:"video/mp4"})),(""===ge.data.video||""!==ge.data.thumbnail)&&n.a.createElement("div",{className:"strw-video__preview-image"},n.a.createElement("div",{className:"strw-video__preview-image__play-icon"},!ge.data.icon_svg&&n.a.createElement("i",{style:{fontSize:ge.data.icon_width},className:"strw-video__preview-image__play-icon__svg material-icons ".concat(ge.data.icon_id)}),ge.data.icon_svg&&n.a.createElement("svg",{style:{width:ge.data.icon_width},className:"strw-video__preview-image__play-icon__svg material-icons material-icons_svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:ge.data.icon_svg}}))),n.a.createElement("style",null,".".concat(ge.slug,"_").concat(_e," .strw-video__preview-image:before { background-image: linear-gradient(").concat(ge.data.overlay.bg_color_angle,", ").concat(ge.data.overlay.bg_color_stop,", ").concat(ge.data.overlay.bg_color_start,")}")),n.a.createElement("style",null,".".concat(_e,"_hover svg { width: ").concat(ge.data.icon_width_hover," !important; color: ").concat(null===(ce=ge.styles)||void 0===ce||null===(pe=ce[t.name])||void 0===pe?void 0:pe.color_hover," !important; } .").concat(_e,"_hover i { font-size: ").concat(ge.data.icon_width_hover," !important; color: ").concat(null===(de=ge.styles)||void 0===de||null===(he=de[t.name])||void 0===he?void 0:he.color_hover," !important;  }"))),"map"===ge.slug&&n.a.createElement($e,{currentBlock:this.props.currentBlock,handleChangeComponentProperties:this.props.handleChangeComponentProperties,component:ge,isSearchBoxShown:ge.blocked||ge.isSearchBoxShown,isDirectionsInputsShown:"directions"===ge.data.mode&&ge.blocked||ge.isDirectionsInputsShown,controls:ge.data.controls,zoomOnScroll:ge.data.zoom_on_scroll,componentId:ge.id,lat:ge.data.lat,lng:ge.data.lng,zoom:ge.data.zoom,travel_mode:ge.data.travel_mode,mode:ge.data.mode,markers:ge.data.markers,mapRefs:this.state.mapRefs,updateMapRefs:this.updateMapRefs,directionOrigin:ge.data.direction_origin,directionDestination:ge.data.direction_destination,mapStyles:ge.data.map_styles}),"form"===ge.slug&&n.a.createElement(tt,{id:ge.id,deviceName:t.name,buttonStyles:ge.data.button_styles,buttonGradient:ge.data.button_fills_css,buttonGradientHover:ge.data.button_fills_hover_css,fieldsGradient:ge.data.fields_fills_css,fieldsGradientHover:ge.data.fields_fills_hover_css,fieldStyles:ge.data.form_fields_styles,data:ge.data,design:ge.data.form_type,theme:ge.data.form_theme,showFieldsLabel:!1,fields:ge.data.form_fields,buttonText:ge.data.button_value,formFieldsMargin:"res375"===t.name?ge.data.form_fields_margin_mobile:ge.data.form_fields_margin,mobileOnlyVertical:ge.data.mobile_only_vertical,refreshChildrens:this.state.refreshChildrens,update:this.props.currentBlock.handleChangeProperties}),"slider"===ge.slug&&n.a.createElement(n.a.Fragment,null,ge.data.images&&0===ge.data.images.length&&n.a.createElement("div",{className:"section-editor__widgets-overlay"},n.a.createElement("svg",{className:"section-editor__widgets-overlay__svg",width:"66px",height:"66px",viewBox:"0 0 66 66",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.a.createElement("g",{id:"01",transform:"translate(-557.000000, -493.000000)",fill:"#F2F4F8"},n.a.createElement("g",{id:"Group-2",transform:"translate(371.000000, 356.000000)"},n.a.createElement("g",{id:"icon",transform:"translate(186.000000, 137.000000)"},n.a.createElement("path",{d:"M66,48 L66,6 C66,2.7 63.3,0 60,0 L18,0 C14.7,0 12,2.7 12,6 L12,48 C12,51.3 14.7,54 18,54 L60,54 C63.3,54 66,51.3 66,48 L66,48 Z M35.1880083,38.661893 C35.8638703,39.5308585 36.9905677,39.5512542 37.702039,38.7104245 L46.117083,28.7653724 C46.4747553,28.3426689 47.0316362,28.3490627 47.371456,28.7934425 L57.7821018,42.4073639 C58.4547284,43.2869525 58.1001019,44 56.9990334,44 L21.4715548,44 C20.3664515,44 20.0493913,43.3159601 20.7608625,42.4751304 L29.1759066,32.5300783 C29.5335788,32.1073748 30.0982299,32.1178922 30.4315257,32.5464154 L35.1880083,38.661893 Z M29,23 C25.1340068,23 22,19.8659932 22,16 C22,12.1340068 25.1340068,9 29,9 C32.8659932,9 36,12.1340068 36,16 C36,19.8659932 32.8659932,23 29,23 Z M0,60 C0,63.3 2.7,66 6,66 L52,66 C53.1045695,66 54,65.1045695 54,64 L54,62 C54,60.8954305 53.1045695,60 52,60 L8,60 C6.8954305,60 6,59.1045695 6,58 L6,14 C6,12.8954305 5.1045695,12 4,12 L2,12 C0.8954305,12 -1.3527075e-16,12.8954305 0,14 L0,60 Z",id:"Shape"}))))))),ge.data.images&&ge.data.images.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Ge.a,this.sliderParams(ge.id,ge.data),ge.data.images.map((e,t)=>!e.disabled&&n.a.createElement("div",{key:t},"image"===e.type&&n.a.createElement("div",{className:"str-slider__slide str-slider__slide-"+t,style:{backgroundImage:"url(".concat(e.image,")")}}),"video"===e.type&&n.a.createElement("div",{className:"str-slider__slide str-slider__slide-"+t},n.a.createElement("div",{className:"section-editor__widgets__video-overlay"}),""===e.video_thumbnail&&"youtube"===e.video_type&&n.a.createElement(Re.a,{url:e.video,controls:e.show_info,muted:e.mute,loop:e.loop,width:"100%",height:"100%",style:{position:"absolute"}}),""===e.video_thumbnail&&"file"===e.video_type&&n.a.createElement("video",Object.assign({},e.controls?{controls:!0}:{},{ref:"videoref",id:"video-"+t,className:"siter-video__file",width:"100%",height:"100%"}),n.a.createElement("source",{src:e.video_file_url,type:"video/mp4"})),(""===e.video||""!==e.video_thumbnail)&&n.a.createElement("div",{className:"strw-video__preview-image"},n.a.createElement("div",{className:"strw-video__preview-image__play-icon"},!e.icon_svg&&n.a.createElement("i",{style:{fontSize:e.icon_width},className:"strw-video__preview-image__play-icon__svg material-icons ".concat(e.icon_id)}),e.icon_svg&&n.a.createElement("svg",{style:{width:e.icon_width},className:"strw-video__preview-image__play-icon__svg material-icons material-icons_svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:e.icon_svg}})),n.a.createElement("style",null,".".concat(ge.slug,"_").concat(_e," .str-slider__slide-").concat(t," { background-image: url(").concat(e.video_thumbnail,"); transform: translate(0%);}")),n.a.createElement("style",null,".".concat(ge.slug,"_").concat(_e," .str-slider__slide-").concat(t," .strw-video__preview-image:before { background-image: linear-gradient(").concat(e.bg_color_angle,", ").concat(e.bg_color_stop,", ").concat(e.bg_color_start,")}")),n.a.createElement("style",null,".".concat(ge.slug,"_").concat(_e," .str-slider__slide-").concat(t," svg { width: ").concat(e.icon_width," !important; color: ").concat(e.icon_color," !important; } .").concat(ge.slug,"_").concat(_e," .str-slider__slide-").concat(t," i { font-size: ").concat(e.icon_width," !important; color: ").concat(e.icon_color," !important;  }")))),"caption"===ge.data.mode&&n.a.createElement("div",{className:"str-slider__slide-caption",style:ge.data.caption_settings},ge.blocked&&n.a.createElement(Ve.a,{contenteditable:"true",value:e.caption,onChange:e=>{this.updateSliderCaption(e,t)},config:this.CKEditorConfig(ge)}),!ge.blocked&&n.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.caption}}))))),n.a.createElement("style",{id:"slider-".concat(ge.id)},"#".concat(_e," .swiper-container {  transform: ").concat(null===(me=ge.styles)||void 0===me||null===(ue=me[t.name])||void 0===ue?void 0:ue.transform,"; background: ").concat(ge.data.background,"; }"),"#".concat(_e," .swiper-pagination-bullet { color: ").concat(ge.data.dots,"; }"),"#".concat(_e," .swiper-pagination { transform: translate(-50%, ").concat(ge.data.dots_margin_top,") !important; }"),"#".concat(_e," .swiper-pagination-bullet:hover { color: ").concat(ge.data.dots_hover,"; }"),"#".concat(_e," .swiper-pagination-bullet-active { color: ").concat(ge.data.dots_active,"; }"),"#".concat(_e," .swiper-button-next { transform: scale(").concat(ge.data.arrows_icon_scale,") rotate(180deg) translateX(").concat(-parseFloat(ge.data.arrows_margin,10),"px) !important; }"),"#".concat(_e," .swiper-button-prev { transform: scale(").concat(ge.data.arrows_icon_scale,") translateX(").concat(-parseFloat(ge.data.arrows_margin,10),"px) !important; }"),"#".concat(_e," .swiper-button-next:hover { color: ").concat(ge.data.arrows_hover," !important; }"),"#".concat(_e," .swiper-button-prev:hover { color: ").concat(ge.data.arrows_hover," !important; }"),"#".concat(_e," .swiper-container__mode-classic.swiper-container__dots-in .swiper-pagination { background-color: ").concat(ge.data.dots_bg,"; }"))))))}))}}const Vt={createPageComponentRequest:B.a};var Wt=Object(o.b)(e=>({user:e.sessions}),Vt)(Object(j.a)()(zt)),qt=a(6),Kt=a(31),Yt=a.n(Kt),Jt=a(43);const Xt=a(86).v4;class Qt extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={styles:{}},this.componentsStore=[],this.lastKeyDownAt=(new Date).getTime(),this.changeWidgetPosition=e=>{if(e.preventDefault(),!this.props.spacePressed&&!this.props.versionHistoryMode&&!this.props.currentBlock.isLayout){let t=this.props.currentBlock.json.slice(0),a=[];t=this.props.ComponentHelper.processComponentsWithFrames(t);for(let e of t){const t=this.props.ComponentHelper.Y.one("#".concat(e.id));a.push(t&&this.props.isMasterDependingComponentItem(t))}if(a.filter(e=>!1===e).length===a.length){if((new Date).getTime()>=this.lastKeyDownAt+10){const a=[];t.forEach(t=>{let s=1;const{top:n,left:o}=t.styles[this.props.currentDevice.name];e.shiftKey&&(s=10),"ArrowDown"===e.key&&a.push({top:"".concat(parseInt(n,10)+s,"px")}),"ArrowUp"===e.key&&a.push({top:"".concat(parseInt(n,10)-s,"px")}),"ArrowLeft"===e.key&&a.push({left:"".concat(parseInt(o,10)-s,"px")}),"ArrowRight"===e.key&&a.push({left:"".concat(parseInt(o,10)+s,"px")})}),this.props.currentBlock.handleChangeStyles(a),this.lastKeyDownAt=(new Date).getTime()}clearTimeout(this.timeout),clearTimeout(this.timeout2),this.timeout2=setTimeout(()=>{this.props.ComponentHelper.Magnets.smartGuides.defineElementPositions()});let a=this.props.ComponentHelper.getCommonNode(this.props.y.one("#".concat(this.props.currentBlock.json[0].id)));this.props.ComponentHelper.Magnets.addSmartGuides(a,1),this.timeout=setTimeout(()=>{this.props.ComponentHelper.Magnets.smartGuides.clear()},1e3)}}},this.setCurrentBlock=(e,t)=>{this.props.lassoInserted||this.props.setCurrentBlock(e,t)},this.getHoverTarget=e=>"rectangle"===e.slug||"image"===e.slug?document.getElementById(e.id).querySelector(".str-component__shape-inner"):document.getElementById(e.id),this.shiftComponent=e=>{for(const t of Object.keys(e.styles))e.styles[t]&&Object.assign(e.styles[t],{left:"".concat(parseInt(e.styles[t].left,10)+10,"px"),top:"".concat(parseInt(e.styles[t].top,10)+10,"px")});return e},this.onCopy=e=>{var t,a;const s=document.activeElement.classList.contains("ace_text-input"),n=(null===(t=e.target)||void 0===t?void 0:t.classList.contains("cke_editable"))||c()(e.target).parents(".cke_editable").length>0;if("input"!==(null===(a=e.target)||void 0===a?void 0:a.tagName.toLowerCase())&&!s&&!n||e.metaKey){var o,i;e.clipboardData&&e.clipboardData.setData("text/plain",""),e.preventDefault();const t=document.querySelector(".effects-popup");let a=this.props.getSelectedTreeNodes();if((window.hasOwnProperty("effectIndex")||t)&&(null===(o=a[0])||void 0===o||null===(i=o.node.data.effects[window.currentDeviceName])||void 0===i?void 0:i.length)>0){var r;Yt.a.setItem("componentsStore",Object(Jt.stringify)([])),Yt.a.setItem("groupsStore",Object(Jt.stringify)([])),Yt.a.setItem("sortedComponents",Object(Jt.stringify)([])),Yt.a.setItem("groupsStore",Object(Jt.stringify)([]));let e=null===(r=a[0])||void 0===r?void 0:r.node.data.effects[window.currentDeviceName][parseFloat(window.hasOwnProperty("effectIndex")?window.effectIndex:t.dataset.effectIndex)];e&&(e.id="ef-"+Xt(),Yt.a.setItem("effect",Object(Jt.stringify)(e)),delete window.effectIndex)}else Yt.a.removeItem("effect"),this.handleCopyComponents(e)}},this.handleCopyComponents=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(localStorage.setItem("fromPageId",e.props.pageId),Array.isArray(e.props.currentBlock.json)){const t=JSON.parse(JSON.stringify(e.props.currentBlock)),s=t.json;Yt.a.setItem("componentsStore",Object(Jt.stringify)(s,{fullPrecisionFloats:!0}),()=>{Yt.a.setItem("groupsStore",Object(Jt.stringify)([]),()=>{Yt.a.setItem("sortedComponents",Object(Jt.stringify)([]),()=>{Yt.a.getItem("groupsStore",(n,o)=>{let i=o?Object(Jt.parse)(o):[];Yt.a.getItem("sortedComponents",(n,o)=>{const r=o?Object(Jt.parse)(o):[];for(const a of s)if(a.group_id){let s=e.props.searchTree({children:e.props.components},t.group_ids,!0);for(const t of s)if(t&&t.children&&Object.values(t.children).filter(e=>e.id===a.group_id).length>0){let t;e.props.y.all("[data-component-id='".concat(a.group_id,"']")).each(e=>{e.component&&(t=e.component)}),t&&i.push(t)}}const l=t.group_ids;let c=[];l.forEach(t=>{e.props.y.all("[data-component-id='".concat(t,"']")).each(e=>{e.component&&c.push(e.component)})}),i=Ie()(i.concat(c),"id"),Yt.a.setItem("groupsStore",Object(Jt.stringify)(i,{fullPrecisionFloats:!0}),()=>{const t=JSON.parse(JSON.stringify(s.concat(i)));e.props.y.all("[data-component-id]:not(.widget-clone)").each(e=>{if(e.component){const a=t.find(t=>t.id===e.component.id);a&&r.push(a)}}),Yt.a.setItem("sortedComponents",Object(Jt.stringify)(r,{fullPrecisionFloats:!0}),a)})})})})})})}},this.removeDeletedComponentsFromStore=e=>{Yt.a.getItem("componentsStore",(t,a)=>{let s=a?Object(Jt.parse)(a):[];if(s){let t=0;for(let e of s)this.props.y.one("#".concat(e.id))||s.splice(t,1),t++;Yt.a.setItem("componentsStore",Object(Jt.stringify)(s,{fullPrecisionFloats:!0}),e)}})},this.onPaste=e=>{const t=e=>{Yt.a.getItem("effect",(t,a)=>{let s=this.props.getSelectedTreeNodes();if(a&&(null===s||void 0===s?void 0:s.length)>0){a=Object(Jt.parse)(a);let e=s[0].node.data.effects;if(e)e=Object.assign({},s[0].node.data.effects);else{e={};for(const t of window.devices)e[t.name]=[]}for(const t of Object.keys(e)){const s=e[t].find(e=>e.name===a.name);if(s){const n=e[t].indexOf(s);e[t]=e[t].slice(0),e[t][n]=Object.assign({},s,a)}else e[t].push(a)}this.props.handleChangeComponentProperties(s[0].node,{data:Object.assign(s[0].node.data,{effects:e})})}else this.handleInsertComponents(e)})},a="BODY"===document.activeElement.tagName||document.activeElement.classList.contains("ReactVirtualized__Grid");let s=e.clipboardData.items,n=e.clipboardData.items.length;if(Object(qt.p)()){let o=0;for(const i of s)i.getAsString(i=>{0===i.length&&n--,o===s.length&&!e.clipboardData.getData("Text")&&0===n&&e.clipboardData.files&&0===e.clipboardData.files.length&&a&&t(e)}),o++}else{let s=e.clipboardData.getData("Text");const o=""===s.toLowerCase()&&Object(qt.o)();(!s&&0===n&&e.clipboardData.files&&0===e.clipboardData.files.length||o)&&a&&t(e)}},this.handleAddFont=e=>{const t=e.filter(e=>e),a=[...this.props.installedFonts],s=t.filter(e=>!a.some(t=>t.family===e.family));if(s.length>0){const e=[...a,...s],t=new CustomEvent("siter.fontadd",{detail:{updatedFonts:e}});window.dispatchEvent(t),window.changeSiteFonts(e),this.props.updateSiteRequest({id:window.siteId,fonts:e})}},this.handleInsertComponents=function(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;if(e.props.versionHistoryMode)return;let r=e.props.getSelectedTreeNodes();const l=localStorage.getItem("fromPageId"),p=()=>{Yt.a.getItem("componentsStore",(p,d)=>{const h=d?Object(Jt.parse)(d):[];Yt.a.getItem("groupsStore",(p,d)=>{const m=d?Object(Jt.parse)(d):[];let u=[],g=[];if(h.length>0){t.preventDefault(),t.stopPropagation();const p={templates:h.concat(m)};for(let{id:t}of p.templates)e.props.getComponentTreeInfo(t,e=>{e.depth=e.path.length-1,g.push(e)});g=Object(qt.v)(g),e.props.createPageComponentRequest(p,t=>{const p=[],d=[];Yt.a.getItem("sortedComponents",(h,_)=>{const f=_?Object(Jt.parse)(_):[];for(let e of f){const a=t.find(t=>t.template_id===e.id);a&&(dr(a.slug)?p.push(a):d.push(a))}if(m.forEach(e=>{const a=e.data.stored_components,s=[];a.forEach(e=>{const a=t.find(t=>t.template_id===e);a&&s.push(a.id)});for(const t of p)if(t.template_id===e.id){t.data.stored_components=s;for(let e of s){d.concat(p).find(t=>t.id===e).group_id=t.id}}}),n){for(const t of d){const a=f.find(e=>e.id===t.template_id);if(a){let s=f.find(e=>e.id===a.group_id),n=e.props.y.one("#".concat(a.group_id));!s&&n&&(s=n.component),s&&a&&(p.find(e=>e.template_id===s.id)||(e.props.handleChangeComponentProperties(s,{data:{...s.data,stored_components:s.data.stored_components.concat([t.id])}}),u.push(s)))}}for(const t of p){const a=f.find(e=>e.id===t.template_id);if(a){let s=f.find(e=>e.id===a.group_id),n=e.props.y.one("#".concat(a.group_id));!s&&n&&(s=n.component),s&&a&&(p.find(e=>e.template_id===s.id)||(e.props.handleChangeComponentProperties(s,{data:{...s.data,stored_components:s.data.stored_components.concat([t.id])}}),u.push(s)))}}}const v=d.concat(p);let w=[];for(let e of f){const t=v.find(t=>t.template_id===e.id);t&&w.push(t)}for(let t of w)a&&!dr(t.slug)&&(t=e.shiftComponent(t)),dr(t.slug)&&t.expanded&&delete t.expanded;let C=g.sort((e,t)=>e.depth-t.depth).sort((e,t)=>e.treeIndex-t.treeIndex),b=JSON.parse(JSON.stringify(C)).reverse(),E=r.sort((e,t)=>t.depth-e.depth).sort((e,t)=>t.treeIndex-e.treeIndex),k={treeIndex:0,depth:0},S=void 0;if(b.length>0&&(k={treeIndex:b[0].treeIndex,depth:b[0].depth,group_id:void 0}),E.length>0){let{treeIndex:e,depth:t,node:a}=E[0];S=E[0],k.treeIndex=e,k.depth=t,k.group_id=a.group_id}let x=[],N=void 0;for(let t of w){if(k.group_id&&(N=k.group_id),n){const a=i.find(e=>e.id===t.template_id);if(a){const s=i.indexOf(a);s>-1&&(t.styles[e.props.currentDevice.name]=Object.assign({},t.styles[e.props.currentDevice.name],o[s]))}}if(S&&e.isMainMasterComponent(S.node)&&("master_component"!==S.node.group_type||S.node.main_master_component_id)&&delete t.main_master_component_id,l&&l===e.props.pageId)x.unshift({node:t,treeIndex:k.treeIndex+1,depth:k.depth});else{let e=k.treeIndex;E.length>0&&(e+=1),x.unshift({node:t,treeIndex:e,depth:k.depth})}}let B=e.addComponentsIdsToGroup(N,w);e.setMainMasterComponentId(x),e.insertDependingComponents(x,S,n,o,i);for(let e of Object.keys(B)){let t=B[e],a=x.find(e=>{let{node:a}=e;return a.id===t.id});a&&t.group_id&&(a.node.group_id=t.group_id)}let F=[];if(y({treeData:B,getNodeKey:e=>{let{node:t}=e;return t.id},callback:e=>{let t=x.find(t=>t.node.id===e.node.id);t&&(e.node.main_master_component_id=t.node.main_master_component_id,e.node.main_master_component_page_id=t.node.main_master_component_page_id,e.node.page_id=window.pageId,Object.keys(B).indexOf(e.node.id)>-1&&(e.treeIndex+=t.treeIndex,e.depth=t.depth,delete e.node.template_id,F.push(e)))},ignoreCollapsed:!1}),x.filter(e=>0===e.treeIndex).length===x.length)for(let e of F)e.treeIndex+=1e3;if(e.props.addComponentsToPageAsTreeNode(F,!0,!1,()=>{let t=[];x.forEach(e=>{let{node:a}=e;t=t.concat(a.fonts)}),e.handleAddFont(t),e.props.handleSaveComponents(w.concat(u),()=>{},[],!0,!0)},!1,!1,n?void 0:S),a&&(e.props.setLayoutAsCurrentBlock(),v.length>0)){window.hoveredTarget=v[0];let t=[];for(const a of Object.keys(B)){let s=B[a];if(s.lock||!e.visible(s)||dr(s.slug)||e.props.setCurrentBlock(s,{shiftKey:!0,onInsert:!0,target:{className:""}},!0),dr(s.slug)){c()("#".concat(s.id)).parents(".s-e__w-i__group_lock").length>0||t.push(s)}}e.props.setCurrentGroup(t,!0,!1,!0),setTimeout(()=>{window.setTransformator(v[0])})}s()})})}})})};l&&l===e.props.pageId?e.removeDeletedComponentsFromStore(p):p()},this.addComponentsIdsToGroup=(e,t)=>{let a=this.props.componentsFlatToTree(t);if(e){let t=this.props.searchTree({children:this.props.components},e);t&&this.props.handleChangeComponentProperties(t,{data:{...t.data,stored_components:t.data.stored_components.concat(Object.keys(a))}},void 0,void 0,void 0,!0)}for(let s of Object.keys(a))void 0!==e&&(a[s].group_id=e);return a},this.addComponentsIdsToGroupBatch=(e,t)=>{let a=[],s=[],n=0;for(let o of e){if(o){let{component:e}=this.props.y.one("#".concat(o));if(e){let o=this.props.componentsFlatToTree(t[n]);a.push(e),s.push({data:{...e.data,stored_components:e.data.stored_components.concat(o.map(e=>{let{id:t}=e;return t}))}})}}n++}a.length>0&&window.handleChangeComponentsProperties(a,s,void 0,void 0,void 0,!0)},this.isMasterComponentOrChild=(e,t)=>{let a=e.node;if("master_component"===a.group_type&&!a.main_master_component_id)return!0;if(a.group_id){let e=t.find(e=>e.node.id===a.group_id);if(e)return this.isMasterComponentOrChild(e,t)}},this.isMainMasterComponent=e=>{let{group_id:t,group_type:a,main_master_component_id:s,slug:n,id:o}=e;return dr(n)&&"master_component"===a&&!s&&o||this.getMaxParentMainMasterComponentId(t)},this.getMaxParentMainMasterComponentId=e=>{const t=document.querySelector("[data-component-id='".concat(CSS.escape(e),"']"));if(t){const a=this.props.searchTree({children:this.props.components},e);if(a)return"master_component"!==a.group_type||a.main_master_component_id?this.getMaxParentMainMasterComponentId(t.dataset.componentGroupId):e}},this.isMasterComponent=e=>{let{data:t,group_id:a,group_type:s,slug:n,id:o}=e;return dr(n)&&"master_component"===s&&o||this.getMaxParentMasterComponentId(a)},this.getMaxParentMasterComponentId=e=>{const t=document.querySelector("[data-component-id='".concat(CSS.escape(e),"']"));if(t){const a=this.props.searchTree({children:this.props.components},e);if(a)return"master_component"===a.group_type?e:this.getMaxParentMasterComponentId(t.dataset.componentGroupId)}},this.insertDependingComponents=function(t,a,s,n,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:()=>{},p=[];if(a){const d=e.isMainMasterComponent(a.node);if(d&&("master_component"!==a.node.group_type||a.node.main_master_component_id)||l){const{node:h}=a,m=e.props.searchTree({children:e.props.components},d);let u=e.props.ComponentHelper.getCommonNodeFromGroup(m,void 0,l?t.map(e=>{let{node:t}=e;return t.id}):[]);e.props.y.all("[data-main-master-component-id='".concat(h.id,"']:not(.widget-clone)")).each(a=>{let{component:d}=a;e.props.getComponentTreeInfo(d.id,a=>{a.depth=a.path.length-1;const h=e.isMasterComponent(d),m=e.props.ComponentHelper.Y.one("[data-component-id='".concat(h,"']:not(.widget-clone)"));if(m){const d=m.component,g=e.props.ComponentHelper.getCommonNodeFromGroup(d,!0),_=e.props.ComponentHelper.getCommonNodeFromGroupByProps(d),f=g.get("offsetWidth")/u.get("offsetWidth"),v=g.get("offsetHeight")/u.get("offsetHeight");let w=JSON.stringify(t),C=0;for(const e of t){const t=new RegExp("".concat(e.node.id),"g");w=w.replace(t,Xt())}w=JSON.parse(w);for(const i of t){Object.assign(w[C],{treeIndex:a.treeIndex+r,depth:a.depth});let t=i.node.template_id,c=e.props.y.one("[data-component-id='".concat(h,"'] [data-main-master-component-id='").concat(t,"']:not(.widget-clone)"));if(w[C].node.main_master_component_id=i.node.id,w[C].node.main_master_component_page_id=i.node.page_id,l&&!dr(i.node.slug)){const t=e.props.y.one("#".concat(i.node.id)).get("offsetLeft")-u.get("offsetLeft"),a=e.props.y.one("#".concat(i.node.id)).get("offsetTop")-u.get("offsetTop");w[C].node.styles[e.props.currentDevice.name].left="".concat(_.left+t,"px"),w[C].node.styles[e.props.currentDevice.name].top="".concat(_.top+a,"px")}if(c&&(w[C].node.template_id=c.getAttribute("id")),"%"!==w[C].node.width_unit&&!dr(i.node.slug)){const t=(parseFloat(w[C].node.styles[e.props.currentDevice.name].left)-_.left)/_.width,a=(parseFloat(w[C].node.styles[e.props.currentDevice.name].top)-_.top)/_.height;Object.assign(w[C].node.styles[e.props.currentDevice.name],{width:parseFloat(w[C].node.styles[e.props.currentDevice.name].width)*f+"px",height:parseFloat(w[C].node.styles[e.props.currentDevice.name].height)*v+"px",left:_.left+parseFloat(_.width)*f*t+"px",top:_.top+parseFloat(_.height)*v*a+"px"})}if(s){let t=w[C].node;const a=o.find(e=>e.id===t.template_id);if(a){const s=o.indexOf(a);s>-1&&(t.styles[e.props.currentDevice.name]=Object.assign({},t.styles[e.props.currentDevice.name],n[s]))}}p.push(w[C].node),C++}if(l)c(w,a,p,e.props.handleSaveComponents);else{const t=e.addComponentsIdsToGroup(a.node.group_id,w.map(e=>{let{node:t}=e;return t}));let n=[];for(let e of Object.keys(t)){let a=t[e],s=w.find(e=>e.node.id===a.id);delete a.template_id,n.push({node:a,depth:s.depth,treeIndex:s.treeIndex})}e.props.addComponentsToPageAsTreeNode(n,!0,!1,void 0,!1,!1,s?void 0:a,i),l||e.props.handleSaveComponents(n.map(e=>e.node),()=>{},[],!0,!0)}}})})}}},this.handleDuplicate=e=>{e.preventDefault(),this.props.versionHistoryMode||(e.metaKey||e.ctrlKey)&&this.handleCopyComponents({metaKey:!0,preventDefault:()=>{}},()=>{this.handleInsertComponents({preventDefault:()=>{},stopPropagation:()=>{}})})},this.setMainMasterComponentId=e=>{for(let t of e)this.isMasterComponentOrChild(t,e)&&(t.node.main_master_component_id=t.node.template_id,t.node.main_master_component_page_id=t.node.page_id,t.node.page_id=window.pageId)},this.onDeleteKeyPressed=()=>{window.disableRemoveComponent||this.props.handleRemoveWidgets();const e=new Event("siter.remove");document.dispatchEvent(e)},this.visible=e=>e.styles[this.props.currentDevice.name].display&&"none"!==e.styles[this.props.currentDevice.name].display||!e.styles[this.props.currentDevice.name].display}componentDidMount(){window.addEventListener("paste",this.onPaste),window.addEventListener("copy",this.onCopy)}componentWillUnmount(){window.removeEventListener("paste",this.onPaste),window.removeEventListener("copy",this.onCopy)}componentWillMount(){var e=this;window.ArtBoardComponents=this,window.insertDependingComponents=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e.insertDependingComponents.call(e,...a)}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"section-editor__widgets"},n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"ArrowDown",onKeyHandle:this.changeWidgetPosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"ArrowUp",onKeyHandle:this.changeWidgetPosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"ArrowLeft",onKeyHandle:this.changeWidgetPosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"ArrowRight",onKeyHandle:this.changeWidgetPosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"a",onKeyHandle:this.props.selectAllComponents}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"d",onKeyHandle:this.handleDuplicate}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"Delete",onKeyHandle:this.onDeleteKeyPressed}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"Backspace",onKeyHandle:this.onDeleteKeyPressed}),n.a.createElement(Wt,{y:this.props.y,getMaxParentGroupId:this.props.getMaxParentGroupId,clearDrawComponent:this.props.clearDrawComponent,getComponentsInGroup:this.props.getComponentsInGroup,handleMouseOver:this.handleMouseOver,handleMouseOut:this.handleMouseOut,ComponentHelper:this.props.ComponentHelper,components:this.props.components,currentDevice:this.props.currentDevice,currentBlock:this.props.currentBlock,currentBlockJSON:this.props.currentBlockJSON,removeComponentFromPage:this.props.removeComponentFromPage,handleChangeComponentProperties:this.props.handleChangeComponentProperties,setCurrentBlock:this.props.setCurrentBlock,ArtboardComponents:this}),n.a.createElement("div",{className:"section-editor__widgets-lines__widget_rulers"}),n.a.createElement("div",{className:"section-editor__widgets-smart__guides"}),n.a.createElement("div",{style:{display:"none"},onClick:this.handleInsertComponents,id:"insertComponents"}),n.a.createElement("style",{id:"rulers-lines-style"},".section-editor__widgets-lines-item-size {transform: scale(".concat(1/(window.currentZoom/100),") translateY(-15px); }"),".section-editor__widgets-lines-item__vertical .section-editor__widgets-lines-item-size { transform: scale(".concat(1/(window.currentZoom/100),") translateX(10px); }"))))}}const $t={createPageComponentRequest:B.a,updatePageRequest:A.g};var ea=Object(o.b)(e=>({user:e.sessions,fonts:e.fonts}),$t)(Qt);class ta extends s.Component{constructor(){super(...arguments),this.currentScale=window.currentZoom/100,this.translateX=window.positionX,this.translateY=window.positionY,this.factor=.09,this.wheeling=void 0,this.zoom=(e,t,a)=>{if(e<.01)return;const s=1-e/this.currentScale;let{clientX:n,clientY:o}=t;this.translateX+=(n-this.translateX)*s,this.translateY+=(o-this.translateY)*s,this.artBoardElement.style.transform="translate(".concat(this.translateX,"px, ").concat(this.translateY,"px) scale(").concat(e,")"),this.currentScale=e,this.props.handleChangeX(this.translateX),this.props.handleChangeY(this.translateY),this.props.handleChangeZoom({target:{value:100*this.currentScale}})},this.handleGestureChange=e=>{c()(".section-editor__indicators-line").remove();const t=c()(e.target).parents(".cke_editable").length>0||c()(e.target).hasClass("cke_editable");if(c()(e.target).parents(".section-editor__space").length>0||c()(e.target).hasClass("section-editor__space")||c()(e.target).parents(".colorpicker-artboard__overlay").length>0||c()(e.target).hasClass("colorpicker-artboard__overlay")||c()(e.target).hasClass("yui3-dd-shim")||t){if((Object(qt.p)()||Object(qt.o)())&&e.preventDefault(),Object(qt.o)()&&(this.factor=.5),this.currentScale=window.currentZoom/100,this.translateX=window.positionX,this.translateY=window.positionY,e.ctrlKey||e.metaKey||(e.stopImmediatePropagation(),this.translateX-=e.deltaX/50*30,this.translateY-=e.deltaY/50*30,this.props.handleChangeX(parseInt(this.translateX,10)),this.props.handleChangeY(parseInt(this.translateY,10)),this.artBoardElement.style.transform="translate(".concat(parseInt(this.translateX,10),"px, ").concat(parseInt(this.translateY,10),"px) scale(").concat(this.currentScale,")"),this.props.currentBlock.json[0]&&window.setTransformator(this.props.currentBlock.json[0]),window.updateIndicator()),(e.ctrlKey||e.metaKey)&&!t){const a=e.wheelDelta/(200/this.currentScale),s=this.currentScale+a*this.factor;this.zoom(s,e,t),this.props.currentBlock.json[0]&&window.setTransformator(this.props.currentBlock.json[0]),window.updateIndicator()}window.updateColorPickerInstrumentations&&window.updateColorPickerInstrumentations(this.artBoardElement.style.transform),document.querySelectorAll(".v-ruler").forEach(e=>{let t=parseFloat(e.dataset.left)*(window.currentZoom/100)+parseInt(window.positionX,10);e.style.transform="translate(".concat(t,"px, ").concat(parseInt(0,10),"px)")}),document.querySelectorAll(".h-ruler").forEach(e=>{let t=parseFloat(e.dataset.top)*(window.currentZoom/100)+parseInt(window.positionY,10);e.style.transform="translate(0px, ".concat(t,"px)")})}(e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.stopImmediatePropagation()),this.props.handleMouseMove(e,void 0,!0)},this.bindWheelEvent=()=>{let e=this;window.addEventListener("wheel",this.handleGestureChange,{passive:!1}),window.CKEDITOR.on("instanceReady",(function(t){if(t.removeListener(),window.CKlisteners2&&window.CKlisteners2.forEach(e=>{e.removeListener()}),window.CKlisteners2=[],window.CKEDITOR){let a=t.editor.on("contentDom",(function(t){t.editor.window.$.addEventListener("wheel",e.handleGestureChange,{passive:!1})}));window.CKlisteners2.push(a)}}))},this.unbindWheelEvent=()=>{window.CKlisteners2&&window.CKlisteners2.forEach(e=>{e.removeListener()}),window.removeEventListener("wheel",this.handleGestureChange,{passive:!1})},this.zoomSafari=(e,t)=>{if(e<.01)return;const a=1-e/this.currentScale,{clientX:s,clientY:n}=t;this.translateX+=(s-this.translateX)*a,this.translateY+=(n-this.translateY)*a,this.artBoardElement.style.transform="translate(".concat(this.translateX,"px, ").concat(this.translateY,"px) scale(").concat(e,")"),this.currentScale=e,window.currentZoom=100*this.currentScale,this.props.currentBlock.json[0]&&window.setTransformator(this.props.currentBlock.json[0]),window.updateIndicator()},this.safariGestureChange=e=>{e.preventDefault(),e.stopImmediatePropagation();const t=this.gestureStartScale*e.scale;return this.zoomSafari(t,e),!1},this.safariGestureEnd=e=>{e.preventDefault(),this.props.handleChangeX(this.translateX),this.props.handleChangeY(this.translateY),this.props.handleChangeZoom({target:{value:100*this.currentScale}}),this.props.currentBlock.json[0]&&window.setTransformator(this.props.currentBlock.json[0])},this.safariGestureStart=e=>{e.preventDefault(),this.gestureStartScale=window.currentZoom/100,this.props.currentBlock.json[0]&&window.setTransformator(this.props.currentBlock.json[0])},this.bindWheelEventSafari=()=>{this.spaceElement&&(this.spaceElement.addEventListener("gesturestart",this.safariGestureStart),this.spaceElement.addEventListener("gesturechange",this.safariGestureChange),this.spaceElement.addEventListener("gestureend",this.safariGestureEnd))},this.unbindWheelEventSafari=()=>{this.spaceElement&&(this.spaceElement.removeEventListener("gesturestart",this.safariGestureStart),this.spaceElement.removeEventListener("gesturechange",this.safariGestureChange),this.spaceElement.removeEventListener("gestureend",this.safariGestureEnd))}}componentDidMount(){this.artBoardElement=document.getElementsByClassName("section-editor__artboard")[0],this.spaceElement=document.getElementsByClassName("section-editor__space")[0],this.artBoardElement&&(this.artBoardElement.style.transform="translate(".concat(this.translateX,"px, ").concat(this.translateY,"px) scale(").concat(this.currentScale,")")),this.bindWheelEvent(),this.bindWheelEventSafari()}componentWillUnmount(){this.unbindWheelEvent(),this.unbindWheelEventSafari()}render(){return n.a.createElement("div",null)}}var aa=Object(o.b)(e=>({}),{})(ta),sa=a(473),na=a.n(sa),oa=a(319),ia=a.n(oa),ra=a(122),la=a.n(ra);!function(e){var t=e(window);e.fn.visible=function(a,s,n,o){if(!(this.length<1)){n=n||"both";var i=this.length>1?this.eq(0):this,r="undefined"!==typeof o&&null!==o,l=r?e(o):t,c=r?l.position():0,p=i.get(0),d=l.outerWidth(),h=l.outerHeight(),m=!0!==s||p.offsetWidth*p.offsetHeight;if("function"===typeof p.getBoundingClientRect){var u=p.getBoundingClientRect(),g=r?u.top-c.top>=0&&u.top<h+c.top:u.top>=0&&u.top<h,_=r?u.bottom-c.top>0&&u.bottom<=h+c.top:u.bottom>0&&u.bottom<=h,f=r?u.left-c.left>=0&&u.left<d+c.left:u.left>=0&&u.left<d,v=r?u.right-c.left>0&&u.right<d+c.left:u.right>0&&u.right<=d,w=a?g||_:g&&_,C=a?f||v:f&&v;w=u.top<0&&u.bottom>h||w,C=u.left<0&&u.right>d||C;if("both"===n)return m&&w&&C;if("vertical"===n)return m&&w;if("horizontal"===n)return m&&C}else{var y=r?0:c,b=y+h,E=l.scrollLeft(),k=E+d,S=i.position(),x=S.top,N=x+i.height(),B=S.left,F=B+i.width(),A=!0===a?N:x,L=!0===a?x:N,O=!0===a?F:B,D=!0===a?B:F;if("both"===n)return!!m&&L<=b&&A>=y&&D<=k&&O>=E;if("vertical"===n)return!!m&&L<=b&&A>=y;if("horizontal"===n)return!!m&&D<=k&&O>=E}}}}(c.a);var ca=function(e){for(var t in this.elementPositions=[],this.mockGuides=[],this.tolerance=5,this.guideClass="guide mock-guide draggable",this.appendGuideTo=":not(.selected):visible",this.vClass="guide-y",this.hClass="guide-x",e)this[t]=e[t]||this[t]};ca.prototype.defineElementPositions=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.appendGuideTo,a=arguments.length>2?arguments[2]:void 0;var s=this;s.elementPositions=[],e&&0!==e.length||(e=c()(t)).push(c()(".section-editor__artboard"));const n=null===a||void 0===a?void 0:a.ancestor(".s-e__w-i__group-frame:not(.s-e__w-i_active)");c.a.each(e,(function(){if(c()(this).visible(!0)){const t=c()(this).parents(".s-e__w-i__group-frame:not(.s-e__w-i_active)")[0];var e;if(n)n._node.id===(null===(e=c()(this).parents(".s-e__w-i__group-frame")[0])||void 0===e?void 0:e.id)&&s.elementPositions.push(ca.getRect(c()(this)));else if(!t){const e=ca.getRect(c()(this));c()(this).hasClass("section-editor__artboard")&&(e.artboard=!0),s.elementPositions.push(e)}}})),document.querySelectorAll(".h-ruler").forEach(e=>{let t={left:parseFloat(e.dataset.left),leftCenter:parseFloat(e.dataset.left),right:parseFloat(e.dataset.left),top:parseFloat(e.dataset.too),topCenter:parseFloat(e.dataset.top),bottom:parseFloat(e.dataset.top),width:e.offsetWidth,height:e.offsetHeight};s.elementPositions.push(t)}),document.querySelectorAll(".v-ruler").forEach(e=>{let t={left:parseFloat(e.dataset.left),leftCenter:parseFloat(e.dataset.left),right:parseFloat(e.dataset.left),top:parseFloat(e.dataset.too),topCenter:parseFloat(e.dataset.top),bottom:parseFloat(e.dataset.top),width:e.offsetWidth,height:e.offsetHeight};s.elementPositions.push(t)})},ca.prototype.addGuides=function(e,t,a){this.clear(),this.tolerance=a;var s={left:0,leftCenter:0,right:0,top:0,topCenter:0,bottom:0};null==t&&(t={left:!0,leftCenter:!0,top:!0,topCenter:!0,right:!0,bottom:!0});var n=c()(".section-editor__widgets"),o=c()(e._node).parents(".s-e__w-i__group-frame:not(.s-e__w-i_active)")[0];o&&(n=o);for(var i=ca.getYUIRect(e),r=0,l=this.elementPositions.length;r<l;r++){var p=this.elementPositions[r],d=this.near(i,p,t);if(d.length>0)for(var h=0;h<d.length;h++){var m=d[h],u=c()("<div></div>").addClass(this.guideClass).appendTo(c()(n)).data("direction",m.edge);switch(p.artboard&&u.addClass("artboard-ruler"),this.mockGuides.push(u),m.edge){case"left":case"leftCenter":case"right":u.addClass(this.vClass).css({height:Math.abs(m.size),left:p[m.edge]+s[m.edge],top:Math.min(i.top,p.top)});break;case"top":case"topCenter":case"bottom":u.addClass(this.hClass).css({width:Math.abs(m.size),left:Math.min(i.left,p.left),top:p[m.edge]+s[m.edge]})}}}return this.mockGuides},ca.prototype.near=function(e,t,a){return ca.near.call(this,e,t,a)},ca.prototype.getClosestGuides=function(e,t){return ca.getClosestGuides.call(this,e,this.mockGuides,t)},ca.prototype.getYUIRect=function(e,t){return ca.getYUIRect.call(this,e)},ca.prototype.clear=function(){c.a.each(this.mockGuides,(function(){c()(this).remove()})),this.mockGuides=[]},ca.prototype.inTolerance=function(e,t){var a=void 0===this.tolerance?5:this.tolerance;return e<t+a&&e>t-a},ca.getRect=function(e){var t=parseFloat(e.css("left")),a=parseFloat(e.css("top")),s=parseFloat(getComputedStyle(e.get(0)).width),n=parseFloat(getComputedStyle(e.get(0)).height);const o=e.hasClass("section-editor__artboard"),i=e.hasClass("section-editor__layout"),r=e.parents(".s-e__w-i__group-frame").length>0;if(o&&(t-=parseFloat(getComputedStyle(e.get(0)).paddingLeft)),i&&(t=0),!o&&!i&&r){let s=ya(e[0],document.querySelector(".s-e__w-i__group"));a=s.top,t=s.left}return{left:t,leftCenter:t+s/2,right:t+s,top:a,topCenter:a+n/2,bottom:a+n,width:s,height:n}},ca.getYUIRect=function(e){var t,a=parseFloat(e.get("offsetLeft")),s=parseFloat(e.get("offsetTop")),n=parseFloat(e.get("offsetWidth")),o=parseFloat(e.get("offsetHeight"));const i=c()(e._node).hasClass("section-editor__artboard"),r=c()(e._node).hasClass("section-editor__layout"),l=c()(e._node).parents(".s-e__w-i__group-frame"),p=l.length>0;let d;if(p&&(d=(null===(t=e.rootGroupIds)||void 0===t?void 0:t.indexOf(c()(e._node).parents(".s-e__w-i__group-frame")[l.length-1].getAttribute("id")))>-1),i&&(a-=parseFloat(getComputedStyle(e._node).paddingLeft)),r&&(a=0),!i&&!r&&p&&!d){let t=ya(e._node,c()(e._node).parents(".s-e__w-i__group-frame")[0]);s=t.top,a=t.left}return{left:a,leftCenter:a+n/2,right:a+n,top:s,topCenter:s+o/2,bottom:s+o,width:n,height:o}},ca.near=function(e,t,a){let s=[],n={left:"right",right:"left",top:"bottom",bottom:"top"};for(var o in a)(a[o]&&this.inTolerance(e[o],t[o])||a[n[o]]&&this.inTolerance(e[n[o]],t[o]))&&s.push({edge:o,size:(i=["left","right","leftCenter"].indexOf(o)>=0,i?Math.max(t.bottom-e.top,e.bottom-t.top,t.height,e.height):Math.max(t.right-e.left,e.right-t.left,t.width,e.width))});var i;return s},ca.getClosestGuides=function(e,t,a){var s=this.hClass||"guide-x",n=this.vClass||"guide-y";null==a&&(a={left:!0,top:!0,right:!1,bottom:!1});var o=9007199254740991,i=9007199254740991,r=[],l=[],p=ca.getYUIRect(e);return c.a.each(t,(function(){var e=c()(this);a.top=-1===["bottom"].indexOf(e.data("direction")),a.left=-1===["right","leftCenter"].indexOf(e.data("direction"));var t=ca.getRect(e),d=Math.abs(a.left?p.left-t.right:p.right-t.left),h=Math.abs(a.top?p.top-t.bottom:p.bottom-t.top);e.css("visibility","hidden"),e.hasClass(n)?d<o&&(o=d,r[0]&&r[0].css("visibility","hidden"),r[0]=e.css("visibility","")):e.hasClass(s)&&h<i&&(i=h,l[0]&&l[0].css("visibility","hidden"),l[0]=e.css("visibility",""))})),r.concat(l)};var pa=ca;var da=class{constructor(e,t,a){var s=this;this.updateTolerance=()=>{var e;this.tolerance=20-window.currentZoom/7<0?5:20-window.currentZoom/7,(null===(e=window.event)||void 0===e?void 0:e.shiftKey)&&(this.tolerance=1)},this.showAllLinesToComponent=function(e){let t,a,n,o,i,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.currentComponents;if(e)for(const p of l)if(p&&c()(p._node).visible(!0)&&e._yuid!==p._yuid&&(!e.currentBlocksIds||-1===e.currentBlocksIds.indexOf(p.component.id))){if(p.hasClass("section-editor__layout")||p.hasClass("section-editor__artboard")?p.customGet=e=>"offsetLeft"===e?p._node.offsetLeft-parseFloat(p.getStyle("left")):p._node[e]:p.customGet=e=>{if(!p.ancestor(".s-e__w-i__group-frame")||"offsetLeft"!==e&&"offsetTop"!==e)return p.common?p.getStyles()[e]:p._node[e];return ya(p._node,document.querySelector(".section-editor__widgets"))[e.replace("offset","").toLowerCase()]},e.customGet=t=>{if(e.ancestor&&e.ancestor(".s-e__w-i__group-frame")&&("offsetLeft"===t||"offsetTop"===t)){return ya(e._node,document.querySelector(".section-editor__widgets"))[t.replace("offset","").toLowerCase()]}return e.common?e.getStyles()[t]:e._node[t]},!e.customGet)continue;const l=e.customGet("offsetLeft")-p.customGet("offsetLeft"),c=e.customGet("offsetTop")-p.customGet("offsetTop");let d=Math.sqrt(l*l),h=Math.sqrt(c*c),m=p;t=s.Y.Node.create("<div class='section-editor__widgets-lines-item__horizontal'></div>"),s.Y.one(".section-editor__widgets-lines__widget_rulers").append(t),a=s.Y.Node.create("<div class='section-editor__widgets-lines-item__horizontal'></div>"),s.Y.one(".section-editor__widgets-lines__widget_rulers").append(a),n=s.Y.Node.create("<div class='section-editor__widgets-lines-item__vertical'></div>"),s.Y.one(".section-editor__widgets-lines__widget_rulers").append(n),o=s.Y.Node.create("<div class='section-editor__widgets-lines-item__vertical'></div>"),s.Y.one(".section-editor__widgets-lines__widget_rulers").append(o),i=s.Y.Node.create("<div class='section-editor__widgets-lines-item__vertical'></div>"),s.Y.one(".section-editor__widgets-lines__widget_rulers").append(i),e.customGet("offsetHeight",!0)<p.customGet("offsetHeight",!0)&&(m=e);let u=0;if(e.customGet("offsetLeft")>p.customGet("offsetLeft")&&(t.setStyles({display:"block",left:p.customGet("offsetLeft"),top:m.customGet("offsetTop")+m.customGet("offsetHeight",!0)/2-5,height:9,width:d}),t.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(d,10),"</span>")),u++),e.customGet("offsetLeft")>p.customGet("offsetLeft")&&e.customGet("offsetLeft")+e.customGet("offsetWidth")<p.customGet("offsetLeft")+p.customGet("offsetWidth",!0)){const t=p.customGet("offsetLeft")+p.customGet("offsetWidth")-(e.customGet("offsetLeft")+e.customGet("offsetWidth"));a.setStyles({display:"block",left:e.customGet("offsetLeft")+e.customGet("offsetWidth"),top:m.customGet("offsetTop")+m.customGet("offsetHeight",!0)/2-5,height:9,width:t}),a.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(t,10),"</span>")),u++}if(r=p,e.customGet("offsetWidth",!0)<p.customGet("offsetWidth",!0)&&(r=e),e.customGet("offsetTop")>p.customGet("offsetTop")&&e.customGet("offsetTop")+e.customGet("offsetHeight")<p.customGet("offsetTop")+p.customGet("offsetHeight",!0)&&(n.setStyles({display:"block",top:p.customGet("offsetTop"),left:m.customGet("offsetLeft")+m.customGet("offsetWidth",!0)/2-5,width:9,height:h}),n.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(h,10),"</span>")),u++),p.customGet("offsetTop")>e.customGet("offsetTop")&&p.customGet("offsetTop")+p.customGet("offsetHeight")<e.customGet("offsetTop")+e.customGet("offsetHeight",!0)&&(i.setStyles({display:"block",top:e.customGet("offsetTop"),left:m.customGet("offsetLeft")+m.customGet("offsetWidth",!0)/2-5,width:9,height:h}),i.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(h,10),"</span>")),u++),e.customGet("offsetTop")>p.customGet("offsetTop")&&e.customGet("offsetTop")+e.customGet("offsetHeight")<p.customGet("offsetTop")+p.customGet("offsetHeight",!0)){const t=p.customGet("offsetTop")+p.customGet("offsetHeight")-(e.customGet("offsetTop")+e.customGet("offsetHeight"));o.setStyles({display:"block",top:e.customGet("offsetTop")+e.customGet("offsetHeight"),left:m.customGet("offsetLeft")+m.customGet("offsetWidth",!0)/2-5,width:9,height:t}),o.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(t,10),"</span>")),u++}if(p.customGet("offsetTop")>e.customGet("offsetTop")&&p.customGet("offsetTop")+p.customGet("offsetHeight")<e.customGet("offsetTop")+e.customGet("offsetHeight",!0)){const t=e.customGet("offsetTop")+e.customGet("offsetHeight")-(p.customGet("offsetTop")+p.customGet("offsetHeight"));o.setStyles({display:"block",top:p.customGet("offsetTop")+p.customGet("offsetHeight"),left:m.customGet("offsetLeft")+m.customGet("offsetWidth",!0)/2-5,width:9,height:t}),o.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(t,10),"</span>")),u++}if(4===u)return;p.customGet("offsetLeft")>e.customGet("offsetLeft")+e.customGet("offsetWidth",!0)&&(d-=e.customGet("offsetWidth",!0),t.setStyles({display:"block",left:e.customGet("offsetLeft")+e.customGet("offsetWidth",!0),top:m.customGet("offsetTop")+m.customGet("offsetHeight",!0)/2-5,height:9,width:d})),e.customGet("offsetLeft")>p.customGet("offsetLeft")+p.customGet("offsetWidth",!0)&&(d-=p.customGet("offsetWidth",!0),t.setStyles({display:"block",left:p.customGet("offsetLeft")+p.customGet("offsetWidth",!0),top:m.customGet("offsetTop")+m.customGet("offsetHeight",!0)/2-5,height:9,width:d})),t.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(d,10),"</span>")),t=s.Y.Node.create("<div class='section-editor__widgets-lines-item__vertical'></div>"),s.Y.one(".section-editor__widgets-lines__widget_rulers").append(t),r=p,e.customGet("offsetWidth",!0)<p.customGet("offsetWidth",!0)&&(r=e),e.customGet("offsetTop")>p.customGet("offsetTop")+p.customGet("offsetHeight",!0)&&(h-=p.customGet("offsetHeight",!0),t.setStyles({display:"block",top:p.customGet("offsetTop")+p.customGet("offsetHeight",!0),left:r.customGet("offsetLeft")+r.customGet("offsetWidth",!0)/2-5,height:h,width:9})),p.customGet("offsetTop")>e.customGet("offsetTop")+e.customGet("offsetHeight",!0)&&(h-=e.customGet("offsetHeight",!0),t.setStyles({display:"block",top:e.customGet("offsetTop")+e.customGet("offsetHeight",!0),left:r.customGet("offsetLeft")+r.customGet("offsetWidth",!0)/2-5,height:h,width:9})),t.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(h,10),"</span>"))}},this.hideLinesComponent=()=>{this.Y.all(".section-editor__widgets-lines__widget_rulers").setHTML("")},this.addSmartGuides=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.tolerance,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=[];return s.smartGuides.addGuides(e,a,t),s.smartGuides.mockGuides.length>0&&c.a.each(s.smartGuides.getClosestGuides(e),(function(){let e=c()(this),t={top:parseFloat(e.css("top")),left:parseFloat(e.css("left"))};n.push({height:e.height(),width:e.width(),item:e.get(0),left:t.left,top:t.top})})),n},this.magnetToComponentsOperations=(e,t,a,s,n,o)=>{let i={left:parseFloat(a.left+e.info.offset[0]/(window.currentZoom/100),10),top:parseFloat(a.top+e.info.offset[1]/(window.currentZoom/100),10)},r={left:parseFloat(a.left+e.info.offset[0]/(window.currentZoom/100),10)+s(0).left,top:parseFloat(a.top+e.info.offset[1]/(window.currentZoom/100),10)+s(0).top};(window.moveUpActive||window.moveDownActive)&&(i.left=a.left,r.left=a.left),window.event.shiftKey&&(["up","down"].indexOf(o)>-1&&(i.left=a.left,r.left=a.left),["left","right"].indexOf(o)>-1&&(i.top=a.top,r.top=a.top));let l=t.get;t.get=e=>{if("offsetLeft"===e)return r.left;if("offsetTop"===e)return r.top;if("offsetWidth"===e||"offsetHeight"===e){let t=0;try{t=l(e)}catch{return t}finally{return t}}};let p=c()(t._node).parents(".s-e__w-i__group-frame > .s-e__w-i__group:not(.s-e__w-i__group-frame)")[0],d=[];if(Array.isArray(t.currentBlocksIds))for(let c of t.currentBlocksIds){const e=this.Y.one("#".concat(c));d.push(e&&n(e))}if(d.filter(e=>!1===e).length===d.length){let a=this.addSmartGuides(t);if(a.length>0){let n={};for(const s of a){let{top:a,left:o,width:i,height:l}=s;p&&(o-=p.offsetLeft),p&&(a-=p.offsetTop),this.smartGuides.inTolerance(r.top,a)&&0===l&&(e.preventDef(),n.top=a),this.smartGuides.inTolerance(r.top+t.get("offsetHeight")/2,a)&&0===l&&(e.preventDef(),n.top=a-t.get("offsetHeight")/2),this.smartGuides.inTolerance(r.left,o)&&0===i&&(e.preventDef(),n.left=o),this.smartGuides.inTolerance(r.left+t.get("offsetWidth")/2,o)&&0===i&&(e.preventDef(),n.left=o-t.get("offsetWidth")/2),this.smartGuides.inTolerance(r.top+t.get("offsetHeight"),a)&&0===l&&(e.preventDef(),n.top=a-t.get("offsetHeight")),this.smartGuides.inTolerance(r.left+t.get("offsetWidth"),o)&&0===i&&(e.preventDef(),n.left=o-t.get("offsetWidth"))}n={top:n.hasOwnProperty("top")?n.top+-s(0).top:i.top,left:n.hasOwnProperty("left")?n.left+-s(0).left:i.left},t.setStyles(Object.assign({},r,n))}}},this.showLinesBetweenComponents=(e,t,a)=>{this.hideLinesComponent(),"left"===a?(this.hideLinesComponent(),t.forEach((a,s)=>{if(s<t.length-1){const t=this.Y.Node.create("<div class='section-editor__widgets-lines-item__horizontal'></div>");this.Y.one(".section-editor__widgets-lines__widget_rulers").append(t),parseInt(e,10)>0&&(t.setStyles({display:"block",left:a.get("offsetLeft")+a.get("offsetWidth"),top:a.get("offsetTop")+a.get("offsetHeight",!0)/2-5,height:9,width:e}),t.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(e,10),"</span>")))}})):(this.hideLinesComponent(),t.forEach((a,s)=>{if(s<t.length-1){const t=this.Y.Node.create("<div class='section-editor__widgets-lines-item__vertical'></div>");this.Y.one(".section-editor__widgets-lines__widget_rulers").append(t),parseInt(e,10)>0&&(t.setStyles({display:"block",top:a.get("offsetTop")+a.get("offsetHeight"),left:a.get("offsetLeft")+a.get("offsetWidth",!0)/2-5,width:9,height:e}),t.setHTML("<span class='section-editor__widgets-lines-item-size'>".concat(parseInt(e,10),"</span>")))}}))},this.getDirectionObjectByHandle=e=>({left:e.indexOf("l")>-1,leftCenter:!1,top:e.indexOf("t")>-1,topCenter:!1,right:e.indexOf("r")>-1,bottom:e.indexOf("b")>-1}),this.resizeMagnetToComponentsOperations=(e,t,a,s,n,o,i)=>{let r={};const{handle:l}=e.target;let{offsetTop:c,offsetLeft:p,offsetWidth:d,offsetHeight:h}=n,m={top:c,left:p,width:d,height:h};r={left:parseInt(m.left+t.info.offset[0]/(window.currentZoom/100),10),top:parseInt(m.top+t.info.offset[1]/(window.currentZoom/100),10),width:parseInt(m.width+t.info.offset[0]/(window.currentZoom/100),10),height:parseInt(m.height+t.info.offset[1]/(window.currentZoom/100),10)};let u={_node:a._node,css:e=>"left"===e?m.left:"top"===e?m.top:void 0,get:e=>"offsetLeft"===e?["l","tl","bl"].indexOf(l)>-1?r.left:m.left:"offsetTop"===e?["t","tl","tr"].indexOf(l)>-1?r.top:m.top:"offsetWidth"===e?["r","br","tr"].indexOf(l)>-1?r.width:m.width:"offsetHeight"===e?["b","br","bl"].indexOf(l)>-1?r.height:m.height:0===e?a._node:void 0},g=this.getDirectionObjectByHandle(l),_=this.addSmartGuides(u,void 0,g);if(_.length>0){let e={};for(const s of _){let{top:n,left:o,width:i,height:c}=s;["t","tl","tr"].indexOf(l)>-1&&this.smartGuides.inTolerance(r.top,n)&&0===c&&(t.preventDef(),e.top=n,e.height=m.height+m.top-n),["b","br","bl"].indexOf(l)>-1&&this.smartGuides.inTolerance(a.get("offsetTop")+r.height,n)&&0===c&&(t.preventDef(),e.height=n-a.get("offsetTop")),["l","tl","bl"].indexOf(l)>-1&&this.smartGuides.inTolerance(r.left,o)&&0===i&&(t.preventDef(),e.left=o,e.width=m.width+m.left-o),["r","br","tr"].indexOf(l)>-1&&this.smartGuides.inTolerance(m.left+r.width,o)&&0===i&&(t.preventDef(),e.width=o-m.left)}a.setStyles(Object.assign({},i,e)),o[0]&&window.setTransformator(o[0])}},this.Y=e,this.tolerance=20-window.currentZoom/7<0?5:20-window.currentZoom/7,this.currentComponent={},this.currentComponents=[],this.helper=a,this.smartGuides=new pa({tolerance:this.tolerance,guideClass:"smart-guide",appendGuideTo:".s-e__w-i:not(.s-e__w-i_active):not(.s-e__w-i__move)"})}};const ha=e=>e*Math.PI/180,ma=e=>Math.cos(ha(e)),ua=e=>Math.sin(ha(e)),ga=(e,t,a)=>{const s=e+t;return s>a?e=s:(t=a-e,e=a),{width:e,deltaW:t}},_a=(e,t,a)=>{const s=e+t;return s>a?e=s:(t=a-e,e=a),{height:e,deltaH:t}},fa={n:0,ne:1,e:2,se:3,s:4,sw:5,w:6,nw:7},va=["n","ne","e","se","s","sw","w","nw"],wa={"-6":12,"-5":5,"-4":6,"-3":7,"-2":7,"-1":7,0:0,1:1,2:2,3:2,4:3,5:4,6:4,7:5,8:6,9:6,10:7,11:8},Ca=e=>{let{top:t,left:a,width:s,height:n,rotateAngle:o}=e;return{position:{centerX:a+s/2,centerY:t+n/2},size:{width:s,height:n},transform:{rotateAngle:o}}},ya=(e,t)=>{for(var a={top:0,left:0};e&&e!==t;)a.top+=e.offsetTop,a.left+=e.offsetLeft,e=e.offsetParent;return a};var ba=class{constructor(e,t,a,s,n){var o=this;this.currentDevice=void 0,this.componentsHelperStyles={},this.components=[],this.startComponentsPositions=[],this.DDcomponentPositions={},this.ResizeComponentPosition={},this.getCommonNodeFromGroup=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const s=o.getComponentsInGroup(e,a);if(s.length>0){const e=o.Y.one("#".concat(s[0].id));return o.getCommonNode(e,s,t)}},this.getCommonNodeFromGroupByProps=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=o.getComponentsInGroup(e,t),s=o.getCommonRectByComponentsProps(a);return s},this.createClones=e=>{if(Array.isArray(this.ArtBoard.props.currentBlockJSON)){let t=this.ArtBoard.props.currentBlockJSON.filter(e=>{let t=this.Y.one("#".concat(e.id));return t&&!this.ArtBoard.props.isMasterDependingComponentItem(t)});if(this.copyInsertAllow=t.length===this.ArtBoard.props.currentBlockJSON.length,this.copyInsertAllow){let t=this.getCurrentComponentsWithDependingComponents(),a=this.ArtBoardComponents.props.currentBlock.group_ids,s=JSON.parse(JSON.stringify(t)).concat(a.map(e=>this.Y.one("#".concat(e)).component)),n=[],o=[...new Set(s.filter(e=>e).map(e=>e.id))];for(let e of o)this.ArtBoardComponents.props.getComponentTreeInfo(e,e=>{e.depth=e.path.length-1,n.push(e)});n=Object(qt.v)(n),s=n.map(e=>{let{node:t}=e;return t}),o=s.map(e=>{let{id:t}=e;return t}),this.Y.all("[data-component-id]").each((e,t)=>{let a=e.component;a&&o.indexOf(a.id)>-1&&(s.find(e=>e.id===a.id).index=t)}),s=ia()(s,"index"),s.reverse();for(let i of s){let t,a=this.Y.one("#".concat(i.id)),s=a.cloneNode(!0);s.removeClass("s-e__w-i_active"),s.addClass("widget-clone"),s.addClass(e),s.setAttribute("data-orig-left",a.get("offsetLeft")),s.setAttribute("data-orig-top",a.get("offsetTop")),s.setAttribute("data-orig-id",a.getAttribute("id")),s.component=i,s.setAttribute("id","new"),s.hasClass("s-e__w-i__group")?s.all(".s-e__w-i").each(e=>{e.setAttribute("id","new"),e.addClass("widget-clone"),e.removeClass("s-e__w-i_active"),t=this.Y.one("#".concat(CSS.escape(e.getData("component-id")))),t&&t.component&&(e.component=t.component,e.setStyles({top:"".concat(parseInt(e.component.styles[this.currentDevice.name].top,10)+this.componentsHelperStyles(e.component).top,"px"),left:"".concat(parseInt(e.component.styles[this.currentDevice.name].left,10)+this.componentsHelperStyles(e.component).left,"px")}))}):s.setStyles({top:"".concat(parseInt(i.styles[this.currentDevice.name].top,10)+this.componentsHelperStyles(i).top,"px"),left:"".concat(parseInt(i.styles[this.currentDevice.name].left,10)+this.componentsHelperStyles(i).left,"px")}),a.insert(s,"before")}}}},this.removeClones=()=>{this.Y.all(".widget-clone").remove()},this.altKeyDown=e=>{!e.altKey||e.ctrlKey||e.metaKey||(this.altPressed=!0,this.drag&&this.createClones())},this.altKeyUp=e=>{18===e.keyCode&&(this.altPressed=!1,this.drag&&this.removeClones())},this.initAltShortcut=()=>{this.altKeySub=this.Y.one("doc").on("keydown",this.altKeyDown),this.altKeySub2=this.Y.one("doc").on("keyup",this.altKeyUp)},this.destroyAltShortcut=()=>{this.altKeySub&&(this.altKeySub.detach(),this.altKeySub2.detach())},this.componentsHelperStyles=e=>({top:0,left:0}),this.setGroupStylesInFrame=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{component:s}=e;let n=o.getComponentsInGroup(s,void 0,void 0,!0),i=[];for(let h of n)"frame"===h.slug&&(i=i.concat(o.getComponentsInGroup(h)));for(let o of i){const e=n.find(e=>e.id===o.id),t=n.indexOf(e);t>-1&&n.splice(t,1)}if(0===n.length)return;const r=Object(qt.j)(n,o.currentDevice,["".concat(s.id)],o.Y);let l=Object(qt.d)(r,{top:0,left:0},o.currentDevice);if(t){const e=n.find(e=>{var t;return(null===(t=o.Y.one("#"+CSS.escape(e.id)))||void 0===t?void 0:t.get("offsetLeft"))<0}),t=n.find(e=>{var t;return(null===(t=o.Y.one("#"+CSS.escape(e.id)))||void 0===t?void 0:t.get("offsetTop"))<0});if(e||t){const a=n.indexOf(e),s=n.indexOf(t);a>-1&&(l=l.map((e,t)=>{let a=(parseFloat(e.left)-parseFloat(n[t].styles[o.currentDevice.name].left))/2;const s=o.resizeComponents.find(e=>e.id===n[t].id)||o.componentsToDrag.find(e=>e.id===n[t].id);return{top:e.top,left:"".concat(s?e.left:parseFloat(n[t].styles[o.currentDevice.name].left)+a+"px")}})),s>-1&&(l=l.map((e,t)=>{let a=(parseFloat(e.top)-parseFloat(n[t].styles[o.currentDevice.name].top))/2;const s=o.resizeComponents.find(e=>e.id===n[t].id)||o.componentsToDrag.find(e=>e.id===n[t].id);return{top:"".concat(s?e.top:parseFloat(n[t].styles[o.currentDevice.name].top)+a+"px"),left:e.left}}))}}let c=0;for(const h of r.componentsInGroup){const e=o.Y.one("#"+CSS.escape(h.id));e&&e.setStyles(l[c]),c++}let p=o.getCommonRect(n,!0,!1),d={width:p.offsetWidth+"px",height:p.offsetHeight+"px"};"fill"===s.data.xSizingMode&&(d.width=e.get("offsetWidth")+"px"),"fill"===s.data.ySizingMode&&(d.height=e.get("offsetHeight")+"px"),Object.keys(d).length>0&&e.setStyles(d),a&&window.handleChangeComponentsStyles(n,l)},this.fillGroupsRects={},this.correctSizeForElementsInFrameWithFill=function(e){let t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.hasClass("s-e__w-i__group-frame")&&(t=e),e.hasAttribute("pf")||(e=e.ancestor("[pf]")),e||t){let a,s;!t&&e&&(t=e.ancestor(".s-e__w-i__group-frame")),t.all("> [data-component-id]").each((n,i)=>{var r;if((null===(r=e)||void 0===r?void 0:r._yuid)!==n._yuid&&n.component){const{xSizingMode:e,ySizingMode:i}=n.component.data;if("fill"===e||"fill"===i){let r={};a=n.get("offsetWidth"),s=n.get("offsetHeight"),"fill"===e&&(r.width="column"===t.component.styles[o.currentDevice.name].flexDirection?t.get("offsetWidth"):n.get("offsetWidth")),"fill"===i&&(r.height="row"===t.component.styles[o.currentDevice.name].flexDirection?t.get("offsetHeight"):n.get("offsetHeight")),"column"===t.getStyle("flexDirection")&&r.hasOwnProperty("width")&&(r.width-=2*parseFloat(t._node.style.paddingLeft||0)),"row"===t.getStyle("flexDirection")&&r.hasOwnProperty("height")&&(r.height-=2*parseFloat(t._node.style.paddingTop||0));if(r.hasOwnProperty("width")&&parseFloat(n.getStyle("width"))!==r.width||r.hasOwnProperty("height")&&parseFloat(n.getStyle("height"))!==r.height){let t=o.getComponentsInGroup(n.component);if("group"===n.component.slug&&(t=t.filter(e=>!o.Y.one("#"+CSS.escape(n.getAttribute("id"))+" .s-e__w-i__autolayout #"+CSS.escape(e.id)))),"frame"!==n.component.slug||"fill"!==n.component.data.xSizingMode&&"fill"!==n.component.data.ySizingMode){let a=[];t.forEach((e,t)=>{o.Y.one("#".concat(CSS.escape(e.id)))&&a.push({top:parseFloat(e.styles[o.currentDevice.name].top),left:parseFloat(e.styles[o.currentDevice.name].left),width:parseFloat(e.styles[o.currentDevice.name].width),height:parseFloat(e.styles[o.currentDevice.name].height)})}),o.fillGroupsRects[n.component.id]||(o.fillGroupsRects[n.component.id]=o.getCommonRect(t,!0,!1));const s=o.fillGroupsRects[n.component.id];if(r.width>=1||r.height>=1){let l;if(dr(n.component.slug)){o.onResizeElements(r,t,!0,a,s,{e:{target:{handle:"br"}}});for(const a of t)l={},o.componentsToChangeForFill=o.componentsToChangeForFill.filter((e,t)=>e.id!==a.id||(o.stylesToChangeForFill.splice(t,1),!1)),o.componentsToChangeForFill.push(a),"fill"===e&&(l.width=parseFloat(o.Y.one("#"+CSS.escape(a.id)).getStyle("width"))+"px",l.left=parseFloat(o.Y.one("#"+CSS.escape(a.id)).getStyle("left"))+"px"),"fill"===i&&(l.height=parseFloat(o.Y.one("#"+CSS.escape(a.id)).getStyle("height"))+"px",l.top=parseFloat(o.Y.one("#"+CSS.escape(a.id)).getStyle("top"))+"px"),o.stylesToChangeForFill.push(l)}else l={},o.componentsToChangeForFill.push(n.component),"fill"===e&&(l.width=r.width+"px"),"fill"===i&&(l.height=r.height+"px"),n.setStyles(l),o.stylesToChangeForFill.push(l)}}else{o.correctSizeForElementsInFrameWithFill(n,!0);let t={};o.componentsToChangeForFill.push(n.component),"fill"===e&&(t.width=r.width+"px"),"fill"===i&&(t.height=r.height+"px"),n.setStyles(t),o.stylesToChangeForFill.push(t)}}}}})}a&&o.stylesToChangeForFill.length>0&&window.handleChangeComponentsStyles(o.componentsToChangeForFill,o.stylesToChangeForFill)},this.correctPositionInGroupsInFrameNegativeOffset=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const a of new Set(e.map(e=>e.id)))if(a){const e=o.Y.one("#"+CSS.escape(a)),s=null===e||void 0===e?void 0:e.ancestor(".s-e__w-i__group-frame > .s-e__w-i__group:not(.s-e__w-i__group-frame)"),n=null===e||void 0===e?void 0:e.ancestor(".s-e__w-i__group-frame");if(s&&o.setGroupStylesInFrame(s,!0,t),n&&n.component){const{xSizingMode:e,ySizingMode:t}=n.component.data;if("auto"===e||"auto"===t){const a=n.component,s=o.getComponentsInGroup(a,void 0,void 0,!0).filter(a=>"auto"===e?!o.Y.one(".s-e__w-i__group-frame > [xfill] #".concat(CSS.escape(a.id)))&&"fill"!==a.data.xSizingMode:"auto"===t&&(!o.Y.one(".s-e__w-i__group-frame > [yfill] #".concat(CSS.escape(a.id)))&&"fill"!==a.data.ySizingMode)),i=o.getCommonRect(s,!0,!0),r=n.getStyle("padding");let l=0,c=0,p=0,d=0;const h=r.split(" ");r&&([l,c,p,d]=h,h.length>1&&(d||(d=c),p||(p=l)),1===h.length&&([l,c,p,d]=new Array(4).fill(h[0]))),"auto"===e&&n.setStyles({width:i.offsetWidth+parseFloat(d)+parseFloat(c)+"px"}),"auto"===t&&n.setStyles({height:i.offsetHeight+parseFloat(l)+parseFloat(p)+"px"}),o.correctSizeForElementsInFrameWithFill(n)}}}},this.updateGroupsInFrame=()=>{this.Y.all(".s-e__w-i__group-frame > .s-e__w-i__group:not(.s-e__w-i__group-frame)").each(e=>{this.setGroupStylesInFrame(e,!0)})},this.changeDevice=e=>{this.currentDevice=e},this.initComponent=(e,t,a)=>{const s=this.Y.one("#".concat(e.id));s&&(s.component=e,this.ArtBoardComponents=t,a&&(this.ArtboardComponentsItems=a))},this.initComponentHelper=(e,t,a,s,n,o,i,r)=>{this.ArtBoard=t;const l=this.Y.one("#".concat(e));l&&(this.initDDComponent(l),this.initResizeComponent(l)),this.hideIndicator=i,this.setCurrentBlock=o,this.ArtBoardComponentIndicator=r,this.showMouseLabel=a,this.hideMouseLabel=s,this.setMouseLabel=n,this.updateGroupsInFrame()},this.updateComponent=e=>{this.Y.one("#".concat(e.id)).component=e,this.correctPositionInGroupsInFrameNegativeOffset([e])},this.disableComponentDD=e=>{const t=CSS.escape(e.id);this.Y.one("#".concat(t)).dd&&(this.Y.one("#".concat(t)).dd.destroy(),delete this.Y.one("#".concat(t)).dd)},this.enableComponentDD=e=>{this.initDDComponent(this.Y.one("#".concat(CSS.escape(e.id))))},this.initResizeComponent=e=>{const t={node:e,handles:"t, tr, r, br, b, bl, l, tl"};e.resizeInstance&&e.resizeInstance.destroy(),this.Y.Resize&&(e.resizeInstance=new this.Y.Resize(t)),this.setResizeEventsToComponent(e.resizeInstance,e)},this.setResizeEventsToComponent=(e,t)=>{e&&(e.on("resize:start",this._componentResizeStart),e.on("resize:end",this._componentResizeEnd),e.on("resize:mouseUp",this._componentResizeMouseUp),e.on("resize:resize",this._componentResizeResize))},this.initDDComponent=e=>{if(!e.dd&&this.Y.DD){const t=new this.Y.DD.Drag({node:e});return t.removeInvalid("a"),t.removeInvalid(".swiper-container"),t.removeInvalid(".str-slider__slide"),t.removeInvalid(".swiper-slide"),t.removeInvalid(".str-slider__slide-caption"),this.setDDEventsToComponent(t,e),t}},this.getCoordsOfRect=e=>({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height}),this.checkMouseInIntersectionIndicatorAndTransformator=e=>{const t=this.Y.one(".section-editor__indicator"),a=this.Y.one(".section-editor__transformator");if(t&&a){const s=t._node.getBoundingClientRect(),n=a._node.getBoundingClientRect(),o=((e,t)=>{[e,t]=[e,t].map(e=>({x:[e.x1,e.x2].sort((e,t)=>e-t),y:[e.y1,e.y2].sort((e,t)=>e-t)}));return!(t.x[0]>e.x[1]||t.x[1]<e.x[0]||t.y[0]>e.y[1]||t.y[1]<e.y[0])&&{x1:Math.max(e.x[0],t.x[0]),y1:Math.max(e.y[0],t.y[0]),x2:Math.min(e.x[1],t.x[1]),y2:Math.min(e.y[1],t.y[1])}})(this.getCoordsOfRect(s),this.getCoordsOfRect(n));if(o){let t=e.ev.pageX,a=e.ev.pageY;return o.x1<=t&&t<=o.x2&&o.y1<=a&&a<=o.y2}}},this.setDDEventsToComponent=(e,t)=>{const a=this;e.on("drag:mouseDown",e=>{document.activeElement.blur();const t=a.ArtBoard.props.currentBlockJSON[0]&&a.ArtBoard.props.currentBlockJSON.length>1&&a.ArtBoard.props.currentBlockJSON.find(e=>e.id===window.hoveredTarget.id),s=this.checkMouseInIntersectionIndicatorAndTransformator(e),n=Array.isArray(a.ArtBoard.props.currentBlockJSON)&&1===a.ArtBoard.props.currentBlockJSON.length,o=!t||a.ArtBoard.props.currentBlockIsLayout||n,i=n&&this.Y.one(".s-e__w-i__group-frame > #"+CSS.escape(a.ArtBoard.props.currentBlockJSON[0].id));!o||s||i&&!a.ArtBoard.props.currentBlockJSON[0].blocked?a.hideIndicator():a.setCurrentBlock(e),(c()(e.ev.target._node).parents("#move-up").length>0||"move-up"===c()(e.ev.target._node).attr("id"))&&(window.moveUpActive=!0),(c()(e.ev.target._node).parents("#move-down").length>0||"move-down"===c()(e.ev.target._node).attr("id"))&&(window.moveDownActive=!0)}),e.on("drag:start",this._componentOnDragStart),e.on("drag:drag",this._componentOnDragDrag),e.on("drag:end",this._componentOnDragEnd)},this.changeComponentInState=function(e,t){o.ArtBoardComponents.props.handleChangeComponent(e.component,t,!0)},this.getCommonBoundingRect=e=>{const t=[],a=[],s=[],n=[];let o={width:0,height:0,x:0,y:0,left:0,top:0};for(const i of e){const e=document.getElementById(i.id);if(e){let o=e.getBoundingClientRect();const{width:i,height:r,left:l,top:c}=o;t.push(l),a.push(l+i),s.push(c),n.push(c+r)}}if(t.length>0){const e=Math.min.apply(Math,t),i=Math.max.apply(Math,a),r=Math.min.apply(Math,s);o={width:i-e,height:Math.max.apply(Math,n)-r,x:e,y:r,left:e,top:r}}return o},this.getCommonRect=function(){let e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.ArtBoard.props.currentBlockJSON,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s||(a=o.processComponentsWithFrames(a)),Array.isArray(a)){let s=[],i=[],r=[],l=[];for(const e of a){const a=o.Y.one("#".concat(CSS.escape(e.id)));a&&(n&&o.Y.one(".s-e__w-i__group-frame #".concat(CSS.escape(e.id)))?(t=ya(a._node,document.querySelector(".section-editor__widgets")),s.push(parseFloat(t.left)),i.push(parseFloat(t.left)+parseFloat(a.getStyle("width"))),r.push(parseFloat(t.top)),l.push(parseFloat(t.top)+parseFloat(a.getStyle("height")))):(s.push(parseFloat(a.getStyle("left")||a.get("offsetLeft"))),i.push(parseFloat(a.getStyle("left")||a.get("offsetLeft"))+parseFloat(a.getStyle("width"))),r.push(parseFloat(a.getStyle("top")||a.get("offsetTop"))),l.push(parseFloat(a.getStyle("top")||a.get("offsetTop"))+parseFloat(a.getStyle("height")))))}const c=Math.min.apply(Math,s),p=Math.max.apply(Math,i),d=Math.min.apply(Math,r);e={offsetWidth:p-c,offsetHeight:Math.max.apply(Math,l)-d,offsetLeft:c,offsetTop:d}}return e},this.percentWidthToPx=e=>{e+="";let t=window.WORKSPACE_WIDTH;return this.currentDevice.width<1200&&(t=this.currentDevice.width),e.indexOf("%")>-1?"".concat(Math.round(parseInt(e,10)/100*t),"px"):e},this.getCommonRectByComponentsProps=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.ArtBoard.props.currentBlockJSON,t=arguments.length>1?arguments[1]:void 0;e=o.processComponentsWithFrames(e);let a={left:0,width:0,top:0,height:0,opacity:0};const{width:s}=o.currentDevice,n=(parseFloat(window.WORKSPACE_WIDTH,10)-s)/2;if(t=t||JSON.parse(JSON.stringify(o.currentDevice)),Array.isArray(e)&&e.length>0&&o.currentDevice.name){const s=e.map(e=>{var a,s,i;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])||(t.name=Object.keys(e.styles)[0]),"window"===e.container&&"desktop"===o.currentDevice.name?parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].left,10)-n:parseFloat(null===(i=e.styles)||void 0===i?void 0:i[t.name].left,10)}),i=e.map(e=>{var a,s,i,r,l;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])||(t.name=Object.keys(e.styles)[0]),"window"===e.container&&"desktop"===t.name?parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].left,10)+parseFloat(o.percentWidthToPx(null===(i=e.styles)||void 0===i?void 0:i[t.name].width),10)-n:parseFloat(null===(r=e.styles)||void 0===r?void 0:r[t.name].left,10)+parseFloat(o.percentWidthToPx(null===(l=e.styles)||void 0===l?void 0:l[t.name].width),10)}),r=e.map(e=>{var a,s;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])||(t.name=Object.keys(e.styles)[0]),parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].top,10)}),l=e.map(e=>{var a,s,n;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])||(t.name=Object.keys(e.styles)[0]),parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].top,10)+parseFloat(null===(n=e.styles)||void 0===n?void 0:n[t.name].height,10)}),c=Math.min.apply(Math,s),p=Math.max.apply(Math,i),d=Math.min.apply(Math,r),h=Math.max.apply(Math,l),m=e.map(e=>{var a,s;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])||(t.name=Object.keys(e.styles)[0]),parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].opacity)});a={width:p-c,height:h-d,left:c,top:d},o.average(m)===m[0]&&(a.opacity=m[0])}return a},this.getCommonNode=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.ArtBoard.props.currentBlockJSON,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=o.getCommonRect(t,s,n),r=o.ArtBoard.props.getRootGroupIds();let l={};return e&&e.component&&(l={_node:e._node,_yuid:e._yuid,common:!0,ancestor:t=>t?e.ancestor(t):e.ancestor(),rootGroupIds:r,component:{id:"".concat(e._yuid,"common"),lock:e.component.lock,slug:e.component.slug,container:e.component.container,width_unit:e.component.width_unit,height_unit:e.component.height_unit,common:!0},ArtBoardComponents:o.ArtBoardComponents,currentBlocksIds:Array.isArray(t)?t.map(e=>e.id):[],hasClass:()=>!1,get:e=>i[e],customGet:e=>i[e],getStyles:()=>i,getStyle:e=>"width"===e?i.offsetWidth:"height"===e?i.offsetHeight:void 0,setStyles:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.stopDragComponents,n=o.getCurrentComponentsWithDependingComponents(a);if(a){let e={width:t.width,height:t.height,left:t.left,top:t.top};if(Object.keys(e).forEach(t=>{(isNaN(e[t])||void 0===e[t])&&delete e[t]}),1===n.length){const t=o.Y.one("#"+CSS.escape(n[0].id));t&&(t.setStyles(e),o.correctSizeForElementsInFrameWithFill(t))}else o.onResizeElements(e,n)}else if(s){let a=0;for(let e of n){let s=o.Y.one("#".concat(e.id));if((!o.ArtBoard.props.isMasterDependingComponentItem(s)||!o.ArtBoard.props.currentBlockJSON.find(e=>e.id===s.id))&&o.startRect){let i,r,l,c;if(!o.ArtBoard.props.currentBlockJSON.find(t=>t.id===e.id)&&e.main_master_component_id&&(i=n.find(t=>{let{id:a}=t;return a===e.main_master_component_id}),r=n.indexOf(i),r>-1&&(l=o.startComponentsPositions[a].width/o.startComponentsPositions[r].width,c=o.startComponentsPositions[a].height/o.startComponentsPositions[r].height)),o.startComponentsPositions[a]&&o.startComponentsPositions[a].left&&t.hasOwnProperty("left")&&void 0!==t.left){const n=parseFloat(t.left)-o.startRect.offsetLeft;let i=o.componentsHelperStyles(s.component).left+o.getStartComponentsPositionsOffset(a).left+parseFloat(o.startComponentsPositions[a].left,10)+n;o.ArtBoard.props.currentBlockJSON.find(t=>t.id===e.id)||"frame"===e.slug||(i="".concat(parseFloat(o.startComponentsPositions[a].left,10)+o.getStartComponentsPositionsOffset(a).left+o.componentsHelperStyles(s.component).left+n*l,"px")),s.setStyles({left:parseFloat(i)}),o.DDcomponentPositions.left=n}if(o.startComponentsPositions[a]&&o.startComponentsPositions[a].top&&t.hasOwnProperty("top")&&void 0!==t.top){const n=parseFloat(t.top)-o.startRect.offsetTop;let i=o.componentsHelperStyles(s.component).top+o.getStartComponentsPositionsOffset(a).top+parseFloat(o.startComponentsPositions[a].top,10)+n;o.ArtBoard.props.currentBlockJSON.find(t=>t.id===e.id)||"frame"===e.slug||(i="".concat(parseFloat(o.startComponentsPositions[a].top,10)+o.getStartComponentsPositionsOffset(a).top+o.componentsHelperStyles(s.component).top+n*c,"px")),s.setStyles({top:parseFloat(i)}),o.DDcomponentPositions.top=n}}a++,o.correctSizeForElementsInFrameWithFill(s)}window.setTransformator(e.component)}o.correctPositionInGroupsInFrameNegativeOffset(n)}}),l},this.getStartComponentsPositionsOffset=e=>{let t={top:0,left:0};return this.startComponentsPositionsOffset&&this.startComponentsPositionsOffset[e]?Object.assign({},t,this.startComponentsPositionsOffset[e]):t},this.showGridLines=()=>{const e=this.Y.Node.create("<div class='section-editor__grid-line'></div>"),t=this.Y.Node.create("<div class='section-editor__grid-line'></div>");e.setStyles({height:this.Y.one(".section-editor__layout").get("offsetHeight"),left:this.Y.one(".section-editor__layout").get("offsetLeft")}),t.setStyles({height:this.Y.one(".section-editor__layout").get("offsetHeight"),left:this.Y.one(".section-editor__layout").get("offsetLeft")+this.Y.one(".section-editor__layout").get("offsetWidth")}),this.Y.one(".section-editor__artboard").append(e),this.Y.one(".section-editor__artboard").append(t)},this.hideGridLines=()=>{this.Y.all(".section-editor__grid-line").remove()},this.componentsToDrag=[],this._componentOnDragStart=e=>{var t;let a=e.target.get("node"),s=this.Y.one("#".concat(null===a||void 0===a||null===(t=a.component)||void 0===t?void 0:t.id));if(!s||s.ancestor(".s-e__w-i__group_lock")||s.hasClass("s-e__w-i__group_lock")||this.ArtBoard.props.versionHistoryMode)return e.halt&&e.halt(),e.preventDefault(),void e.stopPropagation();let n=this.getCurrentComponentsWithDependingComponents();if(this.componentsToDrag=n,this.Y.one(".section-editor__space").addClass("section-editor__space_drag-mode"),window.componentIsDrag=!0,!window.moveDownActive&&window.moveUpActive,this.startComponentPosition={top:parseFloat(s.getStyle("top")),left:parseFloat(s.getStyle("left"))},"desktop"===this.currentDevice.name&&this.showGridLines(),this.startComponentsPositions=[],this.drag=s,this.altPressed&&this.createClones(),window.moveUpActive&&(this.componentsForMove=this.getComponentsByPosition()),window.moveDownActive&&(this.componentsForMove=this.getComponentsByPosition(!0)),window.moveDownActive||window.moveUpActive)for(let o of this.componentsForMove)if(o){let e=this.Y.one("#".concat(o.id));e.hasClass("s-e__w-i__move")||e.addClass("s-e__w-i__move")}if(this.Magnets.smartGuides.defineElementPositions(void 0,void 0,s),this.Magnets.updateTolerance(),s.hasClass("s-e__w-i_active")&&!this.ArtBoard.props.currentBlockIsLayout&&n.length>0){this.startRect=this.getCommonRect(),this.startComponentPosition={top:this.startRect.offsetTop,left:this.startRect.offsetLeft};for(let e of n){const t=this.Y.one("#".concat(e.id));if(t){t.is_drag=!0;let{top:a}=e.styles[this.currentDevice.name],{left:s}=e.styles[this.currentDevice.name];if("%"===e.left_unit&&(s="".concat(Math.round(parseInt(s,10)/100*this.currentDevice.width),"px")),"%"===e.top_unit){const e=document.getElementsByClassName("section-editor__layout")[0].offsetHeight;a="".concat(Math.round(parseInt(a,10)/100*e),"px")}this.startComponentsPositions.push({top:a,left:s,width:parseFloat(t.getStyle("width")),height:parseFloat(t.getStyle("height"))})}}}else{let e=s.component.styles[this.currentDevice.name].top,t=s.component.styles[this.currentDevice.name].left;if(s.is_drag=!0,"%"===s.component.left_unit&&(t="".concat(Math.round(parseInt(t,10)/100*window.WORKSPACE_WIDTH),"px")),"%"===s.component.top_unit){const t=document.getElementsByClassName("section-editor__layout")[0].offsetHeight;e="".concat(Math.round(parseInt(e,10)/100*t),"px")}this.startComponentsPositions=[{top:e,left:t}]}},this.getDragDirection=e=>{const t=e.info.start[0]-e.info.xy[0],a=e.info.start[1]-e.info.xy[1];return Math.abs(t)>Math.abs(a)&&t>0?"left":Math.abs(t)>Math.abs(a)&&t<0?"right":Math.abs(a)>Math.abs(t)&&a>0?"up":Math.abs(a)>Math.abs(t)&&a<0?"down":void 0},this.direction=void 0,this.getTranslate=e=>{const t=[];if(!window.getComputedStyle)return;const a=getComputedStyle(e),s=a.transform||a.webkitTransform||a.mozTransform||a.msTransform;let n=s.match(/^matrix3d\((.+)\)$/);return n?parseFloat(n[1].split(", ")[13]):(n=s.match(/^matrix\((.+)\)$/),n?t.push(parseFloat(n[1].split(", ")[4])):t.push(0),n?t.push(parseFloat(n[1].split(", ")[5])):t.push(0),t)},this.changeTranslate=(e,t,a,s)=>{const n=this.getTranslate(e);return t=t.replace("translate(".concat(n[0],"px, ").concat(n[1],"px)"),"translate(".concat(a||n[0],"px, ").concat(s||n[1],"px)"))},this.getCurrentGroupsIdsWithDependingGroups=()=>{let e=[];for(let t of this.ArtBoard.props.currentBlock.group_ids)this.Y.all("[data-main-master-component-id='".concat(t,"']")).each(t=>{e.push(t.getAttribute("id"))}),e.push(t);return e},this.getDependingComponents=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(Array.isArray(o.ArtBoard.props.currentBlockJSON))for(let a of o.ArtBoard.props.currentBlockJSON)o.Y.all("[data-main-master-component-id='".concat(a.id,"']:not(.widget-clone)")).each(s=>{let{component:n}=s,i=c()("#".concat(a.id)).parents(".s-e__w-i__group_master-component");if(i.length>0){let a=i[0].dataset.componentId;(-1===o.ArtBoardComponents.props.currentBlock.group_ids.indexOf(a)||e)&&t.push(n)}});return t},this.processComponentsWithFrames=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===(t=o.ArtBoard)||void 0===t?void 0:t.props.currentBlock.group_ids,s=[];a=a||[],e=Array.isArray(e)?e:[];for(const n of a){let e=o.Y.one('[data-component-id="'+n+'"]').component;e&&"frame"===e.slug&&s.push(e)}if(e=e.slice(),s.length>0){let t,a;for(const n of s){const i=o.getComponentsInGroup(n,void 0,void 0,!0);for(const n of i){if("frame"===n.slug){let e=s.find(e=>e.id===n.id);a=s.indexOf(e),a>-1&&s.splice(a,1)}let o=e.find(e=>e.id===n.id);t=e.indexOf(o),t>-1&&e.splice(t,1)}}for(const n of s){let a=e.find(e=>e.id===n.id);t=e.indexOf(a),t>-1&&e.splice(t,1)}}return e.concat(s)},this.getCurrentComponentsWithDependingComponents=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=t||o.ArtBoard.props.currentBlockJSON||[];return Array.isArray(a)?(a=a.concat(o.getDependingComponents(e)),a=o.processComponentsWithFrames(a)):a=[],a},this.addLine=e=>{let t=document.getElementById("section-editor__transformator").getBoundingClientRect(),a=document.createElement("div");a.style.top=t.top+(e?t.height:0)+"px",a.classList.add("section-editor__indicators-line"),document.querySelector(".section-editor__indicators-line")?document.querySelector(".section-editor__indicators-line").style.top=a.style.top:document.querySelector(".section-editor__space").appendChild(a)},this.removeAllLines=()=>{c()(".section-editor__indicators-line").remove()},this.getComponentsByPosition=e=>{let t=[],a=this.Y.one("#"+this.ArtBoard.props.currentBlockJSON[0].id);return a=this.getCommonNode(a),this.Y.all(".s-e__w-i:not(.widget-clone):not(.section-editor__layout)").each(s=>{let{component:n}=s,o=!1;1===this.ArtBoard.props.currentBlockJSON.length&&(o=a._yuid===s._yuid),!o&&s.get("offsetTop")>=a.get("offsetTop")+(e?a.get("offsetHeight"):0)&&n&&t.push(n)}),t},this._componentOnDragDrag=e=>{var t;e.preventDefault();let a=this.componentsToDrag;window.wheelActive&&this._componentOnDragStart(e);const s=e.target.get("node");let n=this.Y.one("#".concat(null===s||void 0===s||null===(t=s.component)||void 0===t?void 0:t.id));if(!n)return;if(!n||n.ancestor(".s-e__w-i__group_lock")||n.hasClass("s-e__w-i__group_lock")||this.ArtBoard.props.versionHistoryMode)return e.halt&&e.halt(),e.preventDefault(),void e.stopPropagation();const o=this;let i=e.info.offset[0],r=e.info.offset[1];this.getDragDirection(e)&&!this.direction&&(this.direction=this.getDragDirection(e)),(this.direction&&window.event.shiftKey||this.direction&&window.moveDownActive||this.direction&&window.moveUpActive)&&(window.moveDownActive||window.moveUpActive?i=0:(["up","down"].indexOf(this.direction)>-1&&(i=0),["left","right"].indexOf(this.direction)>-1&&(r=0)));const l=r/(window.currentZoom/100),c=i/(window.currentZoom/100);let p=n;if(window.wheelActive)return e.halt(),void e.preventDefault();this.DDcomponentPositions={top:r/(window.currentZoom/100),left:i/(window.currentZoom/100)},n.hasClass("s-e__w-i_active")&&!this.ArtBoard.props.currentBlockIsLayout&&a.length>0&&(p=this.getCommonNode(n),window.currentCommonNode=p),this.stopDragComponents=!1,e.preventDef=e=>{this.stopDragComponents=!0};let d=!1;if(this.ArtBoard.props.currentBlockIsLayout)d=!0;else if(!this.ArtBoard.props.currentBlockIsLayout&&a.length>0){0===a.filter(e=>{var t;return e.id===(null===(t=n.component)||void 0===t?void 0:t.id)||"frame"===e.slug}).length&&(d=!0)}if(d||window.disableDragForScroll)e.halt();else{if(window.moveUpActive&&this.addLine(),window.moveDownActive&&this.addLine(!0),!d||!window.disableDragForScroll){if(window.wheelActive||this.Magnets.magnetToComponentsOperations(e,p,this.startComponentPosition,this.getStartComponentsPositionsOffset,this.ArtBoard.props.isMasterDependingComponentItem,this.direction),window.moveDownActive||window.moveUpActive)for(let e of this.componentsForMove)if(e){let t=this.Y.one("#".concat(e.id));if(this.startComponentsPositions.length>0){let a=this.Y.one("#".concat(s.component.id)).get("offsetTop")-parseFloat(this.startComponentsPositions[0].top);t.setStyles({top:parseFloat(e.styles[this.currentDevice.name].top)+a})}}if(!this.ArtBoard.props.currentBlockIsLayout&&a.length>0){if(!this.stopDragComponents){let e=0;for(const t of a){if(o.startComponentsPositions[e]&&o.startComponentsPositions[e].hasOwnProperty("left")&&o.startComponentsPositions[e]&&o.startComponentsPositions[e].hasOwnProperty("top")){let s=this.Y.one("#".concat(t.id));const n="".concat(parseFloat(o.startComponentsPositions[e].left,10)+this.getStartComponentsPositionsOffset(e).left+this.componentsHelperStyles(s.component).left+c,"px"),i="".concat(parseFloat(o.startComponentsPositions[e].top,10)+this.getStartComponentsPositionsOffset(e).top+this.componentsHelperStyles(s.component).top+l,"px");if(this.ArtBoard.props.isMasterDependingComponentItem(s)||s.setStyles({top:i,left:n}),!this.ArtBoard.props.currentBlockJSON.find(e=>e.id===t.id)&&t.main_master_component_id){const n=a.find(e=>{let{id:a}=e;return a===t.main_master_component_id}),i=a.indexOf(n);let r=1,p=1;!window.moveDownActive&&!window.moveUpActive&&i>-1&&(r=o.startComponentsPositions[e].width/o.startComponentsPositions[i].width,p=o.startComponentsPositions[e].height/o.startComponentsPositions[i].height);const d="".concat(parseFloat(o.startComponentsPositions[e].left,10)+this.getStartComponentsPositionsOffset(e).left+this.componentsHelperStyles(s.component).left+c*r,"px"),h="".concat(parseFloat(o.startComponentsPositions[e].top,10)+this.getStartComponentsPositionsOffset(e).top+this.componentsHelperStyles(s.component).top+l*p,"px");s.setStyles({top:parseFloat(h),left:parseFloat(d)})}}e++}}}else if(!this.stopDragComponents&&o.startComponentsPositions[0].left&&o.startComponentsPositions[0].top){var h=this.Y.one("#".concat(n.component.id));const e="".concat(parseInt(o.startComponentsPositions[0].left,10)+this.getStartComponentsPositionsOffset(0).left+this.componentsHelperStyles(n.component).left+c,"px"),t="".concat(parseInt(o.startComponentsPositions[0].top,10)+this.getStartComponentsPositionsOffset(0).top+this.componentsHelperStyles(n.component).top+l,"px");h.setStyles({top:t,left:e})}}this.correctPositionInGroupsInFrameNegativeOffset(a),window.setTransformator(n.component)}},this._componentOnDragEnd=e=>{var t,a;const s=this.Y.one(".section-editor__space");s&&s.removeClass("section-editor__space_drag-mode");let n=this.getCurrentComponentsWithDependingComponents();this.removeAllLines(),this.Magnets.smartGuides&&this.Magnets.smartGuides.clear(),window.componentIsDrag=!1;const o=e.target.get("node"),i=this.Y.one("#".concat(o.component.id));if(this.direction=void 0,!i||i.ancestor(".s-e__w-i__group_lock")||i.hasClass("s-e__w-i__group_lock")||this.ArtBoard.props.versionHistoryMode)return e.halt&&e.halt(),e.preventDefault(),void e.stopPropagation();if(this.drag&&this.altPressed&&this.copyInsertAllow&&(document.getElementById("transformator-name").innerHTML="",this.ArtBoardComponents.handleCopyComponents({metaKey:!0,preventDefault:()=>{}},()=>{this.componentsCopied=!0})),window.wheelActive)return window.wheelActive=!1,e.preventDefault(),e.halt(),!this.ArtBoard.props.currentBlockIsLayout&&i.hasClass("s-e__w-i_active")&&n.length>0&&n.forEach((e,t)=>{this.Y.one("#".concat(e.id)).is_drag=!1}),"desktop"===this.currentDevice.name&&this.hideGridLines(),this.Magnets.hideLinesComponent(),void this.Y.one(".section-editor__filter").setStyles({border:"none"});"desktop"===this.currentDevice.name&&this.hideGridLines(),this.Magnets.hideLinesComponent(),this.Y.one(".section-editor__filter").setStyles({border:"none"});let r,l=this,p=i.get("offsetLeft")-this.componentsHelperStyles(i.component).left,d=i.get("offsetTop")-this.componentsHelperStyles(i.component).top;"%"===(null===(t=i.component)||void 0===t?void 0:t.left_unit)&&(p=Math.round(parseInt(p,10)/this.currentDevice.width*100)),"%"===(null===(a=i.component)||void 0===a?void 0:a.top_unit)&&(r=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,d=Math.round(parseInt(d,10)/r*100));let h=[];if(1===n.length&&"frame"!==n[0].slug&&(h.push({top:parseInt(parseFloat(d))+i.component.top_unit,left:parseInt(parseFloat(p))+i.component.left_unit}),this.altPressed||this.ArtBoard.props.isMasterDependingComponentItem(i)||this.changeComponentInState(i,h[0])),window.moveDownActive||window.moveUpActive){let e=[],t=[];for(let a of this.componentsForMove){let s=this.Y.one("#".concat(a.id)),n=this.Y.one("#".concat(o.component.id)).get("offsetTop")-parseFloat(this.startComponentsPositions[0].top);s.removeClass("s-e__w-i__move"),e.push(a),t.push({left:parseFloat(a.styles[this.currentDevice.name].left)+"px",top:parseFloat(a.styles[this.currentDevice.name].top)+n+"px"})}window.handleChangeComponentsStyles(e,t)}window.moveUpActive=!1,window.moveDownActive=!1,i.is_drag=!1;let m=[];const u=1===n.length&&"frame"===n[0].slug;if(!this.ArtBoard.props.currentBlockIsLayout&&i.hasClass("s-e__w-i_active")&&n.length>1||u){let e=0;for(let t of n){const a=this.Y.one("#".concat(t.id));if((!this.ArtBoard.props.isMasterDependingComponentItem(a)||!this.ArtBoard.props.currentBlockJSON.find(e=>e.id===t.id))&&l.startComponentsPositions[e]&&l.startComponentsPositions[e].top&&l.startComponentsPositions[e]&&l.startComponentsPositions[e].left){let s=parseFloat(l.startComponentsPositions[e].top,10)+this.getStartComponentsPositionsOffset(e).top+this.DDcomponentPositions.top,o=parseFloat(l.startComponentsPositions[e].left,10)+this.getStartComponentsPositionsOffset(e).left+this.DDcomponentPositions.left;if(a.is_drag=!1,"%"===t.left_unit&&(o=Math.round(parseFloat(o,10)/window.WORKSPACE_WIDTH*100)),"%"===t.top_unit&&(r=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,s=Math.round(parseFloat(s,10)/r*100)),this.ArtBoard.props.isMasterDependingComponentItem(a)||h.push({top:parseFloat(s)+t.top_unit,left:parseFloat(o)+t.left_unit}),!this.ArtBoard.props.currentBlockJSON.find(e=>e.id===t.id)&&t.main_master_component_id){const a=n.find(e=>{let{id:a}=e;return a===t.main_master_component_id}),i=n.indexOf(a);if(i>-1){const a=l.startComponentsPositions[e].width/l.startComponentsPositions[i].width,n=l.startComponentsPositions[e].height/l.startComponentsPositions[i].height;o=parseFloat(l.startComponentsPositions[e].left)+this.getStartComponentsPositionsOffset(e).left+this.DDcomponentPositions.left*a,s=parseFloat(l.startComponentsPositions[e].top)+this.getStartComponentsPositionsOffset(e).top+this.DDcomponentPositions.top*n,h.push({top:parseFloat(s)+t.top_unit,left:parseFloat(o)+t.left_unit})}}m.push(t)}e++}this.altPressed||window.handleChangeComponentsStyles(m,h)}if(this.drag&&this.altPressed&&this.copyInsertAllow){const e=JSON.parse(JSON.stringify(n));let t=0;for(const a of e)this.Y.all("[data-component-id='".concat(a.id,"']")).each(e=>{c()(e._node).parents(".widget-clone").length>0||c()(e._node).hasClass("widget-clone")?h[t]&&this.componentsHelperStyles(e.component)&&(e.setStyles({top:"".concat(parseFloat(h[t].top)+this.componentsHelperStyles(e.component).top,"px"),left:"".concat(parseFloat(h[t].left)+this.componentsHelperStyles(e.component).left,"px"),zIndex:100}),e.setData("position-top",parseFloat(h[t].top)),e.setData("position-left",parseFloat(h[t].left))):e.setStyles({top:"".concat(parseFloat(e.component.styles[this.currentDevice.name].top,10)+this.componentsHelperStyles(e.component).top,"px"),left:"".concat(parseFloat(e.component.styles[this.currentDevice.name].left,10)+this.componentsHelperStyles(e.component).left,"px")})}),t++;this.insertInterval=setInterval(()=>{this.componentsCopied&&(this.ArtBoard.lastMouseEvent=void 0,this.ArtBoardComponents.handleInsertComponents({preventDefault:()=>{},stopPropagation:()=>{}},!0,this.removeClones,!0,h,e),clearInterval(this.insertInterval),this.componentsCopied=!1)})}this.startComponentsPositionsOffset=void 0,this.drag=!1,setTimeout(()=>{e.currentTarget&&e.currentTarget.mouseXY&&e.currentTarget.mouseXY.length>0&&this.ArtBoard.findElementByMousePosition({pageX:e.currentTarget.mouseXY[0],pageY:e.currentTarget.mouseXY[1]})}),this.correctPositionInGroupsInFrameNegativeOffset(this.componentsToDrag,!0),this.componentsToDrag=[],this.fillGroupsRects={}},this.getCommonDependingRects=e=>{let t=e,a=la()(t,e=>{let t=c()("#".concat(e.id)).parents(".s-e__w-i__group_master-component");if(t.length>0)return t[0].getAttribute("id")});for(let s of Object.keys(a)){let e=[];this.Y.all("#".concat(s," .s-e__w-i")).each(t=>{let{component:a}=t;"group"!==a.slug&&"frame"!==a.slug&&e.push(a)}),a[s]={single:this.getCommonRect(a[s]),group:this.getCommonRect(e)}}return a},this.isMasterDependingComponentItemForResize=e=>(e=c()(e._node))&&e.parents(".s-e__w-i__group_master-component").length>0&&e.parents("[data-main-master-component-id]").length>0&&e.parents(".s-e__w-i__group_master-component")[0].getAttribute("id"),this.startRect={},this.getStartRect=e=>{let t=JSON.parse(JSON.stringify(this.startRect)),a=this.isMasterDependingComponentItemForResize(e),s=this.Y.one("#".concat(a));const n=s?s.getData("main-master-component-id"):null;return a&&this.startRects[a]?{startRect:this.startRects[a].single,groupRect:this.startRects[a].group,mainMasterGroupRect:this.startRects[n]?this.startRects[n].group:null,masterId:a,mainMasterId:n}:{startRect:t}},this.onResizeElements=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.startComponentSizes,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.startRect,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o.offsetOptions;const r=o.ArtBoard.props.currentBlockJSON,l=(t,a)=>{let i,l=o.Y.one("#".concat(t.id)),{startRect:c,masterId:p,mainMasterId:d,mainMasterGroupRect:h}=o.getStartRect(l),m=JSON.parse(JSON.stringify(e));if(p&&!r.find(e=>e.id===t.id)){const e=o.ArtBoard.props.currentBlock.group_ids.indexOf(d)>-1;if(e&&h&&parseFloat(c.offsetWidth.toFixed(0))===parseFloat(h.offsetWidth.toFixed(0))&&parseFloat(c.offsetHeight.toFixed(0))===parseFloat(h.offsetHeight.toFixed(0))||!e){const t=s[a].width/n.offsetWidth,r=(s[a].left-c.offsetLeft)/n.offsetWidth;i={width:"".concat(parseFloat(m.width)*t,"px"),left:"".concat(c.offsetLeft+parseFloat(m.width)*r,"px")},o.altPressed&&!e&&(i.left="".concat(c.offsetLeft+(parseFloat(m.left)-n.offsetLeft)*t+parseFloat(m.width)*r,"px"))}}else{let e=s[a].width/n.offsetWidth,t=(s[a].left-n.offsetLeft)/n.offsetWidth;i={width:"".concat(parseFloat(m.width)*e,"px"),left:"".concat(n.offsetLeft+parseFloat(m.width)*t,"px")},o.altPressed&&(i.left="".concat(parseFloat(m.left)+parseFloat(m.width)*t,"px"))}l.setStyles(i)},c=(a,i)=>{let l,c=o.Y.one("#".concat(a.id)),{startRect:p,masterId:d,mainMasterId:h,mainMasterGroupRect:m}=o.getStartRect(c),u=JSON.parse(JSON.stringify(e));if(d&&!r.find(e=>e.id===a.id)){const e=o.ArtBoard.props.currentBlock.group_ids.indexOf(h)>-1;if(e&&m&&parseFloat(p.offsetWidth.toFixed(0))===parseFloat(m.offsetWidth.toFixed(0))&&parseFloat(p.offsetHeight.toFixed(0))===parseFloat(m.offsetHeight.toFixed(0))||!e){const r=s[i].width/n.offsetWidth,c=(s[i].left-p.offsetLeft)/n.offsetWidth,d=t.find(e=>{let{id:t}=e;return t===a.main_master_component_id}),h=parseFloat(o.Y.one("#".concat(d.id)).getStyle("left")),m=t.indexOf(d),g=s[i].width/s[m].width,_=(h-s[m].left)*g;l={left:"".concat(s[i].left+_,"px"),width:"".concat(parseFloat(u.width)*r,"px")},e&&(l.left="".concat(p.offsetLeft+parseFloat(u.width)*c,"px"))}}else{const e=s[i].width/n.offsetWidth,t=(s[i].left-n.offsetLeft)/n.offsetWidth;l={left:"".concat(parseFloat(u.left)+parseFloat(u.width)*t,"px"),width:"".concat(parseFloat(u.width)*e,"px")}}c.setStyles(l)},p=(t,a)=>{let i,l=o.Y.one("#".concat(t.id)),{startRect:c,masterId:p,mainMasterId:d,mainMasterGroupRect:h}=o.getStartRect(l),m=JSON.parse(JSON.stringify(e));if(p&&!r.find(e=>e.id===t.id)){const e=o.ArtBoard.props.currentBlock.group_ids.indexOf(d)>-1;if(e&&h&&parseFloat(c.offsetWidth.toFixed(0))===parseFloat(h.offsetWidth.toFixed(0))&&parseFloat(c.offsetHeight.toFixed(0))===parseFloat(h.offsetHeight.toFixed(0))||!e){const t=s[a].height/n.offsetHeight,r=(s[a].top-c.offsetTop)/n.offsetHeight;i={height:"".concat(parseFloat(m.height)*t,"px"),top:"".concat(c.offsetTop+parseFloat(m.height)*r,"px")},o.altPressed&&!e&&(i.top="".concat(c.offsetTop+(parseFloat(m.top)-n.offsetTop)*t+parseFloat(m.height)*r,"px"))}}else if(s[a]){const e=s[a].height/n.offsetHeight,t=(s[a].top-n.offsetTop)/n.offsetHeight;i={height:"".concat(parseFloat(m.height)*e,"px"),top:"".concat(n.offsetTop+parseFloat(m.height)*t,"px")},o.altPressed&&(i.top="".concat(parseFloat(m.top)+parseFloat(m.height)*t,"px"))}l.setStyles(i)},d=(a,i)=>{let l,c=o.Y.one("#".concat(a.id)),{startRect:p,masterId:d,mainMasterId:h,mainMasterGroupRect:m}=o.getStartRect(c),u=JSON.parse(JSON.stringify(e));if(d&&!r.find(e=>e.id===a.id)){const e=o.ArtBoard.props.currentBlock.group_ids.indexOf(h)>-1;if(e&&m&&parseFloat(p.offsetWidth.toFixed(0))===parseFloat(m.offsetWidth.toFixed(0))&&parseFloat(p.offsetHeight.toFixed(0))===parseFloat(m.offsetHeight.toFixed(0))||!e){const r=s[i].height/n.offsetHeight,c=(s[i].top-p.offsetTop)/n.offsetHeight,d=t.find(e=>{let{id:t}=e;return t===a.main_master_component_id}),h=parseFloat(o.Y.one("#".concat(d.id)).getStyle("top")),m=t.indexOf(d),g=s[i].height/s[m].height,_=(h-s[m].top)*g;l={top:"".concat(s[i].top+_,"px"),height:"".concat(parseFloat(u.height)*r,"px")},e&&(l.top="".concat(p.offsetTop+parseFloat(u.height)*c,"px"))}}else{const e=s[i].height/n.offsetHeight,t=(s[i].top-n.offsetTop)/n.offsetHeight;l={height:"".concat(parseFloat(u.height)*e,"px"),top:"".concat(u.top+u.height*t,"px")}}c.setStyles(l)};t.forEach((e,t)=>{const s=o.Y.one("#".concat(e.id));if("slider"===e.slug&&window.swipers[e.id].update(),"icon"===e.slug&&s.setStyles({fontSize:s.getStyle("width")}),!o.ArtBoard.props.isMasterDependingComponentItem(s)||!o.ArtBoard.props.currentBlockJSON.find(t=>t.id===e.id)){var n,r,h,m;const{target:u}=i.e;(null===(n=u.handle)||void 0===n?void 0:n.indexOf("b"))>-1&&p(e,t),(null===(r=u.handle)||void 0===r?void 0:r.indexOf("r"))>-1&&l(e,t),(null===(h=u.handle)||void 0===h?void 0:h.indexOf("t"))>-1&&d(e,t),(null===(m=u.handle)||void 0===m?void 0:m.indexOf("l"))>-1&&c(e,t),a||setTimeout(()=>{o.correctSizeForElementsInFrameWithFill(s)})}})},this.resizeComponents=[],this.setFillComponentsSize=(e,t)=>{this.correctSizeForElementsInFrameWithFill(this.Y.one("#"+CSS.escape(e.id)).ancestor(".s-e__w-i__autolayout"),!0)},this.correctComponentsForFrame=(e,t,a,s,n)=>{if(document.querySelector(".s-e__w-i__group-frame .s-e__w-i__group ."+n.slug+"_"+CSS.escape(n.id))){const e=this.Y.one("."+n.slug+"_"+CSS.escape(n.id)).ancestor(".s-e__w-i__group")._node;ya(e,document.querySelector(".section-editor__widgets"))}const o=this.Y.one("."+n.slug+"_"+CSS.escape(n.id)).ancestor("[xfill=true][pf],[yfill=true][pf]"),i=this.ArtBoard.props.getRootGroupIds();if(o){const e=o.component,n=i.indexOf(o.getAttribute("id"))>-1;if(e&&n&&!t.find(t=>t.id===e.id)&&("fill"===e.data.xSizingMode||"fill"===e.data.ySizingMode)){const n=JSON.parse(JSON.stringify(e.data));let o={};"fill"===e.data.xSizingMode&&s.currentTarget.changeWidthHandles&&(o.xSizingMode="fixed"),"fill"===e.data.ySizingMode&&s.currentTarget.changeHeightHandles&&(o.ySizingMode="fixed"),t.push(e),a.push({data:Object.assign(n,o)})}}if(0===i.length&&("fill"===n.data.xSizingMode||"fill"===n.data.ySizingMode)){const e=JSON.parse(JSON.stringify(n.data));let o={};"fill"===n.data.xSizingMode&&s.currentTarget.changeWidthHandles&&(o.xSizingMode="fixed"),"fill"===n.data.ySizingMode&&s.currentTarget.changeHeightHandles&&(o.ySizingMode="fixed"),t.push(n),a.push({data:Object.assign(e,o)})}if("frame"===n.slug){if(["auto","fill"].indexOf(n.data.xSizingMode)>-1||["auto","fill"].indexOf(n.data.ySizingMode)>-1){const e=JSON.parse(JSON.stringify(n.data));let o={};["auto","fill"].indexOf(n.data.xSizingMode)>-1&&s.currentTarget.changeWidthHandles&&(o.xSizingMode="fixed"),["auto","fill"].indexOf(n.data.ySizingMode)>-1&&s.currentTarget.changeHeightHandles&&(o.ySizingMode="fixed"),t.push(n),a.push({data:Object.assign(e,o)})}}},this._componentResizeStart=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=e.target.get("node"),s=o.Y.one("#".concat(a.component.id));window.resizeComponent=!0,o.ArtBoard.hideRulersForComponent(),o.Magnets.smartGuides.defineElementPositions(void 0,void 0,s),o.Magnets.updateTolerance();let n=o.getCurrentComponentsWithDependingComponents(!0,t);o.resizeComponents=n,"desktop"===o.currentDevice.name&&o.showGridLines();const i=o.getCommonNode(s),r=o.Y.one(".section-editor__space");r&&r.addClass("section-editor__space_resize-mode"),o.ResizeComponentPosition={oldValues:{},start:{top:i.get("offsetTop"),left:i.get("offsetLeft"),width:i.get("offsetWidth"),height:i.get("offsetHeight")}},o.startComponentPosition={top:s.get("offsetTop"),left:s.get("offsetLeft"),width:s.get("offsetWidth"),height:s.get("offsetHeight")},o.startComponentSizes=[];let l=[],c=[];n.forEach((t,a)=>{const s=o.Y.one("#".concat(CSS.escape(t.id)));if(s){let a={left:0,top:0};e.currentTarget&&o.correctComponentsForFrame(a,l,c,e,t),o.startComponentSizes.push({top:parseFloat(s.getStyle("top"))+parseFloat(a.top),left:parseFloat(s.getStyle("left"))+parseFloat(a.left),width:parseFloat(s.getStyle("width")),height:parseFloat(s.getStyle("height"))})}}),l.length>0&&window.handleChangeComponentsProperties(l,c),o.showMouseLabel(),o.ResizeComponentPosition.ratioHeight=i.get("offsetWidth")/i.get("offsetHeight"),o.ResizeComponentPosition.ratioWidth=i.get("offsetHeight")/i.get("offsetWidth");let p=0;s.component.styles[o.currentDevice.name].transform&&(p=parseInt(s.component.styles[o.currentDevice.name].transform.replace("rotate(","").replace("deg)",""),10));const d={top:s.get("offsetTop"),left:s.get("offsetLeft"),width:s.get("offsetWidth"),height:s.get("offsetHeight"),rotateAngle:p},h=o.Y.one("#".concat(s.component.id));o.startComponentsStyles={top:h.get("offsetTop"),left:h.get("offsetLeft"),width:h.get("offsetWidth"),height:h.get("offsetHeight")},o.startStyles=Ca(d),o.startRect=o.getCommonRect(t),o.startRects=o.getCommonDependingRects(n)},this.resizeWithRotateAngleHelper=(e,t,a)=>{const s=e.target.handle,n=window.event.shiftKey,{startStyles:{position:{centerX:o,centerY:i},size:{width:r,height:l},transform:{rotateAngle:c}}}=this,p=e.dragEvent.info.offset[0]/(window.currentZoom/100),d=e.dragEvent.info.offset[1]/(window.currentZoom/100),h=Math.atan2(d,p),m=(u=p,g=d,Math.sqrt(u*u+g*g));var u,g;const _={width:r,height:l,centerX:o,centerY:i,rotateAngle:c};this.resizeAngleHelper(m,h,_,s,n,t)},this.resizeAngleHelper=(e,t,a,s,n,o)=>{const{rotateAngle:i}=a;if(0!==i){const r=t-ha(i+0),l=e*Math.cos(r),c=e*Math.sin(r),p=!!n&&a.width/a.height,{position:{centerX:d,centerY:h},size:{width:m,height:u}}=((e,t,a,s,n,o,i)=>{let{width:r,height:l,centerX:c,centerY:p,rotateAngle:d}=t;const h=r<0?-1:1,m=l<0?-1:1;switch(r=Math.abs(r),l=Math.abs(l),e){case"r":{const e=ga(r,a,o);r=e.width,a=e.deltaW,n?(s=a/n,l=r/n,c+=a/2*ma(d)-s/2*ua(d),p+=a/2*ua(d)+s/2*ma(d)):(c+=a/2*ma(d),p+=a/2*ua(d));break}case"tr":{s=-s;const e=ga(r,a,o);r=e.width,a=e.deltaW;const t=_a(l,s,i);l=t.height,s=t.deltaH,n&&(a=s*n,r=l*n),c+=a/2*ma(d)+s/2*ua(d),p+=a/2*ua(d)-s/2*ma(d);break}case"br":{const e=ga(r,a,o);r=e.width,a=e.deltaW;const t=_a(l,s,i);l=t.height,s=t.deltaH,n&&(a=s*n,r=l*n),c+=a/2*ma(d)-s/2*ua(d),p+=a/2*ua(d)+s/2*ma(d);break}case"b":{const e=_a(l,s,i);l=e.height,s=e.deltaH,n?(r=l*n,c+=(a=s*n)/2*ma(d)-s/2*ua(d),p+=a/2*ua(d)+s/2*ma(d)):(c-=s/2*ua(d),p+=s/2*ma(d));break}case"bl":{const e=ga(r,a=-a,o);r=e.width,a=e.deltaW;const t=_a(l,s,i);l=t.height,s=t.deltaH,n&&(l=r/n,s=a/n),c-=a/2*ma(d)+s/2*ua(d),p-=a/2*ua(d)-s/2*ma(d);break}case"l":{const e=ga(r,a=-a,o);r=e.width,a=e.deltaW,n?(l=r/n,s=a/n,c-=a/2*ma(d)+s/2*ua(d),p-=a/2*ua(d)-s/2*ma(d)):(c-=a/2*ma(d),p-=a/2*ua(d));break}case"tl":{s=-s;const e=ga(r,a=-a,o);r=e.width,a=e.deltaW;const t=_a(l,s,i);l=t.height,s=t.deltaH,n&&(r=l*n,a=s*n),c-=a/2*ma(d)-s/2*ua(d),p-=a/2*ua(d)+s/2*ma(d);break}case"t":{const e=_a(l,s=-s,i);l=e.height,s=e.deltaH,n?(r=l*n,c+=(a=s*n)/2*ma(d)+s/2*ua(d),p+=a/2*ua(d)-s/2*ma(d)):(c+=s/2*ua(d),p-=s/2*ma(d));break}}return{position:{centerX:c,centerY:p},size:{width:r*h,height:l*m}}})(s,{...a,rotateAngle:i},l,c,p,-1/0,-1/0),g=(e=>{let{centerX:t,centerY:a,width:s,height:n,rotateAngle:o}=e;return{top:a-n/2,left:t-s/2,width:s,height:n,rotateAngle:o}})({centerX:d,centerY:h,width:m,height:u,rotateAngle:i});o.top=g.top,o.left=g.left,o.width=g.width,o.height=g.height}},this.keepRatio=()=>{const{event:e}=window;return!e.ctrlKey&&!e.metaKey&&e.shiftKey||this.ArtBoard.props.keepRatio},this.calculateStyles=function(e,t,a,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.ResizeComponentPosition;const i=o.keepRatio();return i&&o.altPressed?(s.target.handle.indexOf("t")>-1&&(e.width=n.start.width-2*a,n.start.width-2*a>=1&&(e.left=n.start.left+a),e.height=n.start.height-2*a,n.start.height-2*a>=1&&(e.top=n.start.top+a)),s.target.handle.indexOf("b")>-1&&(e.width=n.start.width+2*a,n.start.width+2*a>=1&&(e.left=n.start.left-a),e.height=n.start.height+2*a,n.start.height+2*a>=1&&(e.top=n.start.top-a)),s.target.handle.indexOf("l")>-1&&(e.width=n.start.width-2*t,n.start.width-2*t>=1&&(e.left=n.start.left+t),e.height=n.start.height-2*t,n.start.height-2*t>=1&&(e.top=n.start.top+t)),s.target.handle.indexOf("r")>-1&&(e.width=n.start.width+2*t,n.start.width+2*t>=1&&(e.left=n.start.left-t),e.height=n.start.height+2*t,n.start.height-2*t>=1&&(e.top=n.start.top-t))):(s.currentTarget.changeLeftHandles&&(o.altPressed?(e.width=n.start.width-2*t,n.start.width-2*t>=1&&(e.left=n.start.left+t)):(e.width=n.start.width-t,n.start.width-t>=1&&(e.left=n.start.left+t))),s.currentTarget.changeWidthHandles&&!s.currentTarget.changeLeftHandles&&(o.altPressed?(e.width=n.start.width+2*t,n.start.width+2*t>=1&&(e.left=n.start.left-t)):e.width=n.start.width+t),s.currentTarget.changeTopHandles&&(e.height=n.start.height-a,["tl"].indexOf(s.target.handle)>-1&&i?e.width*n.ratioWidth>=1&&(e.top=n.start.top-e.width*n.ratioWidth+n.start.height):o.altPressed?(e.height=n.start.height-2*a,n.start.height-2*a>=1&&(e.top=n.start.top+a)):n.start.height-a>=1&&(e.top=n.start.top+a)),s.currentTarget.changeHeightHandles&&!s.currentTarget.changeTopHandles&&(o.altPressed?(e.height=n.start.height+2*a,n.start.height+2*a>=1&&(e.top=n.start.top-a)):e.height=n.start.height+a),i&&(["t","b","br","tr"].indexOf(s.target.handle)>-1&&(e.width=e.height*n.ratioHeight),["bl","l","r"].indexOf(s.target.handle)>-1&&(e.height=e.width*n.ratioWidth),["tl"].indexOf(s.target.handle)>-1&&(e.height=e.width*n.ratioWidth))),e},this.componentsToResize=[],this._componentResizeResize=e=>{var t;let a={};const s=e.target.get("node");this.hideIndicator();let n=this.Y.one("#".concat(s.component.id));if(!n||!n.component)return e.preventDefault(),!1;if(n=this.getCommonNode(n,void 0,!0),e.preventDefault(),n.component.lock)return!1;const o=e.dragEvent.info.offset[0]/(window.currentZoom/100),i=e.dragEvent.info.offset[1]/(window.currentZoom/100);if(this.offsetOptions={offsetX:o,offsetY:i,e:e},a=this.calculateStyles(a,o,i,e),["l","r"].indexOf(e.target.handle)>-1&&(null===(t=this.ArtBoard.props.currentBlockJSON[0])||void 0===t?void 0:t.data)&&!this.ArtBoard.props.currentBlockJSON[0].data.resized&&1===this.ArtBoard.props.currentBlockJSON.length&&"text"===this.ArtBoard.props.currentBlockJSON[0].slug){const e=document.getElementById("".concat(this.ArtBoard.props.currentBlockJSON[0].id)),t=document.createElement("div");t.innerHTML=e.innerHTML,document.body.appendChild(t);const{fontSize:a,lineHeight:s,fontWeight:n,fontFamily:o,width:i}=e.style;Object.assign(t.style,{"font-size":a,"line-height":s,"font-weight":n,"font-family":o,display:"table",width:i,"word-break":"break-word"}),t.style.zIndex=-999999999,t.querySelector("[data-content]").style.display="block",window.handleChangeComponentsStyles([this.ArtBoard.props.currentBlockJSON[0]],[{height:t.querySelector("[data-content]").offsetHeight+"px"}],!1),t.remove()}this.stylesForComponent=a,(this.ArtBoard.props.currentBlockJSON[0]&&1===this.ArtBoard.props.currentBlockJSON.length||1===this.componentsToResize.length)&&("slider"===this.ArtBoard.props.currentBlockJSON[0].slug&&window.swipers[this.ArtBoard.props.currentBlockJSON[0].id]&&window.swipers[this.ArtBoard.props.currentBlockJSON[0].id].update(),this.resizeWithRotateAngleHelper(e,this.stylesForComponent,n)),n.setStyles(a),this.ArtBoardComponentIndicator.setTransformator(this.ArtBoard.props.currentBlockJSON[0]),this.stopResize||window.setTransformator(n.component),this.stopResize=!1,e.dragEvent.preventDef=()=>{this.stopResize=!0},this.altPressed&&this.Magnets.smartGuides&&this.Magnets.smartGuides.clear(),this.keepRatio()||0!==this.startStyles.transform.rotateAngle||this.altPressed||this.Magnets.resizeMagnetToComponentsOperations(e,e.dragEvent,n,this.startComponentPosition,this.startRect,this.ArtBoard.props.currentBlockJSON,this.stylesForComponent);const r={width:n.get("offsetWidth"),height:n.get("offsetHeight"),height_unit:"px",width_unit:"px"};let l=this.currentDevice.width,c=document.getElementsByClassName("section-editor__layout")[0].offsetHeight;1200===this.currentDevice.width&&"window"===n.component.container&&(l=window.WORKSPACE_WIDTH),1===this.ArtBoard.props.currentBlockJSON.length&&(r.width_unit=n.component.width_unit,r.height_unit=n.component.height_unit,"%"===n.component.width_unit&&(r.width="".concat(Math.round(parseInt(r.width,10)/l*100),"%")),"%"===n.component.height_unit&&(c=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,r.height="".concat(Math.round(parseInt(r.height,10)/c*100),"%"))),this.setMouseLabel(r,r.width_unit,r.height_unit,e.dragEvent)},this._componentResizeEnd=e=>{e.preventDefault();const t=this.Y.one(".section-editor__space");t&&t.removeClass("section-editor__space_resize-mode"),this.Magnets.smartGuides&&this.Magnets.smartGuides.clear(),"desktop"===this.currentDevice.name&&this.hideGridLines()},this.componentsToChangeForFill=[],this.stylesToChangeForFill=[],this._componentResizeMouseUp=function(e){let t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=[],i=[],r=[];window.resizeComponent=!1;let l,c,p,d,h,m=o.getCurrentComponentsWithDependingComponents(!0,s),u=o.currentDevice.width;for(let _ of m){var g;if(l=o.Y.one("#".concat(CSS.escape(_.id))),null===(g=l)||void 0===g?void 0:g.component){p=parseFloat(l.getStyle("height")),c=parseFloat(l.getStyle("width")),d=parseFloat(l.getStyle("left")),h=parseFloat(l.getStyle("top")),1200===o.currentDevice.width&&"window"===l.component.container&&(u=window.WORKSPACE_WIDTH);let s=d-o.componentsHelperStyles(l.component).left,m=h-o.componentsHelperStyles(l.component).top;"%"===l.component.left_unit&&(s=Math.round(parseFloat(s)/u*100)),"%"===l.component.top_unit&&(t=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,m=Math.round(parseFloat(m)/t*100));const g={width:"".concat(c).concat(l.component.width_unit),height:"".concat(p,"px"),left:s+l.component.left_unit,top:m+l.component.top_unit};"icon"===l.component.slug&&(g.fontSize="".concat(c,"px"));let f=JSON.parse(JSON.stringify(_.data));if("text"===l.component.slug&&"fixedsize"!==l.component.data.behavior&&(r.push(_),i.push({data:Object.assign(f,{behavior:"fixedsize"})})),"text"!==l.component.slug||l.component.data.resized||-1!==["l","r"].indexOf(e.target.handle)||(r.push(_),i.push({data:Object.assign(f,{resized:!0})})),!a){if("%"===l.component.width_unit){const e=l.get("offsetWidth");g.width="".concat(Math.round(parseFloat(e,10)/u*100),"%")}if("%"===l.component.height_unit){const e=l.get("offsetHeight");t=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,g.height="".concat(Math.round(parseFloat(e,10)/t*100),"%")}}n.push(g)}}o.componentsToChangeForFill.length>0&&(m=m.concat(o.componentsToChangeForFill),n=n.concat(o.stylesToChangeForFill),o.componentsToChangeForFill=[],o.stylesToChangeForFill=[]),s||(window.handleChangeComponentsProperties(r,i),window.handleChangeComponentsStyles(m,n)),o.Magnets.hideLinesComponent(),o.hideMouseLabel(),o.correctPositionInGroupsInFrameNegativeOffset(o.resizeComponents,!0),o.resizeComponents=[],o.fillGroupsRects={}},this.Y=e,this.Magnets=new da(e,this),this.initAltShortcut(),this.altPressed=!1,this.drag=!1,this.getComponentsInGroup=a,this.currentDevice=n,window.createClones=this.createClones,window.removeClones=this.removeClones}average(e){let t=0;for(let a=0;a<e.length;a++)t+=e[a];return e.length>0?t/e.length:t}},Ea=a(160);const ka=(e,t,a)=>{var s=e.lastIndexOf(t);return-1===s?e:e.slice(0,s)+a+e.slice(s+t.length)};class Sa extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={style:{},active:!1},this.CKEditorConfig=()=>{const e=this;return window.CKEDITOR.dtd.$removeEmpty.i=!1,{language:"en",height:"100%",enterMode:window.CKEDITOR.ENTER_BR,format_tags:"h1;h2;h3;h4;h5;h6;div;small",format_small:{element:"h6",name:"Small",attributes:{class:"small"}},format_div:{element:"div",name:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439"},autoParagraph:!1,readOnly:!1,disableAutoInline:!0,forcePasteAsPlainText:!0,allowedContent:"br(*){*}[*]; u(*){*}[*]; a(*){*}[*]; span(*){*}[*]; div(*){*}[*]; ul(*){*}[*]; li(*){*}[*]; ol(*){*}[*];",extraAllowedContent:"a(*){*}[*] br(*){*}[*] u(*){*}[*] strike(*){*}[*] i(*){*}[*] em(*){*}[*] b(*){*}[*] b(*){*}[*] strong(*){*}[*]",removePlugins:"elementspath, contextmenu, liststyle, tabletools, tableselection, language, dragdrop, basket, image, magicline, link",disableNativeSpellChecker:!0,resize_enabled:!1,skin:"empty,/ckeditor/skins/empty/",contentsCss:["/ckeditor/reset.css?t=8"].concat(Object(qt.l)(this.props.installedFonts)).concat(this.props.getInstalledFontsCSS(this.props.installedFonts)),on:{blur:e=>{let t=new CustomEvent("siter.textblur");document.dispatchEvent(t)},key:function(t){if(13===t.data.keyCode&&setTimeout(()=>{t.editor.document.$.querySelectorAll("br").forEach(e=>{0===e.classList.length&&e.classList.add("nl-"+window.currentDeviceName)})}),32===t.data.keyCode){var a=t.editor.getSelection().getRanges()[0],s=a.startContainer.$.textContent.slice(Math.max(0,a.startOffset-4),a.startOffset);if("-"===s||"\u200b\u200b\u200b-"===s||"\u200b\u200b\u200b*"===s||"*"===s){let a=t.editor.getData(),n=(new Date).getTime();const o=ka(a,"".concat(s.replace(/\u200b/g,"")),"<ul id='".concat(n,"'><li></li></ul>"));t.editor.setData(o),e.focusCarretToContent(t.editor,t.editor.document.$.getElementById(n))}var n=s.replace(/\u200b/g,""),o=n.indexOf(")")>-1,i=n.indexOf(".")>-1;if((o||i)&&parseInt(n)===parseFloat(n)&&parseFloat(n)<100){let a=t.editor.getData(),s=(new Date).getTime();const i=ka(a,"".concat(parseInt(n)).concat(o?")":"."),"<ol id='".concat(s,"' start='").concat(parseInt(n),"'><li></li></ol>"));t.editor.setData(i),e.focusCarretToContent(t.editor,t.editor.document.$.getElementById(s))}}setTimeout(()=>{const a=document.querySelector("#".concat(CSS.escape(e.props.currentBlockId)," [data-content]"));a&&(a.innerHTML=t.editor.getData(),e.updateSize())})},instanceReady:e=>{var t;if(null===(t=e.editor)||void 0===t?void 0:t.document){const t=e.editor.document.$.body;t&&t.classList&&(t.classList.add("notranslate"),t.setAttribute("data-gramm","false"))}}}}},this.onDataUpdated=()=>{this.setCurrentStyles()},this.onFontAdd=e=>{let{detail:t}=e;const a=Object(qt.i)(),s=Object(qt.l)(t.installedFonts),n=a.document.$.querySelectorAll("link")[1],o=a.document.$.querySelectorAll("style")[0];n&&n.setAttribute("href",s),o&&(o.innerHTML=o.innerHTML+"\n"+this.props.getInstalledFontsCSS(this.props.installedFonts))},this.focusCarretToContent=(e,t)=>{const a=e.window.$.getSelection(),s=e.document.$.createRange();a.removeAllRanges(),s.selectNodeContents(t),s.collapse(!1),a.addRange(s),t.focus()},this.setCurrentStyles=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props;if(a.currentBlockId){var s;const e=Object(qt.i)(),{align:n,componentState:o}=a,i=n||"top",r=document.getElementById(a.currentBlockId);let l={display:"table",color:a.data.gradient?a.data.gradient.bg_color_start:""};if(r&&(null===(s=e.document)||void 0===s?void 0:s.$.body)){let t=e.document.$.body;if("text"===a.currentBlockSlug){t.classList.remove("desktop"),t.classList.forEach(e=>{e.indexOf("res")>-1&&t.classList.remove(e)}),t.classList.add(window.currentDeviceName),c()(t).attr("style",""),Object.assign(t.style,Object(qt.m)(r),l),t&&(t.style.verticalAlign=i);let e=t.querySelector("style#component"),s=t.querySelector("style#component-hover");e||(e=document.createElement("style"),e.setAttribute("id","component")),s||(s=document.createElement("style"),s.setAttribute("id","component-hover")),e.remove(),a.data.hanging_lists&&(e.innerHTML="ol, ul { list-style-position: outside; }",t.appendChild(e)),"hover"===o&&(a.data.fills_hover&&1===a.data.fills_hover.length&&a.data.fills_hover[0].type,t.appendChild(s))}}t()}},this.onResize=e=>{if(this.props.currentBlockId){Object(qt.i)().focusManager.hasFocus&&this.updateSize()}},this.generateCSSForBreaks=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.devices,a="";for(const e of t)for(const s of t)e.name!==s.name&&(a+=".".concat(e.name," .nl-").concat(s.name,' {\n            content: " ";\n            display: none;\n          }'));return a},this.onTextUpdateGradient=e=>{let{detail:t}=e,a={align:this.props.align,componentState:this.props.componentState,currentBlockId:this.props.currentBlockId,currentBlockSlug:this.props.currentBlockSlug,data:this.props.data};a.data=Object.assign({},a.data,{fills_css:t,fills_hover_css:t}),this.setCurrentStyles(void 0,a)},this.updateSize=function(){var t;let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props.behavior,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=e.props.y.one("#".concat(e.props.currentBlockId)),l=Object(qt.i)();let c,p={};if(c=document.querySelector("#dup")?document.querySelector("#dup"):document.createElement("div"),c.setAttribute("id","dup"),"object"===typeof(null===(t=l.document.$.body)||void 0===t?void 0:t.style)){const{fontSize:t,lineHeight:d,fontWeight:h,fontFamily:m,letterSpacing:u,textTransform:g}=l.document.$.body.style;if(r){if(Object.assign(c.style,{"font-size":t,"line-height":d,"font-weight":h,"font-family":m,letterSpacing:u,textTransform:g,display:"table","word-break":"break-word",position:"absolute","white-space":"nowrap",bottom:"-999px"}),c.innerHTML=l.document.$.body.innerHTML,document.body.appendChild(c),"autoheight"===s&&n){Object.assign(c.style,{width:r._node.style.width});let t=c.offsetHeight;Number.isInteger(t)&&(p.height=t+"px",e.refs.div&&Object.assign(e.refs.div.style,p))}else{if("autowidth"===s||l.document.$.body.offsetHeight!==r.get("offsetHeight")||i){let t;t="autowidth"===s?c.offsetHeight:l.document.$.body.offsetHeight,Number.isInteger(t)&&(p.height=t+"px",e.refs.div&&Object.assign(e.refs.div.style,p))}if("autowidth"===s&&c.offsetWidth!==r.get("offsetWidth")+1){const{offsetWidth:t}=c;Number.isInteger(t)&&(p.width=t+1+"px",e.refs.div&&Object.assign(e.refs.div.style,p))}}document.body.removeChild(c),l.window.$.scrollTo(0,0),Object.keys(p).length>0&&(r.setStyles(p),a?e.props.handleChangeStyles(p,()=>{},o,!1):(e.setCurrentStyles(),l.window.$.scrollTo(0,0)))}}},this.setAutoLabel=(e,t,a)=>{if(null===a){const a=CSS.escape(t);if(document.querySelector("[data-layer-id='".concat(a,"']"))){let t=Object(qt.u)(e);t&&(t=t.replace(/(\r\n|\r|\n)/g,""),document.querySelector("[data-layer-id='".concat(a,"'] .siter-layers__tree-item__label")).innerText=t)}}},this.updateText=e=>{if(this.props.currentBlockId&&this.state.active){const t=this.props.y.one("#".concat(this.props.currentBlockId)),{component:a}=t;let s=e;if("text"===a.slug){if(s.indexOf('style type="text/css"')>-1){let t=c()("<div />");t.html(e),t&&t.find("style")&&(t.find("style").remove(),t=t[0].innerHTML)}else s=e;this.props.handleChangeProperties({data:Object.assign({},this.props.data,{content:s})},void 0,void 0,!1),this.setAutoLabel(s,a.id,a.description),this.updateSize(void 0,void 0,void 0,void 0,!0)}}},this.wysiwygClasses=()=>Be()("section-editor__artboard-wysiwyg",{"section-editor__artboard-wysiwyg_active":this.state.active}),this.isSafari=Object(qt.p)(),this.onComponentSelect=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const s=Object(qt.i)();setTimeout(()=>{s.focus()}),setTimeout(()=>{if(e.isSafari){let e=s.document.$.body;var t=document.createRange();t.selectNodeContents(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(t)}else s.document&&s.document.$.execCommand("SelectAll",!1,null)},200),s.resetUndo&&s.resetUndo(),e.setCurrentStyles(a)},this.setActive=(e,t)=>{if("text"===this.props.currentBlockSlug){const a=document.getElementById(t);if(e||this.setState({active:e}),this.state.active!==e&&e&&a){const{width:s,height:n}=a.style;let{top:o,left:i}=((e,t)=>{var a={top:0,left:0};let s;for(;e&&e!==t;)s=c()(e).parents(".s-e__w-i__group-frame").length>0,a.top+=e.style.top&&!s?parseFloat(e.style.top):e.offsetTop,a.left+=e.style.left&&!s?parseFloat(e.style.left):e.offsetLeft,e=e.offsetParent;return a})(a,document.querySelector(".section-editor__artboard"));this.onComponentSelect(t,()=>{this.setState({active:e,style:{top:o,left:i,width:s,height:n}})}),Object.assign(this.refs.div.style,{height:n,width:s})}}}}componentDidMount(){window.updateTextSize=this.updateSize;let e=this;document.addEventListener("siter.fontadd",this.onFontAdd),document.addEventListener("siter.textdataupdated",this.onDataUpdated),document.addEventListener("siter.textupdategradient",this.onTextUpdateGradient),window.CKEDITOR.on("instanceReady",t=>{t.removeListener(),this.waitForBody=setInterval(()=>{t.editor.document&&t.editor.document.$.body&&(e.resizeObserver=new Ea.a(this.onResize),e.resizeObserver.observe(t.editor.document.$.body),clearInterval(this.waitForBody))},100)}),this.setState({devicesBreaksCSS:this.generateCSSForBreaks(this.props.devices.slice(0)),devices:this.props.devices.slice(0)})}componentWillUnmount(){if(document.removeEventListener("siter.fontadd",this.onFontAdd),document.removeEventListener("siter.textdataupdated",this.onDataUpdated),document.removeEventListener("siter.textupdategradient",this.onTextUpdateGradient),this.resizeObserver){const e=Object(qt.i)();this.resizeObserver.unobserve(e.document.$.body),this.resizeObserver.disconnect(e.document.$.body)}this.resizeObserver=null}componentWillReceiveProps(e){var t,a;const{currentBlockActive:s,currentBlockId:n,componentState:o,data:i,align:r}=e;this.state.devices&&e.devices&&(null===(t=this.state.devices)||void 0===t?void 0:t.length)!==(null===(a=e.devices)||void 0===a?void 0:a.length)&&this.setState({devicesBreaksCSS:this.generateCSSForBreaks(e.devices.slice(0)),devices:e.devices.slice(0)}),i&&this.props.data&&i.hanging_lists!==this.props.data.hanging_lists&&this.setCurrentStyles(void 0,e),this.props.componentState!==o&&this.setCurrentStyles(void 0,e),this.props.data&&this.props.data.fills_css&&i&&i.fills_css&&(this.props.data.fills_css!==i.fills_css&&this.setCurrentStyles(void 0,e),this.props.data.fills_hover_css!==i.fills_hover_css&&this.setCurrentStyles(void 0,e),this.props.align!==r&&this.setCurrentStyles(void 0,e)),this.props.align!==r&&this.setCurrentStyles(void 0,e),this.setActive(s,n)}render(){const{value:e}=this.props,{style:t,devicesBreaksCSS:a}=this.state;return n.a.createElement("div",{ref:"div",className:this.wysiwygClasses(),style:t},n.a.createElement(na.a,{contenteditable:"true",value:e,onChange:this.updateText,config:this.CKEditorConfig()}),n.a.createElement("style",{id:"devices-breaks"},a))}}var xa=Object(o.b)(e=>({}),{})(Sa);class Na extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={indicatorStyles:{display:"none"},transformatorStyles:{display:"none"},transformatorStyles2:{display:"none"},transformatorStylesGroupEditing:{display:"none"},showLineUp:!1},this.setIndicatorStyle=e=>{window.hoveredTarget&&window.hoveredTarget.id&&window.oldHoveredId!==window.hoveredTarget.id&&this.props.handleMouseOut(),window.hoveredTarget&&(window.oldHoveredId=window.hoveredTarget.id),this.refs.indicator&&Object.assign(this.refs.indicator.style,e)},this.setTransformatorStyle=e=>{if(this.refs.transformator){Object.assign(this.refs.transformator.style,e);const t=new CustomEvent("siter.transformator.changed");document.dispatchEvent(t)}},this.setTransformator2Style=e=>{this.refs.transformator2&&Object.assign(this.refs.transformator2.style,e)},this.hideIndicator=()=>{this.setIndicatorStyle({display:"none"})},this.isMaster=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.hoveredTarget;if(e){const t="s-e__w-i__group_master-component";return Array.isArray(e)?e.filter(e=>c()("#".concat(e.id)).hasClass("".concat(t))||c()("#".concat(e.id)).parents(".".concat(t)).length>0).length===e.length:c()("#".concat(e.id)).hasClass("".concat(t))||c()("#".concat(e.id)).parents(".".concat(t)).length>0}return!1},this.updateIndicator=e=>{if(!window.resizeComponent&&!window.componentIsDrag){if(e){var t;let a,s,n,o,i;const r=document.getElementById(e.id),l=e&&(null===(t=window.currentBlockIds)||void 0===t?void 0:t.indexOf(e.id))>-1&&!window.metaPressed,c=document.querySelector(".siter-layers__tree-item_hover");if(c&&c.classList.remove("siter-layers__tree-item_hover"),e.hasOwnProperty("assets")&&document.querySelector(".layers-title")&&document.querySelector(".layers-title").classList.add("siter-layers__tree-item_hover"),l&&(this.setIndicatorStyle({display:"none"}),"text"!==e.slug))return;if(!r||!e.slug||e.groupOpen&&"frame"!==e.slug||e.blocked)return this.setIndicatorStyle({display:"none"}),void this.setTransformator2Style({display:"none"});if(e.lock)return;if(this.props.drawMode)return;const p=this.props.currentBlocksIsOneGroup();if(!window.metaPressed&&p&&this.props.currentBlock.group_ids.indexOf(e.id)>-1)return;if("group"===e.slug){const t=this.props.getComponentsInGroup(e,[],!1,!0),i=this.props.ComponentHelper.getCommonBoundingRect(t);a=i.y-2,s=i.x-2,n="".concat(i.width+4,"px"),o="".concat(i.height+4,"px")}else{const t=document.getElementById(e.id),r=t.getBoundingClientRect();i=t.style.transform;let l=parseInt(t.style.height)*(window.currentZoom/100),c=parseInt(t.style.width)*(window.currentZoom/100);const p=t.style.transform&&t.style.transform.indexOf("rotate(")>-1,d=parseFloat(t.style.transform.replace("rotate(",""));p&&!isNaN(d)&&0!==d?(a=r.top+(r.height-l)/2-2,s=r.left+(r.width-c)/2-2):(a=r.top-2,s=r.left-2),n=c+4+"px",o=l+4+"px"}let d=document.querySelector("[data-layer-id='".concat(e.id,"']"));d&&d.classList.add("siter-layers__tree-item_hover"),i||(i="rotate(0deg)");const h={transform:"translate(".concat(s,"px, ").concat(a,"px) ").concat(i),width:n,height:o,display:"block",opacity:this.blocked?0:1};this.isMaster(e)?h.border="2px solid #6B58DE":h.border=null,this.props.chooseBlockMode?h.cursor="pointer":h.cursor="inherit",l||(this.setIndicatorStyle(h),this.setTransformator2Style(h),this.props.handleMouseOver(e)),window.metaPressed?Array.isArray(this.props.currentBlockJSON)&&1===this.props.currentBlockJSON.length&&this.props.currentBlockJSON[0].id===e.id&&this.hideIndicator():(Array.isArray(this.props.currentBlockJSON)&&this.props.currentBlockJSON.length>1&&this.props.currentBlockJSON.find(t=>t.id===e.id)&&this.hideIndicator(),this.props.currentBlock.group_ids.length>1&&this.props.currentBlock.group_ids.indexOf(e.id)>-1&&this.hideIndicator())}this.updateWrapperClasses(this.props)}},this.hideAll=()=>{this.hideIndicator(),this.setTransformator2Style({display:"none"}),this.setTransformatorStyle({display:"none"})},this.getRotateAngle=e=>{const t=window.getComputedStyle(e,null),a=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")||"FAIL";if(a&&"none"!==a){const e=a.split("(")[1].split(")")[0].split(","),t=e[0],s=e[1];return Math.round(Math.atan2(s,t)*(180/Math.PI))}return 0},this.setTransformator=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props,s=document.getElementById(null===t||void 0===t?void 0:t.id);if(!s||!t)return(null===t||void 0===t?void 0:t.common)||e.hideAll(),!1;const n=e.props.currentBlocksIsOneGroup(!0),o=n&&n.lock;if((!n&&t.lock||o)&&(e.hideIndicator(),e.setTransformator2Style({display:"none"}),e.updateWrapperClasses(e.props)),n&&"master_component"===n.group_type&&!n.main_master_component_id){const t='<svg width="7" height="7" viewBox="0 0 7 7" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.5 4L0.5 5.5C0.5 6.05228 0.947715 6.5 1.5 6.5L3 6.5M3 0.499999L1.5 0.499999C0.947715 0.499999 0.5 0.947714 0.5 1.5L0.5 3M4 0.499999L5.5 0.499999C6.05228 0.499999 6.5 0.947714 6.5 1.5L6.5 3M6.5 4L6.5 5.5C6.5 6.05228 6.05228 6.5 5.5 6.5L4 6.5" stroke="#6B58DE" stroke-linejoin="round"/></svg><span>'.concat(n.description,"</span>");e.refs.transformator.querySelector("#transformator-name").innerHTML=t}else e.refs.transformator.querySelector("#transformator-name").innerHTML="";let i;const r=e.props.y.one("#section-editor__transformator"),l=e.props.y.one("#section-editor__transformator2");r&&l&&(r.component=t,l.component=t);let c=[];if(a.hasOwnProperty("groups"))c=a.groups.filter(e=>"frame"===e.slug);else for(const d of e.props.currentBlock.group_ids){var p;let t=null===(p=e.props.y.one("#"+CSS.escape(d)))||void 0===p?void 0:p.component;t&&"frame"===t.slug&&c.push(t)}if(a.currentBlockJSON.length+c.length===1){const a=s.getBoundingClientRect(),n=s.style.transform&&s.style.transform.indexOf("rotate(")>-1,o=parseFloat(s.style.transform.replace("rotate(",""));let r,l,c=parseInt(s.style.height)*(window.currentZoom/100),p=parseInt(s.style.width)*(window.currentZoom/100);n&&!isNaN(o)&&0!==o?(r=a.top+(a.height-c)/2,l=a.left+(a.width-p)/2):(r=a.top,l=a.left);let d=p+"px",h=c+"px",m="rotate(".concat(e.getRotateAngle(s),"deg)");m||(m="rotate(0deg)"),i={transform:"translate(".concat(l,"px, ").concat(r,"px) ").concat(m),width:d,height:h,display:"block"},e.isMaster(t)?e.refs.transformator.classList.add("section-editor__transformator-violet"):e.refs.transformator.classList.remove("section-editor__transformator-violet"),e.hideIndicator(),e.setTransformator2Style({display:"none"}),e.setTransformatorStyle(i)}if(Array.isArray(a.currentBlockJSON)&&a.currentBlockJSON.length+c.length>1){let s=a.currentBlockJSON.slice();if(c.length>0){let t,a;for(const n of c){const o=e.props.getComponentsInGroup(n,void 0,void 0,!0);for(const e of o){if("frame"===e.slug){let t=c.find(t=>t.id===e.id);a=c.indexOf(t),a>-1&&c.splice(a,1)}let n=s.find(t=>t.id===e.id);t=s.indexOf(n),t>-1&&s.splice(t,1)}}s=s.concat(c)}const n=e.props.ComponentHelper.getCommonBoundingRect(s);if(n){const{left:a,top:s,width:o,height:r}=n;i={transform:"translate(".concat(a,"px, ").concat(s,"px)"),width:o+"px",height:r+"px",display:"block"},e.isMaster(t)?e.refs.transformator.classList.add("section-editor__transformator-violet"):e.refs.transformator.classList.remove("section-editor__transformator-violet"),e.hideIndicator(),e.setTransformator2Style({display:"none"}),e.setTransformatorStyle(i)}}e.setArrowsByRotate()},this.setCurrentBlock=e=>{const t=e.ev&&e.ev.shiftKey||e.shiftKey;if(!e.ev||!("button"in e.ev)||2!==e.ev.button){if(e.type&&"drag:mouseDown"===e.type){var a;if(this.props.currentBlock.group_ids.indexOf(null===(a=window.hoveredTarget)||void 0===a?void 0:a.id)>-1)return;if(t)return;if(this.props.chooseBlockMode)return;this.blocked&&(this.mouseDownClicked=!0)}else if(this.blocked||this.mouseDownClicked)return e.preventDefault&&e.preventDefault(),void(this.mouseDownClicked=!1);if(this.blocked&&e.preventDefault(),window.hoveredTarget&&(document.querySelector("[data-layer-id='".concat(window.hoveredTarget.id,"']"))&&document.querySelector("[data-layer-id='".concat(window.hoveredTarget.id,"']")).scrollIntoView(),window.hoveredTarget.slug)){if(window.hoveredTarget.lock)return e.preventDefault&&(e.halt&&e.halt(),e.preventDefault(),e.stopPropagation()),!1;dr(window.hoveredTarget.slug)?this.props.chooseBlockMode?this.props.setCurrentBlock(window.hoveredTarget,{target:{className:"no"}},!1):this.props.setCurrentGroup(window.hoveredTarget,t):(this.props.chooseBlockMode||this.setTransformator(window.hoveredTarget),this.props.setCurrentBlock(window.hoveredTarget,{target:{className:"no"},shiftKey:t},!1))}}},this.indicatorsClassNames=e=>{const t=e.currentBlockJSON[0]?e.currentBlockJSON[0].slug:"";return this.blocked=e.blocked,Be()("section-editor__indicators",{"section-editor__indicators_hidden":e.isSearchBoxShown,"section-editor__indicators_blocked":"button"===t?e.blocked:e.blocked&&window.hoveredTarget.blocked,"section-editor__indicators_hide-resizeers":e.blocked,"section-editor__indicators-master__depending":this.props.allCurrentIsMasterDependingComponent(),"section-editor__indicators_lock":e.lock||e.versionHistoryMode})},this.updateWrapperClasses=e=>{let t=this.indicatorsClassNames(e);this.refs.wrapper.className!==t&&(this.refs.wrapper.className=t)},this.setArrowsByRotate=()=>{if(this.props.currentBlockJSON[0]&&1===this.props.currentBlockJSON.length){var e;const t=this.props.currentBlockJSON[0],a={"yui3-resize-handle yui3-resize-handle-t":"n","yui3-resize-handle yui3-resize-handle-tr":"ne","yui3-resize-handle yui3-resize-handle-r":"e","yui3-resize-handle yui3-resize-handle-br":"se","yui3-resize-handle yui3-resize-handle-b":"s","yui3-resize-handle yui3-resize-handle-bl":"sw","yui3-resize-handle yui3-resize-handle-l":"w","yui3-resize-handle yui3-resize-handle-tl":"nw"};if(null===(e=t.styles[this.props.currentDevice.name])||void 0===e?void 0:e.transform){const e=parseInt(t.styles[this.props.currentDevice.name].transform.replace("rotate(","").replace("deg)",""),10);this.props.y.one("#section-editor__transformator").all(".yui3-resize-handle").each(t=>{const s=((e,t)=>{const a=wa[Math.floor(e/30)];return va[(fa[t]+a)%8]})(e,a[t._node.className.replace(" yui3-resize-handle-active","")]);t.setStyles({cursor:"".concat(s,"-resize")})})}else this.props.y.one("#section-editor__transformator").all(".yui3-resize-handle").each(e=>{e.setStyles({cursor:""})})}else this.props.y.one("#section-editor__transformator").all(".yui3-resize-handle").each(e=>{e.setStyles({cursor:""})})},this.handleDoubleClick=e=>{const{pageX:t,pageY:a,ctrlKey:s,metaKey:n}=e;this.props.handleDoubleClick(this.props.currentBlockJSON[0],e,()=>{this.props.findElementByMousePosition({pageX:t,pageY:a,ctrlKey:s,metaKey:n}),e={shiftKey:!1},this.setCurrentBlock(e)})},this.onContextMenu=e=>{if(e.ctrlKey)return e.preventDefault(),e.stopPropagation(),!1},this.addLine=(e,t)=>{let a=document.getElementById("section-editor__transformator").getBoundingClientRect(),s=document.createElement("div");s.style.top=a.top+(t?a.height:0)+"px",s.classList.add("section-editor__indicators-line"),document.querySelector(".section-editor__space").appendChild(s)},this.removeAllLines=()=>{c()(".section-editor__indicators-line").remove()}}componentDidMount(){var e=this;this.props.ComponentHelper.initComponentHelper("section-editor__transformator",this.props.ArtBoard,this.props.showMouseLabel,this.props.hideMouseLabel,this.props.setMouseLabel,this.setCurrentBlock,this.hideIndicator,this),this.props.ComponentHelper.initComponentHelper("section-editor__transformator2",this.props.ArtBoard,this.props.showMouseLabel,this.props.hideMouseLabel,this.props.setMouseLabel,this.setCurrentBlock,this.hideIndicator,this),window.setTransformator=this.setTransformator,window.updateIndicator=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.hoveredTarget;e.updateIndicator(t)},window.hideIndicator=this.hideIndicator,window.hideAllIndicators=this.hideAll}shouldComponentUpdate(e){return this.updateWrapperClasses(e),!1}render(){return n.a.createElement("div",{ref:"wrapper",className:this.indicatorsClassNames(this.props)},n.a.createElement("div",{className:"widget-clone__effects-preview__transformator"}),n.a.createElement("div",{ref:"indicator",className:"section-editor__indicator"}),n.a.createElement("div",{ref:"transformator2",onClick:this.setCurrentBlock,id:"section-editor__transformator2",className:"section-editor__transformator2"}),n.a.createElement("div",{ref:"transformator",onDoubleClick:this.handleDoubleClick,onClick:this.setCurrentBlock,id:"section-editor__transformator",onContextMenu:this.onContextMenu,className:"section-editor__transformator"},n.a.createElement("span",{id:"transformator-name"}),n.a.createElement("svg",{id:"move-up",onMouseUp:this.moveMouseUp,className:"section-editor__transformator-move__up",onMouseLeave:this.removeAllLines,onMouseEnter:this.addLine,width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M9.41938 7.5H1.58062C0.742119 7.5 0.275946 6.53007 0.799757 5.8753L4.71913 0.976086C5.11946 0.475679 5.88054 0.47568 6.28087 0.976087L10.2002 5.8753C10.7241 6.53007 10.2579 7.5 9.41938 7.5Z",stroke:"#3E87F8"})),n.a.createElement("svg",{id:"move-down",onMouseUp:this.moveDownMouseUp,className:"section-editor__transformator-move__down",onMouseLeave:this.removeAllLines,onMouseEnter:this.addLine.bind(null,!0),width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M9.41938 0.5H1.58062C0.742119 0.5 0.275946 1.46993 0.799757 2.1247L4.71913 7.02391C5.11946 7.52432 5.88054 7.52432 6.28087 7.02391L10.2002 2.1247C10.7241 1.46993 10.2579 0.5 9.41938 0.5Z",stroke:"#3E87F8"}))))}}var Ba=Object(o.b)(e=>({}),{})(Na),Fa=a(331);const Aa={bottom:{corner:"top",offsetProp:"offsetTop",add:1},top:{corner:"top",offsetProp:"offsetTop",add:-1},left:{corner:"left",offsetProp:"offsetLeft",add:-1},right:{corner:"left",offsetProp:"offsetLeft",add:1}};class La extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={lassoEnabled:!1,lassoInserted:!1,filterStyles:{},layoutStyles:{},spacePressed:!1,spaceActive:!1,wysiwygValue:"",rulers:!1},this.lassoStylesX={left:"0px",width:"0px"},this.lassoStylesY={left:"0px",width:"0px"},this.lassoStartPosition={top:0,left:0},this.zoomResetFromKeyboard=e=>{(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.handleChangeZoomFromPanel({target:{value:100}}))},this.zoomInFromKeyboard=e=>{!e.ctrlKey&&!e.metaKey||window.componentIsDrag||(e.preventDefault(),this.props.changeZoom("+"))},this.zoomOutFromKeyboard=e=>{!e.ctrlKey&&!e.metaKey||window.componentIsDrag||(e.preventDefault(),this.props.changeZoom("-"))},this.handleChangeHoverTarget=e=>{window.hoveredTarget=e,window.currentBlockIds=[],this.props.currentBlockJSON[0]&&(window.currentBlockIds=this.props.currentBlockJSON.map(e=>{let{id:t}=e;return t}).concat(this.props.currentBlock.group_ids)),window.updateIndicator(e)},this.getCommonNodeFromGroup=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=e.props.getComponentsInGroup(t),n=e.props.ComponentHelper.Y.one("#".concat(s[0].id)),o=e.props.ComponentHelper.getCommonNode(n,s,void 0,a);return o},this.rulersIntervals=[],this.showRulersForTarget=e=>{const t=document.querySelector(".section-editor__artboard");if(window.editorMounted&&t&&(e&&window.hoveredTarget&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey||!e)){let e;const t=setInterval(()=>{if(this.props.ComponentHelper.Magnets.hideLinesComponent(),this.props.currentBlockIsLayout&&window.hoveredTarget&&void 0===window.hoveredTarget.slug)return;if(this.props.currentBlockIsLayout)e=this.props.ComponentHelper.Y.one("#".concat(window.hoveredTarget.id));else if(this.props.currentBlockJSON[0]){let t=this.props.ComponentHelper.Y.one("#".concat(this.props.currentBlockJSON[0].id));e=this.props.ComponentHelper.getCommonNode(t)}const t=[];if(void 0===window.hoveredTarget.slug||this.props.currentBlockIsLayout)t.push(this.props.ComponentHelper.Y.one(".section-editor__layout"));else{const e=this.props.ComponentHelper.Y.one("#".concat(window.hoveredTarget.id));if(e)if(e.hasClass("s-e__w-i__group")&&!e.hasClass("s-e__w-i__group-frame")){const a=this.getCommonNodeFromGroup(e.component,!0);t.push(a)}else t.push(e)}this.props.ComponentHelper.Magnets.showAllLinesToComponent(e,t)},100);this.rulersIntervals.push(t)}},this.hideRulersForComponent=()=>{this.rulersIntervals.forEach(e=>{clearInterval(e)}),this.props.ComponentHelper.Magnets.hideLinesComponent()},this.resetRulersScroll=function(){arguments.length>0&&void 0!==arguments[0]||e.props.layers;let t=-window.positionX/(window.currentZoom/100)-(window.WORKSPACE_WIDTH-e.props.currentDevice.width)/2,a=-window.positionY/(window.currentZoom/100);e.refs.hRuler&&e.refs.hRuler.scroll(t),e.refs.vRuler&&e.refs.vRuler.scroll(a)},this.onZoomChanged=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props.layers;e.resetRulersScroll(a),e.setState({updateRulers:!e.state.updateRulers})},this.componentWillReceiveProps=e=>{this.setStylesToFilter(e),this.props.installedFonts.length!==e.installedFonts.length&&this.getFonts(e.installedFonts),this.props.layers!==e.layers&&this.onZoomChanged({},e.layers),this.props.currentDevice.name!==e.currentDevice.name&&setTimeout(()=>{this.onZoomChanged({},e.layers)})},this.getLayoutWidth=()=>{const{width:e}=this.props.currentDevice;return e},this.setStylesToFilter=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=e.state.filterStyles.width!==t.currentDevice.width;if(JSON.stringify(t.pageStyles)!==JSON.stringify(e.props.pageStyles)||a||s){var n;let a=Object.assign({width:t.currentDevice.width},t.pageStyles);e.setState({filterStyles:{height:null===(n=t.pageStyles)||void 0===n?void 0:n.height,background:t.pageBackgroundCss,width:t.currentDevice.width},layoutStyles:a})}},this.backStyles=()=>{const e=document.getElementsByClassName("section-editor__layout");return{top:e[0].offsetTop,left:e[0].offsetLeft,width:e[0].offsetWidth,height:e[0].offsetHeight}},this.showMouseLabel=()=>{this.setState({showMouseLabel:!0})},this.setMouseLabel=(e,t,a,s)=>{const n="<span>".concat(parseInt(e.width,10)).concat(t,"</span>\n    <span>\u2a2f</span>\n    <span>").concat(parseInt(e.height,10)).concat(a,"</span>"),o=document.querySelector(".section-editor__mouse-label");o&&(Object.assign(o.style,{top:"".concat(s.pageY+5,"px"),left:"".concat(s.pageX+5,"px")}),o.innerHTML=n)},this.hideMouseLabel=()=>{this.setState({showMouseLabel:!1})},this.getBoundingYUI=e=>{let{_node:t}=e;return t.getBoundingClientRect()},this.getBounding=e=>e.getBoundingClientRect(),this.findElementByMousePosition=e=>{let t,a;this.lastMouseEvent&&(t=this.lastMouseEvent.x,a=this.lastMouseEvent.y),window.metaPressed=e.metaKey||e.ctrlKey,window.frameHovered=!1,e.pageX&&(this.lastMouseEvent={x:e.pageX,y:e.pageY}),c()(e.target).parents("#move-up").length>0||"move-up"===c()(e.target).attr("id")||c()(e.target).parents("#move-down").length>0||"move-down"===c()(e.target).attr("id")?this.handleChangeHoverTarget(this.props.currentBlockJSON[0]):this.props.y.all(".s-e__w-i").each(e=>{let s,n,o,i,{component:r}=e;if(r){let l;if(r.group_id&&!r.lock){let t,a=!1;if(e.ancestor((e,s)=>{if(e.hasClass("s-e__w-i__group"))if(e.hasClass("s-e__w-i__group_lock")&&(a=!0),e.hasClass("s-e__w-i__group-frame"))"Group"===e.component.description&&(t=e.component),l=e,e.ancestor(".s-e__w-i__group")&&(t=e.component);else if(e.component&&!e.component.groupOpen)return void(t=e.component)}),a)return;window.metaPressed||!t||t.lock||t.groupOpen||(r=t)}const c=parseFloat(t)+parseFloat(1),p=parseFloat(a)+parseFloat(1);if(l){const e=this.getBoundingYUI(l),s=Math.max(0,Math.min(c,parseFloat(e.x)+parseFloat(e.width))-Math.max(parseFloat(t),parseFloat(e.x)))*Math.max(0,Math.min(p,parseFloat(e.y)+parseFloat(e.height))-Math.max(parseFloat(a),parseFloat(e.y)))>0;if(s&&(window.frameHovered=!0),"hidden"===l.component.styles[this.props.currentDevice.name].overflow&&!s)return}const d=this.getBoundingYUI(e);s=parseFloat(d.x),n=parseFloat(d.y),o=s+parseFloat(d.width),i=n+parseFloat(d.height);Math.max(0,Math.min(c,o)-Math.max(parseFloat(t),s))*Math.max(0,Math.min(p,i)-Math.max(parseFloat(a),n))>0&&this.visible(r)&&r.id&&this.handleChangeHoverTarget(r)}})},this.setOptionsToNewComponent=e=>{["text","button"].indexOf(e.slug)>-1&&(e.blocked=!0);let t={top:"".concat(parseFloat(parseFloat(this.drawComponentStartPosition.top).toFixed(0)),"px"),left:"".concat(parseFloat(parseFloat(this.drawComponentStartPosition.left).toFixed(0)),"px")};e.styles.desktop=Object.assign({},e.styles.desktop,t),e.styles[this.props.currentDevice.name]=Object.assign({},e.styles.desktop,t)},this.handleMouseDown=e=>{let t;if("which"in(e=e||window.event)?t=3===e.which:"button"in e&&(t=2===e.button,t=1===e.button),this.refs.vRuler){if("CANVAS"===e.target.tagName)return e.target.isSameNode(this.refs.hRuler.canvasElement)&&(this.addHorizontalRuler=!0),void(e.target.isSameNode(this.refs.vRuler.canvasElement)&&(this.addVerticalRuler=!0));if(e.target.classList.contains("v-ruler"))return this.addVerticalRuler=!0,void(this.activeRuler=e.target);if(e.target.classList.contains("h-ruler"))return this.addHorizontalRuler=!0,void(this.activeRuler=e.target);if("button"in e&&1===e.button)return this.spaceKeyDown(e),void this.dragMouseDown(e)}if(!t)if(this.props.drawMode){window.createByKeyboardDisabled=!0;let{currentDrawComponent:t}=this.props;const a=this.getBounding(document.getElementsByClassName("section-editor__layout")[0]);this.props.ComponentHelper.Magnets.updateTolerance(),this.props.ComponentHelper.Magnets.smartGuides.defineElementPositions(void 0,".s-e__w-i"),this.drawComponentStartPosition={left:e.pageX/(window.currentZoom/100)-a.x/(window.currentZoom/100),top:e.pageY/(window.currentZoom/100)-a.y/(window.currentZoom/100)},this.drawComponentStartOffset={left:e.pageX/(window.currentZoom/100)-a.x/(window.currentZoom/100)+this.props.ComponentHelper.componentsHelperStyles({container:"grid"}).left,top:e.pageY/(window.currentZoom/100)-a.y/(window.currentZoom/100)},this.drawModeMouseDownActive=!0,this.setOptionsToNewComponent(t),this.props.addComponentsToPage([t],!1,!0,()=>{if("text"===t.slug&&"object"===typeof this.props.textStyles){let e=JSON.parse(JSON.stringify(this.props.textStyles)),a=e.fonts;delete e.width,delete e.height,delete e.left,delete e.top,delete e.fonts,delete e.visibility,e&&(this.props.handleChangeComponent(t,e,!0,!0),this.props.handleChangeComponentProperties(t,{fonts:a}))}if("button"===t.slug){if("object"===typeof this.props.buttonStyles){let e=JSON.parse(JSON.stringify(this.props.buttonStyles));delete e.width,delete e.height,delete e.left,delete e.top,delete e.visibility,e&&this.props.handleChangeComponent(t,e,!0,!0)}if("object"===typeof this.props.buttonProps){let e=JSON.parse(JSON.stringify(this.props.buttonProps));if(e){delete e.value;let a=Object.assign(t.data,e);this.props.handleChangeComponentProperties(t,{data:a})}}}"text"!==t.slug&&this.props.setCurrentBlock(t,{shiftKey:!1,target:{className:""}})}),this.showMouseLabel()}else{const t=c()(e.target).parents(".section-editor__widgets").length>0||c()(e.target).parents(".section-editor__indicators").length>0,a=c()(e.target).hasClass("s-e__w-i_lock")||c()(e.target).parents(".s-e__w-i_lock").length>0||c()(e.target).parents(".s-e__w-i__group_lock").length>0,s=c()(e.target).hasClass("section-editor__space"),n=c()(e.target).hasClass("s-e__w-i_invisible")||c()(e.target).parents(".s-e__w-i_invisible").length>0,o=this.props.currentBlock.json[0]&&1===this.props.currentBlock.json.length&&this.props.currentBlock.json[0].blocked;this.setState({spaceActive:s}),(!t||a||n)&&((!this.state.lassoInserted&&!t||a)&&this.props.setLayoutAsCurrentBlock(),o||(this.startArtBoardPosition={left:parseFloat(window.positionX),top:parseFloat(window.positionY)},this.setState({lassoEnabled:!0}),this.lassoStartPosition={left:e.pageX,top:e.pageY}))}},this.autoMoveArtBoardComponent=e=>{let{add:t,offsetProp:a,corner:s}=Aa[e],n=parseFloat((t/(parseFloat(window.currentZoom)/100)).toFixed(3)),o=this.props.ComponentHelper.getCurrentComponentsWithDependingComponents();window.disableDragForScroll=!0;let i=0;if(o=o.filter(e=>{const t=this.props.y.one("#"+e.id),a=this.props.isMasterDependingComponentItem(t);return a&&(this.props.ComponentHelper.startComponentsPositions.splice(i,1),Array.isArray(this.props.ComponentHelper.startComponentsPositionsOffset)&&this.props.ComponentHelper.startComponentsPositionsOffset.splice(i,1)),i++,!a}),this.props.ComponentHelper.startComponentsPositionsOffset){let e=0;for(let t of this.props.ComponentHelper.startComponentsPositionsOffset){let a=n,i=o[e];if(Array.isArray(this.props.currentBlockJSON)&&i&&!this.props.currentBlockJSON.find(e=>e.id===i.id)&&i.main_master_component_id){let t=o.find(e=>{let{id:t}=e;return t===i.main_master_component_id}),n=o.indexOf(t),r=this.props.ComponentHelper.startComponentsPositions[e].width/this.props.ComponentHelper.startComponentsPositions[n].width,l=this.props.ComponentHelper.startComponentsPositions[e].height/this.props.ComponentHelper.startComponentsPositions[n].height;"top"===s&&(a*=l),"left"===s&&(a*=r)}t=Object.assign(t,{[s]:t[s]+a}),e++}}else{this.props.ComponentHelper.startComponentsPositionsOffset=[];let e=0;for(let t of this.props.ComponentHelper.startComponentsPositions)this.props.ComponentHelper.startComponentsPositionsOffset[e]={top:0,left:0},e++}let r=this.props.ComponentHelper.getCommonRect();if(r&&this.props.ComponentHelper.startComponentsPositionsOffset.length>0){let e=r[a]-this.props.ComponentHelper.startComponentsPositionsOffset[0][s]+n+"px";window.currentCommonNode&&window.currentCommonNode.setStyles({[s]:e},!0)}},this.clearMoveTimeouts=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["top","bottom","left","right"];for(const a of t)clearTimeout(e["autoMoveArtBoard".concat(Object(qt.f)(a))])},this.autoMoveArtBoardActions=(e,t)=>{const{lassoEnabled:a}=this.state,{drawMode:s}=this.props;this.props.ComponentHelper.drag&&this.autoMoveArtBoardComponent(t),this.changeLayoutPosition({key:{bottom:"ArrowUp",top:"ArrowDown",left:"ArrowRight",right:"ArrowLeft"}[t]},1,!0,!1),(a||s)&&(window.event||this.handleMouseMove({pageX:e.pageX,pageY:e.pageY,target:{}},!1)),this["artboardMoveTimeout".concat(Object(qt.f)(t))]=setTimeout(()=>{window.event||this.autoMoveArtBoard({pageX:this.pageX,pageY:this.pageY})},20)},this.autoMoveArtBoard=e=>{const{pageX:t,pageY:a}=e,{lassoEnabled:s}=this.state,{drawMode:n}=this.props,o=document.getElementsByClassName("section-editor__left-panel"),i=document.getElementsByClassName("section-editor__top-panel");if(o.length>0&&i.length>0)if(s||n&&this.drawComponentStartPosition||this.props.ComponentHelper.drag){const s=i[0].offsetHeight;let n=o[0].offsetWidth;const r=document.getElementsByClassName("section-editor__layers"),l=document.getElementById("settings_panel").getBoundingClientRect();r.length>0&&(n+=r[0].offsetWidth),a<s+30?this.autoMoveArtBoardActions(e,"top"):a>window.innerHeight-30?this.autoMoveArtBoardActions(e,"bottom"):(this.clearMoveTimeouts(["bottom","top"]),window.disableDragForScroll=!1),t>l.x-30?this.autoMoveArtBoardActions(e,"right"):t<n+30?this.autoMoveArtBoardActions(e,"left"):(this.clearMoveTimeouts(["right","left"]),window.disableDragForScroll=!1)}else this.props.ComponentHelper.startComponentsPositionsOffset&&(this.props.ComponentHelper.startComponentsPositionsOffset=void 0),this.clearMoveTimeouts(),window.disableDragForScroll=!1},this.drawComponentStartOffset={top:0,left:0},this.createRulerElement=e=>{let t=document.createElement("div");return t.classList.add(e+"-ruler"),t.classList.add("noselect"),t.style.position="absolute",t.style.top="0px",t.style.transform="v"===e?"translate(".concat(parseInt(window.positionX,10),"px, 0px)"):"translate(0px, ".concat(parseInt(window.positionY,10),"px)"),t},this.addRulersFromPage=()=>{if(this.props.page.rulers)for(let e of this.props.page.rulers){let t=this.createRulerElement(e.type.slice(0,1));if(t.dataset.rulerDevice=e.device,t.setAttribute("id",e.id),"vertical"===e.type){t.dataset.left=e.left,t.innerHTML="<span class='v-ruler__bg'></span><span class='v-ruler-value'>&nbsp;&nbsp;"+(parseFloat(parseFloat(t.dataset.left).toFixed(0))-(window.WORKSPACE_WIDTH-this.props.currentDevice.width)/2)+"</span>";let a=parseFloat(t.dataset.left)*(window.currentZoom/100)+parseInt(window.positionX,10);t.style.transform="translate(".concat(a,"px, ").concat(parseInt(0,10),"px)")}if("horizontal"===e.type){t.dataset.top=e.top;let a=parseFloat(t.dataset.top)*(window.currentZoom/100)+parseInt(window.positionY,10);t.style.transform="translate(0px, ".concat(a,"px)"),t.innerHTML="<span class='h-ruler__bg'></span><span class='h-ruler-value'>&nbsp;&nbsp;"+parseFloat(t.dataset.top).toFixed(0)+"</span>"}c()(t).insertBefore(".section-editor__artboard")}},this.handleMouseMove=function(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{lassoEnabled:n,lassoInserted:o}=e.state,{drawMode:i}=e.props;if(e.pageX=t.pageX,e.pageY=t.pageY,!window.zoomInProccess&&!(c()(t.target).hasClass("colorpicker-artboard__overlay")||c()(t.target).parents(".colorpicker-artboard__overlay").length>0)){if(e.addVerticalRuler&&!e.activeRuler){let t=e.createRulerElement("v");e.activeRuler=t,c()(t).insertBefore(".section-editor__artboard")}if(e.addHorizontalRuler&&!e.activeRuler){let t=e.createRulerElement("h");e.activeRuler=t,c()(t).insertBefore(".section-editor__artboard")}if(e.activeRuler){e.activeRuler.classList.contains("v-ruler")&&(e.activeRuler.dataset.left=(e.pageX-window.positionX)/(window.currentZoom/100),e.activeRuler.dataset.rulerDevice=e.props.currentDevice.name,e.activeRuler.innerHTML="<span class='v-ruler__bg'></span><span class='v-ruler-value'>&nbsp;&nbsp;"+(parseFloat(parseFloat(e.activeRuler.dataset.left).toFixed(0))-(window.WORKSPACE_WIDTH-e.props.currentDevice.width)/2)+"</span>",e.activeRuler.style.transform="translate(".concat(parseInt(e.pageX,10),"px, 0px)")),e.activeRuler.classList.contains("h-ruler")&&(e.activeRuler.dataset.top=(e.pageY-window.positionY)/(window.currentZoom/100),e.activeRuler.dataset.rulerDevice=e.props.currentDevice.name,e.activeRuler.innerHTML="<span class='h-ruler__bg'></span><span class='h-ruler-value'>&nbsp;&nbsp;"+parseFloat(e.activeRuler.dataset.top).toFixed(0)+"</span>",e.activeRuler.style.transform="translate(0px, ".concat(parseInt(e.pageY,10),"px)"));let t=e.activeRuler.getBoundingClientRect(),a=c()("canvas:eq(0)")[0].getBoundingClientRect(),s=c()("canvas:eq(1)")[0].getBoundingClientRect();e.activeRuler.classList.contains("v-ruler")&&(t.x+t.width/2<s.x+s.width?e.activeRuler.style.visibility="hidden":e.activeRuler.style.visibility=""),e.activeRuler.classList.contains("h-ruler")&&(t.y+t.height/2<a.y+a.height?e.activeRuler.style.visibility="hidden":e.activeRuler.style.visibility="")}if(a&&e.autoMoveArtBoard(t),n&&!i){let s=e.startArtBoardPosition.left-window.positionX,n=e.startArtBoardPosition.top-window.positionY;var r=t.pageX-e.lassoStartPosition.left+s,l=t.pageY-e.lassoStartPosition.top+n;(Math.abs(r)>5||Math.abs(l)>5)&&(o||e.setState({lassoInserted:!0},()=>{window.lassoInserted=!0}),e.lassoStylesX=r>0?{left:"".concat(e.lassoStartPosition.left-s,"px"),width:"".concat(r,"px")}:{left:"".concat(e.lassoStartPosition.left-Math.abs(r)-s,"px"),width:"".concat(Math.abs(r),"px")},e.lassoStylesY=l>0?{top:"".concat(e.lassoStartPosition.top-n,"px"),height:"".concat(l,"px")}:{top:"".concat(e.lassoStartPosition.top-Math.abs(l)-n,"px"),height:"".concat(Math.abs(l),"px")}),document.getElementById("lasso")&&Object.assign(document.getElementById("lasso").style,Object.assign({},e.lassoStylesX,e.lassoStylesY)),a&&e.lassoSelectElements()}if(i&&e.drawModeMouseDownActive&&e.props.currentDrawComponent){let a="";const s=e.getBounding(document.getElementsByClassName("section-editor__layout")[0]);r=t.pageX/(window.currentZoom/100)-e.drawComponentStartPosition.left-s.x/(window.currentZoom/100),l=t.pageY/(window.currentZoom/100)-e.drawComponentStartPosition.top-s.y/(window.currentZoom/100);let n={top:0,left:0};const o=e.props.ComponentHelper.componentsHelperStyles(e.props.currentDrawComponent),i=document.getElementById(e.props.currentDrawComponent.id);if(i){l>0?(a+="b",n={top:"".concat(e.drawComponentStartPosition.top+o.top,"px"),height:"".concat(l,"px")},"icon"===e.props.currentDrawComponent.slug&&(n.height=i.style.width),Object.assign(i.style,n)):(a+="t",n={top:"".concat(e.drawComponentStartPosition.top+o.top-Math.abs(l),"px"),height:"".concat(Math.abs(l),"px")},"icon"===e.props.currentDrawComponent.slug&&(n.height=i.style.width),Object.assign(i.style,n)),r>0?(a+="r",n={left:"".concat(e.drawComponentStartPosition.left+o.left,"px"),width:"".concat(r,"px")},Object.assign(i.style,n)):(a+="l",n={left:"".concat(e.drawComponentStartPosition.left+o.left-Math.abs(r),"px"),width:"".concat(Math.abs(r),"px")},Object.assign(i.style,n));let s={info:{offset:[r*(window.currentZoom/100),l*(window.currentZoom/100)]},preventDef:()=>{}},c=e.props.y.one("#".concat(e.props.currentDrawComponent.id)),p={offsetTop:parseFloat(e.drawComponentStartOffset.top),offsetLeft:parseFloat(e.drawComponentStartOffset.left),offsetWidth:0,offsetHeight:0};"icon"!==e.props.currentDrawComponent.slug&&(t.target.handle=a,e.props.ComponentHelper.Magnets.resizeMagnetToComponentsOperations(t,s,c,!1,p,{},e.props.currentBlockJSON,n)),i&&(i.style.outline="1px solid #3E87F8");const d={width:i.style.width,height:i.style.height};"icon"===e.props.currentDrawComponent.slug&&(d.height=d.width),e.setMouseLabel(d,"px","px",t)}}window.componentIsDrag||window.gradientHandlesIsDrag||e.props.drawMode||e.drawModeMouseDownActive||e.state.lassoEnabled||s||(e.findElementByMousePosition(t),0===c()(t.target).parents(".section-editor__space").length&&e.handleMouseOutComponent())}},this.lassoSelectElements=function(){let t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components;const s=".s-e__w-i__group_lock",n=".s-e__w-i__group",o=".s-e__w-i__group-frame";let{lassoStylesX:i,lassoStylesY:r}=e,l=[],p=[],d=[];a=Object.assign({},a);for(const e of Object.keys(a))if("frame"===a[e].slug)for(const t of Object.keys(a[e].children))a[t]=a[e].children[t];for(let u of Object.keys(a)){let m=a[u],g=CSS.escape(m.id);if(m){const a=document.getElementById(m.id);let u,_,f,v,w=void 0;if(dr(m.slug)&&m.data){if((m.data.stored_components||[]).length>0){w=e.props.getComponentsInGroup(m);const t=e.props.ComponentHelper.getCommonBoundingRect(w);u=parseFloat(t.x),_=parseFloat(t.y),f=u+parseFloat(t.width),v=_+parseFloat(t.height)}}else{const t=e.getBounding(a);u=parseFloat(t.x),_=parseFloat(t.y),f=u+parseFloat(t.width),v=_+parseFloat(t.height)}const C=parseFloat(i.left)+parseFloat(i.width),y=parseFloat(r.top)+parseFloat(r.height);let b=Math.max(0,Math.min(C,f)-Math.max(parseFloat(i.left),u))*Math.max(0,Math.min(y,v)-Math.max(parseFloat(r.top),_))>0;if(b&&!m.lock&&e.visible(m)){let l;if("frame"===m.slug){const t=e.getBounding(a);u=parseFloat(t.x),_=parseFloat(t.y),f=u+parseFloat(t.width),v=_+parseFloat(t.height),l=parseFloat(i.left)<=u&&parseFloat(r.top)<=_&&C>=f&&y>=v}if("group"===m.slug||l){if(t=c()("#".concat(g)).parents(s).length>0,!t&&-1===e.props.currentBlock.group_ids.indexOf(m.id)){let t=!0;for(const s of e.groupsForSelect)c()(a).parents("#"+CSS.escape(s.id)).length>0&&(t=!1);t&&d.push(m)}}else{t=c()("#".concat(g)).parents(s).length>0;if(c()("#".concat(g)).parents(n+":not(".concat(o,")")).length>0){var h=c()("#".concat(g)).parents(n)[0].id;if(!t&&-1===e.props.currentBlock.group_ids.indexOf(h)){const t=e.props.y.one("#".concat(h)).component;d.push(t)}}else"frame"!==m.slug&&(Array.isArray(e.props.currentBlockJSON)?-1===e.props.currentBlockJSON.indexOf(m)&&p.push(m):p.push(m))}}Array.isArray(e.props.currentBlockJSON)&&(b||m.group_id||e.props.currentBlockJSON.indexOf(m)>-1&&l.push(m)),Array.isArray(e.props.currentBlockJSON)&&(!dr(m.slug)||m.group_id||b||(w||(w=e.props.getComponentsInGroup(m)),l=l.concat(m).concat(w)))}}e.componentsForSelect=p;let m=[];for(let c of d)m=m.concat(e.props.getComponentsInGroup(c));if(e.groupsForSelect=d,e.componentsForSelect[0]||m[0]){const t=e.componentsForSelect.concat(m);window.setTransformator(e.componentsForSelect[0]||m[0],{currentBlockJSON:t,groups:e.groupsForSelect})}else window.setTransformator(e.props.page,{currentBlockJSON:e.props.page,groups:e.groupsForSelect});l.length>0&&e.props.removeFromCurrentBlock(l),e.props.currentBlock.json[0]&&window.setTransformator(e.props.currentBlock.json[0],{currentBlockJSON:e.props.currentBlock.json,groups:e.groupsForSelect})},this.componentsForSelect=[],this.groupsForSelect=[],this.selectComponentsAndGroups=e=>{let t=Object.keys(e),a=[];if(t.length>0){for(const n of t){let t=e[n];t.lock||dr(t.slug)||a.push(t)}this.props.setCurrentBlock(a,{shiftKey:!0,group_ids:[],target:{className:""}},!0);let s=[];for(const a of t.map(t=>e[t]).filter(e=>dr(e.slug))){const e=c()("#".concat(a.id)).parents(".s-e__w-i__group_lock").length>0;dr(a.slug)&&!e&&s.push(a)}this.props.setCurrentGroup(s,!0)}},this.getMaxParentGroupId=e=>{const t=document.querySelector("[data-layer-id='".concat(CSS.escape(e),"']"));if(t){const a=this.props.searchTree({children:this.props.components},e);if(a)return a.group_id?this.getMaxParentGroupId(t.dataset.groupId):e}},this.selectAllComponents=e=>{if(window.resizeComponent||window.componentIsDrag)return void e.preventDefault();const t=JSON.parse(JSON.stringify(this.props.currentBlock));if(e.ctrlKey||e.metaKey){if(e.preventDefault(),t.isLayout||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST)this.props.setLayoutAsCurrentBlock(),this.selectComponentsAndGroups(this.props.components);else{let e=t.json.find(e=>e.group_id);if(e||this.props.getRootGroupIds()){for(const a of this.props.getRootGroupIds()){const s=this.props.searchTree({children:this.props.components},a);t.json=t.json.filter(e=>-1===this.props.getComponentPath(e.id).indexOf(s.id)),t.json.push(s),e=s}if(e&&e.group_id){if(t.json.filter(t=>t.group_id===e.group_id).length===t.json.length&&e.group_id){const t=this.props.searchTree({children:this.props.components},e.group_id);this.props.setLayoutAsCurrentBlock(),this.selectComponentsAndGroups(t.children)}}else this.props.setLayoutAsCurrentBlock(),this.selectComponentsAndGroups(this.props.components)}else this.props.setLayoutAsCurrentBlock(),this.selectComponentsAndGroups(this.props.components)}this.setState({selectAllInProgress:!0},()=>{this.setState({selectAllInProgress:!1})})}},this.updateOrAddRuler=e=>{let t=this.props.page.rulers,s=t.find(e=>e.id===this.activeRuler.getAttribute("id"));if(s)"vertical"===e?s.left=parseFloat(this.activeRuler.dataset.left):s.top=parseFloat(this.activeRuler.dataset.top);else{let s={id:(0,a(86).v4)(),type:e,device:this.activeRuler.dataset.rulerDevice};this.activeRuler.setAttribute("id",s.id),"vertical"===e?s.left=parseFloat(this.activeRuler.dataset.left):s.top=parseFloat(this.activeRuler.dataset.top),t.push(s)}this.props.updatePageRulers(t)},this.removeRulerFromArray=()=>{let e=this.props.page.rulers,t=e.find(e=>e.id===this.activeRuler.getAttribute("id")),a=e.indexOf(t);a>-1&&(e.splice(a,1),this.props.updatePageRulers(e))},this.handleMouseUp=e=>{let{currentDrawComponent:t}=this.props;if(window.artboardMounted)if("button"in e&&1===e.button)this.spaceKeyUp(e);else{if(this.activeRuler){let e=this.activeRuler.getBoundingClientRect(),t=c()("canvas:eq(0)")[0].getBoundingClientRect(),a=c()("canvas:eq(1)")[0].getBoundingClientRect(),s="";this.activeRuler.classList.contains("v-ruler")&&(s="vertical",e.x+e.width/2<a.x+a.width&&(this.removeRulerFromArray(),this.activeRuler.remove(),this.activeRuler=void 0)),this.activeRuler&&this.activeRuler.classList.contains("h-ruler")&&(s="horizontal",e.y+e.height/2<t.y+t.height&&(this.removeRulerFromArray(),this.activeRuler.remove(),this.activeRuler=void 0)),this.activeRuler&&this.updateOrAddRuler(s)}if((this.addVerticalRuler||this.addHorizontalRuler||this.activeRuler)&&(this.addVerticalRuler=void 0,this.addHorizontalRuler=void 0,this.activeRuler=void 0),this.props.drawMode){let e=document.getElementById(null===t||void 0===t?void 0:t.id);if(e){let a={};delete window.newDrawComponents[t.id],this.props.ComponentHelper.Magnets.smartGuides.clear();const s=e.style,n=this.props.ComponentHelper.componentsHelperStyles(t);if(e&&(e.style.outline="none"),parseInt(s.width,10)<4&&parseInt(s.height,10)<4){const s={width:"200px",height:"200px",top:"".concat(parseInt(e.style.top,10),"px"),left:"".concat(parseInt(e.style.left,10)-n.left,"px")};"text"===t.slug&&(s.width="1px",s.height=t.styles[this.props.currentDevice.name].lineHeight,a.data=Object.assign(t.data,{behavior:"autowidth"})),"button"===t.slug&&(s.width="100px",s.height="44px"),"map"===t.slug&&(s.width="400px",s.height="300px"),s.left=parseFloat(s.left)-parseFloat(s.width)/2+"px",s.top=parseFloat(s.top)-parseFloat(s.height)/2+"px","desktop"!==this.props.currentDevice.name&&(t.styles.desktop=Object.assign({},t.styles.desktop,s,{visibility:"hidden"})),this.props.handleChangeComponent(t,s,!0,!0)}else{let s={top:"".concat(parseInt(e.style.top,10),"px"),left:"".concat(parseInt(e.style.left,10)-n.left,"px"),width:e.style.width||1,height:e.style.height||1};a.data=Object.assign(t.data,{resized:!0}),"desktop"!==this.props.currentDevice.name&&(t.styles.desktop=Object.assign({},t.styles.desktop,s,{visibility:"hidden"})),this.props.handleChangeComponent(t,s,!0,!0)}if(this.setState({lassoEnabled:!1,lassoInserted:!1}),"image"!==t.slug&&this.props.handleChangeComponentProperties(t,a,!1),"icon"===t.slug){const e={width:s.width,height:s.height};parseInt(s.width,10)<2&&parseInt(s.height,10)<2&&(e.width="40px"),this.props.handleChangeComponent(t,{width:e.width,height:e.width},!0,!0)}setTimeout(()=>{let e=[JSON.parse(JSON.stringify(t))];this.props.capture({changedComponents:[t],prevChangedComponents:e},"ADD_COMPONENT"),this.props.clearDrawComponent()},100),this.props.setCurrentBlock(t,{shiftKey:!1,target:{className:""}}),this.hideMouseLabel(),this.drawModeMouseDownActive=!1,this.drawComponentStartPosition=null,this.props.toggleDrawMode(!1)}}else window.artboardMounted&&this.setState({lassoEnabled:!1}),setTimeout(()=>{window.artboardMounted&&this.setState({lassoInserted:!1})}),window.lassoInserted=!1,this.lassoStylesX={},this.lassoStylesY={},this.componentsForSelect.length>0&&(this.props.setCurrentBlock(this.componentsForSelect,{shiftKey:!0,target:{className:""},group_ids:[]},!1,!0),this.componentsForSelect=[]),this.groupsForSelect.length>0&&(this.props.setCurrentGroup(this.groupsForSelect,!0),this.groupsForSelect=[]);this.startArtBoardPosition=void 0}},this.cancelAction=()=>{this.props.currentDrawComponent&&(this.props.clearDrawComponent(),this.hideMouseLabel(),this.drawModeMouseDownActive=!1,this.props.toggleDrawMode(!1));const e=new Event("siter.settings.closeall");document.dispatchEvent(e)},this.handleDoubleClick=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(!a.shiftKey){if(!e.props.versionHistoryMode){const a=Array.isArray(e.props.currentBlockJSON)&&1===e.props.currentBlockJSON.length&&e.props.currentBlockJSON[0].id===t.id,s=a&&["button","text"].indexOf(e.props.currentBlockJSON[0].slug)>-1,n=a&&["slider","map"].indexOf(e.props.currentBlockJSON[0].slug)>-1;0===e.props.currentBlock.group_ids.length&&(s||n)&&e.props.currentBlock.handleChangeProperties({blocked:!0},!1,()=>{},!1)}if(e.props.currentBlock.group_ids.length>0){const t=a.target.classList.contains("section-editor__transformator"),n=e.props.currentBlock.group_ids[0];n&&t&&e.props.handleChangeComponentProperties({id:n},{groupOpen:!0,expanded:!0},!1,s)}}},this.getFonts=e=>{if(!e||0===e.length)return;let t=[...e].filter(e=>"google"===e.status||960===e.id).map(e=>"".concat(e.family,":100,200,300,400,500,600,700,800"));t.length>0&&Ae.a.load({google:{families:t},active:e=>{const t=new CustomEvent("siter.fontrendered");document.dispatchEvent(t)}})},this.handleMouseOverArtBoard=e=>{const t=this.props.ComponentHelper.Y.one(e.target);t.ancestor(".section-editor__widgets")||t.hasClass("section-editor__widgets")||t.ancestor(".section-editor__indicators")||t.hasClass("section-editor__indicator")||setTimeout(()=>{this.handleChangeHoverTarget(this.props.page)})},this.handleMouseOver=e=>{const t=this.props.ComponentHelper.Y.one(e.target),a=c()(e.target).parents(".section-editor__widgets").length>0,s=t.ancestor(".section-editor__indicators")||t.hasClass("section-editor__indicator");a||s?this.handleMouseOut():(this.props.currentDevice.width>=1200?document.querySelectorAll(".section-editor__artboard")[0].style.outline="2px solid #42bffe":document.querySelectorAll(".section-editor__filter").length>0&&(document.querySelectorAll(".section-editor__filter")[0].style.outline="2px solid #42bffe"),this.handleMouseOutComponent(),setTimeout(()=>{this.handleChangeHoverTarget(this.props.page)}))},this.handleMouseOut=()=>{const e=document.querySelectorAll(".section-editor__artboard"),t=document.querySelectorAll(".section-editor__filter");this.props.currentDevice.width>=1200&&e.length>0&&(e[0].style.outline="none"),t.length>0&&(t[0].style.outline="none")},this.filterClasses=()=>Be()("section-editor__filter",{"section-editor__layout_active":this.props.currentBlockIsLayout}),this.artBoardClasses=()=>Be()("section-editor__artboard noselect ".concat(this.props.currentDevice.name),{"section-editor__artboard_active":this.props.currentBlockIsLayout,"section-editor__artboard_space-active":this.state.spaceActive,"show-window":this.props.showWindow}),this.spaceKeyDown=e=>{e.shiftKey||e.ctrlKey||e.metaKey||e.altKey||window.componentIsDrag||this.setState({spacePressed:!0})},this.spaceKeyUp=e=>{this.setState({spacePressed:!1,drag:!1}),this.dragTranslateX&&this.props.handleChangeX(this.dragTranslateX),this.dragTranslateY&&this.props.handleChangeY(this.dragTranslateY)},this.dragMouseDown=e=>{this.setState({drag:!0,dragStartPosition:{left:e.pageX,top:e.pageY},artboardStartX:window.positionX,artboardStartY:window.positionY})},this.dragMouseMove=e=>{if(this.state.drag){const t=e.pageX-this.state.dragStartPosition.left,a=e.pageY-this.state.dragStartPosition.top,s=this.state.artboardStartX+t,n=this.state.artboardStartY+a,o=window.currentZoom/100;document.getElementsByClassName("section-editor__artboard")[0].style.transform="translate(".concat(s,"px, ").concat(n,"px) scale(").concat(o,")"),this.props.currentBlock.json[0]&&window.setTransformator(this.props.currentBlock.json[0]),window.updateIndicator(),this.dragTranslateX=s,this.dragTranslateY=n,document.querySelectorAll(".v-ruler").forEach(e=>{let t=parseFloat(e.dataset.left)*(window.currentZoom/100)+parseInt(s,10);e.style.transform="translate(".concat(t,"px, ").concat(parseInt(0,10),"px)")}),document.querySelectorAll(".h-ruler").forEach(e=>{let t=parseFloat(e.dataset.top)*(window.currentZoom/100)+parseInt(n,10);e.style.transform="translate(0px, ".concat(t,"px)")});let i=-n/(window.currentZoom/100),r=-s/(window.currentZoom/100)-(window.WORKSPACE_WIDTH-this.props.currentDevice.width)/2;this.refs.hRuler.scroll(r),this.refs.vRuler.scroll(i)}},this.dragMouseUp=e=>{this.props.handleChangeX(this.dragTranslateX),this.props.handleChangeY(this.dragTranslateY),this.setState({drag:!1}),this.dragTranslateX=void 0,this.dragTranslateY=void 0},this.changeLayoutPosition=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.state.spacePressed,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.componentIsDrag,o=window.positionX,i=window.positionY;if(s&&!n){t.shiftKey&&(a=100),"ArrowDown"===t.key&&(i+=a),"ArrowUp"===t.key&&(i-=a),"ArrowRight"===t.key&&(o+=a),"ArrowLeft"===t.key&&(o-=a);const s=window.currentZoom/100;document.getElementsByClassName("section-editor__artboard")[0].style.transform="translate(".concat(o,"px, ").concat(i,"px) scale(").concat(s,")"),e.props.handleChangeX(o),e.props.handleChangeY(i),e.props.currentBlock.json[0]&&window.setTransformator(e.props.currentBlock.json[0]),window.updateIndicator()}},this.disableRefresh=e=>{e.altKey||e.shiftKey||!e.metaKey&&!e.ctrlKey||e.preventDefault()},this.disableRefreshF5=e=>{e.preventDefault()},this.handleRemoveWidgets=()=>{if(!this.props.currentBlockIsLayout){let e=this.props.currentBlock.group_ids.map(e=>{var t;return null===(t=this.props.y.one("#".concat(e)))||void 0===t?void 0:t.component}).filter(e=>e);this.props.currentBlock.remove(this.props.currentBlockJSON.concat(e))}},this.visible=e=>{let t=document.querySelector("#".concat(CSS.escape(e.id)));if(t){let a=t.currentStyle?t.currentStyle.visibility:getComputedStyle(t,null).visibility,s=t.currentStyle?t.currentStyle.display:getComputedStyle(t,null).display;if(e.styles[this.props.currentDevice.name]&&"hidden"===e.styles[this.props.currentDevice.name].visibility)return!1;if("hidden"===a||"none"===s)return!1;for(;!/body/i.test(t);)if(t=t.parentNode,a=t.currentStyle?t.currentStyle.visibility:getComputedStyle(t,null).visibility,s=t.currentStyle?t.currentStyle.display:getComputedStyle(t,null).display,"hidden"===a||"none"===s)return!1}return!0},this.handleMouseOverComponent=(e,t)=>{this.props.componentsWithState.indexOf(e.slug)>-1&&"form"!==e.slug&&(e.state&&"default"===e.state||!e.state)&&(this.hoverComponent||(c()("#".concat(CSS.escape(e.id))).addClass("".concat(e.id,"_hover")),this.hoverComponent=e))},this.handleMouseOutComponent=e=>{const t=this.hoverComponent;t&&this.props.componentsWithState.indexOf(t.slug)>-1&&"form"!==t.slug&&this.hoverComponent&&(c()("#".concat(CSS.escape(t.id))).removeClass("".concat(t.id,"_hover")),this.hoverComponent=void 0)},this.handleGroupOperation=e=>{e.preventDefault(),this.props.versionHistoryMode||!e.ctrlKey&&!e.metaKey||window.componentIsDrag||(e.preventDefault(),e.shiftKey?this.props.handleUnGroupComponents():this.props.handleGroupComponents())},this.units={10:[600,1/0],25:[200,600],50:[75,200],100:[50,75],200:[30,50],250:[20,30],500:[10,20],1e3:[5,10],2e3:[3,5],5e3:[0,3]},this.getUnitForRulers=e=>{let t=e;for(const a of Object.keys(this.units))window.currentZoom>=this.units[a][0]&&window.currentZoom<=this.units[a][1]&&(t=parseFloat(a));return t},this.handleChangeX=e=>{let t=-e/(window.currentZoom/100)-(window.WORKSPACE_WIDTH-this.props.currentDevice.width)/2;this.refs.hRuler&&this.refs.hRuler.scroll(t),this.props.handleChangeX(e)},this.handleChangeY=e=>{let t=-e/(window.currentZoom/100);this.refs.vRuler&&this.refs.vRuler.scroll(t),this.props.handleChangeY(e)},this.toggleRulers=e=>{e.shiftKey&&this.setState({rulers:!this.state.rulers},()=>{localStorage.setItem("rulers",this.state.rulers)})},this.toggleLayoutFromKey=e=>{e.shiftKey&&!e.metaKey&&this.props.toggleLayout()},this.getInstalledFontsCSS=e=>{let t="",a=e.filter(e=>"installed"===e.status);for(let s of a)t+='\n@font-face {\n          font-family: "'.concat(s.family,'";\n          src: ').concat(s.formats?s.formats.map((e,t)=>'url("'.concat(s.urls[t],'") format("').concat("otf"===e?"opentype":"ttf"===e?"truetype":e,'")').concat(t===s.formats.length-1?";":"")):'url("'.concat(s.url,'") format("').concat("otf"===s.format?"opentype":"ttf"===s.format?"truetype":s.format,'");'),"\n          font-weight: ").concat(s.weight,";\n          font-style: ").concat(s.style,";\n        }\n      ");return t}}componentDidMount(){this.getFonts(this.props.installedFonts),this.props.layoutEditor.initArtBlockEditor(this.props.page),this.setStylesToFilter(this.props,!0),window.showRulersForTarget=this.showRulersForTarget,window.hideRulersForComponent=this.hideRulersForComponent,window.cancelAction=this.cancelAction,window.handleChangeHoverTarget=this.handleChangeHoverTarget,window.selectComponentsAndGroups=this.selectComponentsAndGroups;const e=this;document.onkeyup=function(t){"Alt"===t.key&&e.hideRulersForComponent()},document.onkeydown=function(t){"Alt"!==t.key||t.ctrlKey||t.metaKey||t.shiftKey||window.resizeComponent||e.showRulersForTarget(t)},window.onblur=()=>e.hideRulersForComponent(),document.onmousemove=this.handleMouseMove,document.onmouseup=this.handleMouseUp,document.addEventListener("siter.updatezoom",this.onZoomChanged),setTimeout(()=>{this.addRulersFromPage(),this.props.artboardMounted(!0)},200);let t=localStorage.getItem("rulers");t&&this.setState({rulers:JSON.parse(t)}),setTimeout(this.resetRulersScroll),window.artboardMounted=!0}componentWillUnmount(){window.artboardMounted=!1,this.props.artboardMounted(!1),document.removeEventListener("siter.updatezoom",this.onZoomChanged),document.onkeyup=null,document.onkeydown=null,document.onmousemove=null,document.onmouseup=null}render(){const{layers:e,pageBackgroundCss:t,versionHistoryMode:a,currentDevice:s,devices:o}=this.props,i=Object.assign({},this.lassoStylesX,this.lassoStylesY),r=Be()("section-editor__space editor-current__device-".concat(s.name),{"section-editor__space_active-lasso":this.state.lassoEnabled&&this.state.lassoInserted,"section-editor__space_draw-mode":this.props.drawMode,"section-editor__space_with_rulers":this.state.rulers}),l={height:this.state.layoutStyles.height,width:this.getLayoutWidth(),background:t};return n.a.createElement(n.a.Fragment,null,n.a.createElement(R.MenuProvider,{id:"artboard-context-menu",style:{height:"100%"}},n.a.createElement("div",{className:r,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onMouseDown:this.handleMouseDown},!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST&&!window.testspec&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Fa.a,{ref:"hRuler",type:"horizontal",height:19,negativeRuler:!0,segment:1,unit:this.getUnitForRulers(50),mainLineSize:"20%",style:{zIndex:1,width:"100%",borderBottom:"1px solid #DBDBDB",position:"absolute",top:58,cursor:"ns-resize"},backgroundColor:"#F8F8F8",textColor:"#BEBEBE",lineColor:"#C4C4C4",textAlign:"center",textOffset:[0,10],zoom:window.currentZoom/100,updateRulers:this.state.updateRulers}),n.a.createElement("div",{className:"rulers-wrapper__cube",style:{left:e?278:58}}),n.a.createElement(Fa.a,{ref:"vRuler",type:"vertical",width:19,negativeRuler:!0,segment:1,unit:this.getUnitForRulers(50),mainLineSize:"20%",style:{zIndex:1,height:"100%",borderRight:"1px solid #DBDBDB",position:"absolute",left:e?278:58,top:0,cursor:"ew-resize"},backgroundColor:"#F8F8F8",textColor:"#BEBEBE",lineColor:"#C4C4C4",textAlign:"center",textOffset:[10,0],zoom:window.currentZoom/100,updateRulers:this.state.updateRulers})),n.a.createElement("style",null,".h-ruler-value {\n                left: ".concat(e?282:62,"px;\n                position: absolute;\n                transform: rotate(-90deg);\n                transform-origin: 0 0;\n                top: 4px;\n                white-space: nowrap;\n              }\n              .h-ruler__bg {\n                left: ").concat(e?278:58,"px;\n              }\n              ")),n.a.createElement("div",{style:l,className:this.artBoardClasses(),onMouseOver:this.handleMouseOverArtBoard},n.a.createElement("div",{className:"section-editor__info",style:{width:this.props.currentDevice.width}},n.a.createElement("svg",{className:"section-editor__info-arrow-left fl",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M5.22579 2.54404C5.44376 2.31845 5.80654 2.31845 6.03214 2.54404C6.25011 2.76202 6.25011 3.1248 6.03214 3.34227L1.94347 7.43093H15.4355C15.75 7.43144 16 7.68142 16 7.99593C16 8.31045 15.75 8.56856 15.4355 8.56856H1.94347L6.03214 12.6496C6.25011 12.8752 6.25011 13.2385 6.03214 13.456C5.80654 13.6815 5.44325 13.6815 5.22579 13.456L0.169196 8.39936C-0.0563984 8.18139 -0.0563984 7.81861 0.169196 7.60114L5.22579 2.54404Z",fill:"#AFAFAF"}))),n.a.createElement("span",{className:"capitalize",style:{marginTop:9,display:"inline-block"}},this.props.currentDevice.title)," -"," ",this.props.currentDevice.width,"px",n.a.createElement("svg",{className:"section-editor__info-arrow-right fr",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M10.7742 2.54404C10.5562 2.31845 10.1935 2.31845 9.96786 2.54404C9.74989 2.76202 9.74989 3.1248 9.96786 3.34227L14.0565 7.43093H0.564497C0.249984 7.43144 0 7.68142 0 7.99593C0 8.31045 0.249984 8.56856 0.564497 8.56856H14.0565L9.96786 12.6496C9.74989 12.8752 9.74989 13.2385 9.96786 13.456C10.1935 13.6815 10.5567 13.6815 10.7742 13.456L15.8308 8.39936C16.0564 8.18139 16.0564 7.81861 15.8308 7.60114L10.7742 2.54404Z",fill:"#AFAFAF"})))),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:32,onKeyHandle:this.props.toggle}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:32,onKeyHandle:this.spaceKeyDown}),n.a.createElement(P.a,{keyEventName:M.KEYUP,keyCode:32,onKeyHandle:this.spaceKeyUp}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"ArrowDown",onKeyHandle:this.changeLayoutPosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"ArrowUp",onKeyHandle:this.changeLayoutPosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"ArrowLeft",onKeyHandle:this.changeLayoutPosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"ArrowRight",onKeyHandle:this.changeLayoutPosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"Escape",onKeyHandle:this.cancelAction}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:71,onKeyHandle:this.handleGroupOperation}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:61,onKeyHandle:this.zoomInFromKeyboard}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:107,onKeyHandle:this.zoomOutFromKeyboard}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:173,onKeyHandle:this.zoomInFromKeyboard}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:109,onKeyHandle:this.zoomOutFromKeyboard}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:187,onKeyHandle:this.zoomInFromKeyboard}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:189,onKeyHandle:this.zoomOutFromKeyboard}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"0",onKeyHandle:this.zoomResetFromKeyboard}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:82,onKeyHandle:this.disableRefresh}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:116,onKeyHandle:this.disableRefreshF5}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:17,onKeyHandle:this.findElementByMousePosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:91,onKeyHandle:this.findElementByMousePosition}),n.a.createElement(P.a,{keyEventName:M.KEYUP,keyCode:17,onKeyHandle:this.findElementByMousePosition}),n.a.createElement(P.a,{keyEventName:M.KEYUP,keyCode:91,onKeyHandle:this.findElementByMousePosition}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:82,onKeyHandle:this.toggleRulers}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:71,onKeyHandle:this.toggleLayoutFromKey}),n.a.createElement(aa,{componentsHelperStyles:this.props.ComponentHelper.componentsHelperStyles,handleChangeComponentsStyles:this.props.handleChangeComponentsStyles,findElementByMousePosition:this.findElementByMousePosition,handleChangeZoom:this.props.handleChangeZoom,handleChangeX:this.handleChangeX,handleChangeY:this.handleChangeY,currentBlock:this.props.currentBlock,handleChangeComponent:this.props.handleChangeComponent,currentDevice:this.props.currentDevice,saveLayout:this.props.saveLayout,handleMouseMove:this.handleMouseMove,y:this.props.y}),n.a.createElement("div",{className:"section-editor__layout s-e__w-i",style:this.state.layoutStyles}),n.a.createElement("div",{className:this.filterClasses(),style:this.state.filterStyles}),n.a.createElement("style",{id:"resizers-style"},".section-editor__filter .yui3-resize-handle-inner { transform: scale(".concat(1/(window.currentZoom/100),") }"),a?".section-editor__filter .yui3-resize-handle-inner {display:none}":""),n.a.createElement(xa,{y:this.props.y,getInstalledFontsCSS:this.getInstalledFontsCSS,installedFonts:this.props.installedFonts,currentBlockActive:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].blocked,currentBlockId:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].id,currentBlockSlug:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].slug,behavior:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].data.behavior,value:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].data.content||"",data:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].data,align:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].data.align,componentState:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].state,componentStyles:Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].styles[this.props.currentDevice.name],handleChangeStyles:this.props.currentBlock.handleChangeStyles,handleChangeProperties:this.props.currentBlock.handleChangeProperties,devices:o}),n.a.createElement(ea,{y:this.props.y,getMaxParentGroupId:this.getMaxParentGroupId,versionHistoryMode:a,getRootGroupIds:this.props.getRootGroupIds,clearDrawComponent:this.props.clearDrawComponent,isMasterDependingComponentItem:this.props.isMasterDependingComponentItem,getSelectedTreeNodes:this.props.getSelectedTreeNodes,componentsFlatToTree:this.props.componentsFlatToTree,setComponents:this.props.setComponents,searchTree:this.props.searchTree,getComponentTreeInfo:this.props.getComponentTreeInfo,getComponentsInGroup:this.props.getComponentsInGroup,addComponentsToPageAsTreeNode:this.props.addComponentsToPageAsTreeNode,handleChangeComponentsStyles:this.props.handleChangeComponentsStyles,chooseBlockMode:this.props.chooseBlockMode,getCommonNodeFromGroup:this.getCommonNodeFromGroup,handleSaveComponents:this.props.handleSaveComponents,selectComponentsAndGroups:this.selectComponentsAndGroups,findElementByMousePosition:this.findElementByMousePosition,currentBlocksIsOneGroup:this.props.currentBlocksIsOneGroup,setCurrentGroup:this.props.setCurrentGroup,spacePressed:this.state.spacePressed,visible:this.visible,handleRemoveWidgets:this.handleRemoveWidgets,removeComponentFromPage:this.props.removeComponentFromPage,handleDoubleClick:this.handleDoubleClick,showMouseLabel:this.showMouseLabel,hideMouseLabel:this.hideMouseLabel,setMouseLabel:this.setMouseLabel,drawMode:this.props.drawMode,currentDrawComponent:this.props.currentDrawComponent,showWindow:this.props.showWindow,handleChangeComponentProperties:this.props.handleChangeComponentProperties,handleChangeComponentsProperties:this.props.handleChangeComponentsProperties,keepRatio:this.props.keepRatio,setLayoutAsCurrentBlock:this.props.setLayoutAsCurrentBlock,pageId:this.props.page.id,addComponentsToPage:this.props.addComponentsToPage,ComponentHelper:this.props.ComponentHelper,components:this.props.components,currentBlock:this.props.currentBlock,currentBlockJSON:this.props.currentBlockJSON,currentBlockIsLayout:this.props.currentBlockIsLayout,currentDevice:this.props.currentDevice,saveLayout:this.props.saveLayout,setCurrentBlock:this.props.setCurrentBlock,selectAllComponents:this.selectAllComponents,lassoInserted:this.state.lassoInserted,handleChangeComponent:this.props.handleChangeComponent,installedFonts:this.props.installedFonts,handleChangePage:this.props.handleChangePage}),this.props.showLayout&&n.a.createElement(Me,{colsCount:12,height:this.props.pageHeight})),this.state.lassoEnabled&&this.state.lassoInserted&&n.a.createElement("div",{id:"lasso",className:"section-editor__lasso",style:i,onMouseUp:this.handleMouseUp}),this.state.showMouseLabel&&n.a.createElement("div",{id:"mouselabel",className:"section-editor__mouse-label"}),this.props.drawMode&&n.a.createElement("div",{className:"section-editor__overlay-draw"}),n.a.createElement(Ba,{visible:this.visible,versionHistoryMode:a,getComponentsInGroup:this.props.getComponentsInGroup,handleMouseOver:this.handleMouseOverComponent,handleMouseOut:this.handleMouseOutComponent,findElementByMousePosition:this.findElementByMousePosition,allCurrentIsMasterDependingComponent:this.props.allCurrentIsMasterDependingComponent,drawMode:this.props.drawMode,chooseBlockMode:this.props.chooseBlockMode,y:this.props.y,setCurrentGroup:this.props.setCurrentGroup,currentBlocksIsOneGroup:this.props.currentBlocksIsOneGroup,components:this.props.components,componentsLength:this.props.components.length,handleDoubleClick:this.handleDoubleClick,ArtBoard:this,showMouseLabel:this.showMouseLabel,hideMouseLabel:this.hideMouseLabel,setMouseLabel:this.setMouseLabel,setCurrentBlock:this.props.setCurrentBlock,getRootGroupIds:this.props.getRootGroupIds,ComponentHelper:this.props.ComponentHelper,currentDevice:this.props.currentDevice,blocksLength:this.props.currentBlockJSON[0]&&this.props.currentBlock.json.length,container:this.props.currentBlockJSON[0]&&this.props.currentBlockJSON[0].container,currentBlock:this.props.currentBlock,currentBlockJSON:this.props.currentBlockJSON,currentBlockIsLayout:this.props.currentBlock.isLayout,styles:this.props.currentBlockJSON[0]&&this.props.currentBlockJSON[0].styles[this.props.currentDevice.name],blocked:this.props.currentBlockJSON[0]&&this.props.currentBlockJSON[0].blocked,lock:this.props.currentBlockJSON[0]&&1===this.props.currentBlockJSON.length&&this.props.currentBlockJSON[0].lock||this.props.currentBlocksIsOneGroup(!0).lock,isSearchBoxShown:this.props.currentBlockJSON[0]&&this.props.currentBlockJSON[0].isSearchBoxShown,currentBlockRotate:this.props.currentBlockJSON[0]&&this.props.currentBlockJSON[0].styles[this.props.currentDevice.name]&&this.props.currentBlockJSON[0].styles[this.props.currentDevice.name].transform})),this.state.spacePressed&&n.a.createElement("div",{onMouseUp:this.dragMouseUp,onMouseDown:this.dragMouseDown,onMouseMove:this.dragMouseMove,className:"section-editor__overlay-drag"})),!this.props.currentBlockIsLayout&&!a&&n.a.createElement(Oe,{selectMainMasterComponent:this.props.selectMainMasterComponent,menu_id:"artboard-context-menu",getSelectedTreeNodes:this.props.getSelectedTreeNodes,handleDetachMasterDepending:this.props.handleDetachMasterDepending,oneOfCurrentIsMasterDependingComponent:this.props.oneOfCurrentIsMasterDependingComponent,allCurrentIsMasterDependingComponent:this.props.allCurrentIsMasterDependingComponent,currentBlocksIsOneGroup:this.props.currentBlocksIsOneGroup,handleGroupComponents:this.props.handleGroupComponents,handleUnGroupComponents:this.props.handleUnGroupComponents,handleCreateMasterComponent:this.props.handleCreateMasterComponent,handleCreateAutolayout:this.props.handleCreateAutolayout,handleRemoveAutolayout:this.props.handleRemoveAutolayout,visible:this.visible,handleChangeLock:this.props.handleChangeLock,toggleVisible:this.props.toggleVisible,arrangeMove:this.props.arrangeMove,currentBlock:this.props.currentBlock,handleRemoveWidgets:this.handleRemoveWidgets}),n.a.createElement("style",{id:"connect-fonts"},this.getInstalledFontsCSS(this.props.installedFonts)))}}const Oa={createPageComponentRequest:B.a};var Da=Object(o.b)(e=>({sessions:e.sessions}),Oa)(La);class Ma extends s.Component{constructor(){super(...arguments),this.activeDrop=null,this.initDD=e=>{const{y:t}=this.props;return new t.DD.Drag({node:e,target:{padding:"0 0 0 20",background:"black"}}).plug(t.Plugin.DDProxy,{cloneNode:!1,moveOnEnd:!1,flyBack:!1})},this.toggleDrop=e=>{const{y:t}=this.props,a=t.one(".section-editor__space"),s=t.one(".section-editor__layers"),n=t.one(".section-editor__left-panel"),o=e?"plug":"unplug";a[o](t.Plugin.Drop),s[o](t.Plugin.Drop),n[o](t.Plugin.Drop)},this.setEvents=e=>{e.on("drag:start",this._onDragStart,this),e.on("drag:drophit",this._onDropHit,this),e.on("drag:drag",this._onDragDrag,this),e.on("drag:end",this._onDragEnd,this)},this.setProxySizeStyles=()=>{const{y:e,component:t,getCommonNode:a}=this.props,s=a(t);e.all(".yui3-dd-proxy").each(e=>{"block"===e.getStyle("display")&&e.setStyles({width:s.width*(window.currentZoom/100),height:s.height*(window.currentZoom/100)})})},this._onDragStart=()=>{this.toggleDrop(!0),this.setProxySizeStyles()},this._onDragDrag=e=>{const{y:t}=this.props,a=t.DD.DDM.targets.map(e=>(e.region=e.get("node").get("region"),e));t.all(".yui3-dd-proxy").each(e=>{"block"===e.getStyle("display")&&(this.proxyX=e.get("offsetLeft"),this.proxyY=e.get("offsetTop"),this.activeDrop=t.DD.DDM.getBestMatch(a))})},this._onDragEnd=e=>{const{component:t,handleInsertMasterComponent:a}=this.props;if(this.activeDrop){const s=this.activeDrop.get("node"),n={x:e.currentTarget.mouseXY[0],y:e.currentTarget.mouseXY[1]},o={x:this.proxyX,y:this.proxyY};if(s.hasClass("section-editor__space"))if(t.styles[window.currentDeviceName])a(JSON.parse(JSON.stringify(t)),n,o);else{let e="res375"===window.currentDeviceName?"mobile":"res640"===window.currentDeviceName?"tablet":"desktop";N.b.warning("Please, make shure your have ".concat(e," version\n of this component"),"",5e3,void 0,void 0,!0,"Close","Go to master component->","/account/sites/".concat(window.siteId,"/pages/").concat(t.page_id,"/editor"),"")}}this.toggleDrop(!1)}}componentDidMount(){const{y:e}=this.props;let t=e.one(this.refs.layeritem),a=this.initDD(t);this.setEvents(a)}render(){const{component:e}=this.props;return n.a.createElement("li",{ref:"layeritem",className:"siter-layers__tree-item siter-layers__tree-item_master-component",style:{paddingLeft:15},key:e.id},n.a.createElement("span",{className:"siter-layers__tree-item__icon"},n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{opacity:"0.5",d:"M0.5 7L0.49995 11.5C0.499944 12.0523 0.947661 12.5 1.49995 12.5L6 12.5M6 0.5L1.49995 0.5C0.947661 0.5 0.499943 0.947722 0.49995 1.50001L0.5 6M7 0.5L11.4999 0.5C12.0522 0.499999 12.4999 0.947708 12.4999 1.49999L12.5 6M12.5 7L12.5 11.5C12.4999 12.0523 12.0522 12.5 11.5 12.5L7 12.5",stroke:"#6B58DE",strokeLinejoin:"round"}))),n.a.createElement("span",{className:"siter-layers__tree-item__label"},e.description||Object(qt.h)(e)))}}var Pa=Object(o.b)((e,t)=>({}),{})(Ma);class Ia extends s.Component{render(){const{masterComponents:e,y:t,handleInsertMasterComponent:a,getCommonNode:s}=this.props;return n.a.createElement("div",{className:"master-components"},e.map(e=>n.a.createElement(Pa,{y:t,key:e.id,handleInsertMasterComponent:a,component:e,getCommonNode:s})))}}var Ta=Object(o.b)((e,t)=>({}),{})(Ia);class Ra extends s.Component{constructor(){super(...arguments),this.state={masterComponents:[],loading:!1},this.extractFonts=e=>{let t=e.fonts||[];if(dr(e.slug))for(const a of Object.keys(e.children)){let s=e.children[a];t=t.concat(this.extractFonts(s))}return[...new Set(t)]},this.setFonts=e=>{for(const t of Object.keys(e)){let a=e[t];a.fonts=JSON.parse(JSON.stringify(this.extractFonts(a)))}},this.onTabFocus=()=>{this.updateData()},this.updateData=()=>{this.loadTimeout=setTimeout(()=>{this.setState({loading:!0})},50),this.getMasterComponents(e=>{for(let t of e)dr(t.slug)&&"master_component"===t.group_type&&!t.main_master_component_id&&(t.group_id=null);this.setFonts(e),clearTimeout(this.loadTimeout),this.setState({masterComponents:e,loading:!1})})},this.getMasterComponents=e=>{const{jwt:t,siteId:a}=this.props;d.a.defaults.headers.common.Authorization="Bearer ".concat(t),d.a.get("/sites/".concat(a,"/master_components")).then(t=>e(t.data))},this.copyTreeNodes=(e,t)=>{const{currentDevice:s}=this.props;let n=JSON.stringify(e);const o=a(86).v4;let i=0;for(const a of e){const e=new RegExp("".concat(a.node.id),"g");n=n.replace(e,o())}n=JSON.parse(n);for(let a of n)delete a.node.children,a.depth=a.path.length-1,a.node.main_master_component_id=e[i].node.id,a.node.main_master_component_page_id=t,a.node.page_id=window.pageId,"master_component"!==e[i].node.group_type||e[i].node.main_master_component_id||(a.node.styles[s.name].visibility="inherit"),i++;return n},this.centerNewTreeNodesToMousePosition=(e,t,a)=>{let{x:s,y:n}=t;const{currentDevice:o}=this.props,i=this.props.ComponentHelper.getCommonRectByComponentsProps(e.map(e=>{let{node:t}=e;return t}).filter(e=>"group"!==e.slug)),r=JSON.parse(JSON.stringify(i));let l={width:i.width,height:i.height,x:s,y:n};Object(qt.b)(i,l,o);const c=(parseInt(window.WORKSPACE_WIDTH,10)-o.width)/2-(o.width>=1200?120:0);i.top=parseFloat(i.top)+i.height/2-(n-a.y)/(window.currentZoom/100)+"px",i.left=parseFloat(i.left)+i.width/2-((s-a.x)/(window.currentZoom/100)-c)+"px";for(let d of e){var p;let e=null===(p=d.node.styles)||void 0===p?void 0:p[o.name];e||(e=d.node.styles[Object.keys(d.node.styles)[0]]);let t={left:"".concat(parseFloat(e.left)+(parseFloat(i.left)-parseFloat(r.left)),"px"),top:"".concat(parseFloat(e.top)+(parseFloat(i.top)-parseFloat(r.top)),"px")};"group"!==d.node.slug&&Object.assign(e,t)}},this.handleAddFont=e=>{const t=e.filter(e=>e),a=[...this.props.installedFonts],s=t.filter(e=>!a.some(t=>t.family===e.family));if(s.length>0){const e=[...a,...s],t=new CustomEvent("siter.fontadd",{detail:{updatedFonts:e}});window.dispatchEvent(t),window.changeSiteFonts(e),this.props.updateSiteRequest({id:window.siteId,fonts:e})}},this.handleInsertMasterComponent=(e,t,a)=>{var s;const{componentsTreeToFlat:n,componentsFlatToTree:o,addComponentsToPageAsTreeNode:i,handleSaveComponents:r,setCurrentGroup:l,searchTree:c,components:p,addComponentToPageAsTreeNodeAboveSelectedNode:d,getSelectedTreeNodes:h}=this.props,m=e.page_id,u=c({children:p},e.id),g=h();u&&(e=u),e.group_id=null;let _=n([e]),f=this.copyTreeNodes(_,m);"frame"===e.slug?this.centerNewTreeNodesToMousePosition([f[0]],t,a):this.centerNewTreeNodesToMousePosition(f,t,a);let v=Object.values(f);const w=document.querySelector(".s-e__w-i__group_master-component #".concat(CSS.escape(null===(s=g[0])||void 0===s?void 0:s.node.id)));if(g.length>0&&!w){f=Object.values(o(v.map(e=>e.node)));let t=0;for(const a of f)d(a,!0,!1,()=>{t===f.length-1&&(this.handleAddFont(e.fonts),r(f,()=>{},[],!0,!0),setTimeout(()=>{let e=c({children:this.props.components},f[0].id);e&&l(e)}))},!1,!0,!1),t++}else i(f,!0,!1,()=>{this.handleAddFont(e.fonts),r(f.map(e=>{let{node:t}=e;return t}),()=>{},[],!0,!0),setTimeout(()=>{let e=c({children:this.props.components},f[0].node.id);e&&l(e)})},!1,!0)}}componentWillMount(){this.updateData()}componentDidMount(){window.addEventListener("focus",this.onTabFocus),document.addEventListener("siter.update_master_components",this.onTabFocus)}componentWillUnmount(){window.removeEventListener("focus",this.onTabFocus),document.removeEventListener("siter.update_master_components",this.onTabFocus)}render(){const{masterComponents:e,loading:t}=this.state,{y:a}=this.props;return n.a.createElement(_e.a,{style:{width:"100%",height:window.innerHeight-97}},t?n.a.createElement("div",null,n.a.createElement("div",{className:"text-input__loading--line",style:{height:23,margin:"11px 13px"}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:23,margin:"11px 13px"}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:23,margin:"11px 13px"}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:23,margin:"11px 13px"}})):n.a.createElement(Ta,{y:a,handleInsertMasterComponent:this.handleInsertMasterComponent,masterComponents:e,getCommonNode:this.props.ComponentHelper.getCommonNodeFromGroupByProps}))}}const ja={updatePageRequest:A.g};var Ga=Object(o.b)((e,t)=>({jwt:e.sessions.jwt}),ja)(Ra),Ha=a(474);class Ua extends s.Component{constructor(){super(...arguments),this.state={active:!1,selected:!1},this.textIsSelected=e=>{let t=e.target;return t.value.substr(t.selectionStart,t.selectionEnd-t.selectionStart)},this.onMouseUp=e=>{const{active:t,selected:a}=this.state;e.target.classList.contains("input_setting")&&t&&!a&&!this.textIsSelected(e)&&(this.setState({selected:!0}),e.target.select()),this.props.onMouseUp&&this.props.onMouseUp(e)},this.onMouseDown=e=>{this.state.active||this.setState({active:!0}),this.props.onMouseDown&&this.props.onMouseDown(e)},this.onBlur=e=>{document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this.setState({active:!1,selected:!1}),Object(qt.w)(e.target.value,"number")?parseFloat(this.props.oldvalue)!==parseFloat(this.props.value)&&this.props.update&&this.props.update():this.props.onChange({target:{value:parseFloat(this.props.oldvalue)}}),this.props.onBlur&&this.props.onBlur(e)}}render(){return n.a.createElement("input",Object.assign({},this.props,{update:"",autoComplete:"off",onBlur:this.onBlur,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}))}}var Za=Object(o.b)(e=>({}),{})(Ua);const za=function(e){return n.a.createElement("div",{className:"alignment_view_v4--indicatorContainer alignment_view_v4--_centered alignment_view_v4--primaryCenter alignment_view_v4--counterMin alignment_view_v4--hover"},"wrap"===e.flexWrap?n.a.createElement("div",{className:"alignment_view_v4--indicatorGroup alignment_view_v4--wrap"},n.a.createElement("div",{className:"alignment_view_v4--indicator"}),n.a.createElement("div",{className:"alignment_view_v4--indicator"}),n.a.createElement("div",{className:"alignment_view_v4--indicator"}),n.a.createElement("div",{className:"alignment_view_v4--indicator"}),n.a.createElement("div",{className:"alignment_view_v4--indicator"})):n.a.createElement("div",{className:"alignment_view_v4--indicatorGroup"},n.a.createElement("div",{className:"alignment_view_v4--indicator"}),n.a.createElement("div",{className:"alignment_view_v4--indicator"}),n.a.createElement("div",{className:"alignment_view_v4--indicator"})))},Va=e=>{let{options:t,onChange:a,id:s,customClass:o}=e;return n.a.createElement(R.Menu,{style:{marginLeft:-13,marginTop:-15,width:150,minWidth:128},className:o,id:s},t.map((e,t)=>n.a.createElement(R.Item,{onClick:a.bind(null,e),key:t},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},e.label))))};class Wa extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={gap:parseFloat(this.props.gap),flexDirection:this.props.flexDirection,alignItems:this.props.alignItems,justifyContent:this.props.justifyContent,flexWrap:this.props.flexWrap,alignContent:this.props.alignContent,paddingOpen:!1},this.t=(new Date).getTime(),this.getPaddings=function(){var t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;const s=(null===(t=a.padding)||void 0===t?void 0:t.split(" "))||["0px","0px","0px","0px"];let n,o,i,r;if(2===s.length){const[e,t]=s;r=e,o=e,n=t,i=t}return 4===s.length&&([n,o,i,r]=s),{paddingTop:parseFloat(n),paddingLeft:parseFloat(r),paddingBottom:parseFloat(i),paddingRight:parseFloat(o)}},this.handleChangeDirection=(e,t)=>{let a={flexDirection:e,flexWrap:t};a.alignContent="wrap"===t?this.state.alignItems:"",this.setState(a),this.props.updateStyles(a,this.updateFills)},this.handleChangeGap=e=>{"space-between"!==this.state.justifyContent&&this.setState({gap:e.target.value})},this.updateGap=function(){arguments.length>0&&void 0!==arguments[0]||e.state.gap;e.props.updateStyles({gap:e.state.gap+"px"},e.updateFills)},this.updatePosition=(e,t)=>{let a={alignItems:e};"space-between"!==this.state.justifyContent&&(a.justifyContent=t),"wrap"===this.state.flexWrap?a.alignContent=e:a.alignContent="",this.props.updateStyles(a,this.updateFills),this.setState(a)},this.onKeyDownGap=e=>{const{value:t}=e.target;if(["ArrowDown","ArrowUp","Enter"].indexOf(e.key)>-1)if("ArrowUp"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))+1;this.setState({gap:e},this.updateGap)}else if("ArrowDown"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))-1;this.setState({gap:e},this.updateGap)}else this.updateGap({value:t})},this.onKeyDownPaddingHorizontal=e=>{let{value:t}=e.target;if("mix"===t&&(t=this.state.paddingLeft),["ArrowDown","ArrowUp","Enter"].indexOf(e.key)>-1)if("ArrowUp"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))+1;this.setState({paddingLeft:e,paddingRight:e},this.updatePadding)}else if("ArrowDown"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))-1;this.setState({paddingLeft:e,paddingRight:e},this.updatePadding)}else this.updatePadding({value:t})},this.updateFills=()=>{const e=this.props.ComponentHelper.Y.one("#"+CSS.escape(this.props.id));this.props.ComponentHelper.correctSizeForElementsInFrameWithFill(e)},this.onKeyDownPaddingVertical=e=>{let{value:t}=e.target;if("mix"===t&&(t=this.state.paddingTop),["ArrowDown","ArrowUp","Enter"].indexOf(e.key)>-1)if("ArrowUp"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))+1;this.setState({paddingTop:e,paddingBottom:e},this.updatePadding)}else if("ArrowDown"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))-1;this.setState({paddingTop:e,paddingBottom:e},this.updatePadding)}else this.updatePadding({value:t})},this.onKeyDownPaddingSide=(e,t)=>{const{value:a}=t.target;if(["ArrowDown","ArrowUp","Enter"].indexOf(t.key)>-1)if("ArrowUp"===t.key){const t=(isNaN(parseFloat(a))?0:parseFloat(a))+1;this.setState({[e]:t},this.updatePadding)}else if("ArrowDown"===t.key){const t=(isNaN(parseFloat(a))?0:parseFloat(a))-1;this.setState({[e]:t},this.updatePadding)}else this.updatePadding({value:a})},this.handleChangePaddingHorizontal=e=>{let t=e.target.value;"mix"===t&&(t=this.state.paddingLeft),this.setState({paddingLeft:t,paddingRight:t})},this.handleChangePaddingVertical=e=>{let t=e.target.value;"mix"===t&&(t=this.state.paddingTop),this.setState({paddingTop:t,paddingBottom:t})},this.updatePadding=()=>{this.props.updateStyles({padding:"".concat(this.state.paddingTop,"px ").concat(this.state.paddingRight,"px ").concat(this.state.paddingBottom,"px ").concat(this.state.paddingLeft,"px")},this.updateFills)},this.onMouseUp=e=>{e.target.select()},this.handleChangeOnlySidePadding=(e,t)=>{this.setState({[t]:parseFloat(e)})},this.handleToggleOpenPadding=()=>{this.setState({paddingOpen:!this.state.paddingOpen})},this.handleChangeGapMode=e=>{let t={};"auto"===e.value?(t.justifyContent="space-between",t.gap="0px"):(t.justifyContent="normal",t.gap="20px"),this.props.updateStyles(t,this.updateFills),this.setState(t)},this.handleToggleGapMode=e=>{R.contextMenu.show({id:this.t,event:e,props:{foo:"bar"}})}}componentWillMount(){this.setState(this.getPaddings())}componentWillReceiveProps(e){let t={gap:parseFloat(e.gap),alignItems:e.alignItems,flexDirection:e.flexDirection,justifyContent:e.justifyContent,flexWrap:e.flexWrap,alignContent:e.alignContent};this.setState(Object.assign(this.getPaddings(e),t))}render(){const{flexDirection:e,gap:t,alignItems:a,justifyContent:s,paddingLeft:o,paddingTop:i,paddingBottom:r,paddingRight:l,flexWrap:c}=this.state;return n.a.createElement("div",null,n.a.createElement("div",{className:"raw_components--panel "},n.a.createElement("div",{className:"raw_components--singleRowNarrow raw_components--_singleRow raw_components--singleRowHeight raw_components--_row raw_components--rowNarrow stack_panel_v4--doubleRow"},n.a.createElement("div",{className:"stack_panel_v4--stackModeControl"},n.a.createElement("input",{className:"segmented_control--hiddenInput raw_components--selectHiddenInput"}),n.a.createElement("div",{className:"segmented_control--container"},n.a.createElement("div",{className:"segmented_control--inner"},n.a.createElement("div",{onClick:this.handleChangeDirection.bind(null,"row",""),className:"segmented_control--_segment cp "+("row"===e&&"wrap"!==c?"segmented_control--segmentSelected":""),"data-tooltip-type":"text","data-tooltip":"Horizontal layout","aria-label":"Horizontal layout"},n.a.createElement("span",{className:"svg-container segmented_control--icon"},n.a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M12.5 8.28369L8.5 4.28369M12.5 8.28369L8.5 12.2837M12.5 8.28369L2.5 8.28369",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})))),n.a.createElement("div",{onClick:this.handleChangeDirection.bind(null,"column",""),className:"segmented_control--_segment cp "+("column"===e?"segmented_control--segmentSelected":""),"data-tooltip-type":"text","data-tooltip":"Vertical layout","aria-label":"Vertical layout"},n.a.createElement("span",{className:"svg-container segmented_control--icon"},n.a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M11.5 9.28369L7.5 13.2837L3.5 9.28369M7.5 12.7837L7.5 3.28369",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})))),n.a.createElement("div",{onClick:this.handleChangeDirection.bind(null,"row","wrap"),className:"segmented_control--_segment cp "+("wrap"===c?"segmented_control--segmentSelected":""),"data-tooltip-type":"text","data-tooltip":"Vertical layout","aria-label":"Vertical layout"},n.a.createElement("span",{className:"svg-container segmented_control--icon"},n.a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M2.5 9.28371H10.1C12.6333 9.28371 13.9 5.48371 10.7333 4.21704M2.5 9.28371L5.5 6.28371M2.5 9.28371L5.5 12.2837",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}))))))),n.a.createElement("div",{className:"stack_panel_v4--stackAlignmentControl"},n.a.createElement("div",{className:"alignment_view_v4--mainContainer alignment_view_v4--horizontal alignment_view_v4--packed",tabIndex:0},n.a.createElement("svg",{width:"100",height:"81",viewBox:"0 0 100 81",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{x:"48",y:"14",width:"4",height:"4",rx:"2",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"83",y:"14",width:"4",height:"4",rx:"2",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"13",y:"39",width:"4",height:"4",rx:"2",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"13",y:"14",width:"4",height:"4",rx:"2",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"48",y:"39",width:"4",height:"4",rx:"2",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"83",y:"39",width:"4",height:"4",rx:"2",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"13",y:"64",width:"4",height:"4",rx:"2",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"48",y:"64",width:"4",height:"4",rx:"2",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"83",y:"64",width:"4",height:"4",rx:"2",fill:"#AFAFAF"})),n.a.createElement("div",{style:"column"===e?{transform:"rotateY(180deg) rotate(90deg) translate(-10px, 10px)",height:100,width:78}:{},className:"alignment_view_v4--tooltipGrid alignment_view_v4--_centered raw_components--panel-alignment__"+a+s,"data-flex-wrap":c,"data-justify-content":s,"data-flex-direction":e},n.a.createElement("div",{onClick:this.updatePosition.bind(null,"flex-start","normal"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-topleft","data-x":0,"data-y":0,"data-tooltip-type":"text","data-tooltip":"Align top left","data-tooltip-show-above":"true"},n.a.createElement(za,{flexWrap:c})),n.a.createElement("div",{onClick:this.updatePosition.bind(null,"flex-start","center"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-topcenter","data-x":1,"data-y":0,"data-tooltip-type":"text","data-tooltip":"Align top center","data-tooltip-show-above":"true"},n.a.createElement(za,{flexWrap:c})),n.a.createElement("div",{onClick:this.updatePosition.bind(null,"flex-start","flex-end"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-topright","data-x":2,"data-y":0,"data-tooltip-type":"text","data-tooltip":"Align top right","data-tooltip-show-above":"true"},n.a.createElement(za,{flexWrap:c})),n.a.createElement("div",{onClick:this.updatePosition.bind(null,"center","normal"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-left","data-x":0,"data-y":1,"data-tooltip-type":"text","data-tooltip":"Align left","data-tooltip-show-above":"true"},n.a.createElement(za,{flexWrap:c})),n.a.createElement("div",{onClick:this.updatePosition.bind(null,"center","center"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-center","data-x":1,"data-y":1,"data-tooltip-type":"text","data-tooltip":"Align center","data-tooltip-show-above":"true"},n.a.createElement(za,{flexWrap:c})),n.a.createElement("div",{onClick:this.updatePosition.bind(null,"center","flex-end"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-right","data-x":2,"data-y":1,"data-tooltip-type":"text","data-tooltip":"Align right","data-tooltip-show-above":"true"},n.a.createElement(za,{flexWrap:c})),n.a.createElement("div",{onClick:this.updatePosition.bind(null,"flex-end","normal"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-bottomleft","data-x":0,"data-y":2,"data-tooltip-type":"text","data-tooltip":"Align bottom left"},n.a.createElement(za,{flexWrap:c})),n.a.createElement("div",{onClick:this.updatePosition.bind(null,"flex-end","center"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-bottomcenter","data-x":1,"data-y":2,"data-tooltip-type":"text","data-tooltip":"Align bottom center"},n.a.createElement(za,{flexWrap:c})),n.a.createElement("div",{onClick:this.updatePosition.bind(null,"flex-end","flex-end"),className:"raw_components--panel-alignment__item raw_components--panel-alignment__item-bottomright","data-x":2,"data-y":2,"data-tooltip-type":"text","data-tooltip":"Align bottom right"},n.a.createElement(za,{flexWrap:c}))))),n.a.createElement("div",{style:{marginTop:28},className:"stack_panel_v4--stackSpacingControl scrubbable_control--containerBordered raw_components--borderFocusWithin scrubbable_control--container","data-tooltip-type":"text","data-tooltip":"Horizontal space between items","data-tooltip-max-width":200,"aria-label":"Horizontal space between items"},n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_100 input-wrapper__setting_nowrap"},n.a.createElement("label",{className:"input-wrapper__setting-label input-wrapper__setting-label_align-autolayout-input"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(this.state.gap,10),onChange:e=>{this.updateGap(e),this.handleChangeGap({target:{value:e}})}},n.a.createElement("svg",{style:"row"===e?{transform:"rotate(90deg)"}:{},width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_5323_26182)"},n.a.createElement("path",{d:"M13.5 0.783691L13.5 3.28369L1.5 3.28369L1.5 0.783691",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M13.5 15.7837L13.5 13.2837L1.5 13.2837L1.5 15.7837",stroke:"#AFAFAF"}),n.a.createElement("rect",{x:"10.75",y:"8.53369",width:"6.5",height:"0.5",rx:"0.25",transform:"rotate(-180 10.75 8.53369)",fill:"#AFAFAF",stroke:"#AFAFAF",strokeWidth:"0.5"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_5323_26182"},n.a.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(0 0.783691)"})))))),n.a.createElement(Za,{ref:"input",className:"input input_setting input_setting-inline input-wrapper__setting-input",name:"gap","data-name":"gap",type:"text",autoComplete:"off",onChange:this.handleChangeGap,update:this.updateGap,onMouseUp:this.onMouseUp,onKeyDown:this.onKeyDownGap,value:"space-between"===s?"Auto":t}),n.a.createElement("span",{className:"page-editor__settings-panel__gapmode-icon",onClick:this.handleToggleGapMode}),n.a.createElement(Va,{id:this.t,onChange:this.handleChangeGapMode,options:[{label:"Fixed",value:"fixed"},{label:"Auto",value:"auto"}]})))),n.a.createElement("div",{className:"raw_components--singleRowNarrow raw_components--_singleRow raw_components--singleRowHeight raw_components--_row raw_components--rowNarrow "},n.a.createElement("label",{style:{marginRight:10},className:"stack_panel_v4--gridLeft scrubbable_control--containerBordered raw_components--borderFocusWithin scrubbable_control--container scrubbable_control--container_custom","data-tooltip-type":"text","data-tooltip":"Horizontal padding","aria-label":"Horizontal padding"},n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_100 input-wrapper__setting_nowrap"},n.a.createElement("label",{className:"input-wrapper__setting-label input-wrapper__setting-label_align-autolayout-input"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(o,10),onChange:e=>{this.handleChangePaddingHorizontal({target:{value:e}}),this.updatePadding()}},n.a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_5323_26175)"},n.a.createElement("rect",{x:"10.5",y:"11.2837",width:"6",height:"6",rx:"0.5",transform:"rotate(-180 10.5 11.2837)",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M0.5 1.78369L0.499999 14.7837M14.5 1.78369L14.5 14.7837",stroke:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_5323_26175"},n.a.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(15 0.783691) rotate(90)"})))))),n.a.createElement(Za,{ref:"input",className:"input input_setting input_setting-inline input-wrapper__setting-input",name:"Padding horizontal","data-name":"Padding horizontal",type:"text",autoComplete:"off",onChange:this.handleChangePaddingHorizontal,update:this.updatePadding,onMouseUp:this.onMouseUp,onKeyDown:this.onKeyDownPaddingHorizontal,value:o===l?o:"mix"}),n.a.createElement("span",{className:"input-wrapper__setting-select"},this.props.unit||"px"))),n.a.createElement("label",{className:"stack_panel_v4--gridRight scrubbable_control--containerBordered raw_components--borderFocusWithin scrubbable_control--container scrubbable_control--container_custom","data-tooltip-type":"text","data-tooltip":"Vertical padding","aria-label":"Vertical padding"},n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_100 input-wrapper__setting_nowrap"},n.a.createElement("label",{className:"input-wrapper__setting-label input-wrapper__setting-label_align-autolayout-input"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(i,10),onChange:e=>{this.handleChangePaddingVertical({target:{value:e}}),this.updatePadding()}},n.a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_5323_26168)"},n.a.createElement("rect",{x:"10.5",y:"5.28369",width:"6",height:"6",rx:"0.5",transform:"rotate(90 10.5 5.28369)",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M1 15.2837L14 15.2837M1 1.28369L14 1.28369",stroke:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_5323_26168"},n.a.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(0 0.783691)"})))))),n.a.createElement(Za,{ref:"input",className:"input input_setting input_setting-inline input-wrapper__setting-input",name:"Padding vertical","data-name":"Padding vertical",type:"text",autoComplete:"off",onChange:this.handleChangePaddingVertical,update:this.updatePadding,onMouseUp:this.onMouseUp,onKeyDown:this.onKeyDownPaddingVertical,value:i===r?i:"mix"}),n.a.createElement("span",{className:"input-wrapper__setting-select"},this.props.unit||"px"))),n.a.createElement("svg",{onClick:this.handleToggleOpenPadding,className:"input-wrapper__setting-radius__icon ".concat(this.state.paddingOpen?" input-wrapper__setting-radius__icon_active":""),width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 1C1.67157 1 1 1.67157 1 2.5V4H0V2.5C0 1.11929 1.11929 2.18557e-07 2.5 2.18557e-07H4V1H2.5Z",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 2.5C11 1.67157 10.3284 1 9.5 1L8 1V0L9.5 1.09278e-07C10.8807 1.69631e-07 12 1.11929 12 2.5V4H11V2.5Z",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 11C10.3284 11 11 10.3284 11 9.5V8H12V9.5C12 10.8807 10.8807 12 9.5 12H8V11H9.5Z",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 9.5C1 10.3284 1.67157 11 2.5 11L4 11V12L2.5 12C1.11929 12 1.46777e-07 10.8807 3.27836e-07 9.5L6.55671e-07 8H1L1 9.5Z",fill:"#AFAFAF"}))),this.state.paddingOpen&&n.a.createElement("div",{className:"input-wrapper__setting-items"},n.a.createElement("div",{className:"input-wrapper__setting-items__item input-wrapper__setting-items__item_padding","data-tip":"Top right"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:o,onChange:e=>{this.handleChangeOnlySidePadding(e,"paddingLeft"),this.updatePadding()}},n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_2938_20)"},n.a.createElement("rect",{x:"10.5",y:"9.5",width:"6",height:"6",rx:"0.5",transform:"rotate(-180 10.5 9.5)",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M0.5 0L0.499999 13",stroke:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_2938_20"},n.a.createElement("rect",{width:"13",height:"13",fill:"white"}))))),n.a.createElement(Za,{ref:"input",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",name:"Padding left","data-name":"Padding left",type:"text",autoComplete:"off",onChange:e=>{this.handleChangeOnlySidePadding(e.target.value,"paddingLeft")},update:this.updatePadding,onKeyDown:this.onKeyDownPaddingSide.bind(null,"paddingLeft"),onMouseUp:this.onMouseUp,value:o})),n.a.createElement("div",{className:"input-wrapper__setting-items__item input-wrapper__setting-items__item_padding","data-tip":"Bottom right"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:i,onChange:e=>{this.handleChangeOnlySidePadding(e,"paddingTop"),this.updatePadding()}},n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_2938_21)"},n.a.createElement("rect",{x:"9.5",y:"4.5",width:"6",height:"6",rx:"0.5",transform:"rotate(90 9.5 4.5)",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M0 14.5L13 14.5M0 0.5L13 0.5",stroke:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_2938_21"},n.a.createElement("rect",{width:"13",height:"13",fill:"white"}))))),n.a.createElement(Za,{ref:"input",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",name:"Padding top","data-name":"Padding top",type:"text",autoComplete:"off",onChange:e=>{this.handleChangeOnlySidePadding(e.target.value,"paddingTop")},update:this.updatePadding,onKeyDown:this.onKeyDownPaddingSide.bind(null,"paddingTop"),onMouseUp:this.onMouseUp,value:i})),n.a.createElement("div",{className:"input-wrapper__setting-items__item input-wrapper__setting-items__item_padding","data-tip":"Bottom left"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:l,onChange:e=>{this.handleChangeOnlySidePadding(e,"paddingRight"),this.updatePadding()}},n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_2938_20)"},n.a.createElement("rect",{x:"8.5",y:"9.5",width:"6",height:"6",rx:"0.5",transform:"rotate(-180 8.5 9.5)",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M12.5 0L12.5 13",stroke:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_2938_20"},n.a.createElement("rect",{width:"13",height:"13",fill:"white"}))))),n.a.createElement(Za,{ref:"input",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",name:"Padding right","data-name":"Padding right",type:"text",autoComplete:"off",onChange:e=>{this.handleChangeOnlySidePadding(e.target.value,"paddingRight")},update:this.updatePadding,onKeyDown:this.onKeyDownPaddingSide.bind(null,"paddingRight"),onMouseUp:this.onMouseUp,value:l})),n.a.createElement("div",{className:"input-wrapper__setting-items__item input-wrapper__setting-items__item_padding","data-tip":"Top left"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:r,onChange:e=>{this.handleChangeOnlySidePadding(e,"paddingBottom"),this.updatePadding()}},n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_2938_20)"},n.a.createElement("g",{clipPath:"url(#clip1_2938_20)"},n.a.createElement("rect",{x:"9.5",y:"8.5",width:"6",height:"6",rx:"0.5",transform:"rotate(-180 9.5 8.5)",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M0 12.5H13M0 -1.5H13",stroke:"#AFAFAF"}))),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_2938_20"},n.a.createElement("rect",{width:"13",height:"13",fill:"white"})),n.a.createElement("clipPath",{id:"clip1_2938_20"},n.a.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(15 -1) rotate(90)"}))))),n.a.createElement(Za,{ref:"input",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",name:"Padding bottom","data-name":"Padding bottom",type:"text",autoComplete:"off",onChange:e=>{this.handleChangeOnlySidePadding(e.target.value,"paddingBottom")},update:this.updatePadding,onKeyDown:this.onKeyDownPaddingSide.bind(null,"paddingBottom"),onMouseUp:this.onMouseUp,value:r})))))}}var qa=Object(o.b)(e=>({}),{})(Wa);class Ka extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={labelEdit:!1,labelValue:""},this.direction="top",this.initDD=e=>{const{y:t}=this.props;let a=new t.DD.Drag({node:e,useShim:!1,target:!0}).plug(t.Plugin.DDProxy,{cloneNode:!0,moveOnEnd:!1,flyBack:!1});return setTimeout(()=>{a&&a.target&&a.target.shim&&a.target.shim.ancestor(".yui3-dd-shim").remove()},1e3),a},this.setEvents=e=>{e.on("drag:start",this._onDragStart,this),e.on("drag:end",this._onDragEnd,this),e.on("drag:drag",this._onDragDrag,this)},this.addOffsetX=0,this.clearSelection=()=>{const{y:e}=this.props;e.all(".siter-layers__tree-item").each(e=>{e.setStyles({boxShadow:"none"})})},this.lastInParentGroup=(e,t)=>{if(e){const a=Object.keys(e.children)[0];return e&&e.children[a].id===t.id}},this.getStopParentGroupIndex=(e,t,a,s)=>{const{getElementPath:n}=this.props;let o,i=JSON.parse(JSON.stringify(t)),r=0;for(const l of i)n(l,e=>{let{node:a,parentNode:n,treeIndex:l}=e,c=r===i.length-1;if(n){let e=Object.keys(n.children).indexOf(a.id);n.children[e-1]&&(o=t.indexOf(n.id)),s(c?void 0!==o?o:-1:9999)}r++},a)},this._onDragDrag=e=>{if(this.props.versionHistoryMode)return e.halt&&e.halt(),e.preventDefault(),void e.stopPropagation();const{y:t,childrenShift:a,treeData:s,getElementPath:n}=this.props;let o=e.info.offset[0],i=t.one(".siter-layers__tree-drop__indicator"),r=t.DD.DDM.targets.map(e=>(e.region=e.get("node").get("region"),e)),l="",c=t.DD.DDM.getBestMatch(r)||(null===i||void 0===i?void 0:i.activeDrop);if(this.clearSelection(),c){let e=c.get("node");if(e){var p;let r,d,h,m=this.getDropInfo(t,e),u=e.getData("layer-id"),g=e._node.getBoundingClientRect();const _=document.querySelector(".section-editor__layers").getBoundingClientRect();this.direction=(null===m||void 0===m||null===(p=m.quad)||void 0===p?void 0:p.y)||"bottom",this.getPossiblePositionData(u,s,0,e=>{let{path:p,parentNode:m,node:f,treeIndex:v}=e;const w=t.all(".section-editor__layers li")._nodes.length-1;let C=t.one(".section-editor__layers li:nth-child(".concat(w,")")).getData("layer-id")===u;const y=a*p.length+10;if(r=g.y-1,d=_.x+y-1,h=_.width-y,i.direction=this.direction,i.dropComponentId=u,i.path=p,i.activeDrop=c,i.treeIndex=v,this.lastInParentGroup(m,f)){let e=JSON.parse(JSON.stringify(p));e.pop(),e.unshift("layout"),e.reverse();let t=1;for(const s of e)o+this.addOffsetX<=-a*t&&o+this.addOffsetX>-a*(t+1)&&(l=s),t++;o+this.addOffsetX<=-a*t&&(l="layout"),l&&("layout"===l&&C&&(i.treeIndex=0,i.path=[],this.currentGroupId=l,r=g.y-1,d=_.x+10-1,h=_.width-10),"layout"!==l&&n(l,e=>{let t;this.getStopParentGroupIndex(f.id,p,s,o=>{let c=p.indexOf(l);for(const a of p){let s=e.node.children[a];s&&(t=s)}if(c>=o&&t){this.currentGroupId=l;let e=p.indexOf(l);if(e>-1||"layout"===l){let o=JSON.parse(JSON.stringify(p)).slice(0,e+1);const l=a*o.length+10;o.length>0&&(i.path=o,i.dropComponentId=t.id,n(i.dropComponentId,e=>{i.treeIndex=e.treeIndex},s)),r=g.y-1,d=_.x+l-1,h=_.width-l}}})},s))}else this.addOffsetX=-o;let b=t.one("[data-layer-id='".concat(l||p[p.length-1],"']"));b&&b.setStyles({boxShadow:"inset 0px 0px 0px 1px #3E87F8"}),"bottom"===this.direction&&(r+=g.height);let E=i._node.style,k=parseFloat(E.top),S=parseFloat(E.width),x=parseFloat(E.left);if(!isNaN(r)&&!isNaN(h)&&!isNaN(d)&&(k!==r||S!==h||x!==d))switch(this.direction){case"top":case"bottom":i.setStyles({top:r,left:d,width:h,display:"block"})}})}}},this.getDropInfo=(e,t)=>{var a,s,n,o,i,r,l,c,p;return null==e&&(e=!1),c=null,a="hidden"===t.getStyle("visibility"),o=(l=t.get("region")).left,p=l.top,s=l.width+parseInt(t.getComputedStyle("marginLeft"),10)+parseInt(t.getComputedStyle("marginRight"),10),n=l.height+parseInt(t.getComputedStyle("marginTop"),10)+parseInt(t.getComputedStyle("marginBottom"),10),o="left"===(r={x:(i=e.DD.DDM.activeDrag.mouseXY)[0]<o+s/2?"left":"right",y:i[1]<p+n/2?"top":"bottom"}).x?i[0]-o:o+s-i[0],p="top"===r.y?i[1]-p:p+n-i[1],n=Math.min(s,n),n=(s=100*o/s)<(i=100*p/n)?r.x:r.y,o=s<i?o:p,isNaN(o)||(c={node:t,direction:n,distance:o,quad:r,region:l,isSelf:a}),c},this._onDragStart=e=>{if(this.props.versionHistoryMode)return e.halt&&e.halt(),e.preventDefault(),void e.stopPropagation();e.target.get("dragNode").setStyles({opacity:".8",background:"transparent"})},this._onDragEnd=e=>{if(this.props.versionHistoryMode)return e.halt&&e.halt(),e.preventDefault(),void e.stopPropagation();this.clearSelection(),this._onDropHit(this.props);const{y:t}=this.props;let a=t.one(".siter-layers__tree-drop__indicator");a&&a.setStyles({top:0,left:0,width:0,display:"none"})},this.getPossiblePositionData=(e,t,a,s)=>{const{getElementPath:n}=this.props;n(e,e=>{let{treeIndex:t,path:n,node:o}=e;const i="top"===this.direction,r="bottom"===this.direction;n.pop(),i&&(t++,t+=a),r&&o.children&&Object.keys(o.children).length>0&&o.expanded&&(n.push(o.id),t=t+Object.keys(o.children).length+1),s({...e,path:n,treeIndex:t})},t)},this.moveNode2=function(t,a,s,n){let o=arguments.length>5?arguments[5]:void 0,i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const{getElementPath:r,moveNode:l,removeNodeAtPath:c,y:p}=e.props,{isMainMasterComponent:d,isMasterComponent:h}=e.props.itemHelpers;let m=p.one(".siter-layers__tree-drop__indicator");r(s.id,e=>{let a=e.path;t=c(a,t,e.node,i);let{path:p,treeIndex:u}=m,g=p[p.length-1];m.treeIndex++,g?r(g,e=>{let a=d(e.node),i=d(s)===a;(!h(e.node)||a&&(i||!h(s))||o)&&(t=l({node:s,path:p,minimumTreeIndex:u,depth:p.length,ignoreCollapsed:!o,expandParent:!o},t),n(t,s,p))},t,!o):(t=l({node:s,path:p,minimumTreeIndex:u,depth:p.length,ignoreCollapsed:!o,expandParent:!o},t),n(t,s,p))},t,!o)},this.moveNode=function(t,a,s,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,r=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const{isMainMasterComponent:l,isMasterComponentChildren:c,isMasterComponent:p}=e.props.itemHelpers;if(l(s)||!c(s)||!p(s)||i||r){const{getElementPath:c,moveNode:d,removeNodeAtPath:h}=e.props,m=m=>{let u=m.path;if(e.currentGroupId&&!i)return void e.moveNode2(t,a,s,n,o=0,i,!1);r||(t=h(u,t,m.node,!1));const g=e.props.y.one('[data-component-id="'+CSS.escape(a)+'"][pf]');c(a,a=>{let{treeIndex:o,path:h,node:m}=a;const _="top"===e.direction,f="bottom"===e.direction;h.pop(),g?f&&o++:_&&o++,f&&m.children&&Object.keys(m.children).length>0&&m.expanded&&(h.push(m.id),o="frame"===m.slug?1:o+Object.keys(m.children).length+1);const v=JSON.stringify(h)!==JSON.stringify(u.slice(0,u.length-1));let w=h[h.length-1];w?c(w,e=>{let a=l(e.node),c=l(s)===a;(!p(e.node)||a&&(c||!p(s))||i||r)&&(t=d({node:s,path:h,minimumTreeIndex:o,depth:h.length,ignoreCollapsed:!i,expandParent:!i,pathChanged:v},t),n(t,s,h))},t,!i):(t=d({node:s,path:h,minimumTreeIndex:o,depth:h.length,ignoreCollapsed:!i,expandParent:!i,pathChanged:v},t),n(t,s,h))},t,!i)};r?m({path:[]}):c(s.id,m,t,!i)}},this.removeDependingComponents=(e,t,a,s)=>{const{getElementPath:n,y:o,removeComponentFromPage:i}=this.props,r=a,{isMainMasterComponent:l}=this.props.itemHelpers,p=l(r);let d=[],h=0===c()("#".concat(t)).parents("#".concat(p)).length&&p!==t,m=o.all("[data-main-master-component-id='".concat(p,"'] [data-main-master-component-id='").concat(r.id,"']:not(.widget-clone)"));if(h||t===p&&"top"===this.direction){for(const t of e)o.all("[data-main-master-component-id='".concat(p,"'] [data-main-master-component-id='").concat(t,"']:not(.widget-clone)")).each(e=>{const t=e.getAttribute("id");n(t,e=>{let{node:t}=e;d.push(t)},s,!1)});m.each(e=>{const t=e.getAttribute("id");n(t,e=>{let{node:t}=e;d.find(e=>e.id===t.id)||d.push(t)},s,!1)}),d.length>0&&i(d,void 0,void 0,!0)}},this.getKey=e=>{let{id:t}=e;return t},this.getParentKey=e=>{let{group_id:t}=e;return t},this.addDependingComponents=(e,t,a,s)=>{const{getElementPath:n,onDragEnd:o,itemHelpers:i}=this.props,{capture:r}=i,l="top"===this.direction,c="bottom"===this.direction;let p=1;e=JSON.parse(JSON.stringify(e)),a=JSON.parse(JSON.stringify(a));for(let h of e)h.group_id=null;let d=S({treeData:e,getNodeKey:e=>{let{node:t}=e;return t.id},ignoreCollapsed:!1});for(let h of d)delete h.node.children;c&&(p=-1),d.length>0&&n(t,e=>{e.depth=e.path.length-1,"master_component"===e.node.group_type&&!e.node.main_master_component_id&&l||window.insertDependingComponents(d,e,!1,void 0,void 0,!1,p,!0,(e,t,s,n)=>{let i=0,l=[];e=x({flatData:e.map(e=>{let{node:t}=e;return t}),getKey:this.getKey,getParentKey:this.getParentKey,rootKey:null});for(let r of Object.keys(e)){let c=e[r],p=s.find(e=>e.id===c.id);if(p){let e=s.indexOf(p);e>-1&&s.splice(e,1)}this.moveNode(a,t.node.id,c,(t,r,c)=>{l.push(r),a=t,i===Object.keys(e).length-1&&o(a,l,c,()=>{n(s,()=>{},[],!0,!0)})},i,!0,!0),i++}r({changedComponents:l,prevChangedComponents:l},"ADD_COMPONENT")})},a)},this.moveDependingComponents=(e,t,a,s)=>{const{onDragEnd:n,getElementPath:o,itemHelpers:i,y:r}=this.props,l=a,{isMainMasterComponent:p}=this.props.itemHelpers,d=p(l);let h=r.one(".siter-layers__tree-drop__indicator"),m={y:r,onDragEnd:n,getElementPath:o,itemHelpers:i,treeData:s,currentNodesIds:[]},u=r.all("[data-main-master-component-id='".concat(t,"']:not(.widget-clone)"));if(d){let t=[];u.each(a=>{let n=c()(a._node).hasClass("s-e__w-i__group_master-component")?a._node:c()(a._node).parents(".".concat("s-e__w-i__group_master-component"))[0],i=[];if(n){for(const t of e){let e;e=a.getAttribute("id")===n.getAttribute("id")?r.one("[data-main-master-component-id='".concat(t,"']:not(.widget-clone)")):r.one("[data-component-id='".concat(n.getAttribute("id"),"'] [data-main-master-component-id='").concat(t,"']:not(.widget-clone)")),e&&i.push(e.getAttribute("id"))}let c;c=a.getAttribute("id")===n.getAttribute("id")?"[data-main-master-component-id='".concat(l.id,"']"):"[data-component-id='".concat(n.getAttribute("id"),"'] [data-main-master-component-id='").concat(l.id,"']"),r.all(c).each(e=>{o(e.getAttribute("id"),e=>{m.data=e.node,t.push({data:e.node,dropComponentId:a.getAttribute("id"),_currentNodesIds:i})},s,!1)})}});for(let e of t){let{data:t,_currentNodesIds:a}=e;h.dropComponentId=e.dropComponentId,m.data=t,m.currentNodesIds=a,this._onDropHit(m,!0,e=>{m.treeData=e,s=e})}}},this._onDropHit=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{treeData:n,currentNodesIds:o,data:i,onDragEnd:r,getElementPath:l,y:c,itemHelpers:p}=t,{isMainMasterComponent:d}=p;let h=c.one(".siter-layers__tree-drop__indicator"),m=Object.assign({},n),u=[];if(h){const{dropComponentId:t}=h;let n=[],c=[];t&&("object"===typeof o&&(u=o),"function"===typeof o&&(u=o()),l(t,o=>{if(u.length>1&&u.indexOf(i.id)>-1){let o=0,i=[],p=[];for(let e of u)l(e,e=>{p.push(e)},m,!a);p.sort((e,t)=>t.treeIndex-e.treeIndex);for(let l of p){let p=l.path;e.moveNode(m,t,l.node,(o,g,_)=>{s(o),m=o,c.push(g),d(g)||n.push(g);JSON.stringify(_)!==JSON.stringify(p.slice(0,p.length-1))&&i.push(l.node),c.length===u.length&&(!a&&i.length>0&&e.props.removeComponentFromPage(i),r(o,c,_,()=>{}),e.addDependingComponents(n,t,o),h.dropComponentId=void 0)},o,a),o++}}else l(i.id,o=>{let l=o.path;e.moveNode(m,t,i,(o,p,u)=>{s(o),c.push(p),d(p)||n.push(p);JSON.stringify(u)!==JSON.stringify(l.slice(0,l.length-1))&&!a&&e.props.removeComponentFromPage([i]),r(o,c,u,()=>{}),e.addDependingComponents(n,t,o),h.dropComponentId=void 0,m=o},void 0,a)},m,!a)},m,!a),c.length>0&&e.removeDependingComponents(u,t,i,m),a||e.moveDependingComponents(u,t,i,m))}},this.onLabelDoubleClick=e=>{this.props.versionHistoryMode||this.setState({labelEdit:!0,labelValue:this.refs.label?this.refs.label.innerText:"No name"},()=>{this.refs.labelInput&&(this.refs.labelInput.focus(),this.refs.labelInput.select())})},this.handleChangeComponentDescription=e=>{this.setState({labelValue:e.target.value})},this.handleCheckEnter=e=>{const{data:t,itemHelpers:a}=this.props,{labelValue:s}=this.state;"Enter"===e.key&&(Object(qt.h)(t)!==s&&a.handleChangeComponentProperties(t,{description:s}),this.setState({labelEdit:!1}))},this.handleExpand=()=>{const{itemHelpers:e,data:t}=this.props;e.handleChangeComponentProperties(t,{expanded:!t.expanded},!1)},this.classes=e=>{const{data:t,itemHelpers:a}=this.props;return Be()("siter-layers__tree-item",{"siter-layers__tree-item_master-component":a.isMasterComponent(t),"siter-layers__tree-item_active":a.componentActive(t),"siter-layers__tree-item_subactive":a.componentInGroupActive(t),"siter-layers__tree-item_lock":t.lock,"siter-layers__tree-item_label-edit":this.state.labelEdit,"siter-layers__tree-item_invisible":e||a.visibilityClasses(t).indexOf("enabled")>-1})}}componentDidMount(){const{y:e}=this.props;let t=e.one(this.refs.layeritem),a=this.initDD(t);this.ddInstance=a,this.setEvents(a)}componentWillUnmount(){this.ddInstance.detach(),this.ddInstance.destroy()}render(){var e,t,a,s,o,i,r,l,c,p,d;const{data:h,labelKey:m,iconKey:u,itemHelpers:g,childrenShift:_,parentCount:f,getElementPath:v,moveNode:w,onDragEnd:C,onDropHit:y,removeNodeAtPath:b,treeData:E,currentNodesIds:k,removeComponentFromPage:S,removeComponentsRequest:x,currentDeviceName:N,versionHistoryMode:B}=this.props,{visibilityClasses:F,toggleVisible:A,toggleLock:L,setCurrentBlock:O,componentInLockedGroup:D,componentInInvisibleGroup:M}=g,P=D(h),I=M(h),{labelEdit:T,labelValue:R}=this.state;return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{ref:"layeritem","data-layer-id":h.id,"data-layer-slug":h.slug,"data-group-id":h.group_id,"data-layer-label":h[m],style:{paddingLeft:f*_},className:this.classes(I),onContextMenu:e=>{O(h,e,"contextmenu")},onClick:e=>{O(h,e,"mousedown")},onDoubleClick:this.onLabelDoubleClick},h.children&&Object.keys(h.children).length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"siter-layers__tree-item__icon",onClick:this.handleExpand,style:{position:"relative"}},!h.expanded&&"hidden"===(null===h||void 0===h||null===(e=h.styles)||void 0===e||null===(t=e[N])||void 0===t?void 0:t.overflow)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("svg",{style:{position:"absolute",top:"-3px",left:"-15px",boxSizing:"content-box",padding:"6px"},xmlns:"http://www.w3.org/2000/svg",width:"4",height:"7",viewBox:"0 0 4 7",fill:"none"},n.a.createElement("path",{d:"M-3.0598e-07 0L0 7L4 3.5L-3.0598e-07 0Z",fill:"#444444"})),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none"},n.a.createElement("g",{clipPath:"url(#clip0_6423_24937)"},n.a.createElement("rect",{x:"2",width:"1",height:"13",fill:"#444444"}),n.a.createElement("rect",{x:"2",width:"1",height:"13",fill:"#444444"}),n.a.createElement("rect",{y:"11",width:"1",height:"13",transform:"rotate(-90 0 11)",fill:"#444444"}),n.a.createElement("rect",{x:"10",width:"1",height:"13",fill:"#444444"}),n.a.createElement("rect",{y:"3",width:"1",height:"13",transform:"rotate(-90 0 3)",fill:"#444444"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_6423_24937"},n.a.createElement("rect",{width:"13",height:"13",fill:"white",transform:"translate(13 13) rotate(-180)"}))))),h.expanded&&"hidden"===(null===h||void 0===h||null===(a=h.styles)||void 0===a||null===(s=a[N])||void 0===s?void 0:s.overflow)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("svg",{style:{position:"absolute",top:"-2px",left:"-15px",transform:"rotate(90deg)",boxSizing:"content-box",padding:"6px"},xmlns:"http://www.w3.org/2000/svg",width:"4",height:"7",viewBox:"0 0 4 7",fill:"none"},n.a.createElement("path",{d:"M-3.0598e-07 0L0 7L4 3.5L-3.0598e-07 0Z",fill:"#444444"})),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none"},n.a.createElement("g",{clipPath:"url(#clip0_6423_24937)"},n.a.createElement("rect",{x:"2",width:"1",height:"13",fill:"#444444"}),n.a.createElement("rect",{x:"2",width:"1",height:"13",fill:"#444444"}),n.a.createElement("rect",{y:"11",width:"1",height:"13",transform:"rotate(-90 0 11)",fill:"#444444"}),n.a.createElement("rect",{x:"10",width:"1",height:"13",fill:"#444444"}),n.a.createElement("rect",{y:"3",width:"1",height:"13",transform:"rotate(-90 0 3)",fill:"#444444"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_6423_24937"},n.a.createElement("rect",{width:"13",height:"13",fill:"white",transform:"translate(13 13) rotate(-180)"}))))),h.expanded&&"hidden"!==(null===h||void 0===h||null===(o=h.styles)||void 0===o||null===(i=o[N])||void 0===i?void 0:i.overflow)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("svg",{style:{position:"absolute",top:"-2px",transform:"rotate(90deg)",left:"-15px",boxSizing:"content-box",padding:"6px"},xmlns:"http://www.w3.org/2000/svg",width:"4",height:"7",viewBox:"0 0 4 7",fill:"none"},n.a.createElement("path",{d:"M-3.0598e-07 0L0 7L4 3.5L-3.0598e-07 0Z",fill:"#444444"})),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none"},n.a.createElement("path",{d:"M4 0.5H1.5C0.947715 0.5 0.5 0.947715 0.5 1.5V4M12.5 4V1.5C12.5 0.947715 12.0523 0.5 11.5 0.5H9M12.5 9V11.5C12.5 12.0523 12.0523 12.5 11.5 12.5H9M4 12.5H1.5C0.947715 12.5 0.5 12.0523 0.5 11.5V9",stroke:"#444444",strokeLinejoin:"round"})),"                  "),!h.expanded&&"hidden"!==(null===h||void 0===h||null===(r=h.styles)||void 0===r||null===(l=r[N])||void 0===l?void 0:l.overflow)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("svg",{style:{position:"absolute",top:"-3px",left:"-15px",boxSizing:"content-box",padding:"6px"},xmlns:"http://www.w3.org/2000/svg",width:"4",height:"7",viewBox:"0 0 4 7",fill:"none"},n.a.createElement("path",{d:"M-3.0598e-07 0L0 7L4 3.5L-3.0598e-07 0Z",fill:"#444444"})),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none"},n.a.createElement("path",{d:"M4 0.5H1.5C0.947715 0.5 0.5 0.947715 0.5 1.5V4M12.5 4V1.5C12.5 0.947715 12.0523 0.5 11.5 0.5H9M12.5 9V11.5C12.5 12.0523 12.0523 12.5 11.5 12.5H9M4 12.5H1.5C0.947715 12.5 0.5 12.0523 0.5 11.5V9",stroke:"#444444",strokeLinejoin:"round"})),"                  "),"frame"===h.slug&&n.a.createElement(za,{flexWrap:null===(c=h.styles)||void 0===c?void 0:c[N].flexWrap}))):"icon"===h.slug?n.a.createElement("span",null,h.data.icon_id?n.a.createElement("i",{className:"str-image__inner-icon material-icons siter-layers__tree-item__icon siter-layers__tree-item__icon_i ".concat(h.data.icon_id)}):n.a.createElement("span",{className:"siter-layers__tree-item__icon",dangerouslySetInnerHTML:{__html:h.data.icon_svg}})):n.a.createElement("span",{className:"siter-layers__tree-item__icon",dangerouslySetInnerHTML:{__html:Ha[h.slug]}}),T?n.a.createElement("input",{ref:"labelInput",autoComplete:"off",onChange:this.handleChangeComponentDescription,onBlur:e=>{this.handleCheckEnter({key:"Enter"})},onKeyPress:this.handleCheckEnter,type:"text",className:"siter-layers__tree-item__label siter-layers__tree-item__label-input",spellCheck:!1,value:R}):n.a.createElement("span",{ref:"label",className:"siter-layers__tree-item__label"},"Group"===h[m]&&"hidden"===(null===(p=this.props.data.styles)||void 0===p||null===(d=p.desktop)||void 0===d?void 0:d.overflow)?n.a.createElement(n.a.Fragment,null,"Frame"):n.a.createElement(n.a.Fragment,null,h[m]||Object(qt.h)(h))),B?n.a.createElement("div",{className:"siter-layers__tree-item__right"},"\xa0"):n.a.createElement("div",{className:"siter-layers__tree-item__right"},P&&!h.lock&&n.a.createElement("div",{className:"siter-layers__tree-item__right-parent__action-icon-wrapper"},n.a.createElement("div",{onClick:L.bind(null,h),className:"siter-layers__tree-item__right-parent__action-icon"})),n.a.createElement("span",{onClick:L.bind(null,h),className:"siter-layers__tree-item__right-lock ".concat(h.lock&&" siter-layers__tree-item__right-lock_enabled")},!P&&n.a.createElement("svg",{className:"siter-layers__tree-item__right-lock__lock",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M2 8C2 7.44772 2.44772 7 3 7H10C10.5523 7 11 7.44772 11 8V12C11 12.5523 10.5523 13 10 13H3C2.44772 13 2 12.5523 2 12V8Z",fill:"#333333"}),n.a.createElement("path",{d:"M3.5 7V3.57862C3.5 1.87835 4.87835 0.5 6.57862 0.5V0.5C6.85849 0.5 7.13729 0.534322 7.40879 0.602199L7.45634 0.614084C8.399 0.849749 9.12149 1.60747 9.31205 2.56027L9.5 3.5",stroke:"#444444"})),n.a.createElement("svg",{className:"siter-layers__tree-item__right-lock__locked",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M2 7C2 6.44772 2.44772 6 3 6H10C10.5523 6 11 6.44772 11 7V11C11 11.5523 10.5523 12 10 12H3C2.44772 12 2 11.5523 2 11V7Z",fill:"#444444"}),n.a.createElement("path",{d:"M3.5 8V4.5C3.5 2.84315 4.84315 1.5 6.5 1.5V1.5C8.15685 1.5 9.5 2.84315 9.5 4.5V8",stroke:"#444444"}))),I&&-1===F(h).indexOf("enabled")&&n.a.createElement("div",{className:"siter-layers__tree-item__right-parent__action-icon-wrapper"},n.a.createElement("div",{onClick:A.bind(null,h),className:"siter-layers__tree-item__right-parent__action-icon"})),n.a.createElement("span",{className:F(h),onClick:A.bind(null,h)},!I&&n.a.createElement("svg",{className:"siter-layers__tree-item__right-visibility__visible",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.5 2.5C3.00003 2.5 0.5 6.5 0.5 6.5C0.5 6.5 2.99995 10.5 6.5 10.5C10 10.5 12.5 6.5 12.5 6.5C12.5 6.5 9.99997 2.5 6.5 2.5Z",stroke:"#444444",strokeOpacity:"0.6",strokeLinejoin:"round"}),n.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2",fill:"#444444"})),n.a.createElement("svg",{className:"siter-layers__tree-item__right-visibility__notvisible",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#cli1)"},n.a.createElement("path",{d:"M6.5 2.5C3.00003 2.5 0.5 6.5 0.5 6.5C0.5 6.5 2.99995 10.5 6.5 10.5C10 10.5 12.5 6.5 12.5 6.5C12.5 6.5 9.99997 2.5 6.5 2.5Z",stroke:"#858585",strokeLinejoin:"round"}),n.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2",fill:"#818181"}),n.a.createElement("path",{d:"M3 11.5L12.5 2",stroke:"white",strokeWidth:"1.9",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M0.5 12.5L12.5 0.5",stroke:"#858585",strokeLinecap:"round",strokeLinejoin:"round"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"cli1"},n.a.createElement("rect",{width:"13",height:"13",fill:"white"}))))))),h.expanded&&"object"===typeof h.children&&Qa(Object.values(h.children),h.slug).map((e,t)=>n.a.createElement(Ya,{key:t,data:e,labelKey:m,iconKey:u,itemHelpers:g,childrenShift:_,parentCount:f+1,getElementPath:v,removeNodeAtPath:b,currentDeviceName:N,onDragEnd:C,onDropHit:y,moveNode:w,treeData:E,currentNodesIds:k,removeComponentFromPage:S,removeComponentsRequest:x,y:this.props.y})))}}Ka.defaultProps={labelKey:"label",iconKey:"icon",data:{},itemHelpers:{},childrenShift:15,parentCount:0,onDragEnd:()=>{},removeNodeAtPath:()=>{},removeComponentFromPage:()=>{},treeData:[],currentNodesIds:[],getCommonNodeFromGroup:()=>{}};var Ya=Ka,Ja=a(1),Xa=a.n(Ja);const Qa=(e,t)=>{if("frame"===t)return e;var a=null,s=null;for(a=0,s=e.length-1;a<s;a+=1,s-=1){var n=e[a];e[a]=e[s],e[s]=n}return e};class $a extends s.Component{constructor(){super(...arguments),this.state={y:{}},this.getElementPath=function(e,t,a){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];y({treeData:a,getNodeKey:e=>{let{node:t}=e;return t.id},callback:a=>{a.node.id===e&&t(a)},ignoreCollapsed:s})},this.removeNodeAtPath=function(e,t,a){return E({treeData:t,path:e,getNodeKey:e=>{let{node:t}=e;return t.id},ignoreCollapsed:!0})},this.moveNode=(e,t)=>{let a,{node:s,path:n,treeIndex:o,depth:i,minimumTreeIndex:r,ignoreCollapsed:l,expandParent:c,pathChanged:p}=e,d=[];this.getElementPath(s.id,e=>{let{treeIndex:t,path:s}=e;a=t,d=s},this.props.treeData,l),p?(this.props.capture({changedComponents:[s],prevChangedComponents:[s],treeIndex:a,nextDepth:n.length,nextTreeIndex:r,path:d,prevTreeIndex:a,prevPath:d},"REMOVE_COMPONENT"),this.props.capture({changedComponents:[s],prevChangedComponents:[s],treeIndex:r,nextDepth:n.length,nextTreeIndex:r,path:n,prevTreeIndex:a,prevPath:d},"ADD_COMPONENT")):(this.props.capture({changedComponents:[s],prevChangedComponents:[s],treeIndex:a,nextDepth:n.length,nextTreeIndex:r,path:d,prevTreeIndex:a,prevPath:d},"REMOVE_COMPONENT"),this.props.capture({changedComponents:[s],prevChangedComponents:[s],treeIndex:r,path:n,nextDepth:n.length,nextTreeIndex:r,prevTreeIndex:a,prevPath:d},"ADD_COMPONENT")),this.props.onDropHit(t,[s],n);const{treeData:h}=k({treeData:t,newNode:s,depth:i,minimumTreeIndex:r,expandParent:c,getNodeKey:e=>{let{id:t}=e;return t},ignoreCollapsed:l});return h}}componentWillMount(){window.YUI().use("node","event-valuechange","anim","dd","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate","event-hover","resize","resize-plugin","overlay",e=>{this.y=e})}render(){const{treeData:e,labelKey:t,iconKey:a,itemHelpers:s,childrenShift:o,onDragEnd:i,currentNodesIds:r,removeComponentFromPage:l,removeComponentsRequest:c,onDropHit:p,versionHistoryMode:d}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"siter-layers__tree",ref:"tree-wrapper"},Qa(Object.values(e)).map((h,m)=>n.a.createElement(Ya,{key:m,versionHistoryMode:d,getElementPath:this.getElementPath,data:h,labelKey:t,iconKey:a,itemHelpers:s,childrenShift:o,currentDeviceName:this.props.currentDeviceName,parentCount:1,moveNode:this.moveNode,removeNodeAtPath:this.removeNodeAtPath,currentNodesIds:r,removeComponentFromPage:l,onDragEnd:i,treeData:e,onDropHit:p,removeComponentsRequest:c,currentBlock:this.props.currentBlock,handleGroupComponents:this.props.handleGroupComponents,y:this.y}))),n.a.createElement("div",{className:"siter-layers__tree-drop__indicator"}))}}Ya.defaultProps={childrenShift:15,labelKey:"label",treeData:{},onDragEnd:()=>{},iconKey:"icon",itemHelpers:{},currentNodesIds:[],removeComponentFromPage:()=>{}},Ya.propTypes={childrenShift:Xa.a.number,labelKey:Xa.a.string,treeData:Xa.a.object,onDragEnd:Xa.a.func,removeComponentFromPage:Xa.a.func,iconKey:Xa.a.string,itemHelpers:Xa.a.object,currentNodesIds:Xa.a.oneOfType([Xa.a.func,Xa.a.array])};var es=Object(o.b)((e,t)=>({}),{})($a);class ts extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={currentTab:"layers"},this.handleChangeTab=e=>{"layers"===this.state.currentTab&&this.props.versionHistoryMode||this.setState({currentTab:e})},this.tabClassName=e=>{const{currentTab:t}=this.state;return Be()("layers-title__item",{"layers-title__item-active":e===t,"layers-title__item_disabled":this.props.versionHistoryMode&&"components"===e})},this.checkNewChildrensInFrame=(e,t,a)=>{var s;const{searchTree:n}=this.props;let o,i=[],r=[];if(a.length>0){var l,c;o=n({children:e},a[a.length-1]);const s=this.props.y.one(".s-e__w-i__group-frame #"+CSS.escape(o.id))?this.props.y.one("#"+CSS.escape(o.id)).ancestor(".s-e__w-i__group-frame"):null;if("frame"!==(null===(l=o)||void 0===l?void 0:l.slug)&&s&&(o=s.component),"frame"===(null===(c=o)||void 0===c?void 0:c.slug))for(const e of t)if(e.group_id!==o.id)if("group"===e.slug){const t=hr(e);r=r.concat(t);const a=Object(qt.c)({componentsInGroup:t},{top:0,left:0},this.props.currentDevice);i=i.concat(a)}else r.push(e),i.push({top:"0px",left:"0px"})}if("frame"!==(null===(s=o)||void 0===s?void 0:s.slug)||!o)for(const h of t){var p,d;let t=n({children:e},h.group_id);if(!t)continue;const a=o?this.props.y.one("#"+o.id):void 0,s=this.props.y.one(".s-e__w-i__group-frame #"+CSS.escape(t.id))?this.props.y.one("#"+CSS.escape(t.id)).ancestor(".s-e__w-i__group-frame"):null;if("frame"!==(null===(p=t)||void 0===p?void 0:p.slug)&&s&&(t=s.component),"frame"===(null===(d=t)||void 0===d?void 0:d.slug)||s){let e=this.props.y.one("#".concat(h.id));if("group"===h.slug){const e=hr(h);for(const a of e){const e=this.props.y.one("#".concat(a.id));let s={left:"0px",top:"0px"},n=e?e.ancestor(".s-e__w-i__autolayout"):void 0;s=n&&n.component.id!==t.id?ya(e._node,n._node):ya(e._node,document.querySelector(".section-editor__widgets"));const o=parseFloat(s.left)+"px",l=parseFloat(s.top)+"px";r.push(a),i.push({top:l,left:o})}}else{let t={left:"0px",top:"0px"},s=a?a.ancestor(".s-e__w-i__autolayout"):void 0;t=ya(e._node,s?s._node:document.querySelector(".section-editor__widgets"));const n=parseFloat(t.left)+"px",o=parseFloat(t.top)+"px";r.push(h),i.push({top:o,left:n})}}}r.length>0&&window.handleChangeComponentsStyles(r,i)},this.onDropHit=(e,t,a)=>{this.checkNewChildrensInFrame(e,t,a)},this.onDragEnd=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};const{searchTree:o}=e.props,i=JSON.parse(JSON.stringify(a));e.props.setComponents(t,r=>{if(s.length>0){let l=s[s.length-1],c=o({children:t},l),p=Object.keys(c.children),d=Object.assign({},JSON.parse(JSON.stringify(c.data)),{stored_components:p}),h=[c],m=[{data:d}],u=la()(a,"group_id");for(let e of Object.keys(u))if(e){let a=o({children:t},e);if(a){let t=JSON.parse(JSON.stringify(a.data));for(let a of u[e]){const s=t.stored_components.indexOf(a.id);e!==l&&s>-1&&t.stored_components.splice(s,1)}h.push(a),m.push({data:t})}}for(let e of a)h.push(e),m.push({group_id:l});h.length>0?(e.checkNewChildrensInFrame(t,i,s,n),window.handleChangeComponentsProperties(h,m,void 0,()=>{r(h[0])},void 0,!0)):r(a[0])}else{let n=a.filter(e=>e.group_id),l=n.map(e=>({group_id:null})),c=la()(n,"group_id");for(let e of Object.keys(c))if(e){let a=o({children:t},e);if(a){let t=JSON.parse(JSON.stringify(a.data));for(let a of c[e]){const e=t.stored_components.indexOf(a.id);e>-1&&t.stored_components.splice(e,1)}n.push(a),l.push({data:t})}}n.length>0?(e.checkNewChildrensInFrame(t,i,s),window.handleChangeComponentsProperties(n,l,void 0,()=>{r(n[0])},void 0,!0)):r(a[0])}e.props.currentBlock.json[0]&&window.setTransformator(e.props.currentBlock.json[0]),n()},a)},this.setCurrentBlock=(e,t,a)=>{if(t){document.activeElement!==t.target&&document.activeElement.blur();const e=["siter-layers__tree-item__icon-toggle","siter-layers__tree-item__right-lock","siter-layers__tree-item__right-visibility"];for(const a of e)if(1===c()(t.target).parents("."+a).length||c()(t.target).hasClass(a))return}if("contextmenu"===a&&this.props.currentBlockJSON.length>1)return;let s=this.props.y.one("#".concat(e.id));if(s){if(e=s.component){if(!t.shiftKey&&dr(e.slug))return void this.props.setCurrentGroup(e,t.metaKey,!0);const a=Array.isArray(this.props.currentBlockJSON)&&this.props.currentBlockJSON.find(t=>t.id===e.id);t.metaKey&&a?this.props.removeFromCurrentBlock([e]):t.shiftKey||this.props.setCurrentBlock(e,{target:{className:"no"},shiftKey:t.metaKey,fromLayers:!0},!1),!t.metaKey&&t.shiftKey&&Array.isArray(this.props.currentBlock.json)&&this.selectComponentsWithShift(e),(t.shiftKey||t.metaKey)&&(t.metaKey||Array.isArray(this.props.currentBlock.json))||this.props.setCurrentBlock(e,{target:{className:"no"},shiftKey:t.shiftKey,fromLayers:!0},!1),e.group_id&&this.props.openGroupsRecursive(e.group_id)}}else this.props.setLayoutAsCurrentBlock()},this.componentActive=e=>{let{id:t}=e;if(Array.isArray(this.props.currentBlockJSON)){const e=this.props.currentBlockJSON.map(e=>e.id).indexOf(t)>-1;return this.props.currentBlock.group_ids.indexOf(t)>-1||e}},this.componentInGroupActive=e=>{let t,a,{group_id:s,id:n}=e;if(Array.isArray(this.props.currentBlockJSON))return t=this.props.currentBlockJSON.map(e=>e.id).indexOf(n)>-1||this.props.currentBlock.group_ids.indexOf(n)>-1,a=this.props.currentBlock.group_ids.indexOf(s)>-1,a&&t},this.isMasterComponent=e=>{let{group_id:t,group_type:a,slug:s}=e;return dr(s)&&"master_component"===a||this.getMaxParentMasterComponentId(t)},this.getComponentData=(e,t)=>{y({treeData:this.props.components,getNodeKey:e=>{let{node:t}=e;return t.id},callback:a=>{a.node.id===e&&t(a)},ignoreCollapsed:!1})},this.selectComponentsWithShift=e=>{const{componentsFlatToTree:t}=this.props;let a,s=this.props.getRootGroupIds().concat(this.props.currentBlock.json.map(e=>e.id)),n=[];this.getComponentData(e.id,e=>{a=e,Array.isArray(s)&&s.length>0&&this.getComponentData(s[0],e=>{y({treeData:this.props.components,getNodeKey:e=>{let{node:t}=e;return t.id},callback:t=>{a.treeIndex>=e.treeIndex?a.treeIndex>=t.treeIndex&&e.treeIndex<=t.treeIndex&&n.push(t.node):a.treeIndex<=t.treeIndex&&e.treeIndex>=t.treeIndex&&n.push(t.node)},ignoreCollapsed:!1})})});let o=[];n=JSON.parse(JSON.stringify(n)).map(e=>(o.push({id:e.id,group_id:e.group_id}),e.group_id=null,e)),n=t(n);for(let i of Object.keys(n))n[i].group_id=o.find(e=>e.id===i).group_id;window.selectComponentsAndGroups(n)},this.getMaxParentMasterComponentId=e=>{if(e){const t=this.props.y.one("#"+CSS.escape(e));if(t){const a=t.component;if(a)return"master_component"===a.group_type?e:this.getMaxParentMasterComponentId(a.group_id)}}},this.isMainMasterComponent=e=>{let{group_id:t,group_type:a,main_master_component_id:s,slug:n,id:o}=e;return dr(n)&&"master_component"===a&&!s&&o||this.getMaxParentMainMasterComponentId(t)},this.getMaxParentMainMasterComponentId=e=>{const t=document.querySelector("[data-layer-id='".concat(CSS.escape(e),"']"));if(t){const a=this.props.searchTree({children:this.props.components},e);if(a)return"master_component"!==a.group_type||a.main_master_component_id?this.getMaxParentMainMasterComponentId(t.dataset.groupId):e}},this.isMasterComponentChildren=e=>{let{data:t,group_id:a,slug:s}=e;return a&&this.getMaxParentMasterChildrenComponentId(a)},this.getMaxParentMasterChildrenComponentId=e=>{const t=document.querySelector("[data-layer-id='".concat(CSS.escape(e),"']"));if(t){const a=this.props.searchTree({children:this.props.components},e);if(a)return"master_component"===a.group_type&&a.main_master_component_id?e:this.getMaxParentMasterComponentId(t.dataset.groupId)}},this.getMaxParentLockedGroupId=e=>{const t=this.props.y.one("#"+CSS.escape(e));if(t&&t.component){if(t.component.lock)return e;if(t.component.group_id)return this.getMaxParentLockedGroupId(t.component.group_id)}},this.componentInLockedGroup=e=>{let{group_id:t,slug:a}=e;if(t){return this.getMaxParentLockedGroupId(t)}return!1},this.getMaxParentInvisibleGroupId=e=>{const t=this.props.y.one("#"+CSS.escape(e));if(t){const{component:i}=t;if(i){var a,s,n,o;return!(null===(a=i.styles)||void 0===a||null===(s=a[this.props.currentDevice.name])||void 0===s?void 0:s.visibility)||"hidden"!==(null===(n=i.styles)||void 0===n||null===(o=n[this.props.currentDevice.name])||void 0===o?void 0:o.visibility)?this.getMaxParentInvisibleGroupId(i.group_id):e}}},this.componentInInvisibleGroup=e=>{let{group_id:t,slug:a}=e;if(t){return this.getMaxParentInvisibleGroupId(t)}return!1},this.visibilityClasses=e=>{var t,a,s,n;const o=!(e&&e.styles&&(null===(t=e.styles)||void 0===t||null===(a=t[this.props.currentDevice.name])||void 0===a?void 0:a.visibility))||e&&e.styles&&"hidden"!==(null===(s=e.styles)||void 0===s||null===(n=s[this.props.currentDevice.name])||void 0===n?void 0:n.visibility);return Be()("siter-layers__tree-item__right-visibility fr",{"siter-layers__tree-item__right-visibility_enabled":!o})},this.toggleVisible=e=>{this.props.toggleVisible(e)},this.toggleLock=e=>{this.props.handleChangeLock({target:{checked:!e.lock}},e)},this.itemHelpers={capture:this.props.capture,visibilityClasses:this.visibilityClasses,toggleVisible:this.toggleVisible,toggleLock:this.toggleLock,handleChangeComponentProperties:this.props.handleChangeComponentProperties,componentActive:this.componentActive,componentInLockedGroup:this.componentInLockedGroup,componentInGroupActive:this.componentInGroupActive,setCurrentBlock:this.setCurrentBlock,componentInInvisibleGroup:this.componentInInvisibleGroup,isMasterComponent:this.isMasterComponent,isMainMasterComponent:this.isMainMasterComponent,isMasterComponentChildren:this.isMasterComponentChildren},this.visible=e=>{let t=document.querySelector("#".concat(CSS.escape(e.id)));if(t){let e=t.currentStyle?t.currentStyle.visibility:getComputedStyle(t,null).visibility,a=t.currentStyle?t.currentStyle.display:getComputedStyle(t,null).display;if("hidden"===e||"none"===a)return!1;for(;!/body/i.test(t);)if(t=t.parentNode,e=t.currentStyle?t.currentStyle.visibility:getComputedStyle(t,null).visibility,a=t.currentStyle?t.currentStyle.display:getComputedStyle(t,null).display,"hidden"===e||"none"===a)return!1}return!0},this.getCurrentNodes=()=>{const{getComponentsInGroup:e,getRootGroupIds:t,currentBlockJSON:a,y:s}=this.props;let n=[],o=t(),i=[];if(Array.isArray(a)){n=n.concat(a.map(e=>{let{id:t}=e;return t}));for(const t of o){const a=e(this.props.searchTree({children:this.props.components},t));for(const e of a){const t=n.indexOf(e.id);t>-1&&i.push(t)}}for(let e=i.length-1;e>=0;e--)n.splice(i[e],1)}n=n.concat(o);let r=[];return s.all("[data-component-id]").each(e=>{let{component:t}=e;t&&n.indexOf(t.id)>-1&&r.push(t.id)}),r},this.handleRemoveWidgets=()=>{const{currentBlockIsLayout:e,currentBlock:t,currentBlockJSON:a,y:s}=this.props;if(!e){let e=t.group_ids.map(e=>s.one("#".concat(e)).component);t.remove(a.concat(e))}}}componentWillReceiveProps(e){e.versionHistoryMode&&this.setState({currentTab:"layers"})}render(){const{y:e,handleChangePage:t,installedFonts:a,devices:s,siteId:o,currentDevice:i,ComponentHelper:r,addComponentsToPageAsTreeNode:l,componentsTreeToFlat:c,componentsFlatToTree:p,handleSaveComponents:d,setCurrentGroup:h,searchTree:m,capture:u,components:g,handleCreateAutolayout:_,handleRemoveAutolayout:f,versionHistoryMode:v,addComponentToPageAsTreeNodeAboveSelectedNode:w,t:C}=this.props,{currentTab:y}=this.state;return n.a.createElement("div",{className:"noselect section-editor__layers"},n.a.createElement("div",{className:"section-editor__layers-close",onClick:this.props.handleToggleLayers},n.a.createElement("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.35355 10.3536L10.3536 1.35355L9.64645 0.646447L0.646447 9.64645L1.35355 10.3536ZM10.3536 9.64645L1.35355 0.646447L0.646447 1.35355L9.64645 10.3536L10.3536 9.64645Z",fill:"#444444"}))),n.a.createElement("div",{id:"layer-page",className:"layers-title"},n.a.createElement("span",{className:this.tabClassName("layers"),onClick:this.handleChangeTab.bind(null,"layers")},C("app.editor.leftpanel.layers")),n.a.createElement("span",{className:this.tabClassName("components"),onClick:this.handleChangeTab.bind(null,"components")},C("app.editor.leftpanel.components"))),"components"===y&&n.a.createElement(Ga,{y:e,handleChangePage:t,installedFonts:a,devices:s,siteId:o,currentDevice:i,ComponentHelper:r,searchTree:m,addComponentsToPageAsTreeNode:l,addComponentToPageAsTreeNodeAboveSelectedNode:w,componentsTreeToFlat:c,componentsFlatToTree:p,handleSaveComponents:d,setCurrentGroup:h,getSelectedTreeNodes:this.props.getSelectedTreeNodes,components:g}),"layers"===y&&n.a.createElement(n.a.Fragment,null,n.a.createElement(R.MenuProvider,{id:"layers-context-menu"},n.a.createElement(_e.a,{style:{width:"100%",height:window.innerHeight-97}},n.a.createElement(es,{versionHistoryMode:v,currentBlock:this.props.currentBlock,handleGroupComponents:this.props.handleGroupComponents,removeComponentFromPage:this.props.removeComponentFromPage,removeComponentsRequest:this.props.removeComponentsRequest,addComponentsToPageAsTreeNode:l,currentBlockJSON:this.props.currentBlockJSON,currentNodesIds:this.getCurrentNodes,currentDeviceName:this.props.currentDevice.name,treeData:g,capture:u,onDragEnd:this.onDragEnd,onDropHit:this.onDropHit,labelKey:"description",iconKey:"icon",itemHelpers:this.itemHelpers,childrenShift:15}))),!v&&n.a.createElement(Oe,{menu_id:"layers-context-menu",handleRemoveAutolayout:f,handleCreateAutolayout:_,getSelectedTreeNodes:this.props.getSelectedTreeNodes,handleDetachMasterDepending:this.props.handleDetachMasterDepending,currentBlocksIsOneGroup:this.props.currentBlocksIsOneGroup,handleGroupComponents:this.props.handleGroupComponents,handleUnGroupComponents:this.props.handleUnGroupComponents,visible:this.visible,handleChangeLock:this.props.handleChangeLock,toggleVisible:this.props.toggleVisible,arrangeMove:this.props.arrangeMove,currentBlock:this.props.currentBlock,handleRemoveWidgets:this.handleRemoveWidgets,oneOfCurrentIsMasterDependingComponent:this.props.oneOfCurrentIsMasterDependingComponent,allCurrentIsMasterDependingComponent:this.props.allCurrentIsMasterDependingComponent,handleCreateMasterComponent:this.props.handleCreateMasterComponent})))}}var as=Object(o.b)((e,t)=>({}),{})(Object(j.a)()(ts)),ss=a(475),ns=a.n(ss),os=a(476),is=a.n(os);const rs=["image/png","image/jpeg","image/gif","image/svg+xml"];class ls extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={height:window.innerHeight},this.drawComponents=["rectangle","button","icon","video","slider","map","text","image","form","code"],this.addDrawComponent=e=>{this.props.createPageComponentRequest({slugs:[e]},e=>{let t=e[0];delete t.icon;for(const a of Object.keys(t.styles))t.styles[a]=Object.assign({},t.styles[a],{width:"0px",height:"0px"});Object.assign(window.newComponents,{[t.id]:!0}),Object.assign(window.newDrawComponents,{[t.id]:!0}),t.fonts.length>0&&this.handleAddFont(t.fonts),"form"===t.slug&&(t.data.emails=this.props.site.collaborations.map(e=>e.user.email)),this.props.toggleDrawMode(!0,t)})},this.handleAddFont=e=>{const t=e.filter(e=>e),a=[...this.props.installedFonts],s=t.filter(e=>!a.some(t=>t.family===e.family));if(s.length>0){const e=[...a,...s],t=new CustomEvent("siter.fontadd",{detail:{updatedFonts:e}});window.dispatchEvent(t),window.changeSiteFonts(e),this.props.updateSiteRequest({id:window.siteId,fonts:e})}},this.createPageComponent=e=>{this.props.versionHistoryMode||(this.drawComponents.indexOf(e)>-1?this.addDrawComponent(e):this.props.createPageComponentRequest({slugs:[e]},e=>{let t=e[0];delete t.icon,Object.assign(window.newComponents,{[t.id]:!0}),"form"===t.slug&&(t.data.emails=this.props.site.collaborations.map(e=>e.user.email)),this.props.addComponentsToPage([t])}))},this.uploaded=(e,t,a)=>{const s=new Image;s.onload=()=>{const a=Object.assign(t,{data:Object.assign(t.data,{image:e.asset.url})});this.props.y.one("#".concat(t.id))&&this.props.handleChangeComponentProperties(t,a)},s.src=e.asset.url,window.removeUploadFile({id:a})},this.resizeBase64Image=function(e){return new Promise((t,a)=>{const s=new Image;s.src=e,s.onload=function(){const a=document.createElement("canvas"),n=a.getContext("2d"),o=s.width,i=o/s.height,r=Math.sqrt(4194304*i),l=Math.sqrt(4194304/i);a.width=r,a.height=l,n.drawImage(s,0,0,r,l);let c=a.toDataURL("image/png",.8);t(o>1024?c:e)}})},this.addDataUrlImageToComponent=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const n=a=>{Object.assign(t,{image_data:a}),window.newDrawComponents[t.id]||Object.assign(t,{styles:Object.assign(t.styles,{[e.props.currentDevice.name]:Object.assign({},t.styles.desktop,{height:"".concat(e.height,"px"),width:"".concat(e.width,"px")})})}),s()};e.resizeBase64Image(a).then(n).catch(()=>{n(a)})},this.addImageComponent=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e.props.versionHistoryMode)return;const{currentDevice:o,systemComponents:i,createPageComponentRequest:r}=e.props;if(t){if(t.size/1e6>10)return void N.b.error("File size exceeds ".concat(10," MB"),"Error",5e3)}const l=e,c=i.find(e=>"image"===e.slug);r({slugs:[c.slug]},e=>{let i=e[0];const r=new FileReader;"drop"===a&&(i.data.image_name=t.name),r.onloadend=()=>{const e=new Image;e.onload=function(){l.width=e.width,l.height=e.height,l.addDataUrlImageToComponent(i,e.src,()=>{if("drop"===a){var e;const t={x:s,y:n,width:l.width,height:l.height};i.styles[o.name]=Object(qt.b)(null===(e=i.styles)||void 0===e?void 0:e[o.name],t,l.props.currentDevice),i.styles[o.name].width=l.width+"px",i.styles[o.name].height=l.height+"px"}l.props.addComponentsToPage([i],!0,"drop"===a,()=>{l.props.handleSaveComponents([i],()=>{},[],!0,!0),l.props.setCurrentBlock(i,{shiftKey:!1,target:{className:""}},!0)},!1,!0)})},e.src=r.result,l.uploadImage(t,i)},r.readAsDataURL(t)})},this.addTextComponent=e=>{if(this.props.versionHistoryMode)return;e=(e=e.replace(/(?:\r\n)|\n|\r/g,"<br>")).replace(/((?:\r\n)|\n|\r)\s*((?:\r\n)|\n|\r)/g,"<p>");const t=this,a=this.props.systemComponents.find(e=>"text"===e.slug);this.props.createPageComponentRequest({slugs:[a.slug]},a=>{const s=a[0];let n=document.createElement("span");s.styles[t.props.currentDevice.name]||(s.styles[t.props.currentDevice.name]=s.styles.desktop),Object.assign(n.style,s.styles[t.props.currentDevice.name]),n.innerHTML=e,document.getElementById("text-buffer").appendChild(n);const o=n.offsetWidth+s.width_unit,i=n.offsetHeight+s.height_unit;s.styles[t.props.currentDevice.name].width=o,s.styles[t.props.currentDevice.name].height=i,n.remove(),s.data.content=e;t.props.addComponentsToPage([s],!0,!1,()=>{t.props.handleSaveComponents([s],()=>{},[],!0,!0)},!1,!0)})},this.addIconComponent=e=>{const t=this,a=this.props.systemComponents.find(e=>"icon"===e.slug);this.props.createPageComponentRequest({slugs:[a.slug]},a=>{const s=a[0];s.data.icon_svg=e,s.styles[t.props.currentDevice.name]||(s.styles[t.props.currentDevice.name]=s.styles.desktop);t.props.addComponentsToPage([s],!0,!1,()=>{t.props.handleSaveComponents([s],()=>{},[],!0,!0),t.props.setCurrentBlock(s,{shiftKey:!1,target:{className:""}},!0)},!1,!0)})},this.retrieveImageFromClipboardAsBlob=(e,t)=>{!1===e.clipboardData&&"function"===typeof t&&t(void 0);const{items:a}=e.clipboardData;void 0===a&&"function"===typeof t&&t(void 0);for(let s=0;s<a.length;s++){if(-1===a[s].type.indexOf("image"))continue;const e=a[s].getAsFile();"function"===typeof t&&t(e)}},this.onDrop=e=>{const t=this;if(e.preventDefault(),this.props.versionHistoryMode)return;if(c()(e.target).parents(".page-editor__settings-panel").length>0)return;const a=e.dataTransfer.getData("text/html"),s=c()("<div>").append(a),n=c()(s).find("img").attr("src");if(n&&fetch("https://cors-anywhere.herokuapp.com/".concat(n)).then(e=>e.blob()).then(a=>{const s=ns.a.extension(a.type);if(-1===rs.indexOf(a.type))return void N.b.error("File type is not allowed","Error",5e3);if("svg"===s){const e=new FileReader;return e.readAsText(a),void e.addEventListener("loadend",e=>{const a=e.srcElement.result,s=c()("<div>").append(a);s.find("svg").removeAttr("width"),s.find("svg").removeAttr("height"),t.addIconComponent(s.html())})}const n=new File([a],"".concat((new Date).getTime(),".").concat(s));t.addImageComponent(n,"drop",e.pageX,e.pageY)}),e.dataTransfer.files.length>0){const a=e.dataTransfer.files[0];if(-1===rs.indexOf(a.type))return void N.b.error("File type is not allowed","Error",5e3);t.addImageComponent(a,"drop",e.pageX,e.pageY)}return!1},this.onDragOver=e=>(e.preventDefault(),!1),this.setDropEventOnWindow=()=>{window.addEventListener("dragover",this.onDragOver,!1),window.addEventListener("drop",this.onDrop,!1)},this.onPaste=e=>{const t=this;if("input"===e.target.tagName.toLowerCase())return;const a=e.clipboardData.getData("text/plain");let s=!1;if(t.retrieveImageFromClipboardAsBlob(e,e=>{e&&(Yt.a.removeItem("effect"),s=!0,t.addImageComponent(e))}),!s&&a&&"BODY"===document.activeElement.tagName)if(Yt.a.removeItem("effect"),a.indexOf("<svg")>-1){const e=c()("<div>").append(a);e.find("svg").removeAttr("width"),e.find("svg").removeAttr("height"),e.find("svg").attr("xmlns","http://www.w3.org/2000/svg");const s=e.html(),n=new Blob([s],{type:"image/svg+xml"});t.addImageComponent(n)}else t.addTextComponent(a)},this.setPasteEventOnWindow=()=>{window.addEventListener("paste",this.onPaste,!1)},this.moveArrayElement=(e,t,a)=>{if(-1!==t&&-1!==a){if(a>=e.length){let t=a-e.length;for(;1+t--;)e.push(void 0)}e.splice(a,0,e.splice(t,1)[0])}return e},this.getIndexOfComponent=(e,t)=>t.indexOf(t.find(t=>t.slug===e)),this.orderComponents=e=>(e=JSON.parse(JSON.stringify(e)),e=this.moveArrayElement(e,this.getIndexOfComponent("text",e),0),e=this.moveArrayElement(e,this.getIndexOfComponent("rectangle",e),1),e=this.moveArrayElement(e,this.getIndexOfComponent("image",e),2),e=this.moveArrayElement(e,this.getIndexOfComponent("icon",e),3),e=this.moveArrayElement(e,this.getIndexOfComponent("button",e),4),e=this.moveArrayElement(e,this.getIndexOfComponent("video",e),5),e=this.moveArrayElement(e,this.getIndexOfComponent("map",e),6),e=this.moveArrayElement(e,this.getIndexOfComponent("code",e),7),(e=this.moveArrayElement(e,this.getIndexOfComponent("slider",e),8)).splice(this.getIndexOfComponent("group",e),1),e.splice(this.getIndexOfComponent("frame",e),1),e),this.createByKeyboard=(e,t)=>{window.createByKeyboardDisabled||this.props.versionHistoryMode||"BODY"!==document.activeElement.tagName||e.ctrlKey||e.shiftKey||e.metaKey||e.altKey||window.componentIsDrag||(window.cancelAction(),this.createPageComponent(t))},this.getComponentClasses=e=>Be()("section-editor__left-panel-menuitem section-editor__left-panel-menuitem_".concat(e.slug),{"section-editor__left-panel-menuitem_active":this.props.currentDrawComponent&&this.props.currentDrawComponent.slug===e.slug})}uploadImage(e,t){const a=this;if(e){if(e.size/1e6>10)return void N.b.error("File size exceeds ".concat(10," MB"),"Error",5e3)}return new Promise((s,n)=>{const o=new FormData;o.append("data",e);const i=new XMLHttpRequest,r=(new Date).getTime();window.addUploadFile({name:e.name,id:r}),i.open("post","".concat(d.a.defaults.baseURL,"/assets"),!0),i.setRequestHeader("Authorization","Bearer ".concat(this.props.user.jwt)),i.onload=function(){if(201===this.status)a.uploaded(JSON.parse(this.response),t,r);else{if(422===this.status){let e=JSON.parse(this.response);e=e.errors.map(e=>e.title).join("\n"),N.b.error(e,"Error",5e3),setTimeout(()=>{a.props.removeComponentFromPage([t]),window.removeUploadFile({id:r})})}n(this.statusText)}},i.send(o)})}componentWillUnmount(){window.removeEventListener("dragover",this.onDragOver,!1),window.removeEventListener("drop",this.onDrop,!1),window.removeEventListener("paste",this.onPaste,!1)}componentDidMount(){window.onresize=()=>{if(document.getElementsByClassName("section-editor__top-panel").length>0){const e=document.getElementsByClassName("section-editor__top-panel")[0].offsetHeight;this.setState({height:window.innerHeight-e})}},window.onresize(),this.refs.containerpackages.parentNode.addEventListener("scroll",this.handleScroll),this.refs.containerpackages.parentNode.addEventListener("wheel",this.handleScroll),this.setDropEventOnWindow(),this.setPasteEventOnWindow()}render(){const{systemComponents:e,versionHistoryMode:t,t:a}=this.props;return n.a.createElement("div",null,n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:84,onKeyHandle:e=>{this.createByKeyboard(e,"text")}}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:73,onKeyHandle:e=>{this.createByKeyboard(e,"image")}}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:77,onKeyHandle:e=>{this.createByKeyboard(e,"map")}}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:83,onKeyHandle:e=>{this.createByKeyboard(e,"slider")}}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:82,onKeyHandle:e=>{this.createByKeyboard(e,"rectangle")}}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:66,onKeyHandle:e=>{this.createByKeyboard(e,"button")}}),n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyCode:70,onKeyHandle:e=>{this.createByKeyboard(e,"form")}}),n.a.createElement("div",{className:"section-editor__top-panel__blocks-list-wrapper",id:"blocks_list"},n.a.createElement("div",{ref:"containerpackages",className:"section-editor__top-panel__blocks-list"+(t?" section-editor__top-panel__blocks-list_blocked":"")},n.a.createElement("div",null,n.a.createElement("div",{className:"Collapsible-wrap"},this.orderComponents(e).map(e=>n.a.createElement("div",{"data-tip":a("app.editor.leftpanel.componentsnames.".concat(e.slug)),"data-for":"add-component-name",key:e.id,className:this.getComponentClasses(e),onClick:this.createPageComponent.bind(null,e.slug)},n.a.createElement(is.a,{html:qt.a[e.slug]}))))),n.a.createElement(T.a,{id:"add-component-name",html:!0,place:"right",type:"dark",effect:"solid"}))))}}const cs={createPageComponentRequest:B.a,updateSiteRequest:F.g,updatePageRequest:A.g};var ps=Object(o.b)((e,t)=>({user:e.sessions,site:e.site}),cs)(Object(j.a)()(ls));class ds extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={scrollArrows:!1,showBeacon:!1},this.onResize=()=>{if(this.refs.leftpanel&&this.refs.leftpanel.offsetHeight<693){let e,t;if(this.setState({scrollArrows:!0}),document.getElementsByClassName("section-editor__left-panel-menuitems-static").length>0&&(t=document.getElementsByClassName("section-editor__left-panel-menuitems-static")[0].offsetHeight,e=window.innerHeight),document.getElementsByClassName("section-editor__top-panel").length>0){const a=document.getElementsByClassName("section-editor__top-panel")[0].offsetHeight;document.getElementById("blocks_list").style.height="".concat(e-t-a,"px")}}else{const e=document.getElementById("blocks_list");this.setState({scrollArrows:!1}),e&&(e.style.height="auto")}},this.onBeaconHide=()=>{this.fromOverlay||(this.setState({showBeacon:!1}),this.BeaconClassToggle()),this.fromOverlay=!1},this.handleClickArrow=()=>{const e=document.getElementById("blocks_list");e.scrollTop=e.scrollHeight},this.handleToggleBeacon=function(){const{showBeacon:t}=e.state;t?window.Beacon("close"):window.Beacon("open"),e.setState({showBeacon:!t})}}componentDidMount(){window.addEventListener("resize",this.onResize),setTimeout(()=>{this.onResize()}),document.addEventListener("siter.BeaconHide",this.onBeaconHide)}componentWillUnmount(){window.removeEventListener("resize",this.onResize),document.removeEventListener("siter.BeaconHide",this.onBeaconHide)}render(){let{layers:e,getSelectedTreeNodes:t,setLayoutAsCurrentBlock:a,setCurrentBlock:s,removeComponentFromPage:o,currentDrawComponent:i,toggleDrawMode:r,handleChangeComponent:l,handleChangeComponentProperties:c,pageId:p,components:d,siteId:h,systemComponents:m,addComponentsToPage:u,createPageComponent:g,setComponents:_,y:f,resetCurrentBlock:v,searchTree:w,page:C,arrangeMove:y,currentBlockJSON:b,getComponentsInGroup:E,handleGroupComponents:k,handleUnGroupComponents:S,currentBlocksIsOneGroup:x,toggleVisible:N,handleChangeLock:B,handleToggleLayers:F,handleChangeComponentsProperties:A,setCurrentGroup:L,removeFromCurrentBlock:O,currentBlockIsLayout:D,currentBlock:M,getRootGroupIds:P,currentDevice:I,handleSaveComponents:T,handleChangePage:R,installedFonts:j,oneOfCurrentIsMasterDependingComponent:G,allCurrentIsMasterDependingComponent:H,capture:U,handleCreateMasterComponent:Z,handleDetachMasterDepending:z,componentsFlatToTree:V,componentsTreeToFlat:W,addComponentsToPageAsTreeNode:q,ComponentHelper:K,devices:Y,openGroupsRecursive:J,removeComponentsRequest:X,handleRemoveAutolayout:Q,handleCreateAutolayout:$,addComponentToPageAsTreeNodeAboveSelectedNode:ee,versionHistoryMode:te}=this.props;return n.a.createElement("div",{className:"section-editor__left-panel",ref:"leftpanel"},this.state.showBeacon&&n.a.createElement("div",{onClick:this.handleToggleBeacon,className:"se__s-p-colorpicker-overlay"}),n.a.createElement(ps,{y:f,versionHistoryMode:te,getSelectedTreeNodes:t,setLayoutAsCurrentBlock:a,setCurrentBlock:s,removeComponentFromPage:o,currentDrawComponent:i,toggleDrawMode:r,handleChangePage:R,handleChangeComponent:l,handleChangeComponentProperties:c,pageId:p,installedFonts:j,components:d,siteId:h,currentDevice:I,systemComponents:m,addComponentsToPage:u,createPageComponent:g,handleSaveComponents:T}),n.a.createElement("div",{className:"section-editor__left-panel-menuitems section-editor__left-panel-menuitems-static"},this.state.scrollArrows&&n.a.createElement("div",{className:"section-editor__left-panel-menuitems-scroll-arrow__up",onClick:this.handleClickArrow},n.a.createElement("svg",{width:"18",height:"7",viewBox:"0 0 18 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 1L9 6L17 1",stroke:"#222222",strokeWidth:"1.5"}))),n.a.createElement("div",{className:"section-editor__left-panel-menuitems-static-wrapper"},n.a.createElement("div",{id:"open_shortcuts",className:"section-editor__left-panel-menuitem section-editor__left-panel-menuitem_control section-editor__left-panel-menuitem_first ".concat(this.state.showBeacon&&"section-editor__left-panel-menuitem_active"),onClick:this.handleToggleBeacon},n.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18ZM8.2312 9.9375C8.09155 10.2718 8.02173 10.7204 8.02173 11.2832H9.46265C9.47111 10.6738 9.61499 10.2104 9.89429 9.89307L10.675 9.125C11.3183 8.45638 11.6399 7.77718 11.6399 7.0874C11.6399 6.31299 11.4008 5.70996 10.9226 5.27832C10.4486 4.84668 9.78638 4.63086 8.93579 4.63086C8.1106 4.63086 7.44621 4.8488 6.94263 5.28467C6.44328 5.72054 6.18937 6.31299 6.18091 7.06201H7.72339C7.72339 6.71077 7.83341 6.43359 8.05347 6.23047C8.27775 6.02311 8.57186 5.91943 8.93579 5.91943C9.31665 5.91943 9.60441 6.02523 9.79907 6.23682C9.99797 6.44417 10.0974 6.74674 10.0974 7.14453C10.0974 7.44499 10.0128 7.72428 9.84351 7.98242C9.73348 8.15169 9.47111 8.43734 9.0564 8.83936C8.64592 9.23714 8.37085 9.60319 8.2312 9.9375ZM8.14868 12.6543C7.99211 12.8066 7.91382 13.0076 7.91382 13.2573C7.91382 13.4901 7.98787 13.6847 8.13599 13.8413C8.28833 13.9979 8.50415 14.0762 8.78345 14.0762C9.06274 14.0762 9.27856 13.9979 9.43091 13.8413C9.58325 13.6847 9.65942 13.4901 9.65942 13.2573C9.65942 13.0161 9.58114 12.8172 9.42456 12.6606C9.26799 12.4998 9.05428 12.4194 8.78345 12.4194C8.51685 12.4194 8.30526 12.4977 8.14868 12.6543Z",fill:"#7F7F7F"}))),n.a.createElement("div",{id:"open_layers",className:"section-editor__left-panel-menuitem section-editor__left-panel-menuitem_control ".concat(this.props.layers&&"section-editor__left-panel-menuitem_active"),onClick:this.props.handleToggleLayers},n.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",null,n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.61139 0.0896333C8.85828 -0.0298778 9.14171 -0.0298778 9.38861 0.0896333L17.4495 3.99117C18.1835 4.34644 18.1835 5.45664 17.4495 5.81191L9.38861 9.71345C9.14171 9.83296 8.85828 9.83296 8.61139 9.71345L0.550515 5.81191C-0.183505 5.45664 -0.183505 4.34644 0.550515 3.99117L8.61139 0.0896333Z",fill:"#7F7F7F"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.918718 8L0.544737 8.18477C-0.181574 8.54363 -0.181584 9.63879 0.544737 9.99769L8.60178 13.9785C8.85421 14.1032 9.14577 14.1032 9.39821 13.9785L17.4553 9.99769C18.1816 9.63879 18.1816 8.54363 17.4553 8.18478L17.0813 8L9.39821 11.7961C9.14577 11.9208 8.85421 11.9208 8.60178 11.7961L0.918718 8Z",fill:"#7F7F7F"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.918718 11.9374L0.544737 12.1222C-0.181574 12.481 -0.181584 13.5762 0.544737 13.9351L8.60178 17.9159C8.85421 18.0406 9.14577 18.0406 9.39821 17.9159L17.4553 13.9351C18.1816 13.5762 18.1816 12.481 17.4553 12.1222L17.0813 11.9374L9.39821 15.7334C9.14577 15.8582 8.85421 15.8582 8.60178 15.7334L0.918718 11.9374Z",fill:"#7F7F7F"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"18",height:"18",fill:"white"}))))))),e&&n.a.createElement(as,{y:f,versionHistoryMode:te,handleCreateAutolayout:$,handleRemoveAutolayout:Q,removeComponentsRequest:X,openGroupsRecursive:J,getSelectedTreeNodes:t,handleDetachMasterDepending:z,setComponents:_,oneOfCurrentIsMasterDependingComponent:G,allCurrentIsMasterDependingComponent:H,resetCurrentBlock:v,searchTree:w,page:C,arrangeMove:y,currentBlockJSON:b,getComponentsInGroup:E,handleGroupComponents:k,handleUnGroupComponents:S,currentBlocksIsOneGroup:x,toggleVisible:N,handleChangeLock:B,handleToggleLayers:F,setLayoutAsCurrentBlock:a,handleChangeComponentProperties:c,handleChangeComponentsProperties:A,handleChangeComponent:l,removeComponentFromPage:o,setCurrentBlock:s,setCurrentGroup:L,removeFromCurrentBlock:O,currentBlockIsLayout:D,currentBlock:M,getRootGroupIds:P,components:d,currentDevice:I,capture:U,handleCreateMasterComponent:Z,handleChangePage:R,installedFonts:j,devices:Y,siteId:h,ComponentHelper:K,addComponentsToPageAsTreeNode:q,componentsTreeToFlat:W,componentsFlatToTree:V,handleSaveComponents:T,addComponentToPageAsTreeNodeAboveSelectedNode:ee}))}}var hs=Object(o.b)((e,t)=>({}),{})(ds);class ms extends s.Component{constructor(){super(...arguments),this.state={open:!1,searchValue:"",add:!1,name:"",refreshTooltip:!0},this.handleToggleOpen=()=>{this.setState({open:!this.state.open,add:!1},()=>{this.setTop()})},this.handleToggleAdd=()=>{this.setState({add:!this.state.add},()=>{this.refs.nameInput?this.refs.nameInput.focus():this.refs.searchInput.focus()})},this.setTop=()=>{const e=document.getElementById("storedstylespopup");if(e){let{top:t}=this.refs.preseticon.closest("#fills-title").getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight),e.style.top=t+"px",this.setState({top:t})}},this.handleChangeSearchValue=e=>{this.setState({searchValue:e.target.value,refreshTooltip:!1}),setTimeout(()=>{this.setState({refreshTooltip:!0})})},this.handleChangeName=e=>{this.setState({name:e.target.value})},this.colorItemClassNames=e=>{const{currentBlockInfo:t,path:a}=this.props,s=t&&(t.json[0]||t.json),n=s&&s.presets.find(t=>t.code===e.code&&t.path===a);return Be()("p-e__s-s__styles-box__body-list__item-color cp",{"p-e__s-s__styles-box__body-list__item-color_active":n})},this.closeIconClassName=()=>{const{add:e}=this.state;return Be()("p-e__s-s__styles-box__head-close",{"p-e__s-s__styles-box__head-close_active":e})},this.setPreset=e=>{e=JSON.parse(JSON.stringify(e));const{currentBlockInfo:t,update:a,path:s}=this.props,n={code:e.code,path:s};let o=t.json[0]&&t.json[0].presets||t.json.presets;const i=o.find(e=>{let{code:t,path:a}=e;return t===n.code&&a===n.path}),r=o.find(e=>{let{path:t}=e;return t===n.path});if(r){const e=o.indexOf(r);o.splice(e,1)}i||(o.push(n),t.handleChangeProperties({presets:o}),a(e,!0))},this.handleCheckEnter=e=>{"Enter"===e.key&&this.handleCreate()},this.handleCreate=()=>{const{type:e,site:t,updatePresets:a,presets:s,fills:n,elementSelector:o}=this.props,{name:i}=this.state,r=document.querySelector(o);let l,c;r&&(l=r.offsetWidth,c=r.offsetHeight);const p={preset_type:e,value:n,width:l,height:c,name:i};if("color"===e){const{user:e}=this.props;if(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST)return p.id=(new Date).getTime(),p.code=p.id,s.unshift(p),a(s),void this.setState({name:"",add:!1},()=>{this.setPreset(p)});d.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),d.a.post("/sites/".concat(t.id,"/presets"),p).then(e=>{let{data:t}=e;s.unshift(t),a(s),this.setState({name:"",add:!1},()=>{this.setPreset(t)})})}},this.getPresetsByType=e=>{const{searchValue:t}=this.state,a=new RegExp(t,"g");let s=this.props.presets.slice(0);return s=s.filter(e=>{let{name:t}=e;return t.match(a)}),s.filter(t=>{let{preset_type:a}=t;return a===e})}}render(){const{open:e,searchValue:t,add:a,name:s,refreshTooltip:o}=this.state,{type:i,fills:r,currentPresetName:l,t:c}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"color-presets-button",style:{display:"none"},onClick:this.handleToggleOpen}),n.a.createElement("svg",{ref:"preseticon",style:l?{visibility:"hidden"}:{},onClick:this.handleToggleOpen,className:"input-wrapper__setting-right-icons__color-opacity cp input-wrapper__setting-right-icons__color-opacity_margin",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("circle",{cx:"4",cy:"4",r:"3",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"4",cy:"11",r:"2.5",stroke:"#AFAFAF"}),n.a.createElement("circle",{cx:"11",cy:"4",r:"2.5",stroke:"#AFAFAF"}),n.a.createElement("circle",{cx:"11",cy:"11",r:"2.5",stroke:"#AFAFAF"})),e&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleToggleOpen}),n.a.createElement("div",{className:"page-editor__settings-stored__styles-box__popup",style:{top:this.state.top},id:"storedstylespopup"},n.a.createElement("div",{className:"p-e__s-s__styles-box__head"},a?n.a.createElement("input",{ref:"nameInput",onKeyPress:this.handleCheckEnter,onChange:this.handleChangeName,value:s,className:"input input_full p-e__s-s__styles-box__input p-e__s-s__styles-box__input_add",placeholder:c("app.editor.settingspanel.createcolorstylename")}):n.a.createElement("input",{ref:"searchInput",onChange:this.handleChangeSearchValue,value:t,className:"input input_full p-e__s-s__styles-box__input",autoFocus:!0,placeholder:c("app.editor.settingspanel.searchcolorplaceholder")}),"color"===i&&a&&n.a.createElement("div",{className:"p-e__s-s__styles-box__body-list__item-color p-e__s-s__styles-box__body-list__item-color_static",style:{backgroundImage:Object(gt.a)(r,{width:100,height:100})}}),n.a.createElement("div",{className:"p-e__s-s__styles-box__head-close__wrapper cp",onClick:this.handleToggleAdd},n.a.createElement("svg",{className:this.closeIconClassName(),width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 6.5H13M6.5 13V0",stroke:"#333333"})))),n.a.createElement("div",{className:a?"":"p-e__s-s__styles-box__body"},a?n.a.createElement("div",{className:"p-e__s-s__styles-box__body-button",onClick:this.handleCreate},c("app.editor.settingspanel.createstyle")):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_first se__s-p__mk-item_without-line"},n.a.createElement("span",{className:"capitalize"},i)," ",c("app.editor.settingspanel.styles")),n.a.createElement("div",{className:"p-e__s-s__styles-box__body-list"},"color"===i&&this.getPresetsByType("color").map((e,t)=>n.a.createElement("div",{"data-place":"bottom","data-tip":e.name,"data-for":"style-name",key:t,onClick:this.setPreset.bind(null,e),className:this.colorItemClassNames(e),style:{backgroundImage:Object(gt.a)(e.value,{width:100,height:100})}}))),o&&n.a.createElement(T.a,{id:"style-name",html:!0,place:"bottom",type:"dark",effect:"solid"}))))))}}const us={updateSiteRequest:F.g,updatePresets:D.a};var gs=Object(o.b)(e=>({sessions:e.sessions,presets:e.presets,user:e.sessions,site:e.site}),us)(Object(j.a)()(ms));const _s=a(86).v4,fs={type:"SOLID",visible:!0,opacity:.2,blendMode:"NORMAL",color:{r:0,g:0,b:0}};class vs extends s.Component{constructor(){var e;super(...arguments),e=this,this.FillsToCss=e=>{const t=document.querySelector(this.props.elementSelector);if(t){const a=t.offsetWidth,s=t.offsetHeight;return Object(gt.a)(e,{width:a,height:s})}},this.handleUpdateFill=(e,t)=>{let{fills:a,update:s}=this.props;a[e]=t;const n=this.FillsToCss(a);this.removeElementsTempStyle(),s(a,n)},this.removeElementsTempStyle=()=>{let{elementSelector:e,multipleElements:t}=this.props;if(-1===e.indexOf(".section-editor__artboard"))if(t)document.querySelectorAll(e).forEach(e=>{e.style.background="",e.style.backgroundImage=""});else{const t=document.querySelector(e);t&&(t.style.backgroundImage="",t.style.background="")}},this.updateCustomElements=(e,t,a,s)=>{const{componentId:n,componentType:o}=a.dataset,i=CSS.escape(n);if("text"===o){let e=a.classList.contains(n+"_hover")?"#component-style-hover":"#component-style",t=new CustomEvent("siter.textupdategradient",{detail:s});if(document.dispatchEvent(t),"#component-style"===e){const t=a.querySelector(e);t&&(t.innerHTML=".text_".concat(i," {background: ").concat(s,"; -webkit-background-clip: text; -webkit-text-fill-color: transparent; }"))}else{let t=a.querySelector(e);t&&(t.innerHTML=".".concat(i,"_hover {background: ").concat(s,"; -webkit-background-clip: text; -webkit-text-fill-color: transparent; }"))}}if("icon"===o){let t=a.classList.contains(n+"_hover")?"#component-style-hover":"#component-style";if("#component-style"===t){let r=".".concat(o,"_").concat(i," i { background: ").concat(s,";-webkit-background-clip: text;-webkit-text-fill-color: transparent;}");r+=e.map((t,a)=>".".concat(o,"_").concat(i," svg svg:nth-child(").concat(e.length-a,") path { fill: url(#gradient-").concat(n,"-").concat(a,"); }")).join("");let l="";const c=a.querySelector('g[id="gradient"]');if(a&&c){const t=a.offsetWidth,s=a.offsetHeight;l=Zt(e,n,t,s),c.innerHTML=l}a.querySelector(t).innerHTML=r}else{let a=".".concat(o,"_").concat(i,"_hover i { background: ").concat(s,";-webkit-background-clip: text;-webkit-text-fill-color: transparent;}");a+=e.map((t,a)=>".".concat(o,"_").concat(i," svg svg:nth-child(").concat(e.length-a,") path { fill: url(#gradient-hover-").concat(n,"-").concat(a,"); }")).join("");let r="";const l=document.querySelector(this.props.elementSelector),c=l.querySelector('g[id="gradient-hover"]');if(l&&c){const t=l.offsetWidth,a=l.offsetHeight;r=Zt(e,n,t,a,!0),c.innerHTML=r}l.querySelector(t).innerHTML=a}}},this.handleUpdateElement=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{elementSelector:n,fills:o,multipleElements:i}=e.props;let r=JSON.parse(JSON.stringify(o));r[t]=a,null===s&&(s=e.FillsToCss(r));const l=t=>{t&&(["text","icon"].indexOf(t.dataset.componentType)>-1?e.updateCustomElements(r,a,t,s):i?document.querySelectorAll(n).forEach(e=>{e.style.background=s}):t.style.background=s)};if(Array.isArray(n))document.querySelectorAll(n).forEach(l);else{l(document.querySelector(n))}},this.handleRemoveFill=e=>{let t=JSON.parse(JSON.stringify(this.props.fills));e>-1&&t.splice(e,1);const a=this.FillsToCss(t);this.props.update(t,a),this.handleUpdateElement(0,this.props.fills[0],a),this.removeElementsTempStyle()},this.handleAddFill=()=>{let e=this.props.fills.slice(0);e.unshift(Object.assign({uid:_s()},fs));const t=this.FillsToCss(e);this.props.update(e,t),this.handleUpdateElement(0,e[0],t),this.removeElementsTempStyle()},this.storedStyleName=()=>{const{currentBlockInfo:e,presets:t,path:a}=this.props;if(e){const s=((e.json[0]||e.json).presets||[]).find(e=>e.path===a);if(s){const e=t.find(e=>{let{code:t}=e;return t===s.code});if(e)return e.name}}},this.checkAndRemovePreset=()=>{const{currentBlockInfo:e,path:t}=this.props;if(t){let a=(e.json[0]||e.json).presets;const s=a.find(e=>e.path===t);if(s){const t=a.indexOf(s);t>-1&&a.splice(t,1),e.handleChangeProperties({presets:a}),this.forceUpdate()}}},this.updateProperties=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a||e.checkAndRemovePreset(),e.props.update(t.value,Object(gt.a)(t.value,t))},this.openStoredStylesBox=()=>{this.refs.title.querySelector("#color-presets-button").click()}}render(){const{t:e,fills:t,elementSelector:a,onPickerShow:s,onPickerHide:o,label:i,exceptTypes:r,disableHandles:l,disableAdd:c,disableRemove:p,disableStoredBox:d,currentBlockInfo:h,path:m}=this.props,u=this.storedStyleName(),g=h&&(h.json[0]?h.json[0].id:h.json.id);return n.a.createElement("div",{className:"colorpicker-fills__container",ref:"title",id:"fills-title"},!c&&n.a.createElement("div",{className:"se__s-p__mk-item__title"},n.a.createElement("span",{className:"cp",onClick:this.handleAddFill},i||e("app.editor.settingspanel.backgroundcolor")),!u&&n.a.createElement("label",{onClick:this.handleAddFill,id:"addFill",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"}))))),!d&&n.a.createElement("div",{className:"fr va-middle colorpicker-stored__styles-box"},n.a.createElement(gs,{type:"color",fills:t,elementSelector:a,update:this.updateProperties,currentBlockInfo:h,onOpen:this.handleClosePicker,path:m,currentPresetName:u})),u?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{ref:"colorsetting",className:"input-wrapper__setting"},n.a.createElement("div",{style:{backgroundImage:Object(gt.a)(t,{width:100,height:100})},className:"input-wrapper__setting-color-circle"}),n.a.createElement("div",{ref:"colorvalue",className:"input-wrapper__setting-color-value input-wrapper__setting-color-value_preset"},u),n.a.createElement("div",{className:"input-wrapper__setting-right-icons input-wrapper__setting-right-icons__color input-wrapper__setting-right-icons_"+this.t,ref:"opacityvalue"},n.a.createElement("svg",{onClick:this.checkAndRemovePreset,className:"input-wrapper__setting-right-icons__remove-preset input-wrapper__setting-right-icons__color-opacity cp",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.06839 12.5L5.71484 12.1464L6.06839 12.5ZM7.01909 11.5493L7.37264 11.9028L7.01909 11.5493ZM10.2786 6.97998C10.0047 6.94528 9.75445 7.13923 9.71975 7.41319C9.68505 7.68714 9.879 7.93735 10.1529 7.97206L10.2786 6.97998ZM3.724 7.01857C3.99803 7.05267 4.24782 6.85817 4.28192 6.58415C4.31602 6.31012 4.12152 6.06033 3.84749 6.02623L3.724 7.01857ZM7.97375 10.1525C7.93965 9.87846 7.68986 9.68396 7.41583 9.71806C7.1418 9.75215 6.9473 10.0019 6.9814 10.276L7.97375 10.1525ZM6.02792 3.84703C6.06262 4.12098 6.31284 4.31493 6.58679 4.28023C6.86074 4.24552 7.05469 3.99531 7.01999 3.72135L6.02792 3.84703ZM11.1948 6.66648C10.9543 6.90699 10.616 7.02273 10.2786 6.97998L10.1529 7.97206C10.7971 8.05365 11.4428 7.83271 11.9019 7.37359L11.1948 6.66648ZM2.80423 7.33443C3.04571 7.09295 3.38511 6.9764 3.724 7.01857L3.84749 6.02623C3.20256 5.94597 2.55668 6.16778 2.09713 6.62733L2.80423 7.33443ZM1.14643 12.8535C2.60322 14.3103 4.96515 14.3103 6.42194 12.8535L5.71484 12.1464C4.64857 13.2127 2.91981 13.2127 1.85354 12.1464L1.14643 12.8535ZM12.1464 1.85353C13.2127 2.9198 13.2127 4.64856 12.1464 5.71483L12.8535 6.42194C14.3103 4.96515 14.3103 2.60322 12.8535 1.14643L12.1464 1.85353ZM12.8535 1.14643C11.3967 -0.310365 9.03482 -0.310365 7.57803 1.14643L8.28513 1.85353C9.3514 0.787266 11.0802 0.787266 12.1464 1.85353L12.8535 1.14643ZM7.37264 11.9028C7.83219 11.4433 8.054 10.7974 7.97375 10.1525L6.9814 10.276C7.02357 10.6149 6.90702 10.9542 6.66554 11.1957L7.37264 11.9028ZM6.62638 2.09807C6.16725 2.5572 5.94632 3.20288 6.02792 3.84703L7.01999 3.72135C6.97724 3.38392 7.09298 3.04569 7.33349 2.80518L6.62638 2.09807ZM1.85354 12.1464C0.78727 11.0802 0.78727 9.3514 1.85354 8.28513L1.14643 7.57802C-0.310361 9.03481 -0.310361 11.3967 1.14643 12.8535L1.85354 12.1464ZM6.66554 11.1957L5.71484 12.1464L6.42194 12.8535L7.37264 11.9028L6.66554 11.1957ZM12.1464 5.71483L11.1948 6.66648L11.9019 7.37359L12.8535 6.42194L12.1464 5.71483ZM7.33349 2.80518L8.28513 1.85353L7.57803 1.14643L6.62638 2.09807L7.33349 2.80518ZM1.85354 8.28513L2.80423 7.33443L2.09713 6.62733L1.14643 7.57802L1.85354 8.28513Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M0.5 3.5L3 3.99999",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M13.5 10.5L11 10",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M4.5 0.500002L4.5 2.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M9.5 13.5L9.5 11.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}))),n.a.createElement("div",{className:"input-wrapper__setting-clickable",onClick:this.openStoredStylesBox})))):t.map((e,t)=>n.a.createElement("div",{className:"se__s-p__mk-item",key:g+e.uid||t},n.a.createElement(Ut,{fill:e,disableRemove:p,disableHandles:l,exceptTypes:r,onPickerShow:s,onPickerHide:o,elementSelector:a,FillsToCss:this.FillsToCss,update:this.handleUpdateFill,updateElement:this.handleUpdateElement,removeFill:this.handleRemoveFill,index:t}))))}}vs.defaultProps={fills:[],exceptTypes:[],multipleElements:!1,disableAdd:!1,disableHandles:!1,onPickerShow:()=>{},onPickerHide:()=>{}};var ws=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(vs)),Cs=a(125);class ys extends s.Component{constructor(){super(...arguments),this.state={preset:this.props.preset},this.updateColor=e=>{let{preset:t}=this.state;t.value=e,this.updateComponents(e),this.updatePage(e),this.setState({preset:t},()=>{clearTimeout(this.requestTimeout),this.requestTimeout=setTimeout(this.updatePresetRequest,200)})},this.updatePage=e=>{let{page:t,handleChangePage:a}=this.props,{preset:s}=this.state,n="";const o=t.presets.find(e=>e.code===s.code);let i=Object(gt.a)(e,s);if(o){let{path:s}=o,r=s.split("."),l={[r[0]]:t[r[0]]};1===r.length?(l[r[0]]=e,l[r[0]+"_css"]=i):(Object(Cs.set)(l,s,e),n=s.replace(".".concat(r[r.length-1]),""),Object(Cs.set)(l,n+"."+r[r.length-1]+"_css",i)),a(l,()=>{},!1,!0)}},this.updateComponents=e=>{let{components:t}=this.props,{preset:a}=this.state,s=[],n=[],o="";e=JSON.parse(JSON.stringify(e)),y({treeData:t,getNodeKey:e=>{let{node:t}=e;return t.id},callback:t=>{const i=t.node.presets.filter(e=>e.code===a.code);for(const r of i){let{path:i}=r,l=Object(gt.a)(e,a),c=i.split("."),p={[c[0]]:t.node[c[0]]};1===c.length?(p[c[0]]=e,p[c[0]+"_css"]=l):(Object(Cs.set)(p,i,e),o=i.replace(".".concat(c[c.length-1]),""),Object(Cs.set)(p,o+"."+c[c.length-1]+"_css",l)),s.push(t.node),n.push(p)}},ignoreCollapsed:!1}),s.length>0&&window.handleChangeComponentsProperties(s,n,!1,()=>{},!0)},this.updateName=e=>{let{preset:t}=this.state;t.name=e.target.value,this.setState({preset:t})},this.updatePresetRequest=()=>{const{user:e,site:t}=this.props,{preset:a}=this.state,s=Object.assign({},{css:Object(gt.a)(a.value,a)},a);d.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),d.a.put("/sites/".concat(t.id,"/presets/").concat(a.code),s).then(e=>{let{data:t}=e})}}render(){const{handleClose:e}=this.props,{preset:t}=this.state;return n.a.createElement("div",{className:"presets-editor",style:{height:window.innerHeight}},n.a.createElement("div",{className:"presets-editor__header"},n.a.createElement("div",{className:"presets-editor__header-icon",onClick:e},n.a.createElement("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M5 1L1 6L5 11",stroke:"#7F7F7F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),n.a.createElement("span",{className:"presets-editor__header-title"},"EDIT COLOR PRESET")),n.a.createElement("div",{className:"presets-editor__color-box",style:{backgroundImage:Object(gt.a)(t.value,t)}}),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title"},"Preset name"),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("input",{autoComplete:"off",onBlur:this.updatePresetRequest,className:"input input-wrapper__setting input_preset-name",type:"text",placeholder:"Preset name...",onChange:this.updateName,value:t.name})),n.a.createElement(ws,{fills:t.value,update:this.updateColor,elementSelector:"none",path:"fills",disableStoredBox:!0,label:"Color"})))}}var bs=Object(o.b)(e=>({user:e.sessions,site:e.site}),{})(ys);class Es extends s.Component{constructor(){super(...arguments),this.state={top:-999999,title:"My screen",width:1440},this.t=Math.random().toString(36).substr(2,9),this.setTop=()=>{const e=document.getElementById("customDevice"),t=document.getElementById("layoutkit");if(e){let{top:e}=t.getBoundingClientRect();this.setState({top:e+document.querySelector(".section-editor__top-panel").offsetHeight})}},this.handleChangeTitle=e=>{this.setState({title:e.target.value})},this.handleChangeWidth=e=>{this.setState({width:parseFloat(e.target.value)})}}componentDidMount(){this.setTop(),document.addEventListener("siter.settings.closeall",this.props.toggleAddCustomDeviceModal)}componentWillUnmount(){document.removeEventListener("siter.settings.closeall",this.props.toggleAddCustomDeviceModal)}render(){const{top:e,title:t,width:a,name:s}=this.state;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"customDevice",ref:"customDevice",className:"se__s-p-colorpicker-popup",style:{top:e}},n.a.createElement("div",{className:"custom-device__form"},n.a.createElement("div",{className:"colorpicker-label"},n.a.createElement("span",null,"Add custom screen")),n.a.createElement("div",{className:"custom-device__form-block"},n.a.createElement("input",{onChange:this.handleChangeTitle,value:t,type:"text",placeholder:"Name",className:"input input_modal"}),n.a.createElement("input",{onChange:this.handleChangeWidth,autoFocus:!0,onFocus:e=>{e.target.select()},value:a,type:"number",placeholder:"Width",className:"input input_modal"})),n.a.createElement("div",{className:"custom-device__form-block"},n.a.createElement("button",{className:"button button_white button_modal",onClick:this.props.toggleAddCustomDeviceModal},"Cancel"),n.a.createElement("button",{className:"button button_blue button_modal",onClick:this.props.handleAddDevice.bind(null,{width:a,title:t,name:s})},"Add")))),n.a.createElement("div",{ref:"artboardoverlay",onClick:this.props.toggleAddCustomDeviceModal,className:"colorpicker-artboard__overlay"},n.a.createElement("div",{ref:"overlayelement",className:"colorpicker-artboard__overlay-element"})))}}var ks=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(Es));class Ss extends s.Component{constructor(){super(...arguments),this.state={},this.t=Math.random().toString(36).substr(2,9),this.setTop=()=>{const e=document.getElementById("removeconfirmation"),t=document.getElementById("layoutkit");if(e){let{top:e}=t.getBoundingClientRect();this.setState({top:e+document.querySelector(".section-editor__top-panel").offsetHeight})}}}componentDidMount(){this.setTop(),document.addEventListener("siter.settings.closeall",this.props.onCancel)}componentWillUnmount(){document.removeEventListener("siter.settings.closeall",this.props.onCancel)}render(){const{text:e,onCancel:t,onConfirm:a}=this.props,{top:s}=this.state;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"removeconfirmation",ref:"removeconfirmation",className:"se__s-p-colorpicker-popup",style:{top:s}},n.a.createElement("div",{className:"custom-device__form"},n.a.createElement("div",{className:"colorpicker-label"},n.a.createElement("span",null,e)),n.a.createElement("div",{className:"custom-device__form-block"},n.a.createElement("button",{className:"button button_white button_modal",onClick:t},"Cancel"),n.a.createElement("button",{className:"button button_red button_modal",onClick:a},"Remove")))),n.a.createElement("div",{ref:"artboardoverlay",onClick:t,className:"colorpicker-artboard__overlay"},n.a.createElement("div",{ref:"overlayelement",className:"colorpicker-artboard__overlay-element"})))}}var xs=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(Ss));var Ns=Object(j.a)()(e=>{const{showLayout:t,toggleLayout:a,t:s}=e;return n.a.createElement("div",{style:{marginTop:0}},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"LayoutSwitcher"},s("app.editor.settingspanel.showlayoutgrid")),n.a.createElement("label",{htmlFor:"LayoutSwitcher",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"LayoutSwitcher",checked:t,onChange:a,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))))});var Bs=Object(j.a)()(e=>{const{handleDeviceChange:t,currentDevice:a,devices:s,handleRemoveDevice:o,handleOpenMenu:i,disableMenu:r,handleChangeDeviceScale:l,t:c}=e;return n.a.createElement("div",{className:"section-editor__top-panel__device-switcher"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:r?()=>{}:i},n.a.createElement("span",null,c("app.editor.settingspanel.screens")),n.a.createElement("label",{style:r?{opacity:.6,cursor:"default"}:{},className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{style:{marginBottom:0},className:"colorpicker-presets__item colorpicker-presets__item_add ".concat(r&&" colorpicker-presets__item_add_disabled")},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"}))))),n.a.createElement("div",{className:"section-editor__top-panel__device-switcher__devices"},s.sort((e,t)=>t.width-e.width).map((e,s)=>n.a.createElement("div",{className:"section-editor__top-panel__device-switcher__devices-item ".concat(a.name===e.name&&" section-editor__top-panel__device-switcher__devices-item_active"),key:s},n.a.createElement("div",{className:"input-wrapper__setting-clickable","data-device-name":e.name,onClick:t.bind(null,e)}),n.a.createElement("div",{className:"section-editor__top-panel__device-switcher__title"},e.title),n.a.createElement("div",{className:"input-wrapper__setting-right-icons-2"},n.a.createElement("span",{className:"section-editor__top-panel__device-switcher__res"},e.width),"desktop"!==e.name&&n.a.createElement("svg",{style:{position:"relative",zIndex:10},onClick:o.bind(null,e),className:"input-wrapper__setting-right-icons__minus",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"})))))),n.a.createElement("div",{className:"mt10","data-for":"device-scale-desc","data-html":!0,"data-tip":"Check to extend the layout on screens larger than your breakpoints, ensuring a better fit. Uncheck to keep the original layout size on current screen."},n.a.createElement("label",{className:"switcher switcher_nomargin switcher_small switcher_input va-middle"},n.a.createElement("input",{id:"device-scale",checked:a.scale,onChange:l,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))),n.a.createElement("label",{htmlFor:"device-scale",className:"small-switcher__label"},"Scale on Large Screens"),n.a.createElement(T.a,{className:"devices-tooltip",id:"device-scale-desc",html:!0,place:"bottom",effect:"solid",type:"dark"})))});const Fs=[{name:"desktop",title:"Desktop",width:1200},{name:"res640",title:"Tablet",width:640},{name:"res375",title:"Mobile",width:375}],As=e=>{let{handleAddDevice:t,toggleAddCustomDeviceModal:a,devices:s}=e;return n.a.createElement(R.Menu,{style:{marginLeft:-13,marginTop:-15,minWidth:128},id:"linktype-context-menu"},Fs.map((e,a)=>!s.find(t=>t.name===e.name)&&n.a.createElement(R.Item,{key:a,onClick:t.bind(null,e)},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},e.title," ",n.a.createElement("span",{style:{opacity:.5}},e.width)))),n.a.createElement(R.Item,{onClick:a},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},"Add custom")))};class Ls extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={currentInheritDevice:"desktop",openMenu:!1,currentPreset:void 0,customDeviceModal:!1,showRemoveConfirmation:!1},this.handleChangeBackground=(e,t)=>{this.props.currentBlock.handleChangeProperties({fills_css:t,fills:e}),this.forceUpdate()},this.handleChangeCurrentInheritDevice=e=>{this.setState({currentInheritDevice:e.name})},this.setDevices=function(){arguments.length>0&&void 0!==arguments[0]||e.props.currentDeviceName;e.setState({currentInheritDevice:e.props.devices[0].name})},this.closeRemoveConfirmation=()=>{this.setState({showRemoveConfirmation:!1})},this.removeConfirmation=e=>{this.setState({showRemoveConfirmation:!0}),this.removeConfirmationCallback=e},this.handleRemoveDevice=e=>{this.removeConfirmation(()=>{let t=this.props.devices.slice(0);const a=this.props.currentDevice,s=t.indexOf(t.find(t=>e.name===t.name));let n=this.props.page.styles;n[e.name]=null,t.splice(s,1),this.props.currentDeviceName===e.name&&this.props.changeDevice({name:"desktop"});const o={screens:t,styles:n};let i=[],r=[];this.state.showRemoveConfirmation&&this.closeRemoveConfirmation(),this.props.handleChangePage(o,()=>{this.props.y.all("[data-component-id]").each(t=>{let{component:a}=t;if(a){i.push(a);let t=Object.assign({},a.styles);t[e.name]=null,r.push({styles:t})}}),i.length>0&&window.handleChangeComponentsProperties(i,r)},!0,void 0,a)})},this.handleAddDevice=e=>{const t=this.props.currentDevice;let a=this.props.devices.slice(0);Fs.find(t=>t.name===e.name)||(e.name="res"+e.width),a.find(t=>t.width===e.width)?N.b.error("You already have same screen","Screens",5e3):(a.push(e),this.props.handleChangePage({screens:a},()=>{this.state.customDeviceModal&&this.toggleAddCustomDeviceModal()},!0,void 0,t))},this.handleOpenMenu=e=>{R.contextMenu.show({id:"linktype-context-menu",event:e,props:{foo:"bar"}})},this.getPresetsByType=e=>{const{presets:t}=this.props;return t.filter(t=>{let{preset_type:a}=t;return a===e})},this.gradientCircleStyle=(e,t)=>{const a=e.value,s=Object(gt.a)(a,{width:100,height:100});return".input-wrapper__setting-color-circle_".concat(e.code," {background-image: ").concat(s,"}")},this.handleEditPreset=e=>{this.setState({currentPreset:e})},this.handleRemovePreset=e=>{const t=this.props.presets.slice(0),a=t.find(t=>t.code===e.code);if(a){const e=t.indexOf(a);e>-1&&(t.splice(e,1),this.removePresetRequest(a.code),this.props.updatePresets(t),this.props.handleRemovePresetFromPageAndComponents(a.code))}},this.removePresetRequest=e=>{const{user:t,site:a}=this.props;d.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),d.a.delete("/sites/".concat(a.id,"/presets/").concat(e)).then(e=>{let{data:t}=e})},this.handleClosePresetEditor=()=>{this.setState({currentPreset:void 0})},this.toggleAutolayout=()=>{this.props.toggleAutolayout()},this.toggleAddCustomDeviceModal=()=>{this.setState({customDeviceModal:!this.state.customDeviceModal})},this.handleChangeDeviceScale=e=>{const{currentDevice:t}=this.props,a=document.getElementById("connect-fonts"),s=a?a.innerHTML:"";let n=this.props.devices.slice(0);n.find(e=>e.name===t.name).scale=e.target.checked,this.props.handleChangePage({screens:n},()=>{a&&(a.innerHTML=s)},!0)}}_renderOption(e){return n.a.createElement("div",null,n.a.createElement("span",{className:"select-inherit__icon",dangerouslySetInnerHTML:{__html:e.icon}}),n.a.createElement("span",{className:"va-middle"},e.title))}_renderValue(e){return n.a.createElement("div",{className:"select-value-container"},n.a.createElement("span",{className:"select-inherit__icon",dangerouslySetInnerHTML:{__html:e.icon}}),n.a.createElement("span",{className:"va-middle"},e.title))}componentDidMount(){this.setDevices()}componentWillReceiveProps(e){this.props.currentDeviceName!==e.currentDeviceName&&this.setDevices(e.currentDeviceName)}render(){const{currentPreset:e,customDeviceModal:t,showRemoveConfirmation:a}=this.state,s=this.getPresetsByType("color"),{page:o,components:i,t:r}=this.props;return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{id:"layoutkit",className:"layoutkit page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},t&&n.a.createElement(ks,{handleAddDevice:this.handleAddDevice,toggleAddCustomDeviceModal:this.toggleAddCustomDeviceModal}),a&&n.a.createElement(xs,{onConfirm:this.removeConfirmationCallback,onCancel:this.closeRemoveConfirmation,text:"Are you shure?"}),n.a.createElement(As,{handleAddDevice:this.handleAddDevice,devices:this.props.devices,toggleAddCustomDeviceModal:this.toggleAddCustomDeviceModal}),n.a.createElement(Bs,{disableMenu:!1,openMenu:this.state.openMenu,handleOpenMenu:this.handleOpenMenu,currentDevice:this.props.currentDevice,handleDeviceChange:this.props.changeDevice,handleChangeDeviceScale:this.handleChangeDeviceScale,handleRemoveDevice:this.handleRemoveDevice,handleAddDevice:this.handleAddDevice,devices:this.props.devices})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(Ns,{toggleLayout:this.props.toggleLayout,showLayout:this.props.showLayout,showWindow:this.props.showWindow,toggleWindow:this.props.toggleWindow})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(ws,{fills:this.props.currentBlockJSON.fills,update:this.handleChangeBackground,currentBlockInfo:this.props.currentBlock,path:"fills",elementSelector:[".section-editor__artboard",".section-editor__filter"]})),s.length>0&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title"},r("app.editor.settingspanel.colorstyles")),s.map((e,t)=>n.a.createElement("div",{className:"se__s-p__mk-item",key:t},n.a.createElement("div",{className:"se__s-p-colorpicker se__s-p-colorpicker__preset"},n.a.createElement("div",{className:"input-wrapper__setting"},n.a.createElement("div",{className:"input-wrapper__setting-clickable",onClick:this.handleEditPreset.bind(null,e)}),n.a.createElement("div",{className:"input-wrapper__setting-color-circle input-wrapper__setting-color-circle_cd input-wrapper__setting-color-circle_".concat(e.code," cp"),onClick:this.handleEditPreset.bind(null,e)}),n.a.createElement("div",{className:"input-wrapper__setting-color-value input-wrapper__setting-color-value_preset cp",onClick:this.handleEditPreset.bind(null,e)},e.name),n.a.createElement("div",{className:"input-wrapper__setting-right-icons input-wrapper__setting-right-icons__color input-wrapper__setting-right-icons__preset"},n.a.createElement("svg",{onClick:this.handleEditPreset.bind(null,e),className:"input-wrapper__setting-right-icons__color-opacity input-wrapper__setting-right-icons__color-opacity_margin cp",style:{marginTop:-2},width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("circle",{cx:"3.5",cy:"3.5",r:"2",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M3.5 7L3.5 13",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M10.5 1V7",stroke:"#AFAFAF"}),n.a.createElement("circle",{r:"2",transform:"matrix(1 0 0 -1 10.5 10.5)",stroke:"#AFAFAF"})),n.a.createElement("svg",{onClick:this.handleRemovePreset.bind(null,e),className:"input-wrapper__setting-right-icons__color-opacity cp",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.06839 12.5L5.71484 12.1464L6.06839 12.5ZM7.01909 11.5493L7.37264 11.9028L7.01909 11.5493ZM10.2786 6.97998C10.0047 6.94528 9.75445 7.13923 9.71975 7.41319C9.68505 7.68714 9.879 7.93735 10.1529 7.97206L10.2786 6.97998ZM3.724 7.01857C3.99803 7.05267 4.24782 6.85817 4.28192 6.58415C4.31602 6.31012 4.12152 6.06033 3.84749 6.02623L3.724 7.01857ZM7.97375 10.1525C7.93965 9.87846 7.68986 9.68396 7.41583 9.71806C7.1418 9.75215 6.9473 10.0019 6.9814 10.276L7.97375 10.1525ZM6.02792 3.84703C6.06262 4.12098 6.31284 4.31493 6.58679 4.28023C6.86074 4.24552 7.05469 3.99531 7.01999 3.72135L6.02792 3.84703ZM11.1948 6.66648C10.9543 6.90699 10.616 7.02273 10.2786 6.97998L10.1529 7.97206C10.7971 8.05365 11.4428 7.83271 11.9019 7.37359L11.1948 6.66648ZM2.80423 7.33443C3.04571 7.09295 3.38511 6.9764 3.724 7.01857L3.84749 6.02623C3.20256 5.94597 2.55668 6.16778 2.09713 6.62733L2.80423 7.33443ZM1.14643 12.8535C2.60322 14.3103 4.96515 14.3103 6.42194 12.8535L5.71484 12.1464C4.64857 13.2127 2.91981 13.2127 1.85354 12.1464L1.14643 12.8535ZM12.1464 1.85353C13.2127 2.9198 13.2127 4.64856 12.1464 5.71483L12.8535 6.42194C14.3103 4.96515 14.3103 2.60322 12.8535 1.14643L12.1464 1.85353ZM12.8535 1.14643C11.3967 -0.310365 9.03482 -0.310365 7.57803 1.14643L8.28513 1.85353C9.3514 0.787266 11.0802 0.787266 12.1464 1.85353L12.8535 1.14643ZM7.37264 11.9028C7.83219 11.4433 8.054 10.7974 7.97375 10.1525L6.9814 10.276C7.02357 10.6149 6.90702 10.9542 6.66554 11.1957L7.37264 11.9028ZM6.62638 2.09807C6.16725 2.5572 5.94632 3.20288 6.02792 3.84703L7.01999 3.72135C6.97724 3.38392 7.09298 3.04569 7.33349 2.80518L6.62638 2.09807ZM1.85354 12.1464C0.78727 11.0802 0.78727 9.3514 1.85354 8.28513L1.14643 7.57802C-0.310361 9.03481 -0.310361 11.3967 1.14643 12.8535L1.85354 12.1464ZM6.66554 11.1957L5.71484 12.1464L6.42194 12.8535L7.37264 11.9028L6.66554 11.1957ZM12.1464 5.71483L11.1948 6.66648L11.9019 7.37359L12.8535 6.42194L12.1464 5.71483ZM7.33349 2.80518L8.28513 1.85353L7.57803 1.14643L6.62638 2.09807L7.33349 2.80518ZM1.85354 8.28513L2.80423 7.33443L2.09713 6.62733L1.14643 7.57802L1.85354 8.28513Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M0.5 3.5L3 3.99999",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M13.5 10.5L11 10",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M4.5 0.500002L4.5 2.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M9.5 13.5L9.5 11.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}))),n.a.createElement("style",null,this.gradientCircleStyle(e,t)))))),e&&n.a.createElement(bs,{handleClose:this.handleClosePresetEditor,getPageColors:this.props.getPageColors,handleChangePage:this.props.handleChangePage,page:o,components:i,preset:e})),n.a.createElement("div",{className:"se__s-p__space"}))}}const Os={updatePresets:D.a};var Ds=Object(o.b)(e=>({presets:e.presets,user:e.sessions,site:e.site}),Os)(Object(j.a)()(Ls)),Ms=a(477),Ps=a.n(Ms),Is=a(478);let Ts=!1;const Rs=e=>{const t=e.currentTarget.querySelector(".Select-menu");if(Ts&&e.preventDefault(),null!=t){const a=t.clientHeight,{scrollHeight:s}=t,n=-e.deltaY,{scrollTop:o}=t;(o===s-a&&n<0||0===o&&n>0)&&e.preventDefault()}};class js extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={opened:!1,allFonts:[],popup:!1,currentFontsCount:20,searchQuery:""},this.t=(new Date).getTime(),this.handleChange=e=>{if(e&&e.family){const t={[this.props.property]:e.family};this.setState({currentFontFamily:e.family}),this.props.update(t)}},this.handleCloseSelect=e=>{const{select:t}=this.refs;t.state.isOpen&&t.handleInputBlur(e)},this.addFontToComponent=e=>{const{currentBlock:t}=this.props,{handleChangeProperties:a}=t;let s=t.json[0];-1===s.fonts.indexOf(e)&&(s.fonts.push(e),a({fonts:s.fonts}))},this.handleAddFont=e=>{const t=[...this.props.installedFonts],s=t.find(t=>t.family===e.family),n=t.indexOf(s);let o={id:"font-"+(0,a(86).v4)(),status:"google",family:e.family,url:"",filename:e.family,format:"google",weight:400,style:"normal",size:23};if(this.addFontToComponent(o),-1===n){t.push(o);const e=new CustomEvent("siter.fontadd",{detail:{installedFonts:t}}),a=()=>{this.handleChange(o),document.removeEventListener("siter.fontrendered",a,!1)};window.changeSiteFonts(t),window.updateSite({id:window.siteId,fonts:t},()=>{document.addEventListener("siter.fontrendered",a,!1)}),document.dispatchEvent(e),this.state.searchQuery.length>0&&(this.setState({searchQuery:""}),this.generateFontsForSelect(this.props))}},this.standartFonts=[{family:"Arial",standart:!0,triggerFont:this.triggerFont}],this.generateFontsForSelect=e=>{const t=[...e.fonts],a=[...e.installedFonts],s=t.filter(e=>!a.some(t=>t.family===e.family)),n=[...s.filter(e=>e.selected),...s.filter(e=>!e.selected)];this.setState({allFonts:n.slice(0,this.state.currentFontsCount)},()=>{setTimeout(()=>{Ts=!1})})},this.onOpen=()=>{this.setState({opened:!0})},this.onClose=()=>{this.setState({opened:!1})},this.selectClassName=()=>this.props.frompageeditor?"select-font-family":"select-font-family select-wrapper-inlist",this.getSelectValue=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;return t.styles[t.property]?{family:t.styles[t.property].replace(/"/g,"")}:{family:""}},this.onMenuScrollToBottom=()=>{Ts=!0,this.setState({currentFontsCount:this.state.currentFontsCount+50},()=>{this.generateFontsForSelect(this.props)})},this.handleInputChange=e=>{const{value:t}=e.target;this.setState({searchQuery:t}),this.request("/fonts?offset=0&limit=30&q=".concat(t),"GET",{},e=>{const{fonts:a}=JSON.parse(e),s={fonts:a,installedFonts:this.props.installedFonts};t?this.generateFontsForSelect(s):this.generateFontsForSelect(this.props)})},this.request=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};const o=new XMLHttpRequest;o.open(a,d.a.defaults.baseURL+t,!0),o.setRequestHeader("Authorization","Bearer ".concat(e.props.sessions.jwt)),o.setRequestHeader("Content-Type","application/json"),o.onload=()=>{200===o.status&&n(o.response)},o.send(JSON.stringify(s))},this.onMouseUp=e=>{e.target.select()},this.handleTogglePopup=()=>{this.setState({popup:!this.state.popup},()=>{setTimeout(()=>{this.setTop()})})},this.setTop=()=>{const e=document.getElementById("fontfamilypopup");if(e){let{top:t}=this.refs.fontfamily.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=50+window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.getFn=e=>{let{family:t}=e;return t},this.handleChangeFamily=e=>{this.setState({currentFontFamily:e.currentTarget.value}),this.forceUpdate()},this.handleMatchFamily=e=>{const{installedFonts:t}=this.props;t.find(t=>t.family===e.family)||this.handleAddFont(e),this.handleChange({family:e.family})},this.filterAllFonts=e=>{const{installedFonts:t}=this.props||[],a=new Set((t||[]).map(e=>e.family&&e.family.toLowerCase()).filter(Boolean));return(e||[]).filter(e=>{var t;const s=null===e||void 0===e||null===(t=e.family)||void 0===t?void 0:t.toLowerCase();return!!s&&!a.has(s)})}}componentDidMount(){this.generateFontsForSelect(this.props),this.setState({currentFontFamily:this.getSelectValue().family}),this.refs["sug-".concat(this.t)].querySelector("input").addEventListener("mouseup",(function(){this.select()}))}componentWillReceiveProps(e){"INPUT"!==document.activeElement.tagName&&(this.props.currentBlockId===e.currentBlockId&&this.state.currentFontFamily===this.getSelectValue(e).family||this.setState({currentFontFamily:this.getSelectValue(e).family}))}render(){const{t:e}=this.props;return n.a.createElement(n.a.Fragment,null,this.state.opened&&n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleCloseSelect}),n.a.createElement("style",null,".select-font-family .Select-value-label { font-family: ".concat(this.getSelectValue().family,"; }")),n.a.createElement("div",{onWheel:Rs},n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting",ref:"fontfamily"},n.a.createElement("div",{className:"input-wrapper__setting-value",ref:"sug-".concat(this.t)},n.a.createElement(Is.InlineSuggest,{haystack:this.props.fonts,value:this.state.currentFontFamily,onChange:this.handleChangeFamily,onMatch:this.handleMatchFamily,getFn:this.getFn,ignoreCase:!0})),n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr",onClick:this.handleTogglePopup},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"}))))),this.state.popup&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleTogglePopup}),n.a.createElement("div",{id:"fontfamilypopup",className:"input-wrapper__setting-fontfamily__popup",style:{top:this.state.top}},n.a.createElement("input",{autoComplete:"off",value:this.state.searchQuery,onChange:this.handleInputChange,placeholder:e("app.editor.settingspanel.textfontssearchplaceholder"),type:"text",className:"input-wrapper__setting-fontfamily__popup-search__input"}),this.standartFonts.map(e=>e.family).concat(this.props.installedFonts).length>0&&0===this.state.searchQuery.length&&n.a.createElement("div",{className:"input-wrapper__setting-fontfamily__popup-section"},this.props.installedFonts.map(e=>e.family).concat(this.standartFonts.map(e=>e.family)).map((e,t)=>n.a.createElement("div",{key:t,style:{fontFamily:e},onClick:this.handleChange.bind(null,{family:e}),className:"input-wrapper__setting-fontfamily__popup-section__item input-wrapper__setting-fontfamily__popup-section__item_font"},n.a.createElement("span",{className:"input-wrapper__setting-fontfamily__popup-section__item-name"},e),this.getSelectValue().family===e&&n.a.createElement("svg",{className:"input-wrapper__setting-fontfamily__popup-section__item-choosed",width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{className:"input-wrapper__setting-fontfamily__popup-section__item-choosed",d:"M1.5 5.90909L4.36364 10L9.27273 1",stroke:"#3E87F8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))),n.a.createElement("div",{className:"react-contexify__separator",style:{float:"none"}}),n.a.createElement(Ps.a,{onBottomArrive:this.onMenuScrollToBottom},n.a.createElement("div",{className:"input-wrapper__setting-fontfamily__popup-section input-wrapper__setting-fontfamily__popup-section_all"},this.filterAllFonts(this.state.allFonts).map((e,t)=>n.a.createElement("div",{key:t,className:"input-wrapper__setting-fontfamily__popup-section__item",onClick:this.handleAddFont.bind(null,e)},e.family,!e.standart&&!e.selected&&n.a.createElement("svg",{className:"input-wrapper__setting-fontfamily__popup-section__item-add",width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.83832 4H9.86862C10.4265 4 10.8787 4.44772 10.8787 5C10.8787 5.55228 10.4265 6 9.86862 6H6.83832V9C6.83832 9.55229 6.38608 10 5.82821 10C5.27035 10 4.81811 9.55229 4.81811 9V6H1.78781C1.22995 6 0.77771 5.55228 0.77771 5C0.77771 4.44772 1.22995 4 1.78781 4H4.81811V1C4.81811 0.447715 5.27035 0 5.82821 0C6.38608 0 6.83832 0.447715 6.83832 1V4Z",fill:"white"}))))))))))}}const Gs={updatePageRequest:A.g};var Hs=Object(o.b)(e=>({sessions:e.sessions}),Gs)(Object(j.a)()(js));class Us extends s.Component{constructor(){super(...arguments),this.state={opened:!1},this.handleChange=e=>{if(e&&e.value){const t={[this.props.property]:e.value};this.props.update(t),this.forceUpdate()}},this.handleCloseSelect=e=>{const{select:t}=this.refs;t.state.isOpen&&t.handleMouseDown(e)},this.onOpen=()=>{this.setState({opened:!0})},this.onClose=()=>{this.setState({opened:!1})},this.names={100:"100 Thin",200:"200 Extra Light",300:"300 Light",400:"400 Regular",500:"500 Medium",600:"600 SemiBold",700:"700 Bold",800:"800 ExtraBold",900:"900 HeavyBold"},this.names2={100:"Thin",200:"Extra Light",300:"Light",400:"Regular",500:"Medium",600:"SemiBold",700:"Bold",800:"ExtraBold",900:"HeavyBold"},this.standartFonts=[{family:"Arial",variants:["400","700"],standart:!0,triggerFont:this.triggerFont}],this.getOptions=()=>{let e=[...this.props.fonts];e=this.standartFonts.concat(e).concat(this.props.installedFonts);const t=e.find(e=>!(!this.props.styles||!this.props.styles.hasOwnProperty("fontFamily"))&&e.family===this.props.styles.fontFamily.replace(/"/g,""));let a=[];return t&&(a=t.variants||t.weights||[t.weight],a=a.map(e=>String(e)),a=a.slice(0).filter(e=>-1===e.indexOf("italic")).map(e=>"regular"===e?{label:this.names2[400],value:"400"}:{label:"".concat(e),value:"".concat(e)}),a.forEach((e,t)=>{e.value.indexOf("italic")>-1&&a.splice(t,1)}),a.forEach(e=>{e.label=this.names2[e.value]||e.value})),a}}render(){return n.a.createElement("div",{className:"se__s-p__mk-item__fontweight_".concat(this.props.type)},this.state.opened&&n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleCloseSelect}),n.a.createElement(Dt,{onOpenX:this.onOpen,onClose:this.onClose,ref:"select",name:"font-weight",value:{label:this.names2[this.props.styles[this.props.property]]||this.props.styles[this.props.property],value:this.props.styles[this.props.property]},onChange:this.handleChange,searchable:!1,clearable:!1,scrollMenuIntoView:!1,className:"select-wrapper-inlist editor-fontweight-setting",options:this.getOptions()}))}}var Zs=Object(o.b)(e=>({}),{})(Us),zs=a(479),Vs=a.n(zs);class Ws extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={opened:!1,options:[],fontSize:""},this.handleChange=e=>{if(e&&e.value){const t={[this.props.property]:e.value};this.props.changeLineHeight&&this.handleChangeLineHeight(e.value,t),this.props.update(t)}},this.handleChangeLineHeight=(e,t)=>{t.lineHeight="".concat(Math.ceil(1.166666666666667*parseInt(e,10)),"px")},this.handleCloseSelect=e=>{const{select:t}=this.refs;t.state.isOpen&&t.handleMouseDownOnArrow(e)},this.onOpen=()=>{this.setState({opened:!0},()=>{document.activeElement&&"font-size"===document.activeElement.getAttribute("name")&&document.activeElement.blur()})},this.onClose=()=>{this.setState({opened:!1})},this.init=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;const a=[],s=[9,10,11,12,13,14,18,24,36,48,64,72,96,144,288];let n="mixed"===t.styles[t.property]?"mix":parseInt(t.styles[t.property],10);s.forEach(e=>{a.push({value:"".concat(e,"px"),label:"".concat(e)})}),e.setState({options:a,fontSize:n})},this.getValue=()=>"px"===this.props.styles[this.props.property]||isNaN(parseInt(this.props.styles[this.props.property],10))?"":parseInt(this.props.styles[this.props.property],10),this.handleChangeValue=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({fontSize:t.target.value}),a&&e.handleChange({value:t.target.value+"px"})},this.onKeyDown=e=>{const t=parseFloat(e.target.value);["ArrowDown","ArrowUp","Enter"].indexOf(e.key)>-1&&("ArrowUp"===e.key?(this.handleChange({value:t+1+"px"}),this.setState({fontSize:t+1})):"ArrowDown"===e.key?(this.handleChange({value:t-1+"px"}),this.setState({fontSize:t-1})):this.handleChange({value:t+"px"}))}}componentDidMount(){this.init()}componentWillReceiveProps(e){e.property!==this.props.property&&this.init(e),"INPUT"!==document.activeElement.tagName&&void 0!==e.styles.fontSize&&parseInt(e.styles.fontSize,10)!==this.state.fontSize&&"px"!==e.styles.fontSize&&this.setState({fontSize:"mixed"===e.styles[e.property]?"mix":parseInt(e.styles[e.property],10)})}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__fontsize_".concat(this.props.size," input-wrapper__setting input-wrapper__setting_half input-wrapper__setting-input__with-select ").concat(this.state.opened&&"input-wrapper__setting-input__with-select-open")},n.a.createElement(ht,{min:2,max:1/0,steps:1,value:this.getValue()?this.getValue():0,onChange:e=>{this.handleChangeValue({target:{value:e}},!0)}},n.a.createElement("img",{className:"nodraggable input-wrapper__setting-icon input-wrapper__setting-icon_fontsize",src:Vs.a,alt:"Font Size"})),n.a.createElement(Za,{ref:"input",className:"input input_setting input_setting-inline input_setting_21 input-wrapper__setting-input input-wrapper__setting_pointer input-wrapper__setting-input-icon",name:"font-size","data-name":"font-size",type:"text",autoComplete:"off",style:{marginTop:6,marginLeft:2},onChange:this.handleChangeValue,onKeyDown:this.onKeyDown,update:()=>{this.handleChange({value:parseFloat(this.state.fontSize)+"px"})},value:this.state.fontSize,oldvalue:this.props.styles[this.props.property]}),this.state.opened&&n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleCloseSelect})))}}var qs=Object(o.b)(e=>({}),{})(Ws);class Ks extends s.Component{constructor(){super(...arguments),this.handleBold=()=>{if(this.props.handleBold)this.props.handleBold();else{const e="700"===this.props.styles.fontWeight?"400":"700";this.props.update({fontWeight:e}),this.forceUpdate()}},this.handleItalic=()=>{if(this.props.handleItalic)this.props.handleItalic();else{const e="italic"===this.props.styles.fontStyle?"normal":"italic";this.props.update({fontStyle:e}),this.forceUpdate()}},this.handleUnderline=()=>{if(this.props.handleUnderline)this.props.handleUnderline();else{const e="underline"===this.props.styles.textDecoration?"none":"underline";this.props.update({textDecoration:e}),this.forceUpdate()}},this.handleLineThrough=()=>{if(this.props.handleLineThrough)this.props.handleLineThrough();else{const e="line-through"===this.props.styles.textDecoration?"none":"line-through";this.props.update({textDecoration:e}),this.forceUpdate()}},this.handleChangeTextTransform=e=>{this.props.update({textTransform:e}),this.forceUpdate()}}render(){const{t:e}=this.props,t=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active":"700"===this.props.styles.fontWeight}),a=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active":"italic"===this.props.styles.fontStyle}),s=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active":"underline"===this.props.styles.textDecoration}),o=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active":"line-through"===this.props.styles.textDecoration}),i=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls__button-transform",{"se__s-p__mk-item-controls__button_active":"none"===this.props.styles.textTransform||!this.props.styles.textTransform}),r=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls__button-transform",{"se__s-p__mk-item-controls__button_active":"uppercase"===this.props.styles.textTransform}),l=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls__button-transform",{"se__s-p__mk-item-controls__button_active":"lowercase"===this.props.styles.textTransform}),c=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls__button-transform",{"se__s-p__mk-item-controls__button_active":"capitalize"===this.props.styles.textTransform}),p=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls__button-transform",{"se__s-p__mk-item-controls__button_active":this.props.numberedListActive}),d=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls__button-transform",{"se__s-p__mk-item-controls__button_active":this.props.bulletedListActive});return n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item_without-line"},"Text Styles"),n.a.createElement("div",{className:"se__s-p__mk-item-controls__popup"},n.a.createElement("div",{className:t,onClick:this.handleBold},n.a.createElement("svg",{width:"9",height:"12",viewBox:"0 0 9 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.0440341 12V0.363636H4.3054C5.13116 0.363636 5.81487 0.5 6.35653 0.772727C6.8982 1.04167 7.3035 1.4072 7.57244 1.86932C7.84138 2.32765 7.97585 2.8447 7.97585 3.42045C7.97585 3.9053 7.88684 4.31439 7.70881 4.64773C7.53078 4.97727 7.29214 5.24242 6.9929 5.44318C6.69744 5.64015 6.37169 5.78409 6.01562 5.875V5.98864C6.40199 6.00758 6.77888 6.13258 7.14631 6.36364C7.51752 6.59091 7.82434 6.91477 8.06676 7.33523C8.30919 7.75568 8.4304 8.26705 8.4304 8.86932C8.4304 9.46402 8.29025 9.99811 8.00994 10.4716C7.73343 10.9413 7.3054 11.3144 6.72585 11.5909C6.14631 11.8636 5.40578 12 4.50426 12H0.0440341ZM1.79972 10.4943H4.33381C5.17472 10.4943 5.77699 10.3314 6.14062 10.0057C6.50426 9.67992 6.68608 9.27273 6.68608 8.78409C6.68608 8.41667 6.59328 8.07955 6.40767 7.77273C6.22206 7.46591 5.95691 7.22159 5.61222 7.03977C5.27131 6.85795 4.866 6.76705 4.39631 6.76705H1.79972V10.4943ZM1.79972 5.39773H4.15199C4.54593 5.39773 4.90009 5.32197 5.21449 5.17045C5.53267 5.01894 5.78456 4.80682 5.97017 4.53409C6.15956 4.25758 6.25426 3.93182 6.25426 3.55682C6.25426 3.07576 6.0857 2.67235 5.74858 2.34659C5.41146 2.02083 4.89441 1.85795 4.19744 1.85795H1.79972V5.39773Z",fill:"#444444"}))),n.a.createElement("div",{className:a,onClick:this.handleItalic},n.a.createElement("svg",{width:"5",height:"12",viewBox:"0 0 5 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{opacity:"0.7",d:"M4.58239 0.363636L2.65057 12H0.894886L2.8267 0.363636H4.58239Z",fill:"#444444"}))),n.a.createElement("div",{className:s,onClick:this.handleUnderline},n.a.createElement("svg",{width:"11",height:"13",viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.7"},n.a.createElement("path",{d:"M8.36293 0.363636H10.1243V8.01705C10.1243 8.83144 9.933 9.55303 9.55043 10.1818C9.16785 10.8068 8.62997 11.2992 7.93679 11.6591C7.24361 12.0152 6.43111 12.1932 5.49929 12.1932C4.57126 12.1932 3.76065 12.0152 3.06747 11.6591C2.37429 11.2992 1.83641 10.8068 1.45384 10.1818C1.07126 9.55303 0.879972 8.83144 0.879972 8.01705V0.363636H2.63565V7.875C2.63565 8.40152 2.75118 8.86932 2.98224 9.27841C3.21709 9.6875 3.54853 10.0095 3.97656 10.2443C4.40459 10.4754 4.91217 10.5909 5.49929 10.5909C6.0902 10.5909 6.59967 10.4754 7.0277 10.2443C7.45952 10.0095 7.78906 9.6875 8.01634 9.27841C8.2474 8.86932 8.36293 8.40152 8.36293 7.875V0.363636Z",fill:"#444444"}),n.a.createElement("path",{d:"M-0.398438 15.1818H11.4027V16.2727H-0.398438V15.1818Z",fill:"#444444"})))),n.a.createElement("div",{className:o,onClick:this.handleLineThrough},n.a.createElement("svg",{width:"9",height:"13",viewBox:"0 0 9 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.7"},n.a.createElement("path",{d:"M6.97656 3.42045C6.91596 2.88258 6.66596 2.46591 6.22656 2.17045C5.78717 1.87121 5.23414 1.72159 4.56747 1.72159C4.0902 1.72159 3.67732 1.79735 3.32884 1.94886C2.98035 2.09659 2.70952 2.30114 2.51634 2.5625C2.32694 2.82008 2.23224 3.11364 2.23224 3.44318C2.23224 3.7197 2.29664 3.95833 2.42543 4.15909C2.558 4.35985 2.73035 4.52841 2.94247 4.66477C3.15838 4.79735 3.38944 4.90909 3.63565 5C3.88187 5.08712 4.11861 5.15909 4.34588 5.21591L5.48224 5.51136C5.85346 5.60227 6.23414 5.72538 6.62429 5.88068C7.01444 6.03598 7.37618 6.24053 7.70952 6.49432C8.04285 6.74811 8.31179 7.0625 8.51634 7.4375C8.72467 7.8125 8.82884 8.26136 8.82884 8.78409C8.82884 9.44318 8.65838 10.0284 8.31747 10.5398C7.98035 11.0511 7.48982 11.4545 6.84588 11.75C6.20573 12.0455 5.43111 12.1932 4.52202 12.1932C3.6508 12.1932 2.89702 12.0549 2.26065 11.7784C1.62429 11.5019 1.12618 11.1098 0.766335 10.6023C0.406487 10.0909 0.207623 9.48485 0.169744 8.78409H1.93111C1.9652 9.20455 2.10156 9.55492 2.3402 9.83523C2.58262 10.1117 2.89134 10.3182 3.26634 10.4545C3.64512 10.5871 4.0599 10.6534 4.51065 10.6534C5.00687 10.6534 5.44815 10.5758 5.83452 10.4205C6.22467 10.2614 6.53149 10.0417 6.75497 9.76136C6.97846 9.47727 7.0902 9.14583 7.0902 8.76705C7.0902 8.42235 6.99171 8.14015 6.79474 7.92045C6.60156 7.70076 6.33831 7.51894 6.00497 7.375C5.67543 7.23106 5.30232 7.10417 4.88565 6.99432L3.51065 6.61932C2.57884 6.36553 1.8402 5.99242 1.29474 5.5C0.753078 5.00758 0.482244 4.35606 0.482244 3.54545C0.482244 2.875 0.664063 2.28977 1.0277 1.78977C1.39134 1.28977 1.88376 0.901515 2.50497 0.625C3.12618 0.344697 3.82694 0.204545 4.60724 0.204545C5.39512 0.204545 6.0902 0.342803 6.69247 0.619318C7.29853 0.895833 7.77581 1.27652 8.12429 1.76136C8.47278 2.24242 8.65459 2.79545 8.66974 3.42045H6.97656Z",fill:"#444444"}),n.a.createElement("path",{d:"M-0.648438 6.76136H9.64702V7.85227H-0.648438V6.76136Z",fill:"#444444"}))))),n.a.createElement("div",{className:"se__s-p__mk-item-controls__popup",style:{marginTop:10}},n.a.createElement("div",{className:i,onClick:this.handleChangeTextTransform.bind(null,"none")},n.a.createElement("svg",{style:{verticalAlign:"middle",marginTop:0},width:"17",height:"2",viewBox:"0 0 17 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M16.5 0.346591V1.81818H0.5V0.346591H16.5Z",fill:"#444444"}))),n.a.createElement("div",{className:r,onClick:this.handleChangeTextTransform.bind(null,"uppercase")},"AA"),n.a.createElement("div",{className:l,onClick:this.handleChangeTextTransform.bind(null,"lowercase")},"aa"),n.a.createElement("div",{className:c,onClick:this.handleChangeTextTransform.bind(null,"capitalize")},"Ag")),this.props.handleToggleDotList&&this.props.handleToggleNumList&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item_without-line"},"Additional Styles"),n.a.createElement("div",{className:"se__s-p__mk-item-controls__popup se__s-p__mk-item-controls__popup_inline",style:{marginTop:10}},n.a.createElement("div",{className:d,onClick:this.props.handleToggleDotList},n.a.createElement("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{opacity:"0.7",x:"4",y:"13.652",width:"12",height:"1.96552",fill:"#444444"}),n.a.createElement("rect",{opacity:"0.7",x:"4",y:"1.85892",width:"12",height:"1.96552",fill:"#444444"}),n.a.createElement("rect",{opacity:"0.7",x:"4",y:"7.75546",width:"12",height:"1.96552",fill:"#444444"}),n.a.createElement("rect",{opacity:"0.7",y:"13.6521",width:"2",height:"1.96552",rx:"0.982759",fill:"#444444"}),n.a.createElement("rect",{opacity:"0.7",y:"1.85904",width:"2",height:"1.96552",rx:"0.982759",fill:"#444444"}),n.a.createElement("rect",{opacity:"0.7",y:"7.75558",width:"2",height:"1.96552",rx:"0.982759",fill:"#444444"}))),n.a.createElement("div",{className:p,onClick:this.props.handleToggleNumList},n.a.createElement("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.7",clipPath:"url(#clip0_5833_23169)"},n.a.createElement("rect",{x:"4",y:"13.652",width:"12",height:"1.96552",fill:"#444444"}),n.a.createElement("rect",{x:"4",y:"1.85892",width:"12",height:"1.96552",fill:"#444444"}),n.a.createElement("path",{d:"M2.0434 0.966129V4.8934H0.977211V1.94795H0.954199L0.0951084 2.46187V1.55675L1.06159 0.966129H2.0434Z",fill:"#444444"}),n.a.createElement("path",{d:"M0.0152876 10.7899V10.0229L1.48034 8.81097C1.5775 8.73043 1.6606 8.655 1.72963 8.58469C1.79995 8.5131 1.85364 8.43959 1.89071 8.36417C1.92907 8.28874 1.94824 8.205 1.94824 8.11296C1.94824 8.01196 1.92651 7.92567 1.88304 7.85408C1.84086 7.78249 1.78205 7.72752 1.70662 7.68917C1.6312 7.64954 1.54427 7.62972 1.44583 7.62972C1.34739 7.62972 1.26046 7.64954 1.18503 7.68917C1.11088 7.7288 1.05336 7.78696 1.01245 7.86367C0.971538 7.94037 0.951083 8.0337 0.951083 8.14364H-0.0614169C-0.0614169 7.8675 0.000585931 7.62972 0.124592 7.43029C0.248597 7.23086 0.423739 7.07745 0.650018 6.97006C0.876296 6.86267 1.14157 6.80898 1.44583 6.80898C1.76032 6.80898 2.03262 6.85948 2.26273 6.96047C2.49412 7.06019 2.67246 7.20081 2.79775 7.38235C2.92431 7.56388 2.98759 7.77674 2.98759 8.02091C2.98759 8.17177 2.95627 8.32198 2.89363 8.47155C2.83098 8.61985 2.71848 8.78412 2.55613 8.96438C2.39377 9.14463 2.16301 9.35941 1.86387 9.6087L1.49569 9.91552V9.93853H3.02978V10.7899H0.0152876Z",fill:"#444444"}),n.a.createElement("path",{d:"M1.47291 16.7402C1.16354 16.7402 0.888681 16.6871 0.64834 16.581C0.409277 16.4736 0.221351 16.326 0.0845614 16.1381C-0.0522284 15.9501 -0.121262 15.7341 -0.122541 15.4899H0.951323C0.952601 15.5653 0.975613 15.6331 1.02036 15.6932C1.06638 15.752 1.12902 15.798 1.20828 15.8312C1.28754 15.8645 1.37831 15.8811 1.48058 15.8811C1.57902 15.8811 1.66595 15.8638 1.74138 15.8293C1.81681 15.7935 1.87561 15.7443 1.9178 15.6817C1.95999 15.619 1.98044 15.5474 1.97916 15.4669C1.98044 15.3876 1.95615 15.3173 1.90629 15.256C1.85771 15.1946 1.78932 15.1466 1.70111 15.1121C1.6129 15.0776 1.51127 15.0604 1.39621 15.0604H0.997346V14.324H1.39621C1.50232 14.324 1.59564 14.3067 1.67618 14.2722C1.758 14.2377 1.82128 14.1898 1.86602 14.1284C1.91205 14.067 1.93442 13.9967 1.93314 13.9175C1.93442 13.8408 1.91588 13.773 1.87753 13.7142C1.83918 13.6554 1.78548 13.6094 1.71645 13.5761C1.64869 13.5429 1.57007 13.5263 1.48058 13.5263C1.38343 13.5263 1.29649 13.5435 1.21979 13.578C1.14436 13.6126 1.08492 13.6605 1.04145 13.7219C0.997985 13.7832 0.975613 13.8535 0.974334 13.9328H-0.0458363C-0.0445579 13.6925 0.0212801 13.4802 0.151678 13.2962C0.283354 13.1121 0.46361 12.9676 0.692445 12.8628C0.92128 12.7579 1.18399 12.7055 1.48058 12.7055C1.77078 12.7055 2.0271 12.7547 2.24955 12.8532C2.47327 12.9516 2.64777 13.0871 2.77306 13.2597C2.89962 13.431 2.96226 13.6273 2.96098 13.8484C2.96354 14.0683 2.88811 14.2486 2.7347 14.3892C2.58257 14.5298 2.38953 14.6129 2.15558 14.6385V14.6692C2.47263 14.7037 2.71105 14.8008 2.87085 14.9606C3.03066 15.1192 3.10928 15.3186 3.10672 15.5589C3.108 15.789 3.03896 15.993 2.89962 16.1707C2.76155 16.3484 2.56915 16.4877 2.32242 16.5887C2.07696 16.6897 1.79379 16.7402 1.47291 16.7402Z",fill:"#444444"}),n.a.createElement("rect",{x:"4",y:"7.75546",width:"12",height:"1.96552",fill:"#444444"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_5833_23169"},n.a.createElement("rect",{width:"16",height:"15.7241",fill:"white",transform:"translate(0 0.87616)"}))))))),this.props.toggleHangingLists&&n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.props.toggleHangingLists},n.a.createElement("label",{id:"switcher-hunging-lists",className:"switcher switcher_nomargin switcher_small switcher_input va-middle"},n.a.createElement("input",{checked:this.props.hangingLists,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))),n.a.createElement("span",{className:"small-switcher__label"},e("app.editor.settingspanel.hanginglists"))))}}var Ys=Object(o.b)(e=>({}),{})(Object(j.a)()(Ks));class Js extends s.Component{constructor(){super(...arguments),this.handleAlign=e=>{"justifyContent"===this.props.property&&"right"===e&&(e="flex-end");const t=this.props.styles[this.props.property||"textAlign"]===e?"inherit":e;let a={[this.props.property||"textAlign"]:t};this.props.usePropUpdate?this.props.update(a):this.props.currentBlock.handleChangeStyles(a),this.forceUpdate(this.props.updateCKstyles)},this.handleVerticalAlign=e=>{const t=Object.assign(this.props.currentBlock.json[0].data,{[this.props.alignProp||"align"]:e});this.props.currentBlock.handleChangeProperties({data:t}),this.forceUpdate(this.props.updateCKstyles)},this.handleChangeBehavior=e=>{const t=Object(qt.i)(),a=Object.assign(this.props.currentBlock.json[0].data,{behavior:e});this.props.currentBlock.handleChangeProperties({data:a}),"autowidth"!==e&&"autoheight"!==e||(window.updateTextSize(!0,e,!0),window.setTransformator(this.props.currentBlock.json[0])),t.focus()}}render(){let e,t,a,s;a="justifyContent"===this.props.property?Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":"flex-end"===this.props.styles[this.props.property]}):Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":"right"===this.props.styles[this.props.property||"textAlign"]}),e=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":"left"===this.props.styles[this.props.property||"textAlign"]}),t=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":"center"===this.props.styles[this.props.property||"textAlign"]}),s=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":"justify"===this.props.styles[this.props.property||"textAlign"]});const o=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":this.props.currentBlock&&"top"===this.props.currentBlock.json[0].data[this.props.alignProp||"align"]}),i=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":this.props.currentBlock&&"middle"===this.props.currentBlock.json[0].data[this.props.alignProp||"align"]}),r=Be()("se__s-p__mk-item-controls__button",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":this.props.currentBlock&&"bottom"===this.props.currentBlock.json[0].data[this.props.alignProp||"align"]}),l=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls_behavior",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":this.props.currentBlock&&"autowidth"===this.props.currentBlock.json[0].data.behavior}),c=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls_behavior",{"se__s-p__mk-item-controls__button_active se__s-p__mk-item-controls__button_active_custom":this.props.currentBlock&&"autoheight"===this.props.currentBlock.json[0].data.behavior}),p=Be()("se__s-p__mk-item-controls__button se__s-p__mk-item-controls_behavior",{"se__s-p__mk-item-controls_behavior_active se__s-p__mk-item-controls__button_active_custom":this.props.currentBlock&&"fixedsize"===this.props.currentBlock.json[0].data.behavior});return n.a.createElement("div",{className:"se__s-p__mk-item-controls se__s-p__mk-item-controls_custom"},n.a.createElement("div",{className:"se__s-p__mk-item-controls_custom__text-align"},n.a.createElement("div",{className:e,onClick:this.handleAlign.bind(null,"left")},n.a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 0H0V1H15V0ZM9 12H0V13H9V12ZM0 4H15V5H0V4ZM15 8H0V9H15V8Z",fill:"#DADADA"}))),n.a.createElement("div",{className:t,onClick:this.handleAlign.bind(null,"center")},n.a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 -0.000732422H15V0.999268H0V-0.000732422ZM0 8H15V9H0V8ZM0 4H15V5H0V4ZM3 12H12V13H3V12Z",fill:"#DADADA"}))),n.a.createElement("div",{className:a,onClick:this.handleAlign.bind(null,"right")},n.a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 0H0V1H15V0ZM15 12H6V13H15V12ZM0 4H15V5H0V4ZM15 8H0V9H15V8Z",fill:"#DADADA"}))),n.a.createElement("div",{className:s,onClick:this.handleAlign.bind(null,"justify")},n.a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 0H0V1H15V0ZM15 4H0V5H15V4ZM0 8H15V9H0V8ZM15 12H0V13H15V12Z",fill:"#DADADA"})))),!this.props.disableVerticalAlign&&this.props.currentBlock&&["button","text"].indexOf(this.props.currentBlock.json[0].slug)>-1&&n.a.createElement("div",{className:"se__s-p__mk-item-controls_custom__vertical-align se__s-p__mk-item-controls_custom__vertical-align_first"},n.a.createElement("div",{className:o,onClick:this.handleVerticalAlign.bind(null,"top")},n.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_4016_18808)"},n.a.createElement("rect",{width:"1",height:"13",transform:"matrix(1.32235e-08 1 1 8.96772e-09 1 1)",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M7.5 4.5L7.14645 4.14645C7.24021 4.05268 7.36739 4 7.5 4C7.63261 4 7.75979 4.05268 7.85355 4.14645L7.5 4.5ZM5.35355 7.35355C5.15829 7.54882 4.84171 7.54882 4.64645 7.35355C4.45118 7.15829 4.45118 6.84171 4.64645 6.64645L5.35355 7.35355ZM10.3536 6.64645C10.5488 6.84171 10.5488 7.15829 10.3536 7.35355C10.1583 7.54882 9.84171 7.54882 9.64645 7.35355L10.3536 6.64645ZM7 5C7 4.72386 7.22386 4.5 7.5 4.5C7.77614 4.5 8 4.72386 8 5L7 5ZM8 14C8 14.2761 7.77614 14.5 7.5 14.5C7.22386 14.5 7 14.2761 7 14L8 14ZM7.85355 4.85355L5.35355 7.35355L4.64645 6.64645L7.14645 4.14645L7.85355 4.85355ZM7.85355 4.14645L10.3536 6.64645L9.64645 7.35355L7.14645 4.85355L7.85355 4.14645ZM8 5L8 14L7 14L7 5L8 5Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_4016_18808"},n.a.createElement("rect",{width:"15",height:"15",fill:"white",transform:"matrix(1 -8.74228e-08 -8.74228e-08 -1 0 15)"}))))),n.a.createElement("div",{className:i,onClick:this.handleVerticalAlign.bind(null,"middle")},n.a.createElement("svg",{style:{marginTop:0},width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_4016_18811)"},n.a.createElement("path",{d:"M7.5 10.5L7.85355 10.1464C7.75979 10.0527 7.63261 10 7.5 10C7.36739 10 7.24022 10.0527 7.14645 10.1464L7.5 10.5ZM9.14645 12.8536C9.34171 13.0488 9.65829 13.0488 9.85355 12.8536C10.0488 12.6583 10.0488 12.3417 9.85355 12.1464L9.14645 12.8536ZM5.14645 12.1464C4.95119 12.3417 4.95119 12.6583 5.14645 12.8536C5.34171 13.0488 5.65829 13.0488 5.85355 12.8536L5.14645 12.1464ZM8 11C8 10.7239 7.77614 10.5 7.5 10.5C7.22386 10.5 7 10.7239 7 11L8 11ZM7 14.5C7 14.7761 7.22386 15 7.5 15C7.77614 15 8 14.7761 8 14.5L7 14.5ZM7.14645 10.8536L9.14645 12.8536L9.85355 12.1464L7.85355 10.1464L7.14645 10.8536ZM7.14645 10.1464L5.14645 12.1464L5.85355 12.8536L7.85355 10.8536L7.14645 10.1464ZM7 11L7 14.5L8 14.5L8 11L7 11Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M7.5 4.5L7.14645 4.85355C7.34171 5.04882 7.65829 5.04882 7.85356 4.85355L7.5 4.5ZM5.85355 2.14645C5.65829 1.95118 5.34171 1.95118 5.14645 2.14645C4.95118 2.34171 4.95118 2.65829 5.14645 2.85355L5.85355 2.14645ZM9.85356 2.85355C10.0488 2.65829 10.0488 2.34171 9.85356 2.14645C9.6583 1.95118 9.34172 1.95118 9.14645 2.14644L9.85356 2.85355ZM7 4C7 4.27614 7.22386 4.5 7.5 4.5C7.77615 4.5 8 4.27614 8 4L7 4ZM8 0.499997C8 0.223854 7.77615 -3.43991e-06 7.5 -3.42753e-06C7.22386 -3.41515e-06 7 0.223854 7 0.499997L8 0.499997ZM7.85356 4.14645L5.85355 2.14645L5.14645 2.85355L7.14645 4.85355L7.85356 4.14645ZM7.85356 4.85355L9.85356 2.85355L9.14645 2.14644L7.14645 4.14645L7.85356 4.85355ZM8 4L8 0.499997L7 0.499997L7 4L8 4Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M14 7L14 8L7.5 8L1 8L1 7L14 7Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_4016_18811"},n.a.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(15 15) rotate(-180)"}))))),n.a.createElement("div",{className:r,onClick:this.handleVerticalAlign.bind(null,"bottom")},n.a.createElement("svg",{style:{marginTop:0},width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M14 13L14 14L1 14L1 13L14 13Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M7.5 10.5L7.85355 10.8536C7.75979 10.9473 7.63261 11 7.5 11C7.36739 11 7.24021 10.9473 7.14645 10.8536L7.5 10.5ZM9.64645 7.64645C9.84171 7.45118 10.1583 7.45118 10.3536 7.64645C10.5488 7.84171 10.5488 8.15829 10.3536 8.35355L9.64645 7.64645ZM4.64645 8.35355C4.45118 8.15829 4.45118 7.84171 4.64645 7.64645C4.84171 7.45118 5.15829 7.45118 5.35355 7.64645L4.64645 8.35355ZM8 10C8 10.2761 7.77614 10.5 7.5 10.5C7.22386 10.5 7 10.2761 7 10L8 10ZM7 0.999995C7 0.723853 7.22386 0.499995 7.5 0.499995C7.77614 0.499995 8 0.723853 8 0.999995L7 0.999995ZM7.14645 10.1464L9.64645 7.64645L10.3536 8.35355L7.85355 10.8536L7.14645 10.1464ZM7.14645 10.8536L4.64645 8.35355L5.35355 7.64645L7.85355 10.1464L7.14645 10.8536ZM7 10L7 0.999995L8 0.999995L8 10L7 10Z",fill:"#AFAFAF"})))),!this.props.disableBehavior&&this.props.currentBlock&&["text"].indexOf(this.props.currentBlock.json[0].slug)>-1&&n.a.createElement("div",{className:"se__s-p__mk-item-controls_custom__vertical-align"},n.a.createElement("div",{className:l,onClick:this.handleChangeBehavior.bind(null,"autowidth"),title:"Auto width"},n.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.5 7.49997L4 5M1.5 7.49997L4 10M1.5 7.49997L13.5 7.49997M13.5 7.49997L11 5M13.5 7.49997L11 10",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}))),n.a.createElement("div",{className:c,onClick:this.handleChangeBehavior.bind(null,"autoheight"),title:"Auto height"},n.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_4016_18821)"},n.a.createElement("path",{d:"M6 6L3.5 8.49997L6 11M4.22222 8.49997H8L9.4584 8.49997C11.831 8.49998 12.2872 5.13095 10 4.5V4.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M0 14L0 1H1L1 14H0Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M14 14L14 1H15V14H14Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_4016_18821"},n.a.createElement("rect",{width:"15",height:"15",fill:"white"}))))),n.a.createElement("div",{className:p,onClick:this.handleChangeBehavior.bind(null,"fixedsize"),title:"Fixed size"},n.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M14.5112 14H0.488767C0.21882 14 0 13.8103 0 13.5764V1.4236C0 1.18964 0.21882 1 0.488767 1H14.5113C14.7812 1 15 1.18964 15 1.4236V13.5764C15 13.8103 14.7812 14 14.5112 14ZM0.977504 13.1528H14.0225V1.84717H0.977504V13.1528Z",fill:"#AFAFAF"})))))}}var Xs=Object(o.b)(e=>({}),{})(Js),Qs=a(480),$s=a.n(Qs);class en extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={opened:!1,lineHeight:""},this.handleChange=e=>{if(e&&e.value){let t=e.value;t.toLowerCase&&"auto"===t.toLowerCase()&&(t="normal");const a={[this.props.property]:"normal"===t?t:t+"px"};this.props.update(a)}},this.handleCloseSelect=e=>{const{select:t}=this.refs;t.state.isOpen&&t.handleMouseDownOnArrow(e)},this.onOpen=()=>{this.setState({opened:!0},()=>{document.activeElement&&"font-size"===document.activeElement.getAttribute("name")&&document.activeElement.blur()})},this.onClose=()=>{this.setState({opened:!1})},this.getValue=()=>"px"===this.props.styles[this.props.property]||isNaN(parseInt(this.props.styles[this.props.property],10))?"":parseInt(this.props.styles[this.props.property],10),this.handleChangeValue=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({lineHeight:t.target.value}),a&&e.handleChange({value:t.target.value})},this.onKeyDown=e=>{const{value:t}=e.target;if(["ArrowDown","ArrowUp","Enter"].indexOf(e.key)>-1)if("ArrowUp"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))+1;this.handleChange({value:e}),this.setState({lineHeight:e})}else if("ArrowDown"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))-1;this.handleChange({value:e}),this.setState({lineHeight:e})}else this.handleChange({value:t})}}componentDidMount(){let e;const t=this.props.styles[this.props.property];e="mixed"===t?"mix":t&&"auto"!==t&&"normal"!==t?parseInt(this.props.styles[this.props.property],10):"auto",this.setState({lineHeight:e})}componentWillReceiveProps(e){if("INPUT"!==document.activeElement.tagName&&void 0!==e.styles.lineHeight&&parseInt(e.styles.lineHeight,10)!==this.state.lineHeight&&"px"!==e.styles.lineHeight){let t;const a=e.styles.lineHeight;t="mixed"===a?"mix":a&&"auto"!==a&&"normal"!==a?parseInt(this.props.styles[this.props.property],10):"auto",this.setState({lineHeight:t})}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"".concat("inline"===this.props.size&&"input-wrapper__setting_inline-text"," input-wrapper__setting ").concat("small"===this.props.size&&"input-wrapper__setting_half")},n.a.createElement(ht,{min:2,max:1/0,steps:1,value:this.getValue()?this.getValue():0,onChange:e=>{this.handleChangeValue({target:{value:e}},!0)}},n.a.createElement("img",{className:"nodraggable input-wrapper__setting-icon",src:$s.a,alt:"LineHeight"})),n.a.createElement(Za,{ref:"input",className:"input input_setting input_float input_setting-inline input-wrapper__setting-input input-wrapper__setting_pointer input-wrapper__setting-input-icon",name:"line-height","data-name":"line-height",type:"text",autoComplete:"off",onChange:this.handleChangeValue,onKeyDown:this.onKeyDown,update:()=>{this.handleChange({value:this.state.lineHeight})},value:this.state.lineHeight,oldvalue:this.props.styles[this.props.property]})))}}var tn=Object(o.b)(e=>({}),{})(en),an=a(481),sn=a.n(an);class nn extends s.Component{constructor(){super(...arguments),this.state={[this.props.property]:0},this.handleChange=(e,t)=>{const{value:a}=e.target,s={[this.props.property]:a};this.setState(s,()=>{t&&this.update()})},this.update=()=>{this.props.update({[this.props.property]:"".concat(this.state[this.props.property],"em")})},this.onKeyDown=e=>{"Enter"===e.key&&this.update()}}componentWillMount(){this.setState({[this.props.property]:"mixed"===this.props.styles[this.props.property]?"mix":parseFloat(this.props.styles[this.props.property])})}componentWillReceiveProps(e){e.styles[this.props.property]!==this.state[this.props.property]&&this.setState({[this.props.property]:"mixed"===e.styles[this.props.property]?"mix":parseFloat(e.styles[this.props.property])}),e.elementCurrentState!==this.props.elementCurrentState&&this.setState({[e.property]:0})}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"".concat("inline"===this.props.size&&"input-wrapper__setting_inline-text"," input-wrapper__setting ").concat("small"===this.props.size&&"input-wrapper__setting_half")},n.a.createElement(ht,{min:-1/0,max:1/0,steps:1,value:100*("mix"===this.state[this.props.property]?0:this.state[this.props.property]),onChange:e=>{this.handleChange({target:{value:e/100}},!0)}},n.a.createElement("img",{className:"nodraggable input-wrapper__setting-icon",src:sn.a,alt:"LetterSpacing"})),n.a.createElement(Za,{type:"text",hidefocus:"true",id:"".concat(this.props.property,"-hover-").concat((new Date).getTime()),className:"input input_setting input_setting-inline input_float input_float-full input-wrapper__setting-input input-wrapper__setting-input-icon",name:"letter-spacing","data-name":"letter-spacing",step:"0.01",min:"-200",max:"200",onKeyDown:this.onKeyDown,value:this.state[this.props.property],update:this.update,oldvalue:parseFloat("mixed"===this.props.styles[this.props.property]?0:this.props.styles[this.props.property]),onChange:this.handleChange})))}}var on=Object(o.b)(e=>({}),{})(nn),rn=a(482),ln=a.n(rn);class cn extends s.Component{constructor(){super(...arguments),this.state={[this.props.property]:0},this.handleChange=(e,t)=>{const{value:a}=e.target,s={[this.props.property]:a};this.setState(s,()=>{t&&this.update()})},this.update=()=>{this.props.update({[this.props.property]:"".concat(this.state[this.props.property],"px")})},this.onKeyDown=e=>{"Enter"===e.key&&this.update()}}componentWillMount(){this.setState({[this.props.property]:"mixed"===this.props.styles[this.props.property]?"mix":parseFloat(this.props.styles[this.props.property])})}componentWillReceiveProps(e){e.styles[this.props.property]!==this.state[this.props.property]&&this.setState({[this.props.property]:"mixed"===e.styles[this.props.property]?"mix":parseFloat(e.styles[this.props.property])}),e.elementCurrentState!==this.props.elementCurrentState&&this.setState({[e.property]:0})}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"".concat("inline"===this.props.size&&"input-wrapper__setting_inline-text"," input-wrapper__setting ").concat("small"===this.props.size&&"input-wrapper__setting_half")},n.a.createElement(ht,{min:2,max:1/0,steps:1,value:"mix"===this.state[this.props.property]?0:this.state[this.props.property]||0,onChange:e=>{this.handleChange({target:{value:e}},!0)}},n.a.createElement("img",{className:"nodraggable input-wrapper__setting-icon",src:ln.a,alt:"TextIndent"})),n.a.createElement(Za,{type:"text",hidefocus:"true",id:"".concat(this.props.property,"-hover-").concat((new Date).getTime()),className:"input input_setting input_setting-inline input_float input_float-full input-wrapper__setting-input input-wrapper__setting-input-icon",name:"textindent","data-name":"textindent",step:"0.01",min:"-200",max:"200",onKeyDown:this.onKeyDown,value:this.state[this.props.property]||0,update:this.update,oldvalue:parseFloat("mixed"===this.props.styles[this.props.property]||void 0===this.props.styles[this.props.property]?0:this.props.styles[this.props.property]),onChange:this.handleChange})))}}var pn=Object(o.b)(e=>({}),{})(cn);class dn extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={displayColorPicker:!1,tab:"color",hex_start:"000000",hex_stop:"000000",currentGradientColorType:this.props.colorStartProperty,top:-1e3},this.inputStyles={input:{width:"100%",border:"none",boxShadow:"none",maxWidth:60},label:{display:"none"}},this.t=Math.random().toString(36).substr(2,9),this.rgba2hex=e=>{const t=e.match(/[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s]?([\d.]+)[\s+]?/g);if(null===t)return e;const a=t[0].split(", ");return a&&4===a.length?"#".concat("0".concat(parseInt(a[0],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[1],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[2],10).toString(16)).slice(-2)):""},this.checkAndRemovePreset=()=>{const{currentBlockInfo:e,path:t}=this.props;if(t){let a=(e.json[0]||e.json).presets;const s=a.find(e=>e.path===t);if(s){const t=a.indexOf(s);t>-1&&a.splice(t,1),e.handleChangeProperties({presets:a}),this.forceUpdate()}}},this.updateProperties=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a||e.checkAndRemovePreset(),e.props.updateProperties(t),e.forceUpdate()},this.handleChangeGradientColor=e=>{const t={[this.state.currentGradientColorType]:"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")};this["old".concat(this.state.currentGradientColorType)]="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"),this.state.currentGradientColorType===this.props.colorStartProperty&&this.setState({hex_start:e.hex}),this.state.currentGradientColorType===this.props.colorStopProperty&&this.setState({hex_stop:e.hex}),this.updateProperties(t)},this.handleChange=(e,t)=>{const a={[this.props.colorStartProperty]:"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"),[this.props.colorStopProperty]:"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")};this.oldBackgroundColor="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"),this.setState({hex_start:e.hex}),this.updateProperties(a)},this.handleRemoveGradient=()=>{const e={[this.props.colorStartProperty]:this.oldBackgroundColor||"rgba(".concat(3,", ",166,", ",233,", ",1,")"),[this.props.colorStopProperty]:this.oldBackgroundColor||"rgba(".concat(3,", ",166,", ",233,", ",1,")")};this.updateProperties(e)},this.handleDefaultGradient=()=>{const e={[this.props.colorStartProperty]:this["old".concat(this.props.colorStartProperty)]||"rgba(".concat(255,", ",255,", ",255,", ",.7,")"),[this.props.colorStopProperty]:this["old".concat(this.props.colorStopProperty)]||"rgba(".concat(0,", ",0,", ",0,", ",.7,")")};this.updateProperties(e)},this.handleChangeGradientColorType=e=>{this.setState({currentGradientColorType:e})},this.handleFocus=e=>{e.preventDefault(),setTimeout(()=>{e.target.select()},200)},this.setSelectOnFocus=()=>{this.refs.colorvalue&&this.refs.colorvalue.querySelector("input")&&(this.refs.colorvalue.querySelector("input").removeEventListener("focus",this.handleFocus),this.refs.colorvalue.querySelector("input").addEventListener("focus",this.handleFocus)),this.refs.opacityvalue&&this.refs.opacityvalue.querySelector("input")&&(this.refs.opacityvalue.querySelector("input").removeEventListener("focus",this.handleFocus),this.refs.opacityvalue.querySelector("input").addEventListener("focus",this.handleFocus))},this.setTop=()=>{const e=document.getElementById("colorpickerpopup");if(e){let{top:t}=this.refs.colorsetting.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.handleClick=()=>{if(this.storedStyleName())return void document.querySelector(".input-wrapper__setting-right-icons_".concat(this.t," #color-presets-button")).click();const e=new CustomEvent("siter.settings.closeall",{detail:this.t});document.dispatchEvent(e),this.state.handleOpenDisabled||this.setState({displayColorPicker:!this.state.displayColorPicker},()=>{setTimeout(()=>{this.setTop()})})},this.handleClose=()=>{this.setState({displayColorPicker:!1})},this.handleChangeTab=e=>{"color"===e&&this.handleRemoveGradient(),"gradient"===e&&this.handleDefaultGradient(),this.setState({tab:e}),setTimeout(()=>{this.setSelectOnFocus()})},this.tabItemClasses=e=>{let t="";return"color"===e&&(t="input-wrapper__setting-color-types__item"),"gradient"===e&&(t="input-wrapper__setting-color-types__item input-wrapper__setting-color-types__item_gradient"),"gradient"===e&&"gradient"===this.state.tab&&(t="input-wrapper__setting-color-types__item input-wrapper__setting-color-types__item_active input-wrapper__setting-color-types__item_gradient"),"color"===e&&"color"===this.state.tab&&(t="input-wrapper__setting-color-types__item input-wrapper__setting-color-types__item_active"),t},this.gradientLineStyle=()=>".se__s-p__mk-item__gradient-line.se__s-p__mk-item__gradient-line_".concat(this.t," {background-image: -webkit-linear-gradient(-45deg, ").concat(this.props.currentBlock[this.props.colorStopProperty],", ").concat(this.props.currentBlock[this.props.colorStartProperty],");background-image:-moz-linear-gradient(-45deg, ").concat(this.props.currentBlock[this.props.colorStopProperty],", ").concat(this.props.currentBlock[this.props.colorStartProperty],");background-image:-ms-linear-gradient(-45deg, ").concat(this.props.currentBlock[this.props.colorStopProperty],", ").concat(this.props.currentBlock[this.props.colorStartProperty],");background-image:-o-linear-gradient(-45deg, ").concat(this.props.currentBlock[this.props.colorStopProperty],", ").concat(this.props.currentBlock[this.props.colorStartProperty],");background-image:linear-gradient(-45deg, ").concat(this.props.currentBlock[this.props.colorStopProperty],", ").concat(this.props.currentBlock[this.props.colorStartProperty],");filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='").concat(this.props.currentBlock[this.props.colorStartProperty],"', endColorstr='").concat(this.props.currentBlock[this.props.colorStopProperty],"');}"),this.gradientBoxStyle=()=>".input-wrapper__setting-color-box_".concat(this.t," {background-image: linear-gradient(").concat(this.props.currentBlock[this.props.colorAngleProperty]||"0deg",", ").concat(this.props.currentBlock[this.props.colorStopProperty],", ").concat(this.props.currentBlock[this.props.colorStartProperty],");}"),this.gradientPickerStyle=()=>".colorpicker-hue > div {background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);}",this.tabItemStyle=()=>".input-wrapper__setting-color-types__item-circle.input-wrapper__setting-color-types__item-circle_".concat(this.t," {background-image: linear-gradient(").concat(this.props.currentBlock[this.props.colorAngleProperty],", ").concat(this.props.currentBlock[this.props.colorStopProperty],", ").concat(this.props.currentBlock[this.props.colorStartProperty],");}"),this.presetChange=e=>{let t;e.start===e.stop?this.handleChangeTab("color"):this.handleChangeTab("gradient"),"gradient"===this.state.tab?(t={[this.props.colorStartProperty]:e.start,[this.props.colorStopProperty]:e.stop},this["old".concat(this.props.colorStartProperty)]=e.start,this["old".concat(this.props.colorStopProperty)]=e.stop,this.setState({hex_start:this.rgba2hex(e.start),hex_stop:this.rgba2hex(e.stop)}),this.props.updateProperties(t),this.forceUpdate()):(t={[this.props.colorStartProperty]:e.start,[this.props.colorStopProperty]:e.start},this.oldBackgroundColor=e.start,this.setState({hex_start:this.rgba2hex(e.start)}),this.props.updateProperties(t),this.forceUpdate())},this.onRotating=e=>{if(parseFloat(this.props.currentBlock[this.props.colorAngleProperty])!==e){const t={[this.props.colorAngleProperty]:"".concat(e,"deg")};this.updateProperties(t)}},this.handleChangeInput=(e,t)=>{e.hex?pt.a.isValidHex(e.hex)&&this.handleChange(pt.a.toState({hex:e.hex,source:"hex"}),t):e.r||e.g||e.b?this.onChange({r:e.r||this.props.rgb.r,g:e.g||this.props.rgb.g,b:e.b||this.props.rgb.b,a:this.props.rgb.a,source:"rgb"},t):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,this.onChange({h:this.props.hsl.h,s:this.props.hsl.s,l:this.props.hsl.l,a:e.a,source:"rgb"},t)),t.target.focus()},this.storedStyleName=()=>{const{currentBlockInfo:e,presets:t,path:a}=this.props;if(e){const s=(e.json[0]||e.json).presets.find(e=>e.path===a);if(s){const e=t.find(e=>{let{id:t}=e;return t===s.id});if(e)return e.name}}},this.handleClosePicker=()=>{this.setState({displayColorPicker:!1})},this.overlayOnDoubleClick=e=>{this.handleClosePicker()}}componentWillUnmount(){document.removeEventListener("siter.settings.closeall",this.handleClosePicker)}componentDidMount(){document.addEventListener("siter.settings.closeall",this.handleClosePicker),this.props.displayColorPicker&&(this.setState({handleOpenDisabled:!0,displayColorPicker:!0}),this.setTop()),this.props.currentBlock[this.props.colorStartProperty]&&(this.setState({hex_start:this.rgba2hex(this.props.currentBlock[this.props.colorStartProperty]),hex_stop:this.rgba2hex(this.props.currentBlock[this.props.colorStopProperty])}),this.props.currentBlock[this.props.colorStartProperty]===this.props.currentBlock[this.props.colorStopProperty]&&(this.oldBackgroundColor=this.props.currentBlock[this.props.colorStartProperty]),this.props.currentBlock[this.props.colorStartProperty]!==this.props.currentBlock[this.props.colorStopProperty]&&(this.setState({tab:"gradient"}),this["old".concat(this.props.colorStopProperty)]=this.props.currentBlock[this.props.colorStopProperty],this["old".concat(this.props.colorStartProperty)]=this.props.currentBlock[this.props.colorStartProperty])),this.setSelectOnFocus()}componentWillReceiveProps(e){if(e.currentBlock[e.colorStartProperty]){let t=e.currentBlock[e.colorStartProperty],a=e.currentBlock[e.colorStopProperty];t.indexOf("rgb(")>-1&&(t=t.replace(")",", 1)").replace("rgb","rgba")),a.indexOf("rgb(")>-1&&(a=a.replace(")",", 1)").replace("rgb","rgba")),this.setState({hex_start:this.rgba2hex(t),hex_stop:this.rgba2hex(a)})}e.currentBlock[e.colorStartProperty]!==e.currentBlock[e.colorStopProperty]?(this.setState({tab:"gradient"}),this["old".concat(e.colorStopProperty)]=e.currentBlock[e.colorStopProperty],this["old".concat(e.colorStartProperty)]=e.currentBlock[e.colorStartProperty]):this.setState({tab:"color"})}render(){const e=Be()("se__s-p__mk-item__gradient-line__item se__s-p__mk-item__gradient-line__item_start",{"se__s-p__mk-item__gradient-line__item_active":this.state.currentGradientColorType===this.props.colorStartProperty}),t=Be()("se__s-p__mk-item__gradient-line__item se__s-p__mk-item__gradient-line__item_end",{"se__s-p__mk-item__gradient-line__item_active":this.state.currentGradientColorType===this.props.colorStopProperty}),a=Be()("se__s-p-colorpicker",{"se__s-p-colorpicker_active":this.state.displayColorPicker,"se__s-p-colorpicker_active_override":this.state.handleOpenDisabled,"se__s-p-colorpicker_small":"small"===this.props.size}),s=Be()({"input-wrapper__setting":!this.state.handleOpenDisabled,"input-wrapper__setting_small input-wrapper__setting_small-colorpicker":"small"===this.props.size}),o=this.storedStyleName(),{t:i}=this.props;return n.a.createElement("div",{className:a},this.state.displayColorPicker&&n.a.createElement("div",{ref:"artboardoverlay",onClick:this.overlayOnDoubleClick,className:"colorpicker-artboard__overlay"}),n.a.createElement("div",{ref:"colorsetting",className:s,style:this.props.bgWhite?{backgroundColor:"white"}:{}},!this.props.withoutBox&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:o?{backgroundImage:"linear-gradient(134.24deg, ".concat(this.props.currentBlock[this.props.colorStartProperty]," 49.93%, ").concat(this.props.currentBlock[this.props.colorStopProperty]," 49.94%)")}:{},className:"".concat(o?"input-wrapper__setting-color-circle":"input-wrapper__setting-color-box"," input-wrapper__setting-color-box_").concat(this.t),onClick:this.handleClick},!o&&"gradient"===this.state.tab&&n.a.createElement("div",{className:"direction-indicator__wrapper",style:{transform:"rotate(".concat(this.props.currentBlock[this.props.colorAngleProperty],")")}},n.a.createElement("div",{className:"direction-indicator direction-indicator_box",style:{transform:"rotate(".concat(-parseInt(this.props.currentBlock[this.props.colorAngleProperty],10),"deg)")}}))),"gradient"===this.state.tab&&n.a.createElement("div",{className:"input-wrapper__setting-color-value",onClick:this.handleClick},o||n.a.createElement(n.a.Fragment,null,"mixed"===this.props.currentBlock?n.a.createElement("span",{onClick:this.handleClick,className:"cp"},this.props.currentBlock):n.a.createElement("span",null,this.state.hex_start," ",this.state.hex_stop))),!this.state.displayColorPicker&&n.a.createElement("div",{className:"input-wrapper__setting-clickable",onClick:this.handleClick}),"color"===this.state.tab&&n.a.createElement("div",{ref:"colorvalue",className:o?"input-wrapper__setting-color-value input-wrapper__setting-color-value_preset":"input-wrapper__setting-color-value",onClick:o?this.handleClick:()=>{}},o||("mixed"===this.props.currentBlock?n.a.createElement("span",{onClick:this.handleClick,className:"cp"},this.props.currentBlock):n.a.createElement(at.EditableInput,{label:"hex",style:this.inputStyles,value:this.state.hex_start,onChange:this.handleChangeInput})))),!this.state.handleOpenDisabled&&!this.props.size&&n.a.createElement("div",{className:"input-wrapper__setting-right-icons input-wrapper__setting-right-icons__color input-wrapper__setting-right-icons_"+this.t,ref:"opacityvalue"},this.props.path&&this.props.currentBlock&&n.a.createElement(gs,{parentRef:this.refs.colorsetting,type:"color",bgColorStart:this.props.currentBlock[this.props.colorStartProperty],bgColorStop:this.props.currentBlock[this.props.colorStopProperty],bgColorAngle:this.props.currentBlock[this.props.colorAngleProperty],update:this.props.updateProperties,currentBlockInfo:this.props.currentBlockInfo,onOpen:this.handleClosePicker,path:this.props.path,currentPresetName:o}),o&&n.a.createElement("svg",{onClick:this.checkAndRemovePreset,className:"input-wrapper__setting-right-icons__remove-preset input-wrapper__setting-right-icons__color-opacity cp",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.06839 12.5L5.71484 12.1464L6.06839 12.5ZM7.01909 11.5493L7.37264 11.9028L7.01909 11.5493ZM10.2786 6.97998C10.0047 6.94528 9.75445 7.13923 9.71975 7.41319C9.68505 7.68714 9.879 7.93735 10.1529 7.97206L10.2786 6.97998ZM3.724 7.01857C3.99803 7.05267 4.24782 6.85817 4.28192 6.58415C4.31602 6.31012 4.12152 6.06033 3.84749 6.02623L3.724 7.01857ZM7.97375 10.1525C7.93965 9.87846 7.68986 9.68396 7.41583 9.71806C7.1418 9.75215 6.9473 10.0019 6.9814 10.276L7.97375 10.1525ZM6.02792 3.84703C6.06262 4.12098 6.31284 4.31493 6.58679 4.28023C6.86074 4.24552 7.05469 3.99531 7.01999 3.72135L6.02792 3.84703ZM11.1948 6.66648C10.9543 6.90699 10.616 7.02273 10.2786 6.97998L10.1529 7.97206C10.7971 8.05365 11.4428 7.83271 11.9019 7.37359L11.1948 6.66648ZM2.80423 7.33443C3.04571 7.09295 3.38511 6.9764 3.724 7.01857L3.84749 6.02623C3.20256 5.94597 2.55668 6.16778 2.09713 6.62733L2.80423 7.33443ZM1.14643 12.8535C2.60322 14.3103 4.96515 14.3103 6.42194 12.8535L5.71484 12.1464C4.64857 13.2127 2.91981 13.2127 1.85354 12.1464L1.14643 12.8535ZM12.1464 1.85353C13.2127 2.9198 13.2127 4.64856 12.1464 5.71483L12.8535 6.42194C14.3103 4.96515 14.3103 2.60322 12.8535 1.14643L12.1464 1.85353ZM12.8535 1.14643C11.3967 -0.310365 9.03482 -0.310365 7.57803 1.14643L8.28513 1.85353C9.3514 0.787266 11.0802 0.787266 12.1464 1.85353L12.8535 1.14643ZM7.37264 11.9028C7.83219 11.4433 8.054 10.7974 7.97375 10.1525L6.9814 10.276C7.02357 10.6149 6.90702 10.9542 6.66554 11.1957L7.37264 11.9028ZM6.62638 2.09807C6.16725 2.5572 5.94632 3.20288 6.02792 3.84703L7.01999 3.72135C6.97724 3.38392 7.09298 3.04569 7.33349 2.80518L6.62638 2.09807ZM1.85354 12.1464C0.78727 11.0802 0.78727 9.3514 1.85354 8.28513L1.14643 7.57802C-0.310361 9.03481 -0.310361 11.3967 1.14643 12.8535L1.85354 12.1464ZM6.66554 11.1957L5.71484 12.1464L6.42194 12.8535L7.37264 11.9028L6.66554 11.1957ZM12.1464 5.71483L11.1948 6.66648L11.9019 7.37359L12.8535 6.42194L12.1464 5.71483ZM7.33349 2.80518L8.28513 1.85353L7.57803 1.14643L6.62638 2.09807L7.33349 2.80518ZM1.85354 8.28513L2.80423 7.33443L2.09713 6.62733L1.14643 7.57802L1.85354 8.28513Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M0.5 3.5L3 3.99999",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M13.5 10.5L11 10",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M4.5 0.500002L4.5 2.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M9.5 13.5L9.5 11.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})),!o&&n.a.createElement(n.a.Fragment,null,"color"===this.state.tab&&n.a.createElement(ut,{width:this.state.handleOpenDisabled?"100%":187,color:this.props.currentBlock[this.props.colorStartProperty],onChange:!this.props.onChangeComplete&&this.handleChange,onChangeComplete:this.props.onChangeComplete&&this.handleChange}),"gradient"===this.state.tab&&n.a.createElement("span",{className:"input-wrapper__setting-right-icons__text"},i("app.editor.settingspanel.mix")))),n.a.createElement("style",null,this.gradientLineStyle(),this.gradientBoxStyle(),this.tabItemStyle(),this.gradientPickerStyle())),this.state.displayColorPicker&&n.a.createElement("div",{id:"colorpickerpopup",className:this.props.displayColorPicker?"":"se__s-p-colorpicker-popup",style:{top:this.state.top}},"color"===this.state.tab&&n.a.createElement("div",{className:"se__s-p-colorpicker-wrapper"},n.a.createElement(wt,{width:this.state.handleOpenDisabled?"100%":187,color:this.props.currentBlock[this.props.colorStartProperty],onChange:!this.props.onChangeComplete&&this.handleChange,onChangeComplete:this.props.onChangeComplete&&this.handleChange}),n.a.createElement("div",{className:"colorpicker-label"},i("app.editor.settingspanel.swatches")),n.a.createElement(yt,{currentColor:this.props.currentBlock[this.state.currentGradientColorType],onChange:this.presetChange}),n.a.createElement("div",{className:"colorpicker-label",style:{marginTop:8}},i("app.editor.settingspanel.sitecolors")),n.a.createElement(yt,{pageColors:!0,getPageColors:this.props.getPageColors,currentColor:this.props.currentBlock[this.state.currentGradientColorType],onChange:this.presetChange})),"gradient"===this.state.tab&&n.a.createElement("div",{className:"input-wrapper__setting-color__gradient"},n.a.createElement("div",{className:"se__s-p__mk-item__gradient-line se__s-p__mk-item__gradient-line_".concat(this.t)},n.a.createElement("div",{className:"se__s-p__mk-item__gradient-line__inner"},n.a.createElement("div",{className:e,onClick:this.handleChangeGradientColorType.bind(null,this.props.colorStartProperty)}),n.a.createElement("div",{className:t,onClick:this.handleChangeGradientColorType.bind(null,this.props.colorStopProperty)}))),n.a.createElement(wt,{width:"100%",color:this.props.currentBlock[this.state.currentGradientColorType],onChange:!this.props.onChangeComplete&&this.handleChangeGradientColor,onChangeComplete:this.props.onChangeComplete&&this.handleChangeGradientColor}),n.a.createElement("div",{className:"colorpicker-label"},i("app.editor.settingspanel.swatches")),n.a.createElement(yt,{currentColor:this.props.currentBlock[this.state.currentGradientColorType],onChange:this.presetChange}),n.a.createElement("div",{className:"colorpicker-label",style:{marginTop:8}},i("app.editor.settingspanel.sitecolors")),n.a.createElement(yt,{pageColors:!0,getPageColors:this.props.getPageColors,currentColor:this.props.currentBlock[this.state.currentGradientColorType],onChange:this.presetChange}))))}}var hn=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(dn)),mn=a(236),un=a.n(mn),gn=a(237),_n=a.n(gn),fn=a(238),vn=a.n(fn),wn=a(239),Cn=a.n(wn),yn=a(240),bn=a.n(yn),En=a(241),kn=a.n(En);const Sn=e=>{let{handleChangeLinkType:t,t:a}=e;return n.a.createElement(R.Menu,{style:{marginLeft:"-117px",marginTop:"-10px",width:"auto",minWidth:128},id:"linktype-context-menu"},n.a.createElement(R.Item,{onClick:t.bind(null,"page")},a("app.editor.settingspanel.clickactions.page")),n.a.createElement(R.Item,{onClick:t.bind(null,"link")},a("app.editor.settingspanel.clickactions.externalurl")),n.a.createElement(R.Item,{onClick:t.bind(null,"element")},a("app.editor.settingspanel.clickactions.scrolltoelement")),n.a.createElement(R.Item,{onClick:t.bind(null,"email")},a("app.editor.settingspanel.clickactions.email")),n.a.createElement(R.Item,{onClick:t.bind(null,"phone")},a("app.editor.settingspanel.clickactions.phone")),n.a.createElement(R.Item,{onClick:t.bind(null,"popup")},a("app.editor.settingspanel.clickactions.openoverlay")),n.a.createElement(R.Item,{onClick:t.bind(null,"close_popup")},a("app.editor.settingspanel.clickactions.closeoverlays")))};class xn extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={displayPicker:!1,select:!1,href:""},this.popupPositions=()=>{const{t:e}=this.props;return[{label:e("app.editor.settingspanel.overlaypositions.centered"),value:"center"},{label:e("app.editor.settingspanel.overlaypositions.topleft"),value:"top_left"},{label:e("app.editor.settingspanel.overlaypositions.topcenter"),value:"top_center"},{label:e("app.editor.settingspanel.overlaypositions.topright"),value:"top_right"},{label:e("app.editor.settingspanel.overlaypositions.bottomleft"),value:"bottom_left"},{label:e("app.editor.settingspanel.overlaypositions.bottomcenter"),value:"bottom_center"},{label:e("app.editor.settingspanel.overlaypositions.bottomright"),value:"bottom_right"}]},this.toggleTypeSelect=e=>{R.contextMenu.show({id:"linktype-context-menu",event:e,props:{foo:"bar"}})},this.setHref=function(){let t,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=s.linkHref;"email"===s.link.dataset.type&&(a="mailto:",t="?subject=".concat(s.link.dataset.subject||"","&body=").concat(s.link.dataset.body||"")),"phone"===s.link.dataset.type&&(a="tel:"),"phone"!==s.link.dataset.type&&"email"!==s.link.dataset.type||(n=n.replace(t,"").replace(a,"")),e.setState({href:n})},this.handleClose=()=>{const{link:e}=this.props,t="[data-id=".concat(CSS.escape(e.getAttribute("data-id")),"]");let a=document.querySelector(t);if(this.props.currentBlock.json[0].blocked&&(a=this.props.getCK().document.$.querySelector(t)),a&&a.classList.remove("siter-selected__link"),!this.props.currentBlock.json[0].blocked){const e=this.props.currentBlock.json[0].id;let t="".concat(document.querySelector("#".concat(CSS.escape(e),' [data-content="true"]')).innerHTML);t=t.replace(/siter-selected__link/g,""),this.props.handleChangeProperties({data:Object.assign(this.props.currentBlock.json[0].data,{content:t})},void 0,void 0,!1)}this.setState({displayPicker:!1})},this.handleOpen=()=>{const{link:e}=this.props,t=()=>{const t="[data-id=".concat(CSS.escape(e.getAttribute("data-id")),"]");let a=document.querySelector(t);this.props.currentBlock.json[0].blocked&&(a=this.props.getCK().document.$.querySelector(t)),this.setState({displayPicker:!this.state.displayPicker},()=>{a&&(this.state.displayPicker?a.classList.add("siter-selected__link"):a.classList.remove("siter-selected__link")),setTimeout(this.setTop,100)}),setTimeout(()=>{if(this.state.displayPicker){const e=document.getElementById("ckeditor_links_href");e&&(e.focus(),e.setSelectionRange(0,e.value.length))}},100)};e.appendChild?t():this.props.handleAddLinkToSelection(t)},this.t=(new Date).getTime(),this.setTop=()=>{const e=this.refs.forPopups.querySelector("#link-item");if(e){let t=this.refs.linkrel.getBoundingClientRect().top+43;e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.handleRemoveLink=()=>{const e=this.props.currentBlock.json[0].id;this.props.fetchLinksFromText(e,t=>{const a=document.createElement("span");if(a.textContent=this.props.link.textContent,this.props.link.parentNode&&(this.props.link.parentNode.insertBefore(a,this.props.link),this.props.link.parentElement.removeChild(this.props.link)),!this.props.currentBlock.json[0].blocked){const t=document.querySelector("#".concat(CSS.escape(e),' [data-content="true"]')).innerHTML;this.props.handleChangeProperties({data:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{content:t})},void 0,void 0,!1)}this.props.fetchLinksFromText(e)})},this.handleChangeHref=e=>{const{value:t}=e.target;let a="",s="";this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{"email"===this.props.link.dataset.type&&(a="mailto:",s="?subject=".concat(this.props.link.dataset.subject||"","&body=").concat(this.props.link.dataset.body||"")),"phone"===this.props.link.dataset.type&&(a="tel:"),this.setState({href:t}),this.props.link.setAttribute("href",a+t+s),this.props.link.setAttribute("data-cke-saved-href",a+t+s)})},this.handleChangeTargetBlank=e=>{this.setState({targetBlank:!this.state.targetBlank}),e.target.checked?this.props.link.setAttribute("target","_blank"):this.props.link.removeAttribute("target")},this.handleChangeLinkType=e=>{this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{this.props.link.setAttribute("data-type",e),this.handleChangeHref({target:{value:""}}),"close_popup"===e&&this.handleChangeHref({target:{value:"#close_popup"}}),"popup"===e&&this.handleChangeHref({target:{value:""}},!0),["element","popup"].indexOf(e)>-1?this.props.chooseBlockMode||this.props.handleChooseBlockMode():this.props.handleChooseBlockMode(!0),setTimeout(this.setTop)})},this.handleChangeCloseClickOutside=e=>{const{checked:t}=e.target;this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{this.props.link.setAttribute("data-close-click-outside",t),this.handleChangeHref({target:{value:this.state.href}})})},this.handleChangePopUpPosition=e=>{this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{this.props.link.setAttribute("data-popup-position",e.value),this.handleChangeHref({target:{value:this.state.href}})})},this.handleChangePopupOverlayColor=e=>{this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{this.props.link.setAttribute("data-overlay-color",e.overlayColor),this.handleChangeHref({target:{value:this.state.href}})})},this.handleChangeSubject=e=>{const{value:t}=e.target;this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{this.props.link.setAttribute("data-subject",t),this.handleChangeHref({target:{value:this.state.href}})})},this.handleChangeBody=e=>{const{value:t}=e.target;this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{this.props.link.setAttribute("data-body",t),this.handleChangeHref({target:{value:this.state.href}})})},this.handleChangeAriaLabel=e=>{const{value:t}=e.target;this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{this.props.link.setAttribute("aria-label",t),this.props.link.setAttribute("title",t),this.handleChangeHref({target:{value:this.state.href}})})}}componentDidMount(){this.setHref(),this.props.fetchLinksFromText(this.props.currentBlock.json[0].id,()=>{this.props.link.removeAttribute("data-cke-saved-href")})}componentWillReceiveProps(e){this.props.choosedBlock!==e.choosedBlock&&(this.props.handleChooseBlockMode(),this.handleChangeHref({target:{value:"#".concat(e.choosedBlock.split(" ")[0])}})),e.linkHref!==this.props.linkHref&&this.setHref(e)}render(){const{active:e,link:t,chooseBlockMode:a,site:s,handleChooseBlockMode:o,getPageColors:i,t:r}=this.props,l=Be()("se__s-p-colorpicker",{"se__s-p-colorpicker-custom_active":this.state.displayPicker,"se__s-p-colorpicker_small":"small"===this.props.size}),c=Be()("input-wrapper__setting input-wrapper__setting-link input-wrapper__setting_pointer",{"input-wrapper__setting_small input-wrapper__setting_small-colorpicker":"small"===this.props.size,"input-wrapper__setting-link_active":e});return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{ref:"cklink",className:l,style:{position:"relative"}},this.state.displayPicker&&!this.props.chooseBlockMode&&n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleClose}),n.a.createElement("div",{id:"textkit-addlink",onClick:()=>!this.state.displayPicker&&this.handleOpen(),className:c,ref:"linkrel"},"link"===this.props.link.getAttribute("data-type")&&n.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("path",{d:"M9.85357 4.85358C10.0488 4.65832 10.0488 4.34174 9.85357 4.14648C9.65831 3.95122 9.34173 3.95122 9.14647 4.14648L9.85357 4.85358ZM4.14647 9.14648C3.9512 9.34174 3.9512 9.65832 4.14647 9.85358C4.34173 10.0488 4.65831 10.0488 4.85357 9.85358L4.14647 9.14648ZM6.38264 11.86L6.11965 12.123L6.82676 12.8301L7.08974 12.5672L6.38264 11.86ZM7.14971 11.093L6.38264 11.86L7.08974 12.5672L7.85682 11.8001L7.14971 11.093ZM12.1213 6.12134L11.8584 6.38433L12.5655 7.09143L12.8284 6.82845L12.1213 6.12134ZM11.8584 6.38433L11.0902 7.15243L11.7974 7.85954L12.5655 7.09143L11.8584 6.38433ZM7.61571 2.14169L7.8787 1.8787L7.17159 1.17159L6.90861 1.43458L7.61571 2.14169ZM6.84762 2.90978L7.61571 2.14169L6.90861 1.43458L6.14051 2.20268L6.84762 2.90978ZM1.87701 7.88039L2.14 7.6174L1.43289 6.9103L1.1699 7.17328L1.87701 7.88039ZM2.14 7.6174L2.90706 6.85034L2.19996 6.14323L1.43289 6.9103L2.14 7.6174ZM9.14647 4.14648L4.14647 9.14648L4.85357 9.85358L9.85357 4.85358L9.14647 4.14648ZM11.0902 7.15243C10.8205 7.42214 10.4413 7.55193 10.0629 7.50399L9.93719 8.49607C10.6223 8.58285 11.309 8.34786 11.7974 7.85954L11.0902 7.15243ZM2.90706 6.85034C3.1778 6.5796 3.55832 6.44892 3.93827 6.4962L4.06176 5.50386C3.37577 5.41849 2.68877 5.65442 2.19996 6.14323L2.90706 6.85034ZM1.1699 12.8301C2.732 14.3922 5.26466 14.3922 6.82676 12.8301L6.11965 12.123C4.94808 13.2946 3.04858 13.2946 1.87701 12.123L1.1699 12.8301ZM12.1213 1.8787C13.2929 3.05027 13.2929 4.94977 12.1213 6.12134L12.8284 6.82845C14.3905 5.26635 14.3905 2.73369 12.8284 1.17159L12.1213 1.8787ZM12.8284 1.17159C11.2663 -0.390503 8.73369 -0.390503 7.17159 1.17159L7.8787 1.8787C9.05027 0.707127 10.9498 0.707128 12.1213 1.8787L12.8284 1.17159ZM7.85682 11.8001C8.34562 11.3113 8.58155 10.6243 8.49619 9.93829L7.50385 10.0618C7.55112 10.4417 7.42045 10.8222 7.14971 11.093L7.85682 11.8001ZM6.14051 2.20268C5.65218 2.691 5.41719 3.37775 5.50398 4.06287L6.49605 3.93719C6.44812 3.55879 6.57791 3.17949 6.84762 2.90978L6.14051 2.20268ZM1.87701 12.123C0.705438 10.9515 0.705438 9.05196 1.87701 7.88039L1.1699 7.17328C-0.392193 8.73538 -0.392193 11.268 1.1699 12.8301L1.87701 12.123Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"14",height:"14",fill:"white"})))),"page"===t.getAttribute("data-type")&&n.a.createElement("img",{src:un.a,alt:"Page"}),"element"===t.getAttribute("data-type")&&n.a.createElement("img",{src:_n.a,alt:"Element"}),"email"===t.getAttribute("data-type")&&n.a.createElement("img",{src:Cn.a,alt:"Email"}),"phone"===t.getAttribute("data-type")&&n.a.createElement("img",{src:vn.a,alt:"Phone"}),"popup"===t.getAttribute("data-type")&&n.a.createElement("img",{src:bn.a,alt:"Popup"}),"close_popup"===t.getAttribute("data-type")&&n.a.createElement("img",{src:kn.a,alt:"Popup"}),"close_popup"===t.getAttribute("data-type")?n.a.createElement("div",{className:"input-wrapper__setting-text-value",tabIndex:"-1"},r("app.editor.settingspanel.clickactions.closeoverlays")):n.a.createElement("div",{className:"input-wrapper__setting-text-value",tabIndex:"-1"},this.state.href||r("app.editor.settingspanel.nourlelement")))),n.a.createElement("div",{className:"input-wrapper__setting-right-icons input-wrapper__setting-right-icons_link cp"},n.a.createElement("div",{className:"input-wrapper__setting-right-icons__remove",onClick:this.handleRemoveLink},n.a.createElement("svg",{className:"input-wrapper__setting-right-icons__remove-link__icon",width:"12",height:"1",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"})))),n.a.createElement("div",{ref:"forPopups"},this.state.displayPicker&&!a&&"link"===t.dataset.type&&n.a.createElement("div",{id:"link-item",className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting"},n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_cke input-wrapper__setting_cklink-url",name:"link-url",type:"text",autoComplete:"off",placeholder:r("app.editor.settingspanel.clickactions.urlplaceholder"),onChange:this.handleChangeHref,value:this.state.href||""}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(Sn,{t:r,handleChangeLinkType:this.handleChangeLinkType})),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom noborder"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail input_noradius",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:t.dataset.ariaLabel}))),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom noborder"},n.a.createElement("div",{className:"checkbox_cke"},n.a.createElement("label",{htmlFor:"open-in-new-tab",className:"input-wrapper__setting-label"},r("app.editor.settingspanel.openinnewtab")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input",style:{marginTop:5}},n.a.createElement("input",{id:"open-in-new-tab",onChange:this.handleChangeTargetBlank,checked:"_blank"===t.getAttribute("target"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))),this.state.displayPicker&&!a&&"email"===t.dataset.type&&n.a.createElement("div",{id:"link-item",className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting"},n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_cke input-wrapper__setting_cklink-email",name:"text-email",type:"text",autoComplete:"off",placeholder:"your@email.address",onChange:this.handleChangeHref,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(Sn,{t:r,handleChangeLinkType:this.handleChangeLinkType})),n.a.createElement("div",null,n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_ckemail",name:"subject",type:"text",autoComplete:"off",placeholder:r("app.editor.settingspanel.clickactions.subjectplaceholder"),onChange:this.handleChangeSubject,value:t.dataset.subject})),n.a.createElement("div",null,n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_ckemail",name:"subject",type:"text",autoComplete:"off",placeholder:r("app.editor.settingspanel.clickactions.bodyplaceholder"),onChange:this.handleChangeBody,value:t.dataset.body})),n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail noborder input_noradius",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:t.dataset.ariaLabel})),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom noborder"},n.a.createElement("div",{className:"checkbox_cke"},n.a.createElement("label",{htmlFor:"open-in-new-tab",className:"input-wrapper__setting-label"},r("app.editor.settingspanel.openinnewtab")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input",style:{marginTop:5}},n.a.createElement("input",{id:"open-in-new-tab",onChange:this.handleChangeTargetBlank,checked:"_blank"===t.getAttribute("target"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))),this.state.displayPicker&&!a&&"phone"===t.dataset.type&&n.a.createElement("div",{id:"link-item",className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting noborder"},n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_cke input-wrapper__setting_cklink-phone",name:"text-phone",type:"text",autoComplete:"off",placeholder:r("app.editor.settingspanel.clickactions.phoneplaceholder"),onChange:this.handleChangeHref,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:t.dataset.ariaLabel}))),n.a.createElement(Sn,{t:r,handleChangeLinkType:this.handleChangeLinkType})))),this.state.displayPicker&&!a&&"page"===t.dataset.type&&n.a.createElement("div",{id:"link-item",className:"cklink-settings-popup",style:{top:this.state.top,width:240}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting"},n.a.createElement("input",{id:"ckeditor_page_href",className:"input input_cke input-wrapper__setting_cklink-page",name:"text-page",type:"text",autoComplete:"off",readOnly:!0,placeholder:"Your URL...",onChange:this.handleChangeHref,value:r("app.editor.settingspanel.clickactions.selectpage")}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(Sn,{t:r,handleChangeLinkType:this.handleChangeLinkType})),n.a.createElement("div",{className:"custom-scrollbar cklink-settings-popup__pages"},s.pages.filter(e=>e.id!==window.pageId).map((e,t)=>n.a.createElement("div",{onClick:()=>{this.handleChangeHref({target:{value:"/".concat(e.path)}})},className:"cklink-settings-popup__item cklink-settings-popup__item_page ".concat("/".concat(e.path)===this.state.href&&"cklink-settings-popup__item_page_active"),key:t},n.a.createElement("span",{className:"cklink-settings-popup__item_page-name"},e.name||"No name"),n.a.createElement("div",{className:"cklink-settings-popup__item_page-right"},n.a.createElement("span",{className:"cklink-settings-popup__item_page-right-path"},"/"+e.path),n.a.createElement("a",{rel:"noopener noreferrer",href:"https://".concat(s.default_domain,"/").concat(e.path),target:"_blank"},n.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6 3.5H4C3.17157 3.5 2.5 4.17157 2.5 5V11C2.5 11.8284 3.17157 12.5 4 12.5H10C10.8284 12.5 11.5 11.8284 11.5 11V9",stroke:"#7F7F7F"}),n.a.createElement("path",{d:"M8.5 3C8.22386 3 8 3.22386 8 3.5C8 3.77614 8.22386 4 8.5 4V3ZM11.5 3.5H12C12 3.22386 11.7761 3 11.5 3V3.5ZM11 6.5C11 6.77614 11.2239 7 11.5 7C11.7761 7 12 6.77614 12 6.5H11ZM5.14645 9.14645C4.95118 9.34171 4.95118 9.65829 5.14645 9.85355C5.34171 10.0488 5.65829 10.0488 5.85355 9.85355L5.14645 9.14645ZM8.5 4H11.5V3H8.5V4ZM11 3.5V6.5H12V3.5H11ZM5.85355 9.85355L11.8536 3.85355L11.1464 3.14645L5.14645 9.14645L5.85355 9.85355Z",fill:"#7F7F7F"}))))))),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_aria-label",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:t.dataset.ariaLabel})),n.a.createElement("div",{className:"checkbox_cke"},n.a.createElement("label",{htmlFor:"open-in-new-tab",className:"input-wrapper__setting-label"},r("app.editor.settingspanel.openinnewtab")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input",style:{marginTop:5}},n.a.createElement("input",{id:"open-in-new-tab",onChange:this.handleChangeTargetBlank,checked:"_blank"===t.getAttribute("target"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))),this.state.displayPicker&&"element"===t.dataset.type&&n.a.createElement("div",{id:"link-item",className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting noborder"},n.a.createElement("input",{id:"ckeditor_page_href",className:"input input_cke input-wrapper__setting_cklink-element",name:"text-element",type:"text",autoComplete:"off",readOnly:!0,placeholder:r("app.editor.settingspanel.clickactions.selectelement"),onChange:this.handleChangeHref,onClick:o,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(Sn,{t:r,handleChangeLinkType:this.handleChangeLinkType}),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:t.dataset.ariaLabel})))))),this.state.displayPicker&&"popup"===t.dataset.type&&n.a.createElement("div",{id:"link-item",className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting"},n.a.createElement("input",{id:"ckeditor_page_href",className:"input input_cke input-wrapper__setting_cklink-popup-element",name:"block_url",type:"text",autoComplete:"off",readOnly:!0,placeholder:r("app.editor.settingspanel.clickactions.selectelement"),onChange:this.handleChangeHref,onClick:o,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(Sn,{t:r,handleChangeLinkType:this.handleChangeLinkType})),n.a.createElement("div",{className:"cklink-settings-popup__inner"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_first"},r("app.editor.settingspanel.clickactions.overlayposition")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Dt,{name:"inherit_device",value:t.dataset.popupPosition,onChange:this.handleChangePopUpPosition,searchable:!1,autoFocus:!1,clearable:!1,scrollMenuIntoView:!1,options:this.popupPositions()})),n.a.createElement("div",{className:"se__s-p__mk-item__title"},r("app.editor.settingspanel.clickactions.overlaybg")),n.a.createElement("div",{className:"se__s-p__mk-item",style:{position:"relative",minHeight:50}},n.a.createElement(hn,{getPageColors:i,currentBlock:t.dataset,colorStartProperty:"overlayColor",colorStopProperty:"overlayColor",updateProperties:this.handleChangePopupOverlayColor,update:()=>{}})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("label",{htmlFor:"close",className:"switcher switcher_small switcher_input",style:{marginLeft:0,marginTop:0}},n.a.createElement("input",{id:"close",checked:!!t.dataset.closeClickOutside&&JSON.parse(t.dataset.closeClickOutside),onChange:this.handleChangeCloseClickOutside,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))),n.a.createElement("label",{htmlFor:"close",className:"switcher-small__label"},r("app.editor.settingspanel.clickactions.closewhenclickoutside"))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("input",{id:"aria-label",className:"input input-collaboration",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:t.dataset.ariaLabel}))))),this.state.displayPicker&&"close_popup"===t.dataset.type&&n.a.createElement("div",{id:"link-item",className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting noborder"},n.a.createElement("input",{id:"ckeditor_page_href",className:"input input_cke input-wrapper__setting_cklink-closepopup",name:"close-text",type:"text",autoComplete:"off",readOnly:!0,placeholder:r("app.editor.settingspanel.clickactions.closeoverlays"),onChange:this.handleChangeHref,value:""}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:this.props.currentBlock.ariaLabel}))),n.a.createElement(Sn,{t:r,handleChangeLinkType:this.handleChangeLinkType}))))))}}var Nn=Object(o.b)(e=>({site:e.site}),{})(Object(j.a)()(xn));var Bn=class{constructor(){this.advAttrNames={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"},this.initialLinkText="",this.escapeSingleQuote=e=>e.replace(/'/g,"\\$&"),this.protectEmailAddressAsEncodedString=e=>{let t;const{length:a}=e,s=[];for(let n=0;n<a;n++)t=e.charCodeAt(n),s.push(t);return"String.fromCharCode(".concat(s.join(","),")")},this.protectEmailLinkAsFunction=(e,t)=>{const a=e.plugins.link,{name:s}=a.compiledProtectionFunction,{params:n}=a.compiledProtectionFunction;let o,i,r;r=[s,"("];for(let l=0;l<n.length;l++)o=n[l].toLowerCase(),i=t[o],l>0&&r.push(","),r.push("'",i?this.escapeSingleQuote(encodeURIComponent(t[o])):"","'");return r.push(")"),r.join("")},this.getLinkAttributes=(e,t)=>{const a=e.config.emailProtection||"",s={};switch(t.type){default:break;case"url":var n=t.url&&window.CKEDITOR.tools.trim(t.url.url)||"";s["data-cke-saved-href"]=n;break;case"anchor":var o=t.anchor&&t.anchor.name,i=t.anchor&&t.anchor.id;s["data-cke-saved-href"]="#".concat(o||i||"");break;case"email":var r,{email:l}=t,{address:c}=l;switch(a){case"":case"encode":var p=encodeURIComponent(l.subject||""),d=encodeURIComponent(l.body||""),h=[];p&&h.push("subject=".concat(p)),d&&h.push("body=".concat(d)),h=h.length?"?".concat(h.join("&")):"","encode"===a?(r=["javascript:void(location.href='mailto:'+",this.protectEmailAddressAsEncodedString(c)],h&&r.push("+'",this.escapeSingleQuote(h),"'"),r.push(")")):r=["mailto:",c,h];break;default:var m=c.split("@",2);l.name=m[0],l.domain=m[1],r=["javascript:",this.protectEmailLinkAsFunction(e,l)]}s["data-cke-saved-href"]=r.join("")}if(t.target)if("popup"===t.target.type){const e=["window.open(this.href, '",t.target.name||"","', '"],a=["resizable","status","location","toolbar","menubar","fullscreen","scrollbars","dependent"],n=a.length,o=function(e){t.target[e]&&a.push("".concat(e,"=").concat(t.target[e]))};for(let s=0;s<n;s++)a[s]=a[s]+(t.target[a[s]]?"=yes":"=no");o("width"),o("left"),o("height"),o("top"),e.push(a.join(","),"'); return false;"),s["data-cke-pa-onclick"]=e.join("")}else"notSet"!==t.target.type&&t.target.name&&(s.target=t.target.name);if(t.download&&(s.download=""),t.advanced){for(const e in this.advAttrNames){const a=t.advanced[this.advAttrNames[e]];a&&(s[e]=a)}s.name&&(s["data-cke-saved-name"]=s.name)}s["data-cke-saved-href"]&&(s.href=s["data-cke-saved-href"]);const u={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1};t.advanced&&window.CKEDITOR.tools.extend(u,this.advAttrNames);for(const g in s)delete u[g];return{set:s,removed:window.CKEDITOR.tools.objectKeys(u)}},this.insertLinksIntoSelection=(e,t)=>{const a=this.getLinkAttributes(e,t),s=e.getSelection().getRanges(),n=new window.CKEDITOR.style({element:"a",styles:t.styles,attributes:Object.assign(a.set,t.attributes)}),o=[];let i,r,l,c,p;for(n.type=window.CKEDITOR.STYLE_INLINE,c=0;c<s.length;c++){for(i=s[c],i.collapsed?(r=new window.CKEDITOR.dom.text(t.linkText||("email"===t.type?t.email.address:a.set["data-cke-saved-href"]),e.document),i.insertNode(r),i.selectNodeContents(r)):this.initialLinkText!==t.linkText&&(r=new window.CKEDITOR.dom.text(t.linkText,e.document),i.shrink(window.CKEDITOR.SHRINK_TEXT),Object(qt.p)()?e.editable().extractHtmlFromRange(i):i.deleteContents(),i.insertNode(r)),l=i._find("a"),p=0;p<l.length;p++)l[p].remove(!0);n.applyToRange(i,e),o.push(i)}e.getSelection().selectRanges(o)},this.createRangeForLink=(e,t)=>{if(e.createRange){const a=e.createRange();return a.setStartBefore(t),a.setEndAfter(t),a}},this.getSelectedLink2=(e,t)=>{const a=e.getSelection(),s=a.getSelectedElement(),n=a.getRanges(),o=[];let i,r,l;if(!t&&s&&s.is("a"))return s;for(l=0;l<n.length;l++)if(r=a.getRanges()[l],r.shrink(window.CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),i=e.elementPath(r.getCommonAncestor()).contains("a",1),i&&t)o.push(i);else if(i)return i;return t?o:null},this.getSelectedLink=e=>{const t=this.getSelectedLink2(e,!0)[0]||null;return t&&t.$?{href:t.$.getAttribute("href"),newtab:"_blank"===t.$.getAttribute("target")}:{href:"",newtab:!1}},this.editLinksInSelection=(e,t)=>{const a=this.getLinkAttributes(e,t),s=[];let n,o,i,r,l;const c=this.getSelectedLink2(e,!0);for(l=0;l<c.length;l++)n=c[l],o=n.data("cke-saved-href"),i=n.getHtml(),n.setAttributes(Object.assign(a.set,{class:"str-link"})),n.removeAttributes(a.removed),!0===t.newtab?n.setAttributes({target:"_blank"}):n.removeAttributes("target"),t.linkText&&"New Link"!==t.linkText?r=t.linkText:(o===i||"email"===t.type&&-1!==i.indexOf("@"))&&(r="email"===t.type?t.email.address:a.set["data-cke-saved-href"]),r&&n.setText(r),s.push(this.createRangeForLink(e,n));e.getSelection().selectRanges(s)}}},Fn=a(29);class An extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={shadows:[],top:-1e4},this.resetCurrentShadow=()=>{this.setState({currentShadow:void 0})},this.handleAddShadow=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=e.state.shadows.slice();t&&(a=[]),a.push({hex:"000000",rgba:"rgba(0, 0, 0, 0.25)",x:1,y:1,radius:3,spread:0}),e.setState({shadows:a},()=>{e.update(),t&&e.handleOpenShadowSettings(a[0],0)})},this.handleRemoveShadow=e=>{const t=this.state.shadows.slice();t.splice(e,1),this.setState({shadows:t},this.update)},this.rgbaShadow2hex=e=>{const t=e.match(/[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s]?([\d.]+)[\s+]?/g);if(null===t)return e;const a=t[0].split(", ");return a&&4===a.length?"#".concat("0".concat(parseInt(a[0],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[1],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[2],10).toString(16)).slice(-2)):""},this.setDefaults=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;if(t.styles[t.property]&&"none"!==t.styles[t.property]){const a=t.styles[t.property].split("), ");a.forEach((e,t,a)=>{a[--t]+=")"});let s=[],n={};a.forEach((t,a)=>{if(t){const a=t.split(/ (?![^(]*\))/),o=a[0].indexOf("inset")>-1;n={inset:o,hex:e.rgbaShadow2hex(t).slice(1),x:parseInt(a[0+o],10),y:parseInt(a[1+o],10),radius:parseInt(a[2+o],10),rgba:a[a.length-1]},a[3+o]!==a[a.length-1]?n.spread=parseInt(a[3+o],10):n.spread=0,s.push(n)}}),e.setState({shadows:s})}else e.setState({shadows:[]})},this.update=()=>{const e=JSON.parse(JSON.stringify(this.state.shadows));this.state.currentShadow&&Object.assign(e[this.state.currentShadow.index],this.state.currentShadow),this.setState({shadows:e},()=>{let t="";e.forEach((a,s)=>{this.props.withoutSpread?t+="".concat(a.inset?"inset ":"").concat(a.x,"px ").concat(a.y,"px ").concat(a.radius,"px ").concat(a.rgba):t+="".concat(a.inset?"inset ":"").concat(a.x,"px ").concat(a.y,"px ").concat(a.radius,"px ").concat(a.spread,"px ").concat(a.rgba),e[s+1]&&(t+=", ")}),""===t?this.props.update({[this.props.property]:"none"},this.props.updateCKstyles):this.props.update({[this.props.property]:t},this.props.updateCKstyles)})},this.handleChange=e=>{if(e.rgba){const{currentShadow:t}=this.state;t.hex=this.rgbaShadow2hex(e.rgba).slice(1),t.rgba=e.rgba,this.setState({currentShadow:t},this.update)}},this.tempOpacity=.2,this.handleToggleDisable=e=>{const t=JSON.parse(JSON.stringify(this.state.shadows)),a=parseFloat(t[e].rgba.replace(/^.*,(.+)\)/,"$1"));a>0&&(this.tempOpacity=a),t[e].rgba=a>0?t[e].rgba.replace(/[^,]+(?=\))/," 0"):t[e].rgba.replace(/[^,]+(?=\))/," "+this.tempOpacity),this.setState({shadows:t},this.update)},this.handleClick=e=>{this.state.tab===e?this.setState({displayPicker:!this.state.displayPicker}):this.setState({displayPicker:!0,tab:e})},this.handleClose=()=>{this.setState({displayPicker:!1,top:-1e4})},this.handleToggleInset=e=>{const{currentShadow:t}=this.state;t.inset=e.target.checked,this.setState({currentShadow:t},this.update)},this.onXChange=e=>{const{currentShadow:t}=this.state;t.x=e,this.setState({currentShadow:t},this.update)},this.onYChange=e=>{const{currentShadow:t}=this.state;t.y=e,this.setState({currentShadow:t},this.update)},this.onRadiusChange=e=>{const{currentShadow:t}=this.state;t.radius=e,this.setState({currentShadow:t},this.update)},this.onSpreadChange=e=>{const{currentShadow:t}=this.state;t.spread=e,this.setState({currentShadow:t},this.update)},this.getValue=e=>isNaN(parseInt(this.state.currentShadow[e],10))?0:Math.round(parseFloat(this.state.currentShadow[e])),this.getValueInput=e=>""===this.state.currentShadow[e]||isNaN(this.state.currentShadow[e])?"":isNaN(parseInt(this.state.currentShadow[e],10))?0:Math.round(parseFloat(this.state.currentShadow[e])),this.setTop=e=>{const t=document.getElementById("shadow-settings__popup"),a=this.refs.shadowsetting.querySelector(".input-wrapper__setting-shadows__items-item_".concat(e));if(t){let{top:e}=a.getBoundingClientRect();t.offsetHeight+e>window.innerHeight&&(e=window.innerHeight-t.offsetHeight),this.setState({top:e})}},this.handleOpenShadowSettings=(e,t)=>{e.index=t,this.setState({currentShadow:e},()=>{setTimeout(()=>{this.setTop(t)})})},this.handleCloseShadowSettings=()=>{this.setState({currentShadow:void 0,top:-1e4})},this.shadowItemClass=(e,t)=>Be()("input-wrapper__setting input-wrapper__setting-shadows__items-item input-wrapper__setting-shadows__items-item_".concat(t),{"input-wrapper__setting-shadows__items-item_active":this.state.currentShadow&&this.state.currentShadow.index===t,"input-wrapper__setting-shadows__items-item_disabled":0===parseFloat(e.rgba.replace(/^.*,(.+)\)/,"$1"))})}componentDidMount(){this.props.styles[this.props.property]&&this.setDefaults(),document.addEventListener("siter.undo",this.resetCurrentShadow),document.addEventListener("siter.redo",this.resetCurrentShadow)}componentWillUnmount(){document.removeEventListener("siter.undo",this.resetCurrentShadow),document.removeEventListener("siter.redo",this.resetCurrentShadow)}componentWillReceiveProps(e){this.setDefaults(e)}render(){var e,t;const{t:a}=this.props;return n.a.createElement("div",{className:"input-wrapper__setting-shadows",ref:"shadowsetting"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleAddShadow.bind(null,!1)},n.a.createElement("span",null,this.props.title||"Drop Shadow"),n.a.createElement("label",{onClick:this.handleAddShadow.bind(null,!1),id:"addshadow",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"}))))),n.a.createElement("div",{className:"input-wrapper__setting-shadows__items"},"mixed"===(null===(e=this.props.styles)||void 0===e?void 0:e.textShadow)&&n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting-shadows__items-item",onClick:this.handleAddShadow.bind(null,!0)},n.a.createElement("div",{className:"input-wrapper__setting-shadow-value"},"Mixed")),"mixed"!==(null===(t=this.props.styles)||void 0===t?void 0:t.textShadow)&&this.state.shadows.map((e,t)=>n.a.createElement("div",{className:this.shadowItemClass(e,t),key:t},n.a.createElement("div",{style:{cursor:"pointer"},onClick:()=>{this.handleOpenShadowSettings(e,t)},className:"input-wrapper__setting-shadows__items-item-icon"},n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{x:"-0.5",y:"0.5",width:"9",height:"9",rx:"0.5",transform:"matrix(-1 0 0 1 9 0)",stroke:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"1.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"3.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"5.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"7.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"9.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"4.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"2.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"6.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"8.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"10.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"9.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"7.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"5.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"3.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"1.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"10.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"8.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"6.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"4.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"2.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}))),n.a.createElement("div",{onClick:()=>{this.handleOpenShadowSettings(e,t)},className:"input-wrapper__setting-shadow-value"},e.x,n.a.createElement("span",{style:{color:"#AFAFAF",marginRight:4}},"px"),e.y,n.a.createElement("span",{style:{color:"#AFAFAF",marginRight:4}},"px"),e.radius,n.a.createElement("span",{style:{color:"#AFAFAF",marginRight:4}},"px")),n.a.createElement("div",{className:"input-wrapper__setting-right-icons"},parseFloat(e.rgba.replace(/^.*,(.+)\)/,"$1"))>0&&n.a.createElement("svg",{onClick:this.handleToggleDisable.bind(null,t),className:"input-wrapper__setting-right-icons__eye",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.5 2.5C3.00003 2.5 0.5 6.5 0.5 6.5C0.5 6.5 2.99995 10.5 6.5 10.5C10 10.5 12.5 6.5 12.5 6.5C12.5 6.5 9.99997 2.5 6.5 2.5Z",stroke:"#AFAFAF",strokeLinejoin:"round"}),n.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2",fill:"#AFAFAF"})),0===parseFloat(e.rgba.replace(/^.*,(.+)\)/,"$1"))&&n.a.createElement("svg",{onClick:this.handleToggleDisable.bind(null,t),className:"input-wrapper__setting-right-icons__eye",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.34131 6.81975C1.24689 6.69725 1.16755 6.58904 1.10422 6.5C1.16755 6.41096 1.2469 6.30275 1.34132 6.18026C1.61869 5.82043 2.02295 5.3415 2.53019 4.8641C3.55796 3.89679 4.93937 3 6.5 3C7.50834 3 8.44186 3.37438 9.25352 3.90026L9.97528 3.17975C9.01122 2.51978 7.83117 2 6.5 2C4.56066 2 2.94207 3.10321 1.84483 4.1359C1.28957 4.6585 0.850073 5.17957 0.549314 5.56974C0.398628 5.76523 0.281969 5.92889 0.20224 6.04486C0.162356 6.10287 0.131658 6.14903 0.110509 6.18136L0.0859748 6.21926L0.0791523 6.22999L0.0771163 6.23322L0.0764438 6.23429L0.0761942 6.23469C0.0760936 6.23485 0.0760025 6.235 0.5 6.5L0.0760025 6.235C-0.0253328 6.39713 -0.0253342 6.60286 0.0759987 6.765L0.5 6.5C0.0759987 6.765 0.0760898 6.76514 0.0761904 6.7653L0.07644 6.7657L0.0771125 6.76677L0.0791484 6.77L0.0859709 6.78073L0.110505 6.81864C0.131653 6.85097 0.16235 6.89712 0.202233 6.95514C0.28196 7.07111 0.398617 7.23477 0.549299 7.43025C0.850053 7.82042 1.28954 8.3415 1.8448 8.8641C2.2349 9.23125 2.6909 9.60732 3.20379 9.93956L3.92991 9.21469C3.41372 8.90229 2.94336 8.52479 2.53017 8.1359C2.02293 7.6585 1.61868 7.17958 1.34131 6.81975ZM5.87945 9.9532L5.03905 10.7921C5.50138 10.9236 5.98958 11 6.5 11C8.43937 11 10.058 9.8968 11.1552 8.8641C11.7105 8.3415 12.1499 7.82042 12.4507 7.43025C12.6014 7.23477 12.718 7.07111 12.7978 6.95514C12.8376 6.89712 12.8683 6.85097 12.8895 6.81864L12.914 6.78073L12.9209 6.77L12.9229 6.76677L12.9236 6.7657L12.9238 6.7653C12.9239 6.76514 12.924 6.765 12.5 6.5L12.924 6.765C13.0253 6.60286 13.0253 6.39713 12.924 6.235L12.5 6.5C12.924 6.235 12.9239 6.23485 12.9238 6.23469L12.9236 6.23429L12.9229 6.23322L12.9208 6.22999L12.914 6.21926L12.8895 6.18136C12.8683 6.14903 12.8376 6.10287 12.7978 6.04486C12.718 5.92889 12.6014 5.76523 12.4507 5.56974C12.2023 5.24746 11.8592 4.83586 11.4344 4.40786L10.7266 5.11436C11.1147 5.50556 11.4299 5.88343 11.6587 6.18026C11.7531 6.30275 11.8325 6.41096 11.8958 6.5C11.8325 6.58904 11.7531 6.69725 11.6587 6.81975C11.3813 7.17958 10.9771 7.6585 10.4698 8.1359C9.44208 9.1032 8.06067 10 6.5 10C6.28976 10 6.08276 9.98373 5.87945 9.9532Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M0.5 12.5L12.5 0.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"13",fill:"white"})))),n.a.createElement("svg",{onClick:this.handleRemoveShadow.bind(null,t),className:"input-wrapper__setting-right-icons__minus",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"})))))),this.state.shadows.length>0&&this.state.currentShadow&&n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleCloseShadowSettings}),n.a.createElement("div",{className:"shadow-settings__popup",id:"shadow-settings__popup",style:{top:this.state.top}},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.state.currentShadow,colorStartProperty:"rgba",colorStopProperty:"rgba",updateProperties:this.handleChange,bgWhite:!0}),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings"},n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"X"),n.a.createElement(Fn.a,{value:this.getValue("x"),startPoint:0,max:30,min:-30,onChange:this.onXChange}),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("x"),onChange:e=>{this.onXChange(e.target.value)}})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Y"),n.a.createElement(Fn.a,{value:this.getValue("y"),startPoint:0,max:30,min:-30,onChange:this.onYChange}),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("y"),onChange:e=>{this.onYChange(e.target.value)}})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},a("app.editor.settingspanel.dropshadowblur")),n.a.createElement(Fn.a,{value:this.getValue("radius"),max:100,onChange:this.onRadiusChange}),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("radius"),onChange:e=>{this.onRadiusChange(e.target.value)}})),!this.props.withoutSpread&&n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},a("app.editor.settingspanel.dropshadowspread")),n.a.createElement(Fn.a,{value:this.getValue("spread"),max:100,onChange:this.onSpreadChange}),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("spread"),onChange:e=>{this.onSpreadChange(e.target.value)}})),!this.props.withoutInset&&n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},a("app.editor.settingspanel.dropshadowinset")),n.a.createElement("label",{htmlFor:"shadow-inset",className:"switcher switcher_small switcher_input switcher_nomargin"},n.a.createElement("input",{id:"shadow-inset",checked:this.state.currentShadow.inset,onChange:this.handleToggleInset,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))))}}var Ln=Object(o.b)(e=>({}),{})(Object(j.a)()(An)),On=a(483),Dn=a.n(On);const Mn=e=>{let{handleAddState:t,slug:a,hover:s,active:o,t:i}=e;return n.a.createElement(R.Menu,{style:{marginLeft:-25,marginTop:-8,width:128,minWidth:128},id:"states"},!s&&n.a.createElement(R.Item,{onClick:t.bind(null,"hover")},i("app.editor.settingspanel.hover")),"slider"===a&&!o&&n.a.createElement(R.Item,{onClick:t.bind(null,"active")},i("app.editor.settingspanel.active")))};class Pn extends s.Component{constructor(){super(...arguments),this.handleOpenContextMenu=e=>{R.contextMenu.show({id:"states",event:e})},this.handleAddState=e=>{const{componentSlug:t,currentBlock:a}=this.props;if("hover"===e){if(["button","rectangle","text"].indexOf(t)>-1){"button"===t&&a.handleChangeStyles({color_hover:a.json[0].styles[window.currentDeviceName].color,fontWeight_hover:a.json[0].styles[window.currentDeviceName].fontWeight,fontSize_hover:a.json[0].styles[window.currentDeviceName].fontSize,fontFamily_hover:a.json[0].styles[window.currentDeviceName].fontFamily,letterSpacing_hover:a.json[0].styles[window.currentDeviceName].letterSpacing,textAlign_hover:a.json[0].styles[window.currentDeviceName].textAlign,textShadow_hover:a.json[0].styles[window.currentDeviceName].textShadow});let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{hover:!0});a.handleChangeProperties({data:e}),this.forceUpdate()}if("form"===t){let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{hover:!0});a.handleChangeProperties({data:e}),this.forceUpdate()}if(["icon"].indexOf(t)>-1){let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{hover:!0});a.handleChangeProperties({data:e}),this.forceUpdate()}if(["slider"].indexOf(t)>-1){let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{arrows_hover:"rgba(0, 0, 0, 0.3)",dots_hover:"rgba(0, 0, 0, 1)"});a.handleChangeProperties({data:e}),this.forceUpdate()}if(["video"].indexOf(t)>-1){a.handleChangeStyles({color_hover:"rgba(255, 255, 255, 1)"});let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{icon_width_hover:"70px"});a.handleChangeProperties({data:e}),this.forceUpdate(),this.forceUpdate()}}if("active"===e&&["slider"].indexOf(t)>-1){let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{arrows_active:"rgba(0, 0, 0, 0.3)",dots_active:"rgba(0, 0, 0, 1)"});a.handleChangeProperties({data:e}),this.forceUpdate()}},this.handleRemove=e=>{const{componentSlug:t,currentBlock:a,handleChangeElementCurrentState:s}=this.props;if("hover"===e){if(["button","rectangle","text"].indexOf(t)>-1){let e=a.json[0].data;e.fills_hover=[],e.fills_hover_css="",e.hover=!1,a.handleChangeProperties({data:e}),"button"===t?a.handleChangeStyles({border_hover:"",color_hover:"",fontWeight_hover:"",fontSize_hover:"",fontFamily_hover:"",letterSpacing_hover:"",textAlign_hover:"",textShadow_hover:""}):a.handleChangeStyles({color_hover:""}),this.forceUpdate()}if("form"===t){let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{hover:!1,fields_fills_hover:[],fields_fills_hover_css:"",button_fills_hover:[],button_fills_hover_css:""});a.handleChangeProperties({data:e}),this.forceUpdate()}if(["icon"].indexOf(t)>-1){let e=a.json[0].data;e.fills_hover=[],e.fills_hover_css="",e.hover=!1,a.handleChangeProperties({data:e}),this.forceUpdate()}if(["video"].indexOf(t)>-1){a.handleChangeStyles({color_hover:""});let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{icon_width_hover:""});a.handleChangeProperties({data:e}),this.forceUpdate(),this.forceUpdate()}if(["slider"].indexOf(t)>-1){let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{arrows_hover:"",dots_hover:""});a.handleChangeProperties({data:e}),this.forceUpdate()}}if("active"===e){let e=Object.assign(JSON.parse(JSON.stringify(a.json[0].data)),{arrows_active:"",dots_active:""});a.handleChangeProperties({data:e}),this.forceUpdate()}s({target:{value:"default"}})}}render(){const{t:e}=this.props;return n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleOpenContextMenu},n.a.createElement("span",null,e("app.editor.settingspanel.states")),(!this.props.hover||"slider"===this.props.componentSlug&&!this.props.active)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{onClick:this.handleOpenContextMenu,className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"})))),n.a.createElement(Mn,{t:e,handleAddState:this.handleAddState,slug:this.props.componentSlug,hover:this.props.hover,active:this.props.active}))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"se__s-p__state-switcher",style:this.props.style},n.a.createElement("form",null,n.a.createElement("div",{className:"se__s-p__state-switcher__item"},n.a.createElement("input",{id:"element_state_default",name:"element_state",className:"se__s-p__state-switcher-radio",type:"radio",value:"default",onChange:this.props.handleChangeElementCurrentState,checked:"default"===this.props.elementCurrentState}),n.a.createElement("label",{className:"se__s-p__state-switcher-label",htmlFor:"element_state_default"},n.a.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{width:"9",height:"9",rx:"2.75",fill:"#A6A6A6"})),"Default")),this.props.hover&&n.a.createElement("div",{className:"se__s-p__state-switcher__item"},n.a.createElement("input",{id:"element_state_hover",name:"element_state",className:"se__s-p__state-switcher-radio",type:"radio",value:"hover",onChange:this.props.handleChangeElementCurrentState,checked:"hover"===this.props.elementCurrentState}),n.a.createElement("label",{className:"se__s-p__state-switcher-label",htmlFor:"element_state_hover"},n.a.createElement("svg",{className:"se__s-p__state-switcher-label__icon-hover",width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("rect",{x:"2",y:"2",width:"9",height:"9",rx:"2.75",fill:"#AFAFAF"}),n.a.createElement("mask",{id:"path-2-outside-1",maskUnits:"userSpaceOnUse",x:"7",y:"5",width:"8",height:"12",fill:"black"},n.a.createElement("rect",{fill:"white",x:"7",y:"5",width:"8",height:"12"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1341 15.5154L11.0049 16L9.10655 11.3834L10.2339 10.8982L12.1341 15.5154Z"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 7V14.0044L9.81813 12.2101L10.0802 12.1231H13L8 7Z"})),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1341 15.5154L11.0049 16L9.10655 11.3834L10.2339 10.8982L12.1341 15.5154Z",fill:"#A6A6A6"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 7V14.0044L9.81813 12.2101L10.0802 12.1231H13L8 7Z",fill:"#A6A6A6"}),n.a.createElement("path",{d:"M12.1341 15.5154L12.5285 16.4344C13.0306 16.2189 13.2668 15.6402 13.0589 15.1349L12.1341 15.5154ZM11.0049 16L10.08 16.3803C10.1819 16.628 10.3789 16.8245 10.6269 16.9258C10.8749 17.0271 11.1531 17.0246 11.3992 16.919L11.0049 16ZM9.10655 11.3834L8.71123 10.4649C8.20977 10.6807 7.97407 11.2588 8.18169 11.7637L9.10655 11.3834ZM10.2339 10.8982L11.1587 10.5176C11.0567 10.2698 10.8595 10.0733 10.6113 9.97214C10.3631 9.871 10.0848 9.87371 9.8386 9.97965L10.2339 10.8982ZM8 7L8.71565 6.30154C8.43161 6.0105 7.9996 5.92047 7.62294 6.07381C7.24628 6.22715 7 6.59332 7 7H8ZM8 14.0044H7C7 14.4077 7.24222 14.7715 7.61427 14.927C7.98633 15.0826 8.4154 14.9994 8.70243 14.7162L8 14.0044ZM9.81813 12.2101L9.50301 11.2611C9.35741 11.3094 9.22489 11.3906 9.1157 11.4984L9.81813 12.2101ZM10.0802 12.1231V11.1231C9.97313 11.1231 9.86674 11.1403 9.76511 11.174L10.0802 12.1231ZM13 12.1231V13.1231C13.4023 13.1231 13.7653 12.8821 13.9215 12.5114C14.0777 12.1407 13.9966 11.7125 13.7157 11.4246L13 12.1231ZM11.7398 14.5965L10.6105 15.081L11.3992 16.919L12.5285 16.4344L11.7398 14.5965ZM11.9298 15.6197L10.0314 11.0031L8.18169 11.7637L10.08 16.3803L11.9298 15.6197ZM9.50188 12.3019L10.6292 11.8167L9.8386 9.97965L8.71123 10.4649L9.50188 12.3019ZM9.30917 11.2788L11.2094 15.896L13.0589 15.1349L11.1587 10.5176L9.30917 11.2788ZM7 7V14.0044H9V7H7ZM8.70243 14.7162L10.5206 12.9219L9.1157 11.4984L7.29757 13.2927L8.70243 14.7162ZM10.1332 13.1592L10.3953 13.0721L9.76511 11.174L9.50301 11.2611L10.1332 13.1592ZM10.0802 13.1231H13V11.1231H10.0802V13.1231ZM13.7157 11.4246L8.71565 6.30154L7.28435 7.69846L12.2843 12.8215L13.7157 11.4246Z",fill:"white",mask:"url(#path-2-outside-1)"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"16",fill:"white"})))),"Hover"),n.a.createElement("svg",{onClick:this.handleRemove.bind(null,"hover"),className:"se__s-p__state-switcher-label__remove",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"}))),this.props.active&&n.a.createElement("div",{className:"se__s-p__state-switcher__item"},n.a.createElement("input",{id:"element_state_active",name:"element_state",className:"se__s-p__state-switcher-radio",type:"radio",value:"active",onChange:this.props.handleChangeElementCurrentState,checked:"active"===this.props.elementCurrentState}),n.a.createElement("label",{className:"se__s-p__state-switcher-label",htmlFor:"element_state_active"},n.a.createElement("svg",{className:"se__s-p__state-switcher-label__icon-active",width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("rect",{x:"2",y:"3",width:"9",height:"9",rx:"2.75",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M0.853553 1.14645C0.658291 0.951184 0.341709 0.951184 0.146447 1.14645C-0.0488155 1.34171 -0.0488155 1.65829 0.146447 1.85355L0.853553 1.14645ZM1.14645 2.85355C1.34171 3.04882 1.65829 3.04882 1.85355 2.85355C2.04882 2.65829 2.04882 2.34171 1.85355 2.14645L1.14645 2.85355ZM12.8536 1.85355C13.0488 1.65829 13.0488 1.34171 12.8536 1.14645C12.6583 0.951184 12.3417 0.951184 12.1464 1.14645L12.8536 1.85355ZM11.1464 2.14645C10.9512 2.34171 10.9512 2.65829 11.1464 2.85355C11.3417 3.04882 11.6583 3.04882 11.8536 2.85355L11.1464 2.14645ZM0.146447 13.1464C-0.0488155 13.3417 -0.0488155 13.6583 0.146447 13.8536C0.341709 14.0488 0.658291 14.0488 0.853553 13.8536L0.146447 13.1464ZM1.85355 12.8536C2.04882 12.6583 2.04882 12.3417 1.85355 12.1464C1.65829 11.9512 1.34171 11.9512 1.14645 12.1464L1.85355 12.8536ZM7 0.5C7 0.223858 6.77614 0 6.5 0C6.22386 0 6 0.223858 6 0.5H7ZM6 1.5C6 1.77614 6.22386 2 6.5 2C6.77614 2 7 1.77614 7 1.5H6ZM7 13.5C7 13.2239 6.77614 13 6.5 13C6.22386 13 6 13.2239 6 13.5H7ZM6 14.5C6 14.7761 6.22386 15 6.5 15C6.77614 15 7 14.7761 7 14.5H6ZM0.146447 1.85355L1.14645 2.85355L1.85355 2.14645L0.853553 1.14645L0.146447 1.85355ZM12.1464 1.14645L11.1464 2.14645L11.8536 2.85355L12.8536 1.85355L12.1464 1.14645ZM0.853553 13.8536L1.85355 12.8536L1.14645 12.1464L0.146447 13.1464L0.853553 13.8536ZM6 0.5V1.5H7V0.5H6ZM6 13.5V14.5H7V13.5H6Z",fill:"#AFAFAF"}),n.a.createElement("mask",{id:"path-3-outside-1",maskUnits:"userSpaceOnUse",x:"7",y:"6",width:"7",height:"11",fill:"black"},n.a.createElement("rect",{fill:"white",x:"7",y:"6",width:"7",height:"11"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1341 15.5154L11.0049 16L9.10655 11.3834L10.2339 10.8982L12.1341 15.5154Z"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 7V14.0044L9.81813 12.2101L10.0802 12.1231H13L8 7Z"})),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1341 15.5154L11.0049 16L9.10655 11.3834L10.2339 10.8982L12.1341 15.5154Z",fill:"#A6A6A6"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 7V14.0044L9.81813 12.2101L10.0802 12.1231H13L8 7Z",fill:"#A6A6A6"}),n.a.createElement("path",{d:"M12.1341 15.5154L12.5285 16.4344C13.0306 16.2189 13.2668 15.6402 13.0589 15.1349L12.1341 15.5154ZM11.0049 16L10.08 16.3803C10.1819 16.628 10.3789 16.8245 10.6269 16.9258C10.8749 17.0271 11.1531 17.0246 11.3992 16.919L11.0049 16ZM9.10655 11.3834L8.71123 10.4649C8.20977 10.6807 7.97407 11.2588 8.18169 11.7637L9.10655 11.3834ZM10.2339 10.8982L11.1587 10.5176C11.0567 10.2698 10.8595 10.0733 10.6113 9.97214C10.3631 9.871 10.0848 9.87371 9.8386 9.97965L10.2339 10.8982ZM8 7L8.71565 6.30154C8.43161 6.0105 7.9996 5.92047 7.62294 6.07381C7.24628 6.22715 7 6.59332 7 7H8ZM8 14.0044H7C7 14.4077 7.24222 14.7715 7.61427 14.927C7.98633 15.0826 8.4154 14.9994 8.70243 14.7162L8 14.0044ZM9.81813 12.2101L9.50301 11.2611C9.35741 11.3094 9.22489 11.3906 9.1157 11.4984L9.81813 12.2101ZM10.0802 12.1231V11.1231C9.97313 11.1231 9.86674 11.1403 9.76511 11.174L10.0802 12.1231ZM13 12.1231V13.1231C13.4023 13.1231 13.7653 12.8821 13.9215 12.5114C14.0777 12.1407 13.9966 11.7125 13.7157 11.4246L13 12.1231ZM11.7398 14.5965L10.6105 15.081L11.3992 16.919L12.5285 16.4344L11.7398 14.5965ZM11.9298 15.6197L10.0314 11.0031L8.18169 11.7637L10.08 16.3803L11.9298 15.6197ZM9.50188 12.3019L10.6292 11.8167L9.8386 9.97965L8.71123 10.4649L9.50188 12.3019ZM9.30917 11.2788L11.2094 15.896L13.0589 15.1349L11.1587 10.5176L9.30917 11.2788ZM7 7V14.0044H9V7H7ZM8.70243 14.7162L10.5206 12.9219L9.1157 11.4984L7.29757 13.2927L8.70243 14.7162ZM10.1332 13.1592L10.3953 13.0721L9.76511 11.174L9.50301 11.2611L10.1332 13.1592ZM10.0802 13.1231H13V11.1231H10.0802V13.1231ZM13.7157 11.4246L8.71565 6.30154L7.28435 7.69846L12.2843 12.8215L13.7157 11.4246Z",fill:"white",mask:"url(#path-3-outside-1)"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"16",fill:"white"})))),"Active"),n.a.createElement("svg",{onClick:this.handleRemove.bind(null,"active"),className:"se__s-p__state-switcher-label__remove",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"})))))))}}var In=Object(o.b)(e=>({}),{})(Object(j.a)()(Pn));c.a.fn.inlineStyle=function(e){var t,a=this.attr("style");return a&&a.split(";").forEach((function(a){var s=a.split(":");Dn()(c.a.trim(s[0]))===e&&(t=s[1])})),t};let Tn=a(86).v4;const Rn={p:"Paragraph",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},jn=e=>{let{handleAddSeoAttribute:t}=e;return n.a.createElement(R.Menu,{style:{marginLeft:-13,marginTop:-15,width:150,minWidth:128},id:"seo-context-menu"},n.a.createElement(R.Item,{onClick:t.bind(null,"p")},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},"Paragraph")),n.a.createElement(R.Item,{onClick:t.bind(null,"h1")},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},"Heading 1")),n.a.createElement(R.Item,{onClick:t.bind(null,"h2")},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},"Heading 2")),n.a.createElement(R.Item,{onClick:t.bind(null,"h3")},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},"Heading 3")),n.a.createElement(R.Item,{onClick:t.bind(null,"h4")},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},"Heading 4")),n.a.createElement(R.Item,{onClick:t.bind(null,"h5")},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},"Heading 5")),n.a.createElement(R.Item,{onClick:t.bind(null,"h6")},n.a.createElement("span",{className:"va-middle",style:{marginTop:1}},"Heading 6")))};class Gn extends s.Component{componentDidMount(){this.init(),this.fetchLinksFromText(),document.removeEventListener("siter.textblur",this.onTextBlur),document.addEventListener("siter.textblur",this.onTextBlur),this.id=this.props.currentBlock.json[0].id,document.addEventListener("keydown",this.handleKeyPressBold),document.addEventListener("keydown",this.handleKeyPressItalic),document.addEventListener("keydown",this.handleKeyPressLineThrough),document.addEventListener("keydown",this.handleKeyPressUnderline)}componentWillUnmount(){this.clearActiveLinks(),document.removeEventListener("siter.textblur",this.onTextBlur),document.removeEventListener("keydown",this.handleKeyPressBold),document.removeEventListener("keydown",this.handleKeyPressItalic),document.removeEventListener("keydown",this.handleKeyPressLineThrough),document.removeEventListener("keydown",this.handleKeyPressUnderline)}removeSelection(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}componentWillReceiveProps(e){e.blocked!==this.props.blocked&&setTimeout(()=>{this.init(),e.currentBlock.json[0]&&this.fetchLinksFromText(e.currentBlock.json[0].id)},100)}getCKLinkPlaceholder(){if(this.props.currentBlock.json[0].data.content){const t=this.props.currentBlock.json[0].data.content.match(/href="([^"]*)"/);if(t)var e=t[1];return e}}constructor(e){var t;super(e),t=this,this.state={selectedTextStyles:{},CKEditorLinkHelper:new Bn,CKLinks:[],textDecoration:!1},this.isSafari=Object(qt.p)(),this.init=()=>{const e=this,t=Object(qt.i)();if(window.CKlisteners)for(const a of window.CKlisteners)a.removeListener();window.CKlisteners=[],window.CKEDITOR&&t&&(window.CKlisteners.push(null===t||void 0===t?void 0:t.on("selectionChange",e.setSelectedTextStyles)),window.CKlisteners.push(null===t||void 0===t?void 0:t.on("mouseUp",e.setSelectedTextStyles)),window.CKlisteners.push(null===t||void 0===t?void 0:t.on("doubleclick",e.setSelectedTextStyles))),(null===t||void 0===t?void 0:t.getSelection())&&t.getSelection().reset()},this.handleAddSeoAttribute=e=>{this.props.currentBlock.handleChangeProperties({data:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{seo_attribute:e})})},this.removeSeoAttribute=()=>{this.props.currentBlock.handleChangeProperties({data:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{seo_attribute:""})})},this.onTextBlur=()=>{-1===["input","textarea"].indexOf(document.activeElement.tagName.toLowerCase())&&this.removeSelection(),"autowidth"===this.props.currentBlock.json[0].data.behavior&&window.updateTextSize(!0,void 0,void 0,!0),this.fetchLinksFromText()},this.clearActiveLinks=()=>{const e=document.querySelector("#".concat(CSS.escape(this.id),' [data-content="true"]'));e&&e.querySelectorAll("a").forEach(e=>{e.classList.remove("siter-selected__link")})},this.selectElement=e=>{let t=Object(qt.i)().getSelection(),a=t.getStartElement();t.selectElement(a)},this.addlink=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=Object(qt.i)(),n=Object(qt.i)().getSelection().getStartElement();if(n&&n.$){let h=s.window.$.getComputedStyle(n.$,null);var{fontFamily:o,fontSize:i,fontWeight:r,fontStyle:l,lineHeight:c,textDecoration:p,textTransform:d}=h;const m={type:"link",attributes:{"data-id":"link-"+Tn(),"data-type":"link","data-popup-position":"center","data-overlay-color":"rgba(0, 0, 0, 0.2)","data-close-click-outside":!0,class:"str-link"},linkText:t.getSelectedText(!0),styles:{color:"inherit","font-size":i,"line-height":c,"font-style":l,"font-family":o,"font-weight":r,"text-transform":d,"text-decoration":p},url:{url:"http://google.com"}};if(t.state.CKEditorLinkHelper.insertLinksIntoSelection(s,m),a){const e=Object(qt.i)().document.$.body.innerHTML;t.props.currentBlock.handleChangeProperties({data:Object.assign(JSON.parse(JSON.stringify(t.props.currentBlock.json[0].data)),{content:e})},!1,()=>{},!1)}s.fire("change"),t.fetchLinksFromText(void 0,()=>{let e=s.document.$.querySelector("[data-id='".concat(m.attributes["data-id"],"']"));t.selectElement(e),t.forceUpdate()}),e()}},this.handleAddLinkToSelection=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};t.getSelectedText(!0)?(t.addlink(),e()):t.selectAllText(()=>{t.addlink(()=>{t.unselectAllText(),e()},!0)})},this.unselectAllText=e=>{this.props.currentBlock.handleChangeProperties({blocked:!1},!1,()=>{setTimeout(()=>{document.getElementById(this.props.currentBlock.json[0].id).querySelector("div").blur()},100)},!1)},this.selectAllText=e=>{this.props.currentBlock.handleChangeProperties({blocked:!0},!1,()=>{setTimeout(()=>{const t=Object(qt.i)();let a=t.document.$.body;var s=t.document.$.createRange();s.selectNodeContents(a);var n=t.window.$.getSelection();n.removeAllRanges(),n.addRange(s),e()},100)},!1)},this.fetchLinksFromText=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props.currentBlock.json[0].id,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const s=Object(qt.i)();let n=document,o="[data-content] a",i="#"+CSS.escape(e);var r;s&&t.props.currentBlock.json[0].blocked&&(n=null===(r=s.document)||void 0===r?void 0:r.$,o="a",i="body");if(document.getElementById(e)||(null===s||void 0===s?void 0:s.document)){var l;const e=[],s=null===(l=n)||void 0===l?void 0:l.querySelector(i);s&&s.querySelectorAll(o).forEach(t=>{e.push(t)}),t.setState({CKLinks:e},a)}},this.getCurrentStyles=()=>this.getSelectedText()?this.state.selectedTextStyles:this.props.generalStyles,this.getCurrentColor=()=>this.getSelectedText()?this.state.selectedTextStyles:this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].data.gradient?this.props.currentBlock.json[0].data.gradient:void 0,this.handleUpdateColor=e=>{let t=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{gradient:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data.gradient)),e)});this.props.currentBlock.handleChangeProperties({data:t}),this.forceUpdate(),this.removeFormatForStyles({background:""})},this.handleChangeBackground=(e,t)=>{if(this.props.currentBlockInfo.json&&Array.isArray(this.props.currentBlockInfo.json)){let a=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlockInfo.json[0].data)),{fills:e,fills_css:t});this.props.currentBlock.handleChangeProperties({data:a}),this.forceUpdate(),this.removeFormatForStyles({background:""})}},this.handleChangeHoverBackground=(e,t)=>{let a=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{fills_hover:e,fills_hover_css:t});this.props.currentBlock.handleChangeProperties({data:a}),this.forceUpdate()},this.updateStyles=e=>{const{handleChangeStyles:t,json:a}=this.props.currentBlock;t(e,()=>{this.updateCKstyles(),a[0]&&"fixedsize"!==a[0].data.behavior&&this.handleAutoresize(e,a[0].data.behavior),Object(qt.i)().fire("change")}),this.removeFormatForStyles(e)},this.updateCKstyles=()=>{if(this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].data){let e=this.props.currentBlock.json[0].data.align;const t=document.getElementById(this.props.currentBlock.json[0].id),a=Object(qt.i)();Object.assign(a.document.$.body.style,Object(qt.m)(t),{verticalAlign:e})}},this.handleUpdate=e=>{this.getSelectedText()?this.applyStyleToSelectedText(e):this.updateStyles(e)},this.handleAutoresize=(e,t)=>{if(!Object(qt.i)().focusManager.hasFocus){let t="px",a={},s=Object.assign(JSON.parse(JSON.stringify(this.props.generalStyles)),e);const{json:n,handleChangeStyles:o}=this.props.currentBlock,i=n[0],r=document.getElementById(i.id);if(r){const{offsetHeight:e}=r;if(e){let e=document.createElement("div");const{fontSize:n,lineHeight:o,fontWeight:r,fontFamily:l}=s;Object.assign(e.style,{"font-size":n,"line-height":o,"font-weight":r,"font-family":l,display:"table"}),e.innerHTML=i.data.content,document.body.appendChild(e),a.height=e.offsetHeight+t,a.width=e.offsetWidth+t,document.body.removeChild(e)}Object.keys(a).length>0&&o(a)}}},this.getSelectedText=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.props.blocked){const t=Object(qt.i)();if(t&&t.getSelection){const a=t.getSelection();if(!a)return!1;const s=a.getRanges();let n=t.getSelection().getSelectedText();for(let e=0,c=s.length;e<c;++e)s[e].collapsed||(n=t.getSelection().getSelectedText());let o=c()("<div>"+t.getData()+"</div>");o&&o.find("style")&&o[0]?(o.find("style").remove(),o=o[0].innerHTML):o=t.getData();const i=document.createElement("DIV");i.innerHTML=o;let r=i.textContent||i.innerText;const l=/(?:\s|\r\n|\r|\n)/g;return!((n?n.replace(l,""):n)===(r?r.replace(l,""):r)&&!e)&&n}}return!1},this.setSelectedTextStyles=e=>{if(e.editor.elementPath()){const _=e.editor.getSelection().getStartElement(),f=e.editor.elementPath().contains(e=>(e.is("span")||e.is("a"))&&e.getStyle("text-decoration"));let v=e.editor.window.$.getComputedStyle(_.$,null);var{fontFamily:t,fontSize:a,fontWeight:s,fontStyle:n,lineHeight:o,textAlign:i,textDecoration:r,textTransform:l,color:c,letterSpacing:p,wordSpacing:d,whiteSpace:h,textShadow:m,verticalAlign:u,wordWrap:g}=v;v={fontFamily:t,fontSize:a,fontWeight:s,fontStyle:n,lineHeight:o,textAlign:i,textDecoration:r,textTransform:l,color:c,letterSpacing:p,wordSpacing:d,whiteSpace:h,textShadow:m,verticalAlign:u,wordWrap:g},f&&(v=Object.assign({},v,{textDecoration:f.$.style.textDecoration})),"bold"===v.fontWeight&&(v.fontWeight="700"),"normal"===v.fontWeight&&(v.fontWeight="400"),this.setState({selectedTextStyles:v},()=>{})}},this.applyStyleToSelectedText=e=>{const t=Object(qt.i)(),a=document.createElement("div"),s=this.getSelectedElement();if(s&&s.tagName){let n=s.tagName.toLowerCase();"p"===n&&(n="span"),"div"===n&&(n="span"),"a"===n&&Object.assign(a.style,Object(qt.m)(s)),Object.assign(a.style,e);let o={element:n.toLowerCase(),attributes:{style:a.getAttribute("style")+"-webkit-background-clip: text !important;"}};const i=new window.CKEDITOR.style(o);t.applyStyle(i),Object(qt.i)().fire("change"),this.setSelectedTextStyles({editor:t})}},this.handleToggleTextDecoration=()=>{this.setState({textDecoration:!this.state.textDecoration})},this.handleTogglePopup=()=>{this.setState({textDecoration:!this.state.textDecoration},()=>{setTimeout(()=>{this.setTop()})})},this.handleOpenMenu=e=>{this.props.currentBlock.json[0].data.seo_attribute.length>0?this.handleToggleSeoAttribute():R.contextMenu.show({id:"seo-context-menu",event:e,props:{foo:"bar"}})},this.setTop=()=>{const e=document.getElementById("textDecorationPopup");if(e){let{top:t}=this.refs.textDecorationButton.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=50+window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.getSelectedElement=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object(qt.i)(),s=a.getSelection(),n=a.window.$.getSelection(),o=document.createElement("span");if(n.anchorNode&&(o=n.anchorNode,o=n.anchorNode),e){let e=a.document.$.querySelector(".siter-selected__link");if(t.props.blocked||e){if(s.getSelectedElement())o=s.getSelectedElement().$;else if(e)return e;if(c()(o).parents("a").length>0)return c()(o).parents("a")[0]}else t.state.CKLinks.length>0&&(o=t.state.CKLinks[0])}return o},this.linkActive=e=>{if(Object(qt.i)().instanceReady){const t=this.getSelectedElement();return!!(t.getAttribute&&e.getAttribute("data-id")&&t.getAttribute("data-id"))&&t.getAttribute("data-id")===e.getAttribute("data-id")}},this.getActiveLink=()=>{let e={getAttribute:e=>"data-type"===e?"link":null,dataset:{},removeAttribute:()=>{}},t=Object(qt.i)();if(null===t||void 0===t?void 0:t.instanceReady){let t=this.getSelectedElement(!0),a=this.getSelectedText();for(const s of this.state.CKLinks)!1===a&&"A"!==t.tagName&&t.querySelector&&t.querySelector("a")&&(t=t.querySelector("a")),t&&t.getAttribute&&t.getAttribute("data-id")===s.getAttribute("data-id")&&(e=s)}return e},this.removeFormatForStyles=e=>{const t=Object.keys(e),{blocked:a}=this.props;if(this.props.currentBlock&&Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json.length>0){const{id:e,data:s}=this.props.currentBlock.json[0];let n=document.querySelector("#".concat(CSS.escape(e)," [data-content]")),o=0;if(a&&(n=Object(qt.i)().document.$.body),n&&n.querySelectorAll("*").forEach(e=>{for(const a of t)c()(e).inlineStyle(a)&&(e.style[a]="",o++)}),o>0){const e=n.innerHTML;this.props.currentBlock.handleChangeProperties({data:Object.assign(JSON.parse(JSON.stringify(s)),{content:e})},!1,()=>{},!1)}}},this.handleToggleSeoAttribute=()=>{this.props.currentBlock.json[0].data.seo_attribute.length>0&&void 0!==this.props.currentBlock.json[0].data.seo_attribute&&null!==this.props.currentBlock.json[0].data.seo_attribute?this.props.currentBlock.handleChangeProperties({data:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{seo_attribute:""})}):this.props.currentBlock.handleChangeProperties({data:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{seo_attribute:"h1"})})},this.onColorPickerShow=()=>{document.querySelector(".section-editor__body").classList.add("section-editor__indicators_blocked")},this.onColorPickerHide=()=>{const e=document.querySelector(".section-editor__body");e&&e.classList.remove("section-editor__indicators_blocked")},this.handleToggleList=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ol",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"numberedlist",s=Object(qt.i)();const{id:n,data:o}=t.props.currentBlock.json[0];if(t.bulletedListActive()&&"ol"===e&&t.handleToggleList("ul","bulletedlist"),t.numberedListActive()&&"ul"===e&&t.handleToggleList("ol","numberedlist"),t.getSelectedText())t.bulletedListActive()||t.numberedListActive()||s.document.$.querySelectorAll("br").forEach((e,t)=>{var a,s;"LI"!==e.parentNode.tagName&&(("BR"===(null===(a=e.nextSibling)||void 0===a?void 0:a.tagName)||null===e.nextSibling||e.nextSibling&&(""===e.nextSibling.data||"\n"===(null===(s=e.nextSibling)||void 0===s?void 0:s.data))||e.nextSibling&&"\u200b\u200b\u200b\u200b\u200b\u200b\u200b"===e.nextSibling.data)&&e.insertAdjacentHTML("afterend","&#x200B;"))}),s.execCommand(a),s.document.$.querySelectorAll("br").forEach(e=>{0===e.classList.length&&e.classList.add("nl-"+window.currentDeviceName)});else{const{blocked:i}=t.props;if(i)s.execCommand(a,s.getSelection()),s.document.$.querySelectorAll("br").forEach(e=>{0===e.classList.length&&e.classList.add("nl-"+window.currentDeviceName)});else if(t.props.currentBlock&&Array.isArray(t.props.currentBlock.json)&&t.props.currentBlock.json.length>0){let a=document.querySelector("#".concat(CSS.escape(n)," [data-content]")),i=0;if(a){const t=a.innerHTML.split("\n").filter(e=>e);if(a.innerHTML.indexOf("<"+e)>-1)i++,a.querySelectorAll(e).forEach(e=>{let t="";e.querySelectorAll("li").forEach((a,s)=>{a.querySelectorAll("br").forEach(e=>{e.remove()}),t+=a.innerHTML.replace(/\n/g,"")+(s!==e.querySelectorAll("li").length-1?"<br>\n":"")}),c()(e).replaceWith(t)}),s.setData(a.innerHTML);else if(t.length>0){i++;let n="<"+e+">";for(const e of t)n+="<li>"+e+"</li>";n+="</"+e+">",a.innerHTML=n,s.setData(n)}}if(i>0){const e=a.innerHTML;t.props.currentBlock.handleChangeProperties({data:Object.assign(JSON.parse(JSON.stringify(o)),{content:e})},!0,()=>{},!1)}}}},this.bulletedListActive=()=>{if(this.props.currentBlock&&Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json.length>0){const{id:e}=this.props.currentBlock.json[0],t=document.querySelector("#".concat(CSS.escape(e)," [data-content]"));return this.props.blocked?1===Object(qt.i)().getCommand("bulletedlist").state:t.innerHTML.indexOf("<ul")>-1}},this.numberedListActive=()=>{if(this.props.currentBlock&&Array.isArray(this.props.currentBlock.json)&&this.props.currentBlock.json.length>0){const{id:e}=this.props.currentBlock.json[0],t=document.querySelector("#".concat(CSS.escape(e)," [data-content]"));return this.props.blocked?1===Object(qt.i)().getCommand("numberedlist").state:t.innerHTML.indexOf("<ol")>-1}},this.toggleHangingLists=()=>{let e=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{hanging_lists:!this.props.currentBlock.json[0].data.hanging_lists});this.props.currentBlock.handleChangeProperties({data:e}),this.forceUpdate()},this.handleBold=()=>{const e="700"===this.getCurrentStyles().fontWeight?"400":"700";this.handleUpdate({fontWeight:e}),this.forceUpdate()},this.handleUnderline=()=>{const e="underline"===this.getCurrentStyles().textDecoration?"none":"underline";this.handleUpdate({textDecoration:e}),this.forceUpdate()},this.handleItalic=()=>{const e="italic"===this.getCurrentStyles().fontStyle?"normal":"italic";this.handleUpdate({fontStyle:e}),this.forceUpdate()},this.handleLineThrough=()=>{const e="line-through"===this.getCurrentStyles().textDecoration?"none":"line-through";this.handleUpdate({textDecoration:e}),this.forceUpdate()},this.handleKeyPressBold=this.handleKeyPressBold.bind(this),this.handleKeyPressItalic=this.handleKeyPressItalic.bind(this),this.handleKeyPressUnderline=this.handleKeyPressUnderline.bind(this),this.handleKeyPressLineThrough=this.handleKeyPressLineThrough.bind(this)}handleKeyPressBold(e){(e.metaKey&&"b"===e.key||e.ctrlKey&&"b"===e.key)&&(e.preventDefault(),this.handleBold())}handleKeyPressUnderline(e){(e.metaKey&&"u"===e.key||e.ctrlKey&&"u"===e.key)&&(e.preventDefault(),this.handleUnderline())}handleKeyPressItalic(e){(e.metaKey&&"i"===e.key||e.ctrlKey&&"i"===e.key)&&(e.preventDefault(),this.handleItalic())}handleKeyPressLineThrough(e){(e.metaKey&&e.shiftKey&&"X"===e.key||e.ctrlKey&&e.shiftKey&&"X"===e.key)&&(e.preventDefault(),this.handleLineThrough())}render(){const{t:e}=this.props,t=this.getActiveLink(),a=this.getCKLinkPlaceholder();return n.a.createElement("div",{className:"se__s-p__mk-item__text-tools"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(In,{style:{marginTop:0},hover:this.props.currentBlock.json[0].data.hover,componentSlug:this.props.currentBlockInfo.json[0].slug,currentBlock:this.props.currentBlockInfo,handleChangeElementCurrentState:this.props.handleChangeElementCurrentState,elementCurrentState:this.props.elementCurrentState}),"default"===this.props.elementCurrentState&&n.a.createElement(n.a.Fragment,null,n.a.createElement(ws,{fills:this.props.currentBlockInfo.json[0].data.fills,update:this.handleChangeBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlock,path:"data.fills",label:"Color",elementSelector:".text_".concat(CSS.escape(this.props.currentBlockInfo.json[0].id))}),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",null,e("app.editor.settingspanel.text")),n.a.createElement("label",{ref:"textDecorationButton",id:"textDecoration",onClick:this.handleTogglePopup,className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"5",viewBox:"0 0 7 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.5 0C0.223858 0 0 0.223858 0 0.5C0 0.776142 0.223858 1 0.5 1V0ZM6.5 1C6.77614 1 7 0.776142 7 0.5C7 0.223858 6.77614 0 6.5 0V1ZM0.5 2C0.223858 2 0 2.22386 0 2.5C0 2.77614 0.223858 3 0.5 3V2ZM6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2V3ZM0.5 4C0.223858 4 0 4.22386 0 4.5C0 4.77614 0.223858 5 0.5 5V4ZM6.5 5C6.77614 5 7 4.77614 7 4.5C7 4.22386 6.77614 4 6.5 4V5ZM0.5 1H6.5V0H0.5V1ZM0.5 3H6.5V2H0.5V3ZM0.5 5H6.5V4H0.5V5Z",fill:"#444444"})))))),this.state.textDecoration&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleToggleTextDecoration}),n.a.createElement("div",{id:"textDecorationPopup",className:"input-wrapper__setting-textdecoration__popup",style:{top:this.state.top}},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(Ys,{handleItalic:this.handleItalic,handleBold:this.handleBold,handleLineThrough:this.handleLineThrough,handleUnderline:this.handleUnderline,styles:this.getCurrentStyles(),update:this.handleUpdate,toggleHangingLists:this.toggleHangingLists,hangingLists:this.props.currentBlock.json[0].data.hanging_lists,updator:()=>{},handleToggleNumList:()=>{this.handleToggleList()},handleToggleDotList:()=>{this.handleToggleList("ul","bulletedlist")},numberedListActive:this.numberedListActive(),bulletedListActive:this.bulletedListActive()})))),"default"===this.props.elementCurrentState?n.a.createElement("div",{className:"se__s-p__mk-item__text-tools_mousedown-disable"},n.a.createElement(Hs,{handleChangePage:this.props.handleChangePage,fonts:this.props.fonts,installedFonts:this.props.installedFonts,styles:this.getCurrentStyles(),property:"fontFamily",update:this.handleUpdate,updator:()=>{},currentBlock:this.props.currentBlock,currentBlockId:this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].id}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zs,{installedFonts:this.props.installedFonts,fonts:this.props.fonts,styles:this.getCurrentStyles(),property:"fontWeight",update:this.handleUpdate,updator:()=>{},type:"inline"}),n.a.createElement(qs,{styles:this.getCurrentStyles(),property:"fontSize",update:this.handleUpdate,updator:()=>{},size:"inline",changeLineHeight:!0})),n.a.createElement("div",{className:"se__s-p__mk-item-controls"},n.a.createElement(tn,{styles:this.props.generalStyles,property:"lineHeight",update:this.updateStyles,updator:()=>{},size:"inline"}),n.a.createElement(on,{styles:this.props.generalStyles,property:"letterSpacing",update:this.updateStyles,updator:()=>{},size:"inline"}),n.a.createElement(pn,{styles:this.props.generalStyles,property:"textIndent",update:this.updateStyles,updator:()=>{},size:"inline"})),n.a.createElement(Xs,{textAlign:this.props.generalStyles.textAlign,currentBlock:this.props.currentBlock,styles:this.props.generalStyles,update:this.handleUpdate,updator:()=>{},updateCKstyles:this.updateCKstyles}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,property:"textShadow",withoutSpread:!0,withoutInset:!0,title:e("app.editor.settingspanel.textshadow"),update:this.props.currentBlock.handleChangeStyles,updateCKstyles:this.updateCKstyles})):n.a.createElement(ws,{fills:this.props.currentBlock.json[0].data.fills_hover,update:this.handleChangeHoverBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlock,path:"data.fills_hover",label:"Text color",elementSelector:".text_".concat(CSS.escape(this.props.currentBlock.json[0].id))})),"default"===this.props.elementCurrentState&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",null,e("app.editor.settingspanel.link"))),n.a.createElement("div",{className:"se__s-p__mk-item se__s-p__mk-item_relative"},n.a.createElement(Nn,{link:t,linkHref:a,handleAddLinkToSelection:this.handleAddLinkToSelection,active:!1,handleChangeProperties:this.props.currentBlock.handleChangeProperties,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,getPageColors:this.props.getPageColors,getCK:qt.i,currentBlock:this.props.currentBlock,fetchLinksFromText:this.fetchLinksFromText}))),"default"===this.props.elementCurrentState&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleOpenMenu},n.a.createElement("span",null,e("app.editor.settingspanel.headingelement")),n.a.createElement("label",{id:"textkit-titles",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:this.props.currentBlock.json[0].data.seo_attribute.length>0,onChange:this.handleOpenMenu,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement(jn,{handleAddSeoAttribute:this.handleAddSeoAttribute}),this.props.currentBlock.json[0].data.seo_attribute&&n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting-seo input-wrapper__setting-shadows__items-item"},n.a.createElement("span",{className:"input-wrapper__setting-seo__left"},Rn[this.props.currentBlock.json[0].data.seo_attribute]),n.a.createElement("span",{className:"input-wrapper__setting-seo__right"}),n.a.createElement("svg",{onClick:this.removeSeoAttribute,className:"input-wrapper__setting-right-icons__minus fr",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"relative",zIndex:"10",marginTop:2}},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"})))))}}var Hn=Object(o.b)(e=>({}),{})(Object(j.a)()(Gn));class Un extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={hex:"000000",width:0,type:"solid",rgba:"rgba(0, 0, 0, 1)"},this.splitWithTail=(e,t,a)=>{const s=e.split(t),n=s.slice(a).join(t),o=s.slice(0,a);return o.push(n),o},this.rgbaBorder2hex=e=>{const t=e.match(/[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s]?([\d.]+)[\s+]?/g);if(null===t)return e;const a=t[0].split(", ");return a&&4===a.length?"#".concat("0".concat(parseInt(a[0],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[1],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[2],10).toString(16)).slice(-2)):""},this.setDefaults=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;const a=e.splitWithTail(t.styles[t.property]," ",2);e.setState({hex:e.rgbaBorder2hex(t.styles[t.property]).slice(1),width:parseInt(a[0],10),rgba:a[2],type:a[1]})},this.update=()=>{const e="".concat(this.state.width,"px ").concat(this.state.type," ").concat(this.state.rgba);this.props.update({[this.props.property]:e})},this.handleChange=e=>{(e.rgba||e.rgb)&&(e.rgb&&(e.rgba="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", 1)")),this.setState({hex:this.rgbaBorder2hex(e.rgba).slice(1),rgba:e.rgba},this.update))},this.handleChangeType=e=>{this.setState({type:e.value},this.update)},this.handleChangeInput=(e,t)=>{e.hex?pt.a.isValidHex(e.hex)&&this.handleChange(pt.a.toState({hex:e.hex,source:"hex"}),t):e.r||e.g||e.b?this.onChange({r:e.r||this.props.rgb.r,g:e.g||this.props.rgb.g,b:e.b||this.props.rgb.b,a:this.props.rgb.a,source:"rgb"},t):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,this.onChange({h:this.props.hsl.h,s:this.props.hsl.s,l:this.props.hsl.l,a:e.a,source:"rgb"},t)),t.target.focus()},this.onWidthChange=e=>{this.setState({width:e},this.update)},this.handleRemoveBorders=()=>{this.props.update({[this.props.property]:"none"})},this.types=[{label:"Solid",value:"solid",icon:'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path d="M0.999954 13.0001L13 1.00006" stroke="#AFAFAF" stroke-width="1.5" stroke-linecap="round"/></g><defs><clipPath id="clip0"><rect width="14" height="14" fill="white" transform="translate(0 14) rotate(-90)"/></clipPath></defs></svg>'},{label:"Dash",value:"dashed",icon:'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path d="M0.999939 13.0001L12.9999 1.00006" stroke="#AFAFAF" stroke-width="2" stroke-linecap="round" stroke-dasharray="2 5"/></g><defs><clipPath id="clip0"><rect width="14" height="14" fill="white" transform="translate(0 14) rotate(-90)"/></clipPath></defs></svg>'},{label:"Dots",value:"dotted",icon:'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><circle cx="1" cy="13" r="1" fill="#C4C4C4"/><circle cx="1" cy="13" r="1" fill="#AFAFAF"/><circle cx="4" cy="10" r="1" fill="#AFAFAF"/><circle cx="10" cy="4" r="1" fill="#AFAFAF"/><circle cx="13" cy="1" r="1" fill="#AFAFAF"/><circle cx="7" cy="7" r="1" fill="#AFAFAF"/></g><defs><clipPath id="clip0"><rect width="14" height="14" fill="white" transform="translate(0 14) rotate(-90)"/></clipPath></defs></svg>'}]}componentDidMount(){this.props.styles[this.props.property]&&this.setDefaults()}componentWillReceiveProps(e){this.props.styles[this.props.property]!==e.styles[e.property]&&this.setDefaults(e)}_renderOption(e){return n.a.createElement("div",null,n.a.createElement("span",{className:"select-inherit__icon",dangerouslySetInnerHTML:{__html:e.icon}}),e.label)}_renderValue(e){return n.a.createElement("div",{className:"select-value-container"},n.a.createElement("span",{className:"select-inherit__icon",dangerouslySetInnerHTML:{__html:e.icon}}),e.label)}render(){return n.a.createElement("div",{ref:"colorsetting"},n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_near-2 input-wrapper__setting_small-size input-wrapper__setting_nowrap"},n.a.createElement("label",{className:"input-wrapper__setting-label",style:{marginRight:8,verticalAlign:"text-bottom",fontSize:19}},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(this.state.width,10),onChange:e=>{this.onWidthChange(e)}},n.a.createElement("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("rect",{x:"13",width:"0.999999",height:"13",transform:"rotate(90 13 0)",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"13",y:"4",width:"2",height:"13",transform:"rotate(90 13 4)",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"13",y:"9",width:"3",height:"13",transform:"rotate(90 13 9)",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"12",fill:"white",transform:"translate(13 12) rotate(180)"})))))),n.a.createElement("input",{id:"size-border-".concat(this.t),className:"input input_setting input_setting-inline input-wrapper__setting-input",type:"number",name:"size-width",autoComplete:"off",value:this.state.width,onMouseUp:e=>{e.target.select()},onChange:e=>this.onWidthChange(e.target.value)}),n.a.createElement("span",{className:"input-wrapper__setting-select"},"px")),n.a.createElement("div",{className:"se__s-p__mk-item__border-inline"},n.a.createElement(Dt,{ref:"select",name:"border-type",value:this.state.type,onChange:this.handleChangeType,valueRenderer:this._renderValue,optionRenderer:this._renderOption,searchable:!1,clearable:!1,scrollMenuIntoView:!1,className:"select-wrapper-inlist select-wrapper__border",options:this.types})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,onChangeComplete:this.props.onChangeComplete,currentBlock:this.state,colorStartProperty:"rgba",colorStopProperty:"rgba",updateProperties:this.handleChange})))}}var Zn=Object(o.b)(e=>({}),{})(Un),zn=a(257),Vn=a(485);const Wn={cursor:"pointer"};class qn extends s.PureComponent{constructor(){super(),this.handleClick=this.handleClick.bind(this)}handleClick(e){const{onClick:t,index:a,photo:s}=this.props;t(e,{photo:s,index:a})}render(){const{photo:e,onClick:t,margin:a,left:s,top:o}=this.props,i={backgroundImage:"url(".concat(e.src,")"),display:"block",position:"absolute",left:s,top:o,margin:a,width:e.width,height:e.height},{user:r}=e;return n.a.createElement("div",{style:t?{...i,...Wn}:i,className:"unsplash-photo__item"},n.a.createElement("div",{className:"unsplash-photo__item-click",onClick:t?this.handleClick:null}),n.a.createElement("div",{className:"unsplash-photo__item-desc"},n.a.createElement("span",null,"Photo by\xa0"),n.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(r.links.html,"?utm_source=Siter.io&utm_medium=referral"),target:"_blank"},r.name)))}}Xa.a.shape({src:Xa.a.string.isRequired,width:Xa.a.number.isRequired,height:Xa.a.number.isRequired,alt:Xa.a.string,title:Xa.a.string,srcSet:Xa.a.array,sizes:Xa.a.array});var Kn=qn;const Yn=["Abstract","Art","Nature","Technology","Business","Random"];class Jn extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={originalImages:[],images:[],query:"",loading:!0},this.key="3c22ca42281e97504d680d9767551c9a533432d25405f453dfed8861df299d82",this.adding=!1,this.page=1,this.totalPages=1e3,this.timeout=()=>{},this.currentURL="https://api.unsplash.com/photos/",this.request=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};e.adding=!0;const o=new XMLHttpRequest;o.open(a,t,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=()=>{200===o.status&&n(JSON.parse(o.response))},o.send(JSON.stringify(s))},this.getImages=()=>{this.setState({loading:!0,originalImages:[],images:[]});const e="".concat(this.currentURL,"?page=1&per_page=50&query=").concat(this.state.query||"editorial","&client_id=").concat(this.key);this.request(e,"GET",{},e=>{e.results=e.results||e,this.setState({originalImages:e.results});const t=e.results.map(e=>({src:e.urls.thumb,width:e.width,height:e.height,user:e.user}));this.setState({images:t,loading:!1},()=>{this.adding=!1})})},this.getNextImages=()=>{const e="".concat(this.currentURL,"?page=").concat(this.page,"&per_page=50&query=").concat(this.state.query||"editorial","&client_id=").concat(this.key);this.request(e,"GET",{},e=>{e.results=e.results||e,this.totalPages=e.total_pages||9999,this.setState({originalImages:this.state.originalImages.concat(e.results)});const t=e.results.map(e=>({src:e.urls.thumb,width:e.width,height:e.height,user:e.user}));this.setState({images:this.state.images.concat(t)},()=>{this.adding=!1})})},this.handleClick=(e,t)=>{const a=this.state.originalImages[t.index],s="".concat(a.links.download_location,"?client_id=").concat(this.key);this.request(s,"GET",{},e=>{}),this.props.update({url:a.urls.regular,image_name:a.description}),this.props.handleShowUnsplash()},this.handleChangeQuery=e=>{this.currentURL="https://api.unsplash.com/search/photos/",this.setState({query:e.target.value},()=>{this.page=1,this.totalPages=1e3,e.force?this.getImages():(window.clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.state.query.length>=3&&this.getImages()},1e3))})},this.handleScrollUpdate=e=>{const{scrollTop:t,scrollHeight:a,clientHeight:s}=e;(t+200)/(a-s)>1&&!this.adding&&this.page<=this.totalPages&&(this.page++,this.getNextImages())},this.close=()=>{this.props.handleShowUnsplash()}}componentDidMount(){this.getImages(),document.getElementById("slider-images-modal")&&(document.getElementById("slider-images-modal").className=""),setTimeout(()=>{document.getElementsByClassName("unsplash-modal")[0].classList.add("modal-open")}),document.body.style.overflow="hidden",document.body.classList.add("icons-modal__opened"),document.getElementById("settings_panel")&&(document.getElementById("settings_panel").style.zIndex=9)}componentWillUnmount(){document.body.style.overflow="",document.body.classList.remove("icons-modal__opened"),document.getElementById("slider-images-modal")&&(document.getElementById("slider-images-modal").className="inline-wrapper modal-window"),document.getElementById("settings_panel")&&(document.getElementById("settings_panel").style.zIndex=7)}render(){const{images:e}=this.state,{t:t}=this.props;return n.a.createElement("div",{resize:"height",className:"login-wrapper dashboard-create__site unsplash-modal modal-closed"},n.a.createElement(P.a,{keyEventName:M.KEYDOWN,keyValue:"Escape",onKeyHandle:this.close}),n.a.createElement("div",{className:"dashboard-create__site-overlay",onClick:this.close}),n.a.createElement("div",{className:"inline-wrapper modal-window"},n.a.createElement("div",{className:"login__form_site_choose-unsplash__image"},n.a.createElement("div",{className:"login__form_site_choose-unsplash__image-head"},n.a.createElement("input",{autoComplete:"off",type:"text",value:this.state.query,onChange:this.handleChangeQuery,className:"input input_hover p-e__s-s__styles-box__input p-e__s-s__styles-box__input_unsplash fr",placeholder:t("app.editor.settingspanel.unsplashsearchplaceholder")})),n.a.createElement("div",{className:"login__form_site_choose-unsplash__tags"},Yn.map((e,t)=>n.a.createElement("div",{key:t,className:"login__form_site_choose-unsplash__tags-item",onClick:()=>{this.handleChangeQuery({force:!0,target:{value:e.toLowerCase()}})}},e))),n.a.createElement("div",{className:"login__form_site_choose-unsplash__image-body"},n.a.createElement(_e.a,{style:{height:250},onUpdate:this.handleScrollUpdate},this.state.loading&&n.a.createElement("div",{className:"siter-loader siter-loader_blue siter-loader_unsplash"}),0===e.length&&!this.state.loading&&n.a.createElement("div",{className:"login__form_site_choose-unsplash__image-body-no-results"},t("app.editor.settingspanel.unsplashemptyresults")),e.length>0&&n.a.createElement(Vn.a,{photos:e,margin:7.5,columns:3,direction:"column",ImageComponent:Kn,onClick:this.handleClick})))),n.a.createElement("svg",{className:"unsplash-modal__close cp",onClick:this.close,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.35355 11.3536L11.3536 1.35355L10.6464 0.646447L0.646447 10.6464L1.35355 11.3536ZM11.3536 10.6464L1.35355 0.646447L0.646447 1.35355L10.6464 11.3536L11.3536 10.6464Z",fill:"#444444"}))))}}var Xn=Object(o.b)(e=>({sessions:e.sessions}),{})(Object(j.a)()(Jn)),Qn=a(326),$n=a.n(Qn);const eo=["image/png","image/jpeg","image/gif","image/svg+xml"];class to extends s.Component{constructor(e){var t;super(e),t=this,this.t=(new Date).getTime(),this.uploaded=e=>{window.removeUploadFile({id:this.currentFileId}),setTimeout(()=>{this.setState({progress:.7})}),setTimeout(()=>{this.setState({progress:1})},500),setTimeout(()=>{if("backgroundImage"===this.props.property){const t="url(".concat(JSON.parse(e).asset.url,")");this.props.currentBlock.slug?this.props.handleChangeAllDevices(this.props.currentBlock,{backgroundImage:t}):(this.props.handleChangeAllDevices({backgroundImage:t}),this.props.updateProperties({bg_image:JSON.parse(e).asset.url})),this.handleChange(t)}"backgroundImage"!==this.props.property&&this.handleChange(JSON.parse(e).asset.url),this.setState({loading:!1,imagePreviewUrl:""}),document.getElementById("uploadForm")&&document.getElementById("uploadForm").reset()},1e3)},this.uploadImage=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{t:n}=t.props;if(e){if(e.size/1e6>10)return N.b.error("".concat(n("app.formerrors.filesize")," ").concat(10," MB"),"Error",5e3),void t.setState({loading:!1,progress:0,imagePreviewUrl:"",file:""});if(-1===eo.indexOf(e.type))return N.b.error(n("app.formerrors.filetypeisnotallowed"),"Error",5e3),void t.setState({loading:!1,progress:0,imagePreviewUrl:"",file:""})}const o=t;return t.currentFileId=(new Date).getTime(),new Promise((n,i)=>{const r=new FormData;a?(r.append("remote_data_url",a),window.addUploadFile({name:s,id:t.currentFileId}),t.forceUpdate()):(r.append("data",e),window.addUploadFile({name:e.name,id:t.currentFileId}),t.forceUpdate());const l=new XMLHttpRequest,c="".concat(d.a.defaults.baseURL,"/assets");l.open("post",c,!0),l.setRequestHeader("Authorization","Bearer ".concat(t.props.sessions.jwt)),l.onload=function(){201===this.status?o.uploaded(this.response):(o.setState({loading:!1,progress:0,imagePreviewUrl:""},this.forceUpdate),i(this.statusText))},l.send(r)})},this._handleSubmit=e=>{e.preventDefault(),this.uploadImage(this.state.file)},this._handleImageChange=e=>{e.preventDefault();let t={};const a=this,s=new FileReader,n=e.target.files[0];n&&(this.props.imageData&&(t.image_data=""),this.props.imageNameProperty&&(t.data=Object.assign(this.props.currentBlock,{[this.props.imageNameProperty]:n.name})),Object.keys(t).length>0&&this.props.changeProps(t),s.onloadend=e=>{this.setState({file:n,imagePreviewUrl:"url(".concat(s.result,")")});const t=new Image;t.onload=function(){a.width="".concat(this.width,"px"),a.height="".concat(this.height,"px")},t.src=e.target.result},s.readAsDataURL(n),this.setState({loading:!0,progress:.2}),setTimeout(()=>{this.uploadImage(this.state.file)},300))},this._removeImage=()=>{"backgroundImage"===this.props.property&&(this.handleChange("none"),this.props.currentBlock.slug?this.props.handleChangeAllDevices(this.props.currentBlock,{backgroundImage:"none"}):(this.props.handleChangeAllDevices({backgroundImage:"none"}),this.props.updateProperties({bg_image:""}))),"backgroundImage"!==this.props.property&&this.handleChange(""),this.setState({file:"",imagePreviewUrl:""}),document.getElementById("uploadForm").reset()},this.handleChange=e=>{const t={[this.props.property]:e};"backgroundImage"===this.props.property&&this.props.update(t),"backgroundImage"!==this.props.property&&(this.props.update(t),delete window.newDrawComponents[this.props.currentBlock.id])},this.onDrop=e=>{const t=new FileReader,a=e[0],s=this;if(a){let e={};this.props.imageData&&(e.image_data=""),this.props.imageNameProperty&&(e.data=Object.assign(this.props.currentBlock,{[this.props.imageNameProperty]:a.name})),Object.keys(e).length>0&&this.props.changeProps(e),this.setState({progress:.2}),t.onloadend=e=>{this.setState({file:a,loading:!0,imagePreviewUrl:"url(".concat(t.result,")")});const n=new Image;n.onload=function(){s.width="".concat(this.width,"px"),s.height="".concat(this.height,"px")},n.src=e.target.result},t.readAsDataURL(a),setTimeout(()=>{this.uploadImage(this.state.file)},300)}},this.bgImagePreview=()=>this.props.imageData?"url(".concat(this.props.imageData,")"):this.state.imagePreviewUrl?this.state.imagePreviewUrl:"url(".concat(this.props.currentBlock[this.props.property],")"),this.handleShowUnsplash=()=>{this.setState({showUnsplash:!this.state.showUnsplash})},this.updateFromUnsplash=e=>{let{url:t,image_name:a}=e;const s=this;let n={};this.props.imageData&&(n.image_data=""),this.props.imageNameProperty&&(n.data=Object.assign(this.props.currentBlock,{[this.props.imageNameProperty]:a})),Object.keys(n).length>0&&this.props.changeProps(n),this.setState({loading:!0,progress:.2,imagePreviewUrl:"url(".concat(t,")")});const o=new Image;o.onload=function(){s.width="".concat(this.width,"px"),s.height="".concat(this.height,"px")},o.src=t,this.uploadImage(void 0,t,a)},this.previewImageStyle=()=>{const e={backgroundImage:this.bgImagePreview()};return this.state.loading&&(e.filter="blur(".concat(10-10*this.state.progress,"px)")),e},this.state={progress:0,file:"",imagePreviewUrl:"",loading:!1,showUnsplash:!1},this._handleImageChange=this._handleImageChange.bind(this),this._handleSubmit=this._handleSubmit.bind(this)}render(){const{t:e}=this.props;return n.a.createElement(n.a.Fragment,null,!0===this.state.loading&&n.a.createElement("div",{className:"se__s-p-colorpicker-overlay"}),n.a.createElement("div",{className:"se__s-p__uploader"},"backgroundImage"===this.props.property&&n.a.createElement("form",{className:"se__s-p__uploader-form",id:"uploadForm",name:"uploadForm",onSubmit:this._handleSubmit},n.a.createElement("input",{id:"uploadFile".concat(this.t),className:"hidden",name:"file",type:"file",onChange:this._handleImageChange}),(this.state.imagePreviewUrl||"none"!==this.props.styles[this.props.property])&&n.a.createElement("div",{className:"se__s-p__uploader-form-preview"},n.a.createElement("div",{className:"se__s-p__uploader-form-preview-image",style:{backgroundImage:this.state.imagePreviewUrl||this.props.styles[this.props.property],filter:"blur(".concat(this.state.loading&&10-10*this.state.progress,"px)")}}),"none"!==this.props.styles[this.props.property]&&!this.state.loading&&n.a.createElement("div",{className:"str-section__wrapper__instruments-item str-section__wrapper__instruments-trash str-section__wrapper__instruments-trash_center",onClick:this._removeImage},n.a.createElement("img",{src:$n.a,alt:"Remove"})),this.state.loading&&n.a.createElement("div",{className:"str-section__wrapper__instruments-loader_center"},n.a.createElement("div",{className:"siter-loader"}))),!this.state.imagePreviewUrl&&"none"===this.props.styles[this.props.property]&&n.a.createElement(zn.a,{disableClick:!0,style:{border:0},activeClassName:"dropzone-active",onDrop:this.onDrop.bind(this),multiple:!1},n.a.createElement("div",{className:"se__s-p__uploader-zone"},n.a.createElement("svg",{className:"se__s-p__uploader-zone__placeholder",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M19.5 29H2.5V30H19.5V29ZM1 27.5V9.5H0V27.5H1ZM2.5 8H6V7H2.5V8ZM21 24V27.5H22V24H21ZM2.5 29C1.67157 29 1 28.3284 1 27.5H0C0 28.8807 1.11929 30 2.5 30V29ZM19.5 30C20.8807 30 22 28.8807 22 27.5H21C21 28.3284 20.3284 29 19.5 29V30ZM1 9.5C1 8.67157 1.67157 8 2.5 8V7C1.11929 7 0 8.11929 0 9.5H1Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M8.5 3.66667C8.5 1.82854 9.72565 0.5 11.0556 0.5H26.9444C28.2744 0.5 29.5 1.82854 29.5 3.66667V18.3333C29.5 20.1715 28.2744 21.5 26.9444 21.5H11.0556C9.72565 21.5 8.5 20.1715 8.5 18.3333V3.66667Z",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M21.6956 10.0348L22.0286 10.3375L21.6956 10.0348ZM16.8488 14.6971L16.5461 15.0301L17.2121 15.6355L17.5148 15.3025L16.8488 14.6971ZM25.3953 10.0348L25.7283 9.73208V9.73208L25.3953 10.0348ZM28.667 14.3026L28.9697 14.6356L29.6357 14.0302L29.333 13.6972L28.667 14.3026ZM12.604 13.6963L12.9081 14.028L12.604 13.6963ZM8.69592 16.6683L8.3642 16.9724L8.97236 17.6358L9.30408 17.3317L8.69592 16.6683ZM17.7579 16.3026L18.0606 16.6356L18.7266 16.0302L18.4239 15.6972L17.7579 16.3026ZM16.1432 13.8574L16.4762 13.5547L16.1432 13.8574ZM21.3626 9.73207L16.8488 14.6971L17.5148 15.3025L22.0286 10.3375L21.3626 9.73207ZM25.0623 10.3375L28.667 14.3026L29.333 13.6972L25.7283 9.73208L25.0623 10.3375ZM12.3 13.3645L8.69592 16.6683L9.30408 17.3317L12.9081 14.028L12.3 13.3645ZM18.4239 15.6972L16.4762 13.5547L15.8102 14.1602L17.7579 16.3026L18.4239 15.6972ZM12.9081 14.028C13.7451 13.2607 15.0464 13.32 15.8102 14.1602L16.4762 13.5547C15.377 12.3457 13.5045 12.2604 12.3 13.3645L12.9081 14.028ZM22.0286 10.3375C22.8419 9.44281 24.249 9.44281 25.0623 10.3375L25.7283 9.73208C24.5578 8.44462 22.5331 8.44461 21.3626 9.73207L22.0286 10.3375Z",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"14.7692",cy:"6.76921",r:"1.69231",fill:"#AFAFAF"})),n.a.createElement("div",{className:"se__s-p__uploader-zone__label"}," Drag and Drop here",n.a.createElement("br",null),"or\xa0",n.a.createElement("label",{style:{color:"#3E87F8"},htmlFor:"uploadFile".concat(this.t)},"Choose File"))))),"backgroundImage"!==this.props.property&&n.a.createElement("form",{className:"se__s-p__uploader-form",id:"uploadForm",name:"uploadForm",onSubmit:this._handleSubmit},n.a.createElement("input",{id:"uploadFile".concat(this.t),className:"hidden",name:"file",type:"file",onChange:this._handleImageChange}),(this.state.imagePreviewUrl||this.props.currentBlock[this.props.property])&&n.a.createElement(zn.a,{disableClick:!0,style:{border:0},activeClassName:"dropzone-active",onDrop:this.onDrop.bind(this),multiple:!1},n.a.createElement("div",{className:"se__s-p__uploader-form-preview"},n.a.createElement("div",{className:"se__s-p__uploader-form-preview-image",style:this.previewImageStyle()}),this.props.currentBlock[this.props.property]&&!this.props.disableRemove&&!this.state.loading&&n.a.createElement("div",{className:"str-section__wrapper__instruments-item str-section__wrapper__instruments-trash str-section__wrapper__instruments-trash_center",onClick:this._removeImage},n.a.createElement("img",{src:$n.a,alt:"Remove"})),this.props.currentBlock[this.props.property]&&this.props.disableRemove&&!this.state.loading&&n.a.createElement("div",{className:"str-section__wrapper__instruments-item str-section__wrapper__instruments-trash str-section__wrapper__instruments-trash_center"},n.a.createElement("label",{htmlFor:"uploadFile".concat(this.t)},n.a.createElement("svg",{className:"se__s-p__uploader-zone__placeholder",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 9.5C1 9.22386 0.776142 9 0.5 9C0.223858 9 0 9.22386 0 9.5H1ZM17 9.5C17 9.22386 16.7761 9 16.5 9C16.2239 9 16 9.22386 16 9.5H17ZM5.14645 3.14645C4.95118 3.34171 4.95118 3.65829 5.14645 3.85355C5.34171 4.04882 5.65829 4.04882 5.85355 3.85355L5.14645 3.14645ZM8.5 0.5L8.85355 0.146447C8.65829 -0.0488155 8.34171 -0.0488155 8.14645 0.146447L8.5 0.5ZM11.1464 3.85355C11.3417 4.04882 11.6583 4.04882 11.8536 3.85355C12.0488 3.65829 12.0488 3.34171 11.8536 3.14645L11.1464 3.85355ZM8 10.5C8 10.7761 8.22386 11 8.5 11C8.77614 11 9 10.7761 9 10.5H8ZM9 1C9 0.723858 8.77614 0.5 8.5 0.5C8.22386 0.5 8 0.723858 8 1H9ZM16 9.5V14.5H17V9.5H16ZM15.5 15H1.5V16H15.5V15ZM1 14.5V9.5H0V14.5H1ZM5.85355 3.85355L8.85355 0.853553L8.14645 0.146447L5.14645 3.14645L5.85355 3.85355ZM8.14645 0.853553L11.1464 3.85355L11.8536 3.14645L8.85355 0.146447L8.14645 0.853553ZM9 10.5V1H8V10.5H9ZM1.5 15C1.22386 15 1 14.7761 1 14.5H0C0 15.3284 0.671573 16 1.5 16V15ZM16 14.5C16 14.7761 15.7761 15 15.5 15V16C16.3284 16 17 15.3284 17 14.5H16Z",fill:"white"})))),this.state.loading&&n.a.createElement("div",{className:"str-section__wrapper__instruments-loader_center"},n.a.createElement("div",{className:"siter-loader"},"Loading...")))),!this.state.imagePreviewUrl&&!this.props.currentBlock[this.props.property]&&n.a.createElement(zn.a,{disableClick:!0,style:{border:0},activeClassName:"dropzone-active",onDrop:this.onDrop.bind(this),multiple:!1},n.a.createElement("div",{className:"se__s-p__uploader-zone"},n.a.createElement("svg",{className:"se__s-p__uploader-zone__placeholder",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M19.5 29H2.5V30H19.5V29ZM1 27.5V9.5H0V27.5H1ZM2.5 8H6V7H2.5V8ZM21 24V27.5H22V24H21ZM2.5 29C1.67157 29 1 28.3284 1 27.5H0C0 28.8807 1.11929 30 2.5 30V29ZM19.5 30C20.8807 30 22 28.8807 22 27.5H21C21 28.3284 20.3284 29 19.5 29V30ZM1 9.5C1 8.67157 1.67157 8 2.5 8V7C1.11929 7 0 8.11929 0 9.5H1Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M8.5 3.66667C8.5 1.82854 9.72565 0.5 11.0556 0.5H26.9444C28.2744 0.5 29.5 1.82854 29.5 3.66667V18.3333C29.5 20.1715 28.2744 21.5 26.9444 21.5H11.0556C9.72565 21.5 8.5 20.1715 8.5 18.3333V3.66667Z",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M21.6956 10.0348L22.0286 10.3375L21.6956 10.0348ZM16.8488 14.6971L16.5461 15.0301L17.2121 15.6355L17.5148 15.3025L16.8488 14.6971ZM25.3953 10.0348L25.7283 9.73208V9.73208L25.3953 10.0348ZM28.667 14.3026L28.9697 14.6356L29.6357 14.0302L29.333 13.6972L28.667 14.3026ZM12.604 13.6963L12.9081 14.028L12.604 13.6963ZM8.69592 16.6683L8.3642 16.9724L8.97236 17.6358L9.30408 17.3317L8.69592 16.6683ZM17.7579 16.3026L18.0606 16.6356L18.7266 16.0302L18.4239 15.6972L17.7579 16.3026ZM16.1432 13.8574L16.4762 13.5547L16.1432 13.8574ZM21.3626 9.73207L16.8488 14.6971L17.5148 15.3025L22.0286 10.3375L21.3626 9.73207ZM25.0623 10.3375L28.667 14.3026L29.333 13.6972L25.7283 9.73208L25.0623 10.3375ZM12.3 13.3645L8.69592 16.6683L9.30408 17.3317L12.9081 14.028L12.3 13.3645ZM18.4239 15.6972L16.4762 13.5547L15.8102 14.1602L17.7579 16.3026L18.4239 15.6972ZM12.9081 14.028C13.7451 13.2607 15.0464 13.32 15.8102 14.1602L16.4762 13.5547C15.377 12.3457 13.5045 12.2604 12.3 13.3645L12.9081 14.028ZM22.0286 10.3375C22.8419 9.44281 24.249 9.44281 25.0623 10.3375L25.7283 9.73208C24.5578 8.44462 22.5331 8.44461 21.3626 9.73207L22.0286 10.3375Z",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"14.7692",cy:"6.76921",r:"1.69231",fill:"#AFAFAF"})),n.a.createElement("div",{className:"se__s-p__uploader-zone__label"},e("app.editor.settingspanel.dragdroptext"),n.a.createElement("br",null)," ",e("app.editor.settingspanel.dragdroptextor"),"\xa0",n.a.createElement("label",{style:{color:"#3E87F8"},htmlFor:"uploadFile".concat(this.t)},e("app.editor.settingspanel.choosefile")))))),n.a.createElement("button",{type:"button",className:"button button_white button_unsplash",onClick:this.handleShowUnsplash},n.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{x:"7",y:"2",width:"6",height:"4.5",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9H2V18H18V9H13V13.5H7V9Z",fill:"#AFAFAF"})),n.a.createElement("span",null,e("app.editor.settingspanel.unsplash"))),this.state.showUnsplash&&n.a.createElement(Xn,{handleShowUnsplash:this.handleShowUnsplash,update:this.updateFromUnsplash})))}}var ao=Object(o.b)(e=>({sessions:e.sessions}),{})(Object(j.a)()(to));const so=e=>{let{handleChangeLinkType:t,t:a,form:s}=e;return n.a.createElement(R.Menu,{style:{marginLeft:-25,marginTop:-8,width:"auto",minWidth:128},id:"linktype-context-menu"},n.a.createElement(R.Item,{onClick:t.bind(null,"page")},a("app.editor.settingspanel.clickactions.page")),n.a.createElement(R.Item,{onClick:t.bind(null,"link")},a("app.editor.settingspanel.clickactions.externalurl")),n.a.createElement(R.Item,{onClick:t.bind(null,"element")},a("app.editor.settingspanel.clickactions.scrolltoelement")),n.a.createElement(R.Item,{onClick:t.bind(null,"email")},a("app.editor.settingspanel.clickactions.email")),n.a.createElement(R.Item,{onClick:t.bind(null,"phone")},a("app.editor.settingspanel.clickactions.phone")),n.a.createElement(R.Item,{onClick:t.bind(null,"popup")},a("app.editor.settingspanel.clickactions.openoverlay")),!s&&n.a.createElement(R.Item,{onClick:t.bind(null,"close_popup")},a("app.editor.settingspanel.clickactions.closeoverlays")))};class no extends s.Component{constructor(){super(...arguments),this.state={displayPicker:!1,href:"",type:"link",top:-1e4},this.popupPositions=()=>{const{t:e}=this.props;return[{label:e("app.editor.settingspanel.clickactions.overlaypositions.centered"),value:"center"},{label:e("app.editor.settingspanel.clickactions.overlaypositions.topleft"),value:"top_left"},{label:e("app.editor.settingspanel.clickactions.overlaypositions.topcenter"),value:"top_center"},{label:e("app.editor.settingspanel.clickactions.overlaypositions.topright"),value:"top_right"},{label:e("app.editor.settingspanel.clickactions.overlaypositions.bottomleft"),value:"bottom_left"},{label:e("app.editor.settingspanel.clickactions.overlaypositions.bottomcenter"),value:"bottom_center"},{label:e("app.editor.settingspanel.clickactions.overlaypositions.bottomright"),value:"bottom_right"}]},this.setTop=()=>{const e=document.getElementById("link-".concat(this.t));if(e){let t=this.refs.linkrel.getBoundingClientRect().top+43;e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.handleClose=()=>{this.setState({displayPicker:!1,top:-1e4})},this.handleOpen=()=>{this.setState({displayPicker:!this.state.displayPicker},()=>{setTimeout(this.setTop)}),setTimeout(()=>{if(this.state.displayPicker){const e=document.getElementById("ckeditor_links_href");e&&(e.focus(),e.setSelectionRange(0,e.value.length))}},100)},this.initLink=e=>{const{currentBlock:t,typeProperty:a,hrefProperty:s,bodyProperty:n,subjectProperty:o}=e;let i,r,l=t[s];"phone"!==t[a]&&"email"!==t[a]||(r="mailto:",i="?subject=".concat(t[o]||"","&body=").concat(t[n]||""),l=l.replace(i,"").replace("mailto:","")),this.setState({href:l})},this.toggleTypeSelect=e=>{R.contextMenu.show({id:"linktype-context-menu",event:e,props:{foo:"bar"}})},this.handleChangeLinkType=e=>{let t=this.handleChangeHref({target:{value:""}},!0);["element","popup"].indexOf(e)>-1?this.props.chooseBlockMode||this.props.handleChooseBlockMode():this.props.handleChooseBlockMode(!0),"close_popup"===e&&(t=this.handleChangeHref({target:{value:"#close_popup"}},!0)),"popup"===e&&(t=this.handleChangeHref({target:{value:""}},!0)),this.props.handleChangeProperties({[this.props.typeProperty]:e,[this.props.hrefProperty]:t},this.setTop),this.forceUpdate()},this.handleChangeHref=(e,t)=>{const{value:a}=e.target;let s="",n="";if("email"===this.getCurrentType()&&(s="mailto:",n="?subject=".concat(this.props.currentBlock[this.props.subjectProperty]||"","&body=").concat(this.props.currentBlock[this.props.bodyProperty]||"")),"phone"===this.getCurrentType()&&(s="tel:"),this.setState({href:a}),t)return s+a+n;this.props.handleChangeProperties({[this.props.hrefProperty]:s+a+n}),this.forceUpdate()},this.handleChangeTargetBlank=e=>{this.props.handleChangeProperties({[this.props.targetProperty]:e.target.checked}),this.forceUpdate()},this.handleChangeSubject=e=>{const{value:t}=e.target;this.props.handleChangeProperties({[this.props.subjectProperty]:t}),setTimeout(()=>{this.handleChangeHref({target:{value:this.state.href}})}),this.forceUpdate()},this.handleChangeBody=e=>{const{value:t}=e.target;this.props.handleChangeProperties({[this.props.bodyProperty]:t}),setTimeout(()=>{this.handleChangeHref({target:{value:this.state.href}})}),this.forceUpdate()},this.handleChangePopupOverlayColor=e=>{this.props.handleChangeProperties(e),this.forceUpdate()},this.handleChangePopUpPosition=e=>{this.props.handleChangeProperties({popup_position:e.value}),this.forceUpdate()},this.handleChangeCloseClickOutside=e=>{this.props.handleChangeProperties({close_click_outside:e.target.checked}),this.forceUpdate()},this.handleChangeAriaLabel=e=>{this.props.handleChangeProperties({ariaLabel:e.target.value}),this.forceUpdate()},this.getCurrentType=()=>this.props.currentBlock[this.props.typeProperty]||"link",this.t=(new Date).getTime()}componentDidMount(){this.initLink(this.props)}componentWillReceiveProps(e){this.props.choosedBlock!==e.choosedBlock&&(this.props.handleChooseBlockMode(),this.handleChangeHref({target:{value:"#".concat(e.choosedBlock.split(" ")[0])}})),e.currentBlockId!==this.props.currentBlockId&&this.initLink(e),e.currentBlock[this.props.typeProperty]!==this.getCurrentType()&&setTimeout(this.setTop)}render(){const{t:e}=this.props,t=Be()("se__s-p-colorpicker",{"se__s-p-colorpicker-custom_active":this.state.displayPicker,"se__s-p-colorpicker_small":"small"===this.props.size}),a=Be()("input-wrapper__setting input-wrapper__setting-link input-wrapper__setting_pointer",{"input-wrapper__setting_small input-wrapper__setting_small-colorpicker":"small"===this.props.size});return n.a.createElement(n.a.Fragment,null,this.state.displayPicker&&"link"===this.getCurrentType()&&n.a.createElement("div",{id:"link-".concat(this.t),className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting"},n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_cke input-wrapper__setting_cklink-url",name:"url",type:"text",placeholder:e("app.editor.settingspanel.clickactions.urlplaceholder"),onChange:this.handleChangeHref,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(so,{t:e,handleChangeLinkType:this.handleChangeLinkType,form:this.props.form})),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom noborder"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail input_noradius",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:this.props.currentBlock.ariaLabel}))),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom noborder"},n.a.createElement("div",{className:"checkbox_cke"},n.a.createElement("label",{htmlFor:"open-in-new-tab",className:"input-wrapper__setting-label"},e("app.editor.settingspanel.openinnewtab")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input",style:{marginTop:5}},n.a.createElement("input",{id:"open-in-new-tab",onChange:this.handleChangeTargetBlank,checked:this.props.currentBlock[this.props.targetProperty],type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))),this.state.displayPicker&&"email"===this.getCurrentType()&&n.a.createElement("div",{id:"link-".concat(this.t),className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting"},n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_cke input-wrapper__setting_cklink-email",name:"url",type:"text",placeholder:"your@email.address",onChange:this.handleChangeHref,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(so,{form:this.props.form,t:e,handleChangeLinkType:this.handleChangeLinkType})),n.a.createElement("div",null,n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_ckemail input_noradius",name:"subject",type:"text",placeholder:e("app.editor.settingspanel.clickactions.subjectplaceholder"),onChange:this.handleChangeSubject,value:this.props.currentBlock[this.props.subjectProperty]})),n.a.createElement("div",null,n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_ckemail input_noradius",name:"subject",type:"text",placeholder:e("app.editor.settingspanel.clickactions.bodyplaceholder"),onChange:this.handleChangeBody,value:this.props.currentBlock[this.props.bodyProperty]})),n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail noborder input_noradius",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:this.props.currentBlock.ariaLabel})),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",{className:"checkbox_cke"},n.a.createElement("label",{htmlFor:"open-in-new-tab",className:"input-wrapper__setting-label"},e("app.editor.settingspanel.openinnewtab")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input",style:{marginTop:5}},n.a.createElement("input",{id:"open-in-new-tab",onChange:this.handleChangeTargetBlank,checked:this.props.currentBlock[this.props.targetProperty],type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))),this.state.displayPicker&&"phone"===this.getCurrentType()&&n.a.createElement("div",{id:"link-".concat(this.t),className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting noborder"},n.a.createElement("input",{id:"ckeditor_links_href",className:"input input_cke input-wrapper__setting_cklink-phone",name:"url",type:"text",placeholder:e("app.editor.settingspanel.clickactions.phoneplaceholder"),onChange:this.handleChangeHref,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:this.props.currentBlock.ariaLabel}))),n.a.createElement(so,{form:this.props.form,t:e,handleChangeLinkType:this.handleChangeLinkType})))),this.state.displayPicker&&"page"===this.getCurrentType()&&n.a.createElement("div",{id:"link-".concat(this.t),className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting"},n.a.createElement("input",{id:"ckeditor_page_href",className:"input input_cke input-wrapper__setting_cklink-page",name:"url",type:"text",readOnly:!0,placeholder:"Your URL...",onChange:this.handleChangeHref,value:e("app.editor.settingspanel.clickactions.selectpage")}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(so,{form:this.props.form,t:e,handleChangeLinkType:this.handleChangeLinkType})),n.a.createElement("div",{className:"custom-scrollbar cklink-settings-popup__pages"},this.props.site.pages.filter(e=>e.id!==window.pageId).map((e,t)=>n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item_page ".concat("/".concat(e.path)===this.state.href&&"cklink-settings-popup__item_page_active"),key:t},n.a.createElement("span",{className:"cklink-settings-popup__item_page-name",onClick:()=>{this.handleChangeHref({target:{value:"/".concat(e.path)}})}},e.name||"No name"),n.a.createElement("div",{className:"cklink-settings-popup__item_page-right"},n.a.createElement("span",{className:"cklink-settings-popup__item_page-right-path",onClick:this.handleChangeHref.bind(null,{target:{value:"/".concat(e.path)}})},"/",e.path),n.a.createElement("a",{rel:"noopener noreferrer",href:"https://".concat(this.props.site.default_domain,"/").concat(e.path),target:"_blank"},n.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6 3.5H4C3.17157 3.5 2.5 4.17157 2.5 5V11C2.5 11.8284 3.17157 12.5 4 12.5H10C10.8284 12.5 11.5 11.8284 11.5 11V9",stroke:"#7F7F7F"}),n.a.createElement("path",{d:"M8.5 3C8.22386 3 8 3.22386 8 3.5C8 3.77614 8.22386 4 8.5 4V3ZM11.5 3.5H12C12 3.22386 11.7761 3 11.5 3V3.5ZM11 6.5C11 6.77614 11.2239 7 11.5 7C11.7761 7 12 6.77614 12 6.5H11ZM5.14645 9.14645C4.95118 9.34171 4.95118 9.65829 5.14645 9.85355C5.34171 10.0488 5.65829 10.0488 5.85355 9.85355L5.14645 9.14645ZM8.5 4H11.5V3H8.5V4ZM11 3.5V6.5H12V3.5H11ZM5.85355 9.85355L11.8536 3.85355L11.1464 3.14645L5.14645 9.14645L5.85355 9.85355Z",fill:"#7F7F7F"}))))))),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_aria-label",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:this.props.currentBlock.ariaLabel})),n.a.createElement("div",{className:"checkbox_cke"},n.a.createElement("label",{htmlFor:"open-in-new-tab",className:"input-wrapper__setting-label"},e("app.editor.settingspanel.openinnewtab")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input",style:{marginTop:5}},n.a.createElement("input",{id:"open-in-new-tab",onChange:this.handleChangeTargetBlank,checked:this.props.currentBlock[this.props.targetProperty],type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))),this.state.displayPicker&&"element"===this.getCurrentType()&&n.a.createElement("div",{id:"link-".concat(this.t),className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting noborder"},n.a.createElement("input",{id:"ckeditor_page_href",className:"input input_cke input-wrapper__setting_cklink-element",name:"url",type:"text",readOnly:!0,placeholder:e("app.editor.settingspanel.clickactions.selectelement"),onChange:this.handleChangeHref,onClick:this.props.handleChooseBlockMode,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(so,{t:e,form:this.props.form,handleChangeLinkType:this.handleChangeLinkType}),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:this.props.currentBlock.ariaLabel})))))),this.state.displayPicker&&"popup"===this.getCurrentType()&&n.a.createElement("div",{id:"link-".concat(this.t),className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",{className:"cklink-settings-popup__current-setting"},n.a.createElement("input",{id:"ckeditor_page_href",className:"input input_cke input-wrapper__setting_cklink-popup-element",name:"block_url",type:"text",readOnly:!0,placeholder:e("app.editor.settingspanel.clickactions.selectelement"),onChange:this.handleChangeHref,onClick:this.props.handleChooseBlockMode,value:this.state.href}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement(so,{t:e,form:this.props.form,handleChangeLinkType:this.handleChangeLinkType})),n.a.createElement("div",{className:"cklink-settings-popup__inner"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_first"},e("app.editor.settingspanel.clickactions.overlayposition")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Dt,{name:"inherit_device",value:this.props.currentBlock.popup_position,onChange:this.handleChangePopUpPosition,searchable:!1,autoFocus:!1,clearable:!1,scrollMenuIntoView:!1,options:this.popupPositions()})),n.a.createElement("div",{className:"se__s-p__mk-item__title"},e("app.editor.settingspanel.clickactions.overlaybg")),n.a.createElement("div",{className:"se__s-p__mk-item",style:{position:"relative",minHeight:50}},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.currentBlock,colorStartProperty:"overlay_color",colorStopProperty:"overlay_color",updateProperties:this.handleChangePopupOverlayColor,update:()=>{}})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("label",{htmlFor:"close",className:"switcher switcher_small switcher_input",style:{marginLeft:0,marginTop:0}},n.a.createElement("input",{id:"close",checked:this.props.currentBlock.close_click_outside,onChange:this.handleChangeCloseClickOutside,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))),n.a.createElement("label",{htmlFor:"close",className:"switcher-small__label"},e("app.editor.settingspanel.clickactions.closewhenclickoutside"))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("input",{id:"aria-label",className:"input input-collaboration",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:this.props.currentBlock.ariaLabel})))),this.state.displayPicker&&"close_popup"===this.getCurrentType()&&n.a.createElement("div",{id:"link-".concat(this.t),className:"cklink-settings-popup",style:{top:this.state.top}},n.a.createElement("div",null,n.a.createElement("div",{className:"cklink-settings-popup__current-setting noborder"},n.a.createElement("input",{id:"ckeditor_page_href",className:"input input_cke input-wrapper__setting_cklink-closepopup",name:"url",type:"text",readOnly:!0,placeholder:e("app.editor.settingspanel.clickactions.closeoverlays"),onChange:this.handleChangeHref,value:""}),n.a.createElement("div",{className:"cklink-settings-popup__item-selector",onClick:this.toggleTypeSelect},n.a.createElement("div",{className:"input-wrapper__setting-value__button input-wrapper__setting-value__button_ff fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),n.a.createElement("div",{className:"cklink-settings-popup__item cklink-settings-popup__item-bottom"},n.a.createElement("div",null,n.a.createElement("input",{id:"aria-label",className:"input input_ckemail",name:"aria-label",type:"text",placeholder:"Link title (optional)",onChange:this.handleChangeAriaLabel,value:this.props.currentBlock.ariaLabel}))),n.a.createElement(so,{t:e,form:this.props.form,handleChangeLinkType:this.handleChangeLinkType})))),n.a.createElement("div",{className:t,style:{position:"relative"}},this.state.displayPicker&&!this.props.chooseBlockMode&&n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleClose}),n.a.createElement("div",{className:a,ref:"linkrel"},!this.state.displayColorPicker&&n.a.createElement("div",{className:"input-wrapper__setting-clickable",onClick:this.handleOpen}),"link"===this.getCurrentType()&&n.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:this.handleOpen},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("path",{d:"M9.85357 4.85358C10.0488 4.65832 10.0488 4.34174 9.85357 4.14648C9.65831 3.95122 9.34173 3.95122 9.14647 4.14648L9.85357 4.85358ZM4.14647 9.14648C3.9512 9.34174 3.9512 9.65832 4.14647 9.85358C4.34173 10.0488 4.65831 10.0488 4.85357 9.85358L4.14647 9.14648ZM6.38264 11.86L6.11965 12.123L6.82676 12.8301L7.08974 12.5672L6.38264 11.86ZM7.14971 11.093L6.38264 11.86L7.08974 12.5672L7.85682 11.8001L7.14971 11.093ZM12.1213 6.12134L11.8584 6.38433L12.5655 7.09143L12.8284 6.82845L12.1213 6.12134ZM11.8584 6.38433L11.0902 7.15243L11.7974 7.85954L12.5655 7.09143L11.8584 6.38433ZM7.61571 2.14169L7.8787 1.8787L7.17159 1.17159L6.90861 1.43458L7.61571 2.14169ZM6.84762 2.90978L7.61571 2.14169L6.90861 1.43458L6.14051 2.20268L6.84762 2.90978ZM1.87701 7.88039L2.14 7.6174L1.43289 6.9103L1.1699 7.17328L1.87701 7.88039ZM2.14 7.6174L2.90706 6.85034L2.19996 6.14323L1.43289 6.9103L2.14 7.6174ZM9.14647 4.14648L4.14647 9.14648L4.85357 9.85358L9.85357 4.85358L9.14647 4.14648ZM11.0902 7.15243C10.8205 7.42214 10.4413 7.55193 10.0629 7.50399L9.93719 8.49607C10.6223 8.58285 11.309 8.34786 11.7974 7.85954L11.0902 7.15243ZM2.90706 6.85034C3.1778 6.5796 3.55832 6.44892 3.93827 6.4962L4.06176 5.50386C3.37577 5.41849 2.68877 5.65442 2.19996 6.14323L2.90706 6.85034ZM1.1699 12.8301C2.732 14.3922 5.26466 14.3922 6.82676 12.8301L6.11965 12.123C4.94808 13.2946 3.04858 13.2946 1.87701 12.123L1.1699 12.8301ZM12.1213 1.8787C13.2929 3.05027 13.2929 4.94977 12.1213 6.12134L12.8284 6.82845C14.3905 5.26635 14.3905 2.73369 12.8284 1.17159L12.1213 1.8787ZM12.8284 1.17159C11.2663 -0.390503 8.73369 -0.390503 7.17159 1.17159L7.8787 1.8787C9.05027 0.707127 10.9498 0.707128 12.1213 1.8787L12.8284 1.17159ZM7.85682 11.8001C8.34562 11.3113 8.58155 10.6243 8.49619 9.93829L7.50385 10.0618C7.55112 10.4417 7.42045 10.8222 7.14971 11.093L7.85682 11.8001ZM6.14051 2.20268C5.65218 2.691 5.41719 3.37775 5.50398 4.06287L6.49605 3.93719C6.44812 3.55879 6.57791 3.17949 6.84762 2.90978L6.14051 2.20268ZM1.87701 12.123C0.705438 10.9515 0.705438 9.05196 1.87701 7.88039L1.1699 7.17328C-0.392193 8.73538 -0.392193 11.268 1.1699 12.8301L1.87701 12.123Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"14",height:"14",fill:"white"})))),"page"===this.getCurrentType()&&n.a.createElement("img",{onClick:this.handleOpen,src:un.a,alt:"Page"}),"element"===this.getCurrentType()&&n.a.createElement("img",{onClick:this.handleOpen,src:_n.a,alt:"Element"}),"email"===this.getCurrentType()&&n.a.createElement("img",{onClick:this.handleOpen,src:Cn.a,alt:"Email"}),"phone"===this.getCurrentType()&&n.a.createElement("img",{onClick:this.handleOpen,src:vn.a,alt:"Phone"}),"popup"===this.getCurrentType()&&n.a.createElement("img",{onClick:this.handleOpen,src:bn.a,alt:"Popup"}),"close_popup"===this.getCurrentType()&&n.a.createElement("img",{onClick:this.handleOpen,src:kn.a,alt:"Popup"}),"close_popup"===this.getCurrentType()?n.a.createElement("div",{className:"input-wrapper__setting-text-value",onClick:this.handleOpen},e("app.editor.settingspanel.clickactions.closeoverlays")):n.a.createElement("div",{className:"input-wrapper__setting-text-value",id:"open-link-modal",onClick:this.handleOpen},this.state.href||e("app.editor.settingspanel.nourlelement")))))}}var oo=Object(o.b)(e=>({site:e.site}),{})(Object(j.a)()(no));class io extends s.Component{constructor(){super(...arguments),this.state={showIcons:!1},this.handleToggleBorder=()=>{const{generalStyles:e,updateStyles:t}=this.props;e.border&&"none"!==e.border?t({border:"none"}):t({border:"1px solid rgba(0, 0, 0, 0.5)"})},this.handleChangeProperties=e=>{const{update:t,currentBlock:a}=this.props;t({data:Object.assign(JSON.parse(JSON.stringify(a.data)),e)}),this.forceUpdate()},this.handleChangeBackground=(e,t)=>{const{update:a,currentBlock:s}=this.props;a({data:Object.assign({},s.data,{fills:e,fills_css:t})}),this.forceUpdate()},this.handleChangeAlt=e=>{const{update:t,currentBlock:a}=this.props;t({data:Object.assign({},a.data,{alt:e.target.value})}),this.forceUpdate()},this.handleToggleEffect=e=>{"none"!==this.props.currentBlock.data.effect?this.handleChangeProperties({effect:"none"}):this.handleChangeProperties({effect:"link"})},this.onColorPickerShow=()=>{document.querySelector(".section-editor__body").classList.add("section-editor__indicators_blocked")},this.onColorPickerHide=()=>{const e=document.querySelector(".section-editor__body");e&&e.classList.remove("section-editor__indicators_blocked")}}render(){const{data:e,image_data:t}=this.props.currentBlock,{generalStyles:a,handleChangeComponentForAllDevices:s,choosedBlock:o,chooseBlockMode:i,handleChooseBlockMode:r,getPageColors:l,currentBlockInfo:c,t:p}=this.props;return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},p("app.editor.settingspanel.image")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(ao,{currentBlock:e,imageData:t,changeProps:this.props.update,property:"image",imageNameProperty:"image_name",disableRemove:!0,styles:a,update:this.handleChangeProperties,handleChangeAllDevices:s}))),n.a.createElement("div",null,n.a.createElement(ws,{fills:e.fills,update:this.handleChangeBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:c,path:"data.fills",elementSelector:"#".concat(CSS.escape(this.props.currentBlock.id)," .strw-shape")})),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleBorder},p("app.editor.settingspanel.border")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:a.border&&"none"!==a.border,onChange:this.handleToggleBorder,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),a.border&&"none"!==a.border&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zn,{getPageColors:this.props.getPageColors,styles:a,property:"border",update:this.props.updateStyles})),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:a,property:"boxShadow",update:this.props.updateStyles}),n.a.createElement("div",{className:"se__s-p__mk-item__title"},n.a.createElement("span",null,p("app.editor.settingspanel.imagedescription"))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"se__s-p__mk-item__collaboration-item"},n.a.createElement("input",{placeholder:p("app.editor.settingspanel.imagedescription"),className:"input input-collaboration",type:"text",onChange:this.handleChangeAlt,value:e.alt})))),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"LayoutSwitcher"},p("app.editor.settingspanel.clickaction")),n.a.createElement("label",{htmlFor:"LayoutSwitcher",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"LayoutSwitcher",checked:"none"!==e.effect,onChange:this.handleToggleEffect,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),"none"!==e.effect&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(oo,{handleChangeProperties:this.handleChangeProperties,choosedBlock:o,chooseBlockMode:i,handleChooseBlockMode:r,getPageColors:l,currentBlock:e,currentBlockId:this.props.currentBlock.id,hrefProperty:"href",subjectProperty:"subject",bodyProperty:"body",typeProperty:"effect",targetProperty:"target_blank"}))),n.a.createElement("div",{className:"se__s-p__space"}))}}var ro=Object(o.b)(e=>({}),{})(Object(j.a)()(io));class lo extends s.Component{constructor(){super(...arguments),this.state={searchText:"",currentCategory:{name:"Material icons"},searchCategories:[],iconsCategories:[],currentIconsCategories:[]},this.find=(e,t)=>(t=t.split(" "),e.filter(e=>t.every(t=>e.id.indexOf(t)>-1))),this.handleUpdateSearchText=e=>{if(this.setState({searchText:e.target.value}),0===e.target.value.length){const e=this.state.iconsCategories.find(e=>"Material icons"===e.name);this.handleChangeCategory(e)}if(e.target.value.length<3)return;const t=[];this.state.iconsCategories.forEach(a=>{t.push({name:a.name,icons:this.find(a.icons,e.target.value.toLowerCase())})}),this.setState({searchCategories:t,categoriesOpen:!1})},this.handleChangeCategory=e=>{this.setState({currentCategory:e,currentIconsCategories:[e],searchText:"",categoriesOpen:!1})},this.handleClickIcon=(e,t)=>{this.props.handleClick({html:"<i class='material-icons ".concat(e.id,"' contenteditable='false'></i>"),body:e.body,id:e.id,colored:t}),this.props.handleShowIcons()},this.handleOpenCategories=()=>{this.setState({categoriesOpen:!this.state.categoriesOpen})}}componentDidMount(){const e=window.iconsCategories;this.setState({iconsCategories:e},()=>{this.props.only&&this.handleUpdateSearchText({target:{value:this.props.only}})}),this.handleChangeCategory(e.find(e=>"Material icons"===e.name))}render(){const{t:e}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.props.handleShowIcons}),n.a.createElement("div",{className:"modal-window__icons",id:"iconspopup",style:{top:this.props.buttonTop}},!this.props.only&&n.a.createElement("div",{className:"modal-window__icons-bar"},n.a.createElement("div",{className:"modal-window__icons-bar__search"},n.a.createElement("input",{autoComplete:"off",autoFocus:!0,type:"text",value:this.state.searchText,onChange:this.handleUpdateSearchText,className:"input input_hover modal-window__icons-bar__search-input",placeholder:e("app.editor.settingspanel.iconsearchplaceholder")}),n.a.createElement("div",{className:"modal-window__icons-bar__search-icon "+(this.state.searchText.length>=3&&"modal-window__icons-bar__search-icon_active"),onClick:this.handleOpenCategories},n.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_1006_730)"},n.a.createElement("circle",{cx:"8.49756",cy:"5.5",r:"5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M0.497559 13.5L4.49756 9.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_1006_730"},n.a.createElement("rect",{width:"14",height:"14",fill:"white"}))))))),n.a.createElement("div",{className:"modal-window__icons-content",style:this.props.only?{height:300}:{}},this.state.categoriesOpen&&n.a.createElement("div",{className:"modal-window__icons-content-categories"},this.state.iconsCategories.map((e,t)=>n.a.createElement("div",{key:t,className:"modal-window__icons-content-categories__item",onClick:this.handleChangeCategory.bind(null,e)},e.name))),!this.state.categoriesOpen&&n.a.createElement("div",{className:"modal-window__icons-container"},0===this.state.searchText.length&&this.state.currentIconsCategories.map((e,t)=>n.a.createElement("div",{key:t},n.a.createElement("div",{className:"modal-window__icons-content__category-name"},e.name),n.a.createElement("div",{className:"modal-window__icons-content__category-icons"},e.icons.slice(0,50).map((t,a)=>n.a.createElement("div",{className:"modal-window__icons-content__category-icons__item",key:a,onClick:this.handleClickIcon.bind(null,t,e.colored)},t.body&&n.a.createElement("svg",{className:"material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:t.body}}),!t.body&&n.a.createElement("i",{className:"material-icons ".concat(t.id)})))))),this.state.searchText.length>=3&&this.state.searchCategories.map((e,t)=>e.icons.length>0&&n.a.createElement("div",{key:t},n.a.createElement("div",{className:"modal-window__icons-content__category-name",style:{marginBottom:4}},e.name),n.a.createElement("div",{className:"modal-window__icons-content__category-icons",style:{marginBottom:7}},e.icons.map((t,a)=>n.a.createElement("div",{className:"modal-window__icons-content__category-icons__item",key:a,onClick:this.handleClickIcon.bind(null,t,e.colored)},t.body&&n.a.createElement("svg",{className:"material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:t.body}}),!t.body&&n.a.createElement("i",{className:"material-icons ".concat(t.id)}))))))))))}}var co=Object(o.b)(e=>({sessions:e.sessions}),{})(Object(j.a)()(lo));class po extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={shadows:[]},this.rgba2hex=e=>{const t=e.match(/[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s]?([\d.]+)[\s+]?/g);if(null===t)return e;const a=t[0].split(", ");return a&&4===a.length?"#".concat("0".concat(parseInt(a[0],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[1],10).toString(16)).slice(-2)).concat("0".concat(parseInt(a[2],10).toString(16)).slice(-2)):""},this.handleAddShadow=()=>{const e=this.state.shadows.slice();0===e.length?(e.push({hex:"000000",rgba:"rgba(0, 0, 0, 0.8)",x:1,y:1,radius:3}),this.setState({shadows:e},this.update)):this.handleRemoveShadow(0)},this.handleRemoveShadow=e=>{const t=this.state.shadows.slice();t.splice(e,1),this.setState({shadows:t},this.update)},this.setDefaults=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;if(t.styles[t.property]&&"none"===t.styles[t.property])return;const a=t.styles[t.property].split(") ");a.forEach((e,t,a)=>{a[--t]+=") "});const s=[];a.forEach((t,a)=>{const n=(t=t.replace("drop-shadow(","").replace("))",")")).split(/ (?![^(]*\))/);t={hex:e.rgba2hex(t).slice(1),x:parseInt(n[0],10),y:parseInt(n[1],10),radius:parseInt(n[2],10),rgba:n[n.length-1]},s.push(t)}),e.setState({shadows:s})},this.update=()=>{const e=JSON.parse(JSON.stringify(this.state.shadows));this.state.currentShadow&&Object.assign(e[this.state.currentShadow.index],this.state.currentShadow),this.setState({shadows:e},()=>{let t="";e.forEach((a,s)=>{t+="drop-shadow(".concat(a.x,"px ").concat(a.y,"px ").concat(a.radius,"px ").concat(a.rgba,")"),e[s+1]&&(t+=" ")}),""===t?this.props.update({[this.props.property]:"none"}):this.props.update({[this.props.property]:t})})},this.handleChange=e=>{if(!e.rgba)return;const{currentShadow:t}=this.state;t.hex=this.rgba2hex(e.rgba).slice(1),t.rgba=e.rgba,this.setState({currentShadow:t},this.update)},this.handleToggleDisable=e=>{const t=JSON.parse(JSON.stringify(this.state.shadows)),a=parseFloat(t[e].rgba.replace(/^.*,(.+)\)/,"$1"));t[e].rgba=a>0?t[e].rgba.replace(/[^,]+(?=\))/," 0"):t[e].rgba.replace(/[^,]+(?=\))/," 1"),this.setState({shadows:t},this.update)},this.handleClick=e=>{this.state.tab===e?this.setState({displayPicker:!this.state.displayPicker}):this.setState({displayPicker:!0,tab:e})},this.handleClose=()=>{this.setState({displayPicker:!1})},this.onXChange=e=>{const{currentShadow:t}=this.state;t.x=e,this.setState({currentShadow:t},this.update)},this.onYChange=e=>{const{currentShadow:t}=this.state;t.y=e,this.setState({currentShadow:t},this.update)},this.onRadiusChange=e=>{const{currentShadow:t}=this.state;t.radius=e,this.setState({currentShadow:t},this.update)},this.getValue=e=>isNaN(parseInt(this.state.currentShadow[e],10))?0:Math.round(parseFloat(this.state.currentShadow[e])),this.getValueInput=e=>""===this.state.currentShadow[e]||isNaN(this.state.currentShadow[e])?"":isNaN(parseInt(this.state.currentShadow[e],10))?0:Math.round(parseFloat(this.state.currentShadow[e])),this.setTop=e=>{const t=document.getElementById("shadow-settings__popup"),a=this.refs.shadowsetting.querySelector(".input-wrapper__setting-shadows__items-item_".concat(e));if(t){let{top:e}=a.getBoundingClientRect();t.offsetHeight+e>window.innerHeight&&(e=window.innerHeight-t.offsetHeight),this.setState({top:e})}},this.handleOpenShadowSettings=(e,t)=>{e.index=t,this.setState({currentShadow:e},()=>{setTimeout(()=>{this.setTop(t)})})},this.handleCloseShadowSettings=()=>{this.setState({currentShadow:void 0})},this.shadowItemClass=(e,t)=>Be()("input-wrapper__setting input-wrapper__setting-shadows__items-item input-wrapper__setting-shadows__items-item_".concat(t),{"input-wrapper__setting-shadows__items-item_active":this.state.currentShadow&&this.state.currentShadow.index===t,"input-wrapper__setting-shadows__items-item_disabled":0===parseFloat(e.rgba.replace(/^.*,(.+)\)/,"$1"))})}componentDidMount(){this.props.styles[this.props.property]&&this.setDefaults()}componentWillReceiveProps(e){this.props.styles[this.props.property]!==e.styles[e.property]&&this.setDefaults(e)}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"input-wrapper__setting-shadows",ref:"shadowsetting"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"LayoutSwitcher-dropshadow"},e("app.editor.settingspanel.dropshadow")),n.a.createElement("label",{htmlFor:"LayoutSwitcher-dropshadow",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"LayoutSwitcher-dropshadow",checked:this.state.shadows.length>0,onChange:this.handleAddShadow,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("div",{className:"input-wrapper__setting-shadows__items"},this.state.shadows.map((e,t)=>n.a.createElement("div",{className:this.shadowItemClass(e,t),key:t},n.a.createElement("div",{style:{cursor:"pointer"},onClick:()=>{this.handleOpenShadowSettings(e,t)},className:"input-wrapper__setting-shadows__items-item-icon"},n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{x:"-0.5",y:"0.5",width:"9",height:"9",rx:"0.5",transform:"matrix(-1 0 0 1 9 0)",stroke:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"1.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"3.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"5.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"7.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"9.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"4.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"2.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"6.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"8.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"10.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"12.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"11.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"9.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"7.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"5.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"3.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{cx:"1.5",cy:"11.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"10.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"8.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"6.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"4.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}),n.a.createElement("circle",{opacity:"0.5",cx:"2.5",cy:"12.5",r:"0.5",fill:"#AFAFAF"}))),n.a.createElement("div",{onClick:()=>{this.handleOpenShadowSettings(e,t)},className:"input-wrapper__setting-shadow-value"},e.x," ",n.a.createElement("span",{style:{color:"#AFAFAF",marginRight:4}}," px"),"\xa0\xa0",e.y,n.a.createElement("span",{style:{color:"#AFAFAF",marginRight:4}}," px"),e.radius,n.a.createElement("span",{style:{color:"#AFAFAF",marginRight:4}}," px")),n.a.createElement("div",{className:"input-wrapper__setting-right-icons"},parseFloat(e.rgba.replace(/^.*,(.+)\)/,"$1"))>0&&n.a.createElement("svg",{onClick:this.handleToggleDisable.bind(null,t),className:"input-wrapper__setting-right-icons__eye",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.5 2.5C3.00003 2.5 0.5 6.5 0.5 6.5C0.5 6.5 2.99995 10.5 6.5 10.5C10 10.5 12.5 6.5 12.5 6.5C12.5 6.5 9.99997 2.5 6.5 2.5Z",stroke:"#AFAFAF",strokeLinejoin:"round"}),n.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2",fill:"#AFAFAF"})),0===parseFloat(e.rgba.replace(/^.*,(.+)\)/,"$1"))&&n.a.createElement("svg",{onClick:this.handleToggleDisable.bind(null,t),className:"input-wrapper__setting-right-icons__eye",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.34131 6.81975C1.24689 6.69725 1.16755 6.58904 1.10422 6.5C1.16755 6.41096 1.2469 6.30275 1.34132 6.18026C1.61869 5.82043 2.02295 5.3415 2.53019 4.8641C3.55796 3.89679 4.93937 3 6.5 3C7.50834 3 8.44186 3.37438 9.25352 3.90026L9.97528 3.17975C9.01122 2.51978 7.83117 2 6.5 2C4.56066 2 2.94207 3.10321 1.84483 4.1359C1.28957 4.6585 0.850073 5.17957 0.549314 5.56974C0.398628 5.76523 0.281969 5.92889 0.20224 6.04486C0.162356 6.10287 0.131658 6.14903 0.110509 6.18136L0.0859748 6.21926L0.0791523 6.22999L0.0771163 6.23322L0.0764438 6.23429L0.0761942 6.23469C0.0760936 6.23485 0.0760025 6.235 0.5 6.5L0.0760025 6.235C-0.0253328 6.39713 -0.0253342 6.60286 0.0759987 6.765L0.5 6.5C0.0759987 6.765 0.0760898 6.76514 0.0761904 6.7653L0.07644 6.7657L0.0771125 6.76677L0.0791484 6.77L0.0859709 6.78073L0.110505 6.81864C0.131653 6.85097 0.16235 6.89712 0.202233 6.95514C0.28196 7.07111 0.398617 7.23477 0.549299 7.43025C0.850053 7.82042 1.28954 8.3415 1.8448 8.8641C2.2349 9.23125 2.6909 9.60732 3.20379 9.93956L3.92991 9.21469C3.41372 8.90229 2.94336 8.52479 2.53017 8.1359C2.02293 7.6585 1.61868 7.17958 1.34131 6.81975ZM5.87945 9.9532L5.03905 10.7921C5.50138 10.9236 5.98958 11 6.5 11C8.43937 11 10.058 9.8968 11.1552 8.8641C11.7105 8.3415 12.1499 7.82042 12.4507 7.43025C12.6014 7.23477 12.718 7.07111 12.7978 6.95514C12.8376 6.89712 12.8683 6.85097 12.8895 6.81864L12.914 6.78073L12.9209 6.77L12.9229 6.76677L12.9236 6.7657L12.9238 6.7653C12.9239 6.76514 12.924 6.765 12.5 6.5L12.924 6.765C13.0253 6.60286 13.0253 6.39713 12.924 6.235L12.5 6.5C12.924 6.235 12.9239 6.23485 12.9238 6.23469L12.9236 6.23429L12.9229 6.23322L12.9208 6.22999L12.914 6.21926L12.8895 6.18136C12.8683 6.14903 12.8376 6.10287 12.7978 6.04486C12.718 5.92889 12.6014 5.76523 12.4507 5.56974C12.2023 5.24746 11.8592 4.83586 11.4344 4.40786L10.7266 5.11436C11.1147 5.50556 11.4299 5.88343 11.6587 6.18026C11.7531 6.30275 11.8325 6.41096 11.8958 6.5C11.8325 6.58904 11.7531 6.69725 11.6587 6.81975C11.3813 7.17958 10.9771 7.6585 10.4698 8.1359C9.44208 9.1032 8.06067 10 6.5 10C6.28976 10 6.08276 9.98373 5.87945 9.9532Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M0.5 12.5L12.5 0.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"13",fill:"white"})))),n.a.createElement("svg",{onClick:this.handleRemoveShadow.bind(null,t),className:"input-wrapper__setting-right-icons__minus",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"})))))),this.state.currentShadow&&n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleCloseShadowSettings}),n.a.createElement("div",{className:"shadow-settings__popup",id:"shadow-settings__popup",style:{top:this.state.top}},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.state.currentShadow,colorStartProperty:"rgba",colorStopProperty:"rgba",updateProperties:this.handleChange}),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings"},n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"X"),n.a.createElement(Fn.a,{value:this.getValue("x"),max:100,onChange:this.onXChange}),n.a.createElement("input",{autoComplete:"off",type:"number",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("x"),onChange:e=>{this.onXChange(e.target.value)}})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Y"),n.a.createElement(Fn.a,{value:this.getValue("y"),max:100,onChange:this.onYChange}),n.a.createElement("input",{autoComplete:"off",type:"number",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("y"),onChange:e=>{this.onYChange(e.target.value)}})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},e("app.editor.settingspanel.dropshadowblur")),n.a.createElement(Fn.a,{value:this.getValue("radius"),max:100,onChange:this.onRadiusChange}),n.a.createElement("input",{autoComplete:"off",type:"number",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("radius"),onChange:e=>{this.onRadiusChange(e.target.value)}}))))))}}var ho=Object(o.b)(e=>({}),{})(Object(j.a)()(po));class mo extends s.Component{constructor(){super(...arguments),this.state={showIcons:!1,top:-1e3},this.handleChangeProperties=e=>{const t=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data)),e);this.props.update({data:t}),this.forceUpdate()},this.handleShowIcons=()=>{this.setState({showIcons:!this.state.showIcons},()=>{setTimeout(this.setTop)})},this.handleInsertIcon=e=>{this.props.updateStyles({height:this.props.generalStyles.width,fontSize:this.props.generalStyles.width}),e.body?this.handleChangeProperties({icon_svg:e.body,icon_id:"",icon_name:e.id,colored:e.colored}):this.handleChangeProperties({icon_id:e.id,icon_svg:"none",icon_name:e.id,colored:e.colored})},this.handleToggleEffect=e=>{"none"!==this.props.currentBlock.data.effect?this.handleChangeProperties({effect:"none"}):this.handleChangeProperties({effect:"link"})},this.setTop=()=>{const e=document.getElementById("iconspopup");if(e){let{top:t}=this.refs.iconsbutton.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.handleChangeBackground=(e,t)=>{const{currentBlockInfo:a}=this.props,s=Object.assign({},a.json[0].data,{fills:e,fills_css:t});a.handleChangeProperties({data:s}),this.forceUpdate()},this.handleChangeHoverBackground=(e,t)=>{const{currentBlockInfo:a}=this.props,s=Object.assign({},a.json[0].data,{fills_hover:e,fills_hover_css:t});a.handleChangeProperties({data:s}),this.forceUpdate()},this.onColorPickerShow=()=>{document.querySelector(".section-editor__body").classList.add("section-editor__indicators_blocked")},this.onColorPickerHide=()=>{const e=document.querySelector(".section-editor__body");e&&e.classList.remove("section-editor__indicators_blocked")},this.exceptTypes=["GRADIENT_ANGULAR"]}render(){const{data:e}=this.props.currentBlock,{t:t}=this.props;return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(In,{style:{marginTop:0},hover:this.props.currentBlockInfo.json[0].data.hover,componentSlug:this.props.currentBlockInfo.json[0].slug,currentBlock:this.props.currentBlockInfo,handleChangeElementCurrentState:this.props.handleChangeElementCurrentState,elementCurrentState:this.props.elementCurrentState})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},"default"===this.props.elementCurrentState&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting cp",ref:"iconsbutton",onClick:this.handleShowIcons},n.a.createElement("div",{className:"input-wrapper__setting-chooseicon cursor-pointer"},!e.icon_id&&n.a.createElement("svg",{className:"input-wrapper__setting-icon material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:e.icon_svg}}),e.icon_id&&n.a.createElement("i",{className:"input-wrapper__setting-icon material-icons ".concat(e.icon_id)})),n.a.createElement("div",{className:"input-wrapper__setting-value cursor-pointer"},e.icon_name||t("app.editor.settingspanel.noicon")),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),this.state.showIcons&&n.a.createElement(co,{buttonTop:this.state.top,handleShowIcons:this.handleShowIcons,handleClick:this.handleInsertIcon})),"default"===this.props.elementCurrentState&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(ws,{fills:this.props.currentBlockInfo.json[0].data.fills,update:this.handleChangeBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlockInfo,path:"data.fills",exceptTypes:this.exceptTypes,elementSelector:".icon_".concat(CSS.escape(this.props.currentBlock.id))})),"hover"===this.props.elementCurrentState&&n.a.createElement(ws,{fills:this.props.currentBlockInfo.json[0].data.fills_hover,update:this.handleChangeHoverBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlockInfo,path:"data.fills_hover",exceptTypes:this.exceptTypes,elementSelector:".icon_".concat(CSS.escape(this.props.currentBlock.id))}),"default"===this.props.elementCurrentState&&n.a.createElement(ho,{getPageColors:this.props.getPageColors,styles:e,property:"boxShadow",update:this.handleChangeProperties})),"default"===this.props.elementCurrentState&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"LayoutSwitcher"},t("app.editor.settingspanel.clickaction")),n.a.createElement("label",{htmlFor:"LayoutSwitcher",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"LayoutSwitcher",checked:"none"!==e.effect,onChange:this.handleToggleEffect,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),"none"!==e.effect&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(oo,{handleChangeProperties:this.handleChangeProperties,getPageColors:this.props.getPageColors,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,currentBlock:e,currentBlockId:this.props.currentBlock.id,hrefProperty:"href",subjectProperty:"subject",bodyProperty:"body",typeProperty:"effect",targetProperty:"target_blank"}))),n.a.createElement("div",{className:"se__s-p__space"}))}}var uo=Object(o.b)(e=>({}),{})(Object(j.a)()(mo));class go extends s.Component{constructor(){super(...arguments),this.onSizeChange=e=>{const t={[this.props.property]:"".concat(e,"px")};this.props.update(t),this.forceUpdate()},this.getValue=()=>void 0===this.props.styles[this.props.property]?0:parseInt(this.props.styles[this.props.property],10),this.onMouseUp=e=>{e.target.select()},this.classes=()=>Be()("input-wrapper__setting input-wrapper__setting_nowrap",{"input-wrapper__setting_small input-wrapper__setting_small-3":"small"===this.props.size})}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:this.classes()},n.a.createElement("label",{className:"input-wrapper__setting-label ".concat("small"!==this.props.size&&" va-middle"),style:{marginRight:10}},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:this.getValue(),onChange:e=>{this.onSizeChange(e)}},n.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M8.75 1.75H12.25V5.25",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M5.25 12.25H1.75V8.75",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M12.2503 1.75L8.16699 5.83333",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M1.75 12.25L5.83333 8.16663",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})))),n.a.createElement("input",{autoComplete:"off",style:"small"!==this.props.size?{width:100}:{},onMouseUp:this.onMouseUp,id:"margin-right",type:"number",className:"input input_setting_35 input_setting input_setting-inline input-wrapper__setting-input",value:this.getValue(),onChange:e=>{this.onSizeChange(e.target.value)}}),n.a.createElement("span",{className:"input-wrapper__setting-select fr",style:{padding:"3px"}},"px"),n.a.createElement(T.a,{html:!0,place:"bottom",type:"dark",effect:"solid"})))}}var _o=Object(o.b)(e=>({}),{})(go);class fo extends s.Component{constructor(){super(...arguments),this.onMarginChange=e=>{const t={[this.props.property]:"".concat(e,"px")};this.props.update(t),this.forceUpdate()},this.getValue=()=>void 0===this.props.styles[this.props.property]?0:parseInt(this.props.styles[this.props.property],10),this.onMouseUp=e=>{e.target.select()}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_small input-wrapper__setting_small-3 input-wrapper__setting_nowrap"},n.a.createElement("label",{className:"input-wrapper__setting-label",style:{marginRight:10}},n.a.createElement(ht,{min:-1/0,max:1/0,steps:1,value:this.getValue(),onChange:e=>{this.onMarginChange(e)}},n.a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("rect",{x:"4.5",y:"8.5",width:"4",height:"4",rx:"2",transform:"rotate(-180 4.5 8.5)",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M10.1464 4.14645C10.3417 3.95119 10.6583 3.95119 10.8536 4.14645L12.8536 6.14645C13.0488 6.34171 13.0488 6.65829 12.8536 6.85355L10.8536 8.85355C10.6583 9.04882 10.3417 9.04882 10.1464 8.85355C9.95118 8.65829 9.95118 8.34171 10.1464 8.14645L11.2929 7L6.5 7C6.22386 7 6 6.77614 6 6.5C6 6.22386 6.22386 6 6.5 6L11.2929 6L10.1464 4.85355C9.95118 4.65829 9.95118 4.34171 10.1464 4.14645Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"13",fill:"white",transform:"translate(13) rotate(90)"})))))),n.a.createElement("input",{autoComplete:"off",onMouseUp:this.onMouseUp,id:"margin-right",type:"number",className:"input input_setting input_setting input_setting-inline input-wrapper__setting-input",value:this.getValue(),onChange:e=>{this.onMarginChange(e.target.value)}}),n.a.createElement("span",{className:"input-wrapper__setting-select"},"px"),n.a.createElement(T.a,{html:!0,place:"bottom",type:"dark",effect:"solid"})))}}var vo=Object(o.b)(e=>({}),{})(fo);class wo extends s.Component{constructor(){super(...arguments),this.onMarginChange=e=>{const t={[this.props.property]:"".concat(e,"px")};this.props.update(t),this.forceUpdate()},this.getValue=()=>void 0===this.props.styles[this.props.property]?0:parseInt(this.props.styles[this.props.property],10),this.onMouseUp=e=>{e.target.select()}}render(){const{icon:e}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_nowrap "+(!this.props.full&&" input-wrapper__setting_small input-wrapper__setting_small-3")},n.a.createElement("label",{className:"input-wrapper__setting-label",style:{marginRight:10,marginTop:1}},n.a.createElement(ht,{min:this.props.min?parseFloat(this.props.min):-1/0,max:1/0,steps:1,value:this.getValue(),onChange:e=>{this.onMarginChange(e)}},0===e&&n.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{x:"11.5",y:"11.5",width:"4",height:"4",rx:"2",transform:"rotate(90 11.5 11.5)",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M7.14645 5.85355C6.95119 5.65829 6.95119 5.34171 7.14645 5.14645L9.14645 3.14645C9.34171 2.95118 9.65829 2.95118 9.85355 3.14645L11.8536 5.14645C12.0488 5.34171 12.0488 5.65829 11.8536 5.85355C11.6583 6.04882 11.3417 6.04882 11.1464 5.85355L10 4.70711L10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5L9 4.70711L7.85355 5.85355C7.65829 6.04882 7.34171 6.04882 7.14645 5.85355Z",fill:"#AFAFAF"})),1===e&&n.a.createElement("svg",{style:{verticalAlign:"middle"},width:"14",height:"17",viewBox:"0 0 14 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("rect",{x:"0.5",y:"10.5",width:"0.999999",height:"13",transform:"rotate(-90 0.5 10.5)",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"0.5",y:"7.5",width:"0.999999",height:"13",transform:"rotate(-90 0.5 7.5)",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M7.00001 5L6.64645 5.35355C6.84172 5.54881 7.1583 5.54881 7.35356 5.35355L7.00001 5ZM5.35356 2.64645C5.1583 2.45118 4.84172 2.45118 4.64645 2.64645C4.45119 2.84171 4.45119 3.15829 4.64645 3.35355L5.35356 2.64645ZM9.35356 3.35355C9.54882 3.15829 9.54882 2.84171 9.35356 2.64645C9.1583 2.45118 8.84172 2.45118 8.64646 2.64645L9.35356 3.35355ZM6.50001 4.5C6.50001 4.77614 6.72387 5 7.00001 5C7.27615 5 7.50001 4.77614 7.50001 4.5L6.50001 4.5ZM7.50001 -1.5C7.50001 -1.77614 7.27615 -2 7.00001 -2C6.72387 -2 6.50001 -1.77614 6.50001 -1.5L7.50001 -1.5ZM7 12L7.35355 11.6464C7.15829 11.4512 6.84171 11.4512 6.64645 11.6464L7 12ZM4.64645 13.6464C4.45118 13.8417 4.45118 14.1583 4.64645 14.3536C4.84171 14.5488 5.15829 14.5488 5.35355 14.3536L4.64645 13.6464ZM8.64645 14.3536C8.84171 14.5488 9.15829 14.5488 9.35355 14.3536C9.54882 14.1583 9.54882 13.8417 9.35355 13.6464L8.64645 14.3536ZM6.5 16.5C6.5 16.7761 6.72386 17 7 17C7.27614 17 7.5 16.7761 7.5 16.5L6.5 16.5ZM7.5 12.5C7.5 12.2239 7.27614 12 7 12C6.72386 12 6.5 12.2239 6.5 12.5L7.5 12.5ZM7.35356 4.64645L5.35356 2.64645L4.64645 3.35355L6.64645 5.35355L7.35356 4.64645ZM7.35356 5.35355L9.35356 3.35355L8.64646 2.64645L6.64645 4.64645L7.35356 5.35355ZM7.50001 4.5L7.50001 -1.5L6.50001 -1.5L6.50001 4.5L7.50001 4.5ZM6.64645 11.6464L4.64645 13.6464L5.35355 14.3536L7.35355 12.3536L6.64645 11.6464ZM6.64645 12.3536L8.64645 14.3536L9.35355 13.6464L7.35355 11.6464L6.64645 12.3536ZM7.5 16.5L7.5 12.5L6.5 12.5L6.5 16.5L7.5 16.5Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"16",fill:"white",transform:"translate(0.5 0.5)"})))),2===e&&n.a.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.5 9V6.5C0.5 3.18629 3.18629 0.5 6.5 0.5H9",stroke:"#AFAFAF"})),3===e&&n.a.createElement("svg",{style:{verticalAlign:"middle",transform:"rotate(90deg)"},width:"14",height:"17",viewBox:"0 0 14 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("rect",{x:"0.5",y:"10.5",width:"0.999999",height:"13",transform:"rotate(-90 0.5 10.5)",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"0.5",y:"7.5",width:"0.999999",height:"13",transform:"rotate(-90 0.5 7.5)",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M7.00001 5L6.64645 5.35355C6.84172 5.54881 7.1583 5.54881 7.35356 5.35355L7.00001 5ZM5.35356 2.64645C5.1583 2.45118 4.84172 2.45118 4.64645 2.64645C4.45119 2.84171 4.45119 3.15829 4.64645 3.35355L5.35356 2.64645ZM9.35356 3.35355C9.54882 3.15829 9.54882 2.84171 9.35356 2.64645C9.1583 2.45118 8.84172 2.45118 8.64646 2.64645L9.35356 3.35355ZM6.50001 4.5C6.50001 4.77614 6.72387 5 7.00001 5C7.27615 5 7.50001 4.77614 7.50001 4.5L6.50001 4.5ZM7.50001 -1.5C7.50001 -1.77614 7.27615 -2 7.00001 -2C6.72387 -2 6.50001 -1.77614 6.50001 -1.5L7.50001 -1.5ZM7 12L7.35355 11.6464C7.15829 11.4512 6.84171 11.4512 6.64645 11.6464L7 12ZM4.64645 13.6464C4.45118 13.8417 4.45118 14.1583 4.64645 14.3536C4.84171 14.5488 5.15829 14.5488 5.35355 14.3536L4.64645 13.6464ZM8.64645 14.3536C8.84171 14.5488 9.15829 14.5488 9.35355 14.3536C9.54882 14.1583 9.54882 13.8417 9.35355 13.6464L8.64645 14.3536ZM6.5 16.5C6.5 16.7761 6.72386 17 7 17C7.27614 17 7.5 16.7761 7.5 16.5L6.5 16.5ZM7.5 12.5C7.5 12.2239 7.27614 12 7 12C6.72386 12 6.5 12.2239 6.5 12.5L7.5 12.5ZM7.35356 4.64645L5.35356 2.64645L4.64645 3.35355L6.64645 5.35355L7.35356 4.64645ZM7.35356 5.35355L9.35356 3.35355L8.64646 2.64645L6.64645 4.64645L7.35356 5.35355ZM7.50001 4.5L7.50001 -1.5L6.50001 -1.5L6.50001 4.5L7.50001 4.5ZM6.64645 11.6464L4.64645 13.6464L5.35355 14.3536L7.35355 12.3536L6.64645 11.6464ZM6.64645 12.3536L8.64645 14.3536L9.35355 13.6464L7.35355 11.6464L6.64645 12.3536ZM7.5 16.5L7.5 12.5L6.5 12.5L6.5 16.5L7.5 16.5Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"16",fill:"white",transform:"translate(0.5 0.5)"})))),4===e&&n.a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_5323_26182)"},n.a.createElement("path",{d:"M13.5 0.783691L13.5 3.28369L1.5 3.28369L1.5 0.783691",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M13.5 15.7837L13.5 13.2837L1.5 13.2837L1.5 15.7837",stroke:"#AFAFAF"}),n.a.createElement("rect",{x:"10.75",y:"8.53369",width:"6.5",height:"0.5",rx:"0.25",transform:"rotate(-180 10.75 8.53369)",fill:"#AFAFAF",stroke:"#AFAFAF","stroke-width":"0.5"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_5323_26182"},n.a.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(0 0.783691)"})))),5===e&&n.a.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.5 3.49997L3 1M0.5 3.49997L3 6M0.5 3.49997L12.5 3.49997M12.5 3.49997L10 1M12.5 3.49997L10 6",stroke:"#AFAFAF","stroke-linecap":"round","stroke-linejoin":"round"})))),n.a.createElement("input",{onMouseUp:this.onMouseUp,id:"margin-right",autoComplete:"off",type:"number",className:"input input_setting input_setting-inline input-wrapper__setting-input",value:this.getValue(),onChange:e=>{this.onMarginChange(e.target.value)}}),!this.props.full&&n.a.createElement("span",{className:"input-wrapper__setting-select"},this.props.unit||"px"),n.a.createElement(T.a,{html:!0,place:"bottom",type:"dark",effect:"solid"})))}}var Co=Object(o.b)(e=>({}),{})(wo);class yo extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={showIcons:!1,iconsButtonTop:-1e3},this.handleChangeProperties=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const s=Object.assign(JSON.parse(JSON.stringify(e.props.currentBlock.json[0].data)),t);e.props.currentBlock.handleChangeProperties({data:s},void 0,a),e.forceUpdate()},this.handleChangeGradient=e=>{e=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{gradient:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data.gradient)),e)}),this.props.currentBlock.handleChangeProperties({data:e}),this.forceUpdate()},this.handleChangeBackground=(e,t)=>{const a=Object.assign({},this.props.currentBlock.json[0].data,{fills:e,fills_css:t});this.props.currentBlock.handleChangeProperties({data:a}),this.forceUpdate()},this.handleChangeHoverBackground=(e,t)=>{const a=Object.assign({},this.props.currentBlock.json[0].data,{fills_hover:e,fills_hover_css:t});this.props.currentBlock.handleChangeProperties({data:a}),this.forceUpdate()},this.getPropertyWithCurrentState=e=>"default"!==this.props.elementCurrentState?"".concat(e,"_").concat(this.props.elementCurrentState):e,this.handleToggleBorder=()=>{this.props.generalStyles[this.getPropertyWithCurrentState("border")]&&"none"!==this.props.generalStyles[this.getPropertyWithCurrentState("border")]?this.props.currentBlock.handleChangeStyles({[this.getPropertyWithCurrentState("border")]:"none"}):this.props.currentBlock.handleChangeStyles({[this.getPropertyWithCurrentState("border")]:"1px solid rgba(0, 0, 0, 0.5)"})},this.handleChangeEffect=e=>{this.handleChangeProperties({effect:e.value}),this.forceUpdate()},this.handleChangeVideoUrl=e=>{this.handleChangeProperties({video_url:e.target.value}),this.forceUpdate()},this.handleToggleLink=()=>{"none"!==this.props.currentBlock.json[0].data.effect?this.handleChangeProperties({effect:"none"}):this.handleChangeProperties({effect:"link"})},this.handleShowIcons=()=>{this.setState({showIcons:!this.state.showIcons},()=>{setTimeout(this.setTop)})},this.handleInsertIcon=e=>{e.body?this.handleChangeProperties({icon_svg:e.body,icon_id:"",icon_name:e.id}):this.handleChangeProperties({icon_id:e.id,icon_svg:"",icon_name:e.id})},this.handleChangeWithIcon=e=>{let t=!this.props.currentBlock.json[0].data.with_icon,a={with_icon:t};t&&Object.assign(a,{icon_id:"done_all",icon_svg:"",icon_name:"done_all"}),this.handleChangeProperties({with_icon:t})},this.setTop=()=>{const e=document.getElementById("iconspopup");if(e){let{top:t}=this.refs.iconsbutton.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight),this.setState({iconsButtonTop:t})}},this.handleToggleSendAnalytics=e=>{this.handleChangeProperties({analytics:e.target.checked})},this.onColorPickerShow=()=>{document.querySelector(".section-editor__body").classList.add("section-editor__indicators_blocked")},this.onColorPickerHide=()=>{const e=document.querySelector(".section-editor__body");e&&e.classList.remove("section-editor__indicators_blocked")},this.handleTogglePopup=()=>{this.setState({textDecoration:!this.state.textDecoration},()=>{setTimeout(()=>{this.setTopTextDecoration()})})},this.setTopTextDecoration=()=>{const e=document.getElementById("textDecorationPopup");if(e){let{top:t}=this.refs.textDecorationButton.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=50+window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.handleToggleTextDecoration=()=>{this.setState({textDecoration:!this.state.textDecoration})}}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(In,{style:{marginTop:0},componentSlug:this.props.currentBlock.json[0].slug,currentBlock:this.props.currentBlock,hover:this.props.currentBlock.json[0].data.hover,handleChangeElementCurrentState:this.props.handleChangeElementCurrentState,elementCurrentState:this.props.elementCurrentState})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},"default"===this.props.elementCurrentState&&n.a.createElement(n.a.Fragment,null,n.a.createElement(ws,{fills:this.props.currentBlock.json[0].data.fills,update:this.handleChangeBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlock,path:"data.fills",elementSelector:".button_".concat(CSS.escape(this.props.currentBlock.json[0].id))}),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",null,e("app.editor.settingspanel.text")),n.a.createElement("label",{ref:"textDecorationButton",id:"textDecoration",onClick:this.handleTogglePopup,className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"5",viewBox:"0 0 7 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.5 0C0.223858 0 0 0.223858 0 0.5C0 0.776142 0.223858 1 0.5 1V0ZM6.5 1C6.77614 1 7 0.776142 7 0.5C7 0.223858 6.77614 0 6.5 0V1ZM0.5 2C0.223858 2 0 2.22386 0 2.5C0 2.77614 0.223858 3 0.5 3V2ZM6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2V3ZM0.5 4C0.223858 4 0 4.22386 0 4.5C0 4.77614 0.223858 5 0.5 5V4ZM6.5 5C6.77614 5 7 4.77614 7 4.5C7 4.22386 6.77614 4 6.5 4V5ZM0.5 1H6.5V0H0.5V1ZM0.5 3H6.5V2H0.5V3ZM0.5 5H6.5V4H0.5V5Z",fill:"#444444"})))))),this.state.textDecoration&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleToggleTextDecoration}),n.a.createElement("div",{id:"textDecorationPopup",className:"input-wrapper__setting-textdecoration__popup",style:{top:this.state.top}},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(Ys,{styles:this.props.generalStyles,update:this.props.currentBlock.handleChangeStyles,hangingLists:this.props.currentBlock.json[0].data.hanging_lists,updator:()=>{}})))),"hover"===this.props.elementCurrentState&&n.a.createElement("div",null,n.a.createElement(ws,{fills:this.props.currentBlock.json[0].data.fills_hover,update:this.handleChangeHoverBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlock,path:"data.fills_hover",elementSelector:".button_".concat(CSS.escape(this.props.currentBlock.json[0].id))}),n.a.createElement("div",{className:"se__s-p__mk-item__title"},e("app.editor.settingspanel.text")),n.a.createElement(Hs,{handleChangePage:this.props.handleChangePage,fonts:this.props.fonts,installedFonts:this.props.installedFonts,styles:this.props.generalStyles,property:"fontFamily_hover",update:this.props.currentBlock.handleChangeStyles,currentBlock:this.props.currentBlock,currentBlockId:this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].id}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zs,{fonts:this.props.fonts,styles:this.props.generalStyles,installedFonts:this.props.installedFonts,property:"fontWeight_hover",update:this.props.currentBlock.handleChangeStyles,type:"inline"}),n.a.createElement(qs,{styles:this.props.generalStyles,property:"fontSize_hover",update:this.props.currentBlock.handleChangeStyles,size:"inline"})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.generalStyles,colorStartProperty:"color_hover",colorStopProperty:"color_hover",color:this.props.generalStyles,updateProperties:this.props.currentBlock.handleChangeStyles,update:this.props.currentBlock.handleChangeStyles})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(on,{styles:this.props.generalStyles,property:"letterSpacing_hover",update:this.props.currentBlock.handleChangeStyles,updator:()=>{}})),n.a.createElement(Xs,{currentBlock:this.props.currentBlock,styles:this.props.generalStyles,textAlign:this.props.generalStyles.justifyContent,property:"justifyContent_hover",updateCKstyles:()=>{},update:this.props.currentBlock.handleChangeStyles}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,textShadow:this.props.generalStyles.textShadow,property:"textShadow_hover",withoutSpread:!0,withoutInset:!0,title:e("app.editor.settingspanel.textshadow"),update:this.props.currentBlock.handleChangeStyles}),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleToggleBorder},n.a.createElement("span",null,e("app.editor.settingspanel.border")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:!(!this.props.generalStyles[this.getPropertyWithCurrentState("border")]||"none"===this.props.generalStyles[this.getPropertyWithCurrentState("border")]),onChange:this.handleToggleBorder,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),this.props.generalStyles[this.getPropertyWithCurrentState("border")]&&"none"!==this.props.generalStyles[this.getPropertyWithCurrentState("border")]&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zn,{styles:this.props.generalStyles,getPageColors:this.props.getPageColors,property:this.getPropertyWithCurrentState("border"),update:this.props.currentBlock.handleChangeStyles}))),"default"===this.props.elementCurrentState&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Hs,{handleChangePage:this.props.handleChangePage,fonts:this.props.fonts,installedFonts:this.props.installedFonts,styles:this.props.generalStyles,property:"fontFamily",update:this.props.currentBlock.handleChangeStyles,currentBlock:this.props.currentBlock,currentBlockId:this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].id}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zs,{installedFonts:this.props.installedFonts,fonts:this.props.fonts,styles:this.props.generalStyles,property:"fontWeight",update:this.props.currentBlock.handleChangeStyles,type:"inline"}),n.a.createElement(qs,{styles:this.props.generalStyles,property:"fontSize",update:this.props.currentBlock.handleChangeStyles,size:"inline"})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.generalStyles,colorStartProperty:"color",colorStopProperty:"color",color:this.props.generalStyles.color,updateProperties:this.props.currentBlock.handleChangeStyles,update:this.props.currentBlock.handleChangeStyles})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(on,{styles:this.props.generalStyles,property:"letterSpacing",update:this.props.currentBlock.handleChangeStyles,updator:()=>{}})),n.a.createElement(Xs,{currentBlock:this.props.currentBlock,styles:this.props.generalStyles,textAlign:this.props.generalStyles.justifyContent,property:"justifyContent",alignProp:"text_align",updateCKstyles:()=>{},update:this.props.currentBlock.handleChangeStyles}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,textShadow:this.props.generalStyles.textShadow,property:"textShadow",withoutSpread:!0,withoutInset:!0,title:e("app.editor.settingspanel.textshadow"),update:this.props.currentBlock.handleChangeStyles}),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleChangeWithIcon},n.a.createElement("span",null,e("app.editor.settingspanel.icon")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:this.props.currentBlock.json[0].data.with_icon,onChange:()=>{},type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),this.props.currentBlock.json[0].data.with_icon&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting cp",ref:"iconsbutton",onClick:this.handleShowIcons},n.a.createElement("div",{className:"input-wrapper__setting-chooseicon"},this.props.currentBlock.json[0].data.icon_svg?n.a.createElement("svg",{className:"input-wrapper__setting-icon material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:this.props.currentBlock.json[0].data.icon_svg}}):n.a.createElement("i",{className:"input-wrapper__setting-icon material-icons ".concat(this.props.currentBlock.json[0].data.icon_id)})),n.a.createElement("div",{className:"input-wrapper__setting-value"},this.props.currentBlock.json[0].data.icon_name||e("app.editor.settingspanel.noicon")),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),this.state.showIcons&&n.a.createElement(co,{buttonTop:this.state.iconsButtonTop,handleShowIcons:this.handleShowIcons,handleClick:this.handleInsertIcon})),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(_o,{styles:this.props.currentBlock.json[0].data,property:"icon_width",title:"Size",update:this.handleChangeProperties}))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Co,{styles:this.props.currentBlock.json[0].data,property:"icon_margin_top",update:this.handleChangeProperties,icon:0}),n.a.createElement(vo,{styles:this.props.currentBlock.json[0].data,property:"icon_margin_right",update:this.handleChangeProperties}))),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleToggleBorder},n.a.createElement("span",null,e("app.editor.settingspanel.border")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:!(!this.props.generalStyles[this.getPropertyWithCurrentState("border")]||"none"===this.props.generalStyles[this.getPropertyWithCurrentState("border")]),onChange:this.handleToggleBorder,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),this.props.generalStyles[this.getPropertyWithCurrentState("border")]&&"none"!==this.props.generalStyles[this.getPropertyWithCurrentState("border")]&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zn,{styles:this.props.generalStyles,getPageColors:this.props.getPageColors,property:this.getPropertyWithCurrentState("border"),update:this.props.currentBlock.handleChangeStyles})),n.a.createElement(Ln,{boxShadow:this.props.generalStyles.boxShadow,getPageColors:this.props.getPageColors,styles:this.props.generalStyles,property:this.getPropertyWithCurrentState("boxShadow"),update:this.props.currentBlock.handleChangeStyles}))),"default"===this.props.elementCurrentState&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleToggleLink},n.a.createElement("span",null,e("app.editor.settingspanel.link")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:"none"!==this.props.currentBlock.json[0].data.effect,onChange:()=>{},type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),"none"!==this.props.currentBlock.json[0].data.effect&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(oo,{handleChangeProperties:this.handleChangeProperties,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,currentBlock:this.props.currentBlock.json[0].data,currentBlockId:this.props.currentBlock.json[0].id,getPageColors:this.props.getPageColors,hrefProperty:"href",subjectProperty:"subject",bodyProperty:"body",typeProperty:"effect",targetProperty:"target_blank"}))),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding",style:{borderBottom:"none"}},(this.props.site.facebook_pixel_id||this.props.site.google_analytics_id)&&n.a.createElement("div",{className:"se__s-p__mk-item__title"},n.a.createElement("span",{className:"cp",onClick:()=>{this.handleToggleSendAnalytics({target:{checked:!this.props.currentBlock.json[0].data.analytics}})}},e("app.editor.settingspanel.senddatatoanalytics")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:this.props.currentBlock.json[0].data.analytics,onChange:this.handleToggleSendAnalytics,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),this.props.currentBlock.json[0].data.analytics&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},this.props.site.facebook_pixel_id?"FB Pixel: ".concat(this.props.site.facebook_pixel_id):"",this.props.site.facebook_pixel_id&&this.props.site.google_analytics_id&&n.a.createElement("br",null),this.props.site.google_analytics_id?"Google Analytics: ".concat(this.props.site.google_analytics_id):""),n.a.createElement("div",{className:"se__s-p__mk-item__desc"},e("app.editor.settingspanel.buttonanalyticsdesc")+" /button/"+this.props.currentBlock.json[0].id+"/click"))),n.a.createElement("div",{className:"se__s-p__space"}))}}var bo=Object(o.b)(e=>({site:e.site}),{})(Object(j.a)()(yo));const Eo=["video/mp4","video/quicktime"];class ko extends s.Component{constructor(e){super(e),this.t=(new Date).getTime(),this.uploaded=e=>{setTimeout(()=>{this.setState({progress:.7})}),setTimeout(()=>{this.setState({progress:1})},500),setTimeout(()=>{this.props.onChange({url:JSON.parse(e).asset.url,name:this.state.name}),this.setState({loading:!1,imagePreviewUrl:""})},1e3)},this.userPaid=()=>{const{user:e}=this.props;return e.subscription&&"active"===e.subscription.status&&-1===e.subscription.plan.identifier.indexOf("free")},this._removeImage=()=>{this.props.handleRemove(),this.setState({file:""}),document.getElementById("uploadForm__"+this.t).reset()},this.onDrop=e=>{let t=new FileReader,a=e[0];t.onloadend=()=>{this.setState({file:a,loading:!0,progress:.2,imagePreviewUrl:"url("+t.result+")"})},t.readAsDataURL(a),setTimeout(()=>{this.uploadVideo(this.state.file)},300)},this.handleRemoveVideoUrl=()=>{this.props.onChange({url:""})},this.checkPaid=e=>{if(!this.userPaid())return v.a.push("/account/profile/billing/checkout"),e.preventDefault(),!1},this.state={progress:0,file:"",imagePreviewUrl:"",loading:!1,plans:!1},this._handleVideoChange=this._handleVideoChange.bind(this),this._handleSubmit=this._handleSubmit.bind(this)}uploadVideo(e){if(e.size/1e6>10)return N.b.error("Video file size exceeds ".concat(10," MB"),"Error",5e3),void this.setState({loading:!1,progress:0,imagePreviewUrl:"",file:""});if(-1===Eo.indexOf(e.type))return N.b.error("File type is not allowed","Error",5e3),void this.setState({loading:!1,progress:0,imagePreviewUrl:"",file:""});var t=this;return new Promise((a,s)=>{let n=new FormData;n.append("data",e);var o=new XMLHttpRequest;o.open("POST","".concat(d.a.defaults.baseURL,"/assets"),!0),o.setRequestHeader("Authorization","Bearer "+this.props.user.jwt),o.onload=function(){[200,201].indexOf(this.status)>-1?t.uploaded(this.response):(s(this.statusText),t.setState({loading:!1,progress:0}))},o.send(n)})}_handleSubmit(e){e.preventDefault(),this.uploadVideo(this.state.file)}_handleVideoChange(e){e.preventDefault();let t=new FileReader,a=e.target.files[0];t.onloadend=()=>{this.setState({file:a,name:a.name})},t.readAsDataURL(a),this.setState({loading:!0,progress:.2}),setTimeout(()=>{this.uploadVideo(this.state.file)},300)}render(){document.getElementById("uploadForm__"+this.t)&&document.getElementById("uploadForm__"+this.t).reset();const{loading:e}=this.state,{value:t}=this.props;return n.a.createElement(n.a.Fragment,null,e&&n.a.createElement("div",{className:"se__s-p-colorpicker-overlay"}),n.a.createElement("div",{className:"se__s-p__uploader"},n.a.createElement("form",{className:"se__s-p__uploader-form",id:"uploadForm__"+this.t,name:"uploadForm",onSubmit:this._handleSubmit},n.a.createElement("input",{id:"uploadFile"+this.t,className:"hidden",name:"file",type:"file",onChange:this._handleVideoChange}),n.a.createElement("div",{className:"input-wrapper__setting-video__picker"},n.a.createElement("label",{htmlFor:"uploadFile"+this.t,onClick:this.checkPaid},n.a.createElement("svg",{className:"input-wrapper__setting-video__picker-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.5 7.75C1.5 7.47386 1.27614 7.25 1 7.25C0.723858 7.25 0.5 7.47386 0.5 7.75H1.5ZM13.5 7.75C13.5 7.47386 13.2761 7.25 13 7.25C12.7239 7.25 12.5 7.47386 12.5 7.75H13.5ZM4.39645 2.89645C4.20118 3.09171 4.20118 3.40829 4.39645 3.60355C4.59171 3.79882 4.90829 3.79882 5.10355 3.60355L4.39645 2.89645ZM7 1L7.35355 0.646447C7.15829 0.451184 6.84171 0.451184 6.64645 0.646447L7 1ZM8.89645 3.60355C9.09171 3.79882 9.40829 3.79882 9.60355 3.60355C9.79882 3.40829 9.79882 3.09171 9.60355 2.89645L8.89645 3.60355ZM6.5 8.5C6.5 8.77614 6.72386 9 7 9C7.27614 9 7.5 8.77614 7.5 8.5H6.5ZM7.5 1.375C7.5 1.09886 7.27614 0.875 7 0.875C6.72386 0.875 6.5 1.09886 6.5 1.375H7.5ZM12.5 7.75V10.25H13.5V7.75H12.5ZM11 11.75H3V12.75H11V11.75ZM1.5 10.25V7.75H0.5V10.25H1.5ZM5.10355 3.60355L7.35355 1.35355L6.64645 0.646447L4.39645 2.89645L5.10355 3.60355ZM6.64645 1.35355L8.89645 3.60355L9.60355 2.89645L7.35355 0.646447L6.64645 1.35355ZM7.5 8.5V1.375H6.5V8.5H7.5ZM3 11.75C2.17157 11.75 1.5 11.0784 1.5 10.25H0.5C0.5 11.6307 1.61929 12.75 3 12.75V11.75ZM12.5 10.25C12.5 11.0784 11.8284 11.75 11 11.75V12.75C12.3807 12.75 13.5 11.6307 13.5 10.25H12.5Z",fill:"#3E87F8"})),n.a.createElement("span",{className:"input-wrapper__setting-video__picker-text"},e?"Loading...":t||"Choose File")),t&&n.a.createElement("svg",{className:"input-wrapper__setting-video__picker-remove",onClick:this.handleRemoveVideoUrl,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 8H13V7H1V8Z",fill:"#AFAFAF"}))))))}}var So=Object(o.b)(e=>({user:e.sessions,site:e.site}),{})(ko);class xo extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={showIcons:!1,showModes:!1,videoUrl:""},this.setTop=()=>{const e=document.getElementById("modespopup");if(e){let{top:t}=this.refs.modespopupref.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=50+window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.handleShowPlaybackModes=()=>{this.setState({showModes:!this.state.showModes},()=>{setTimeout(this.setTop)})},this.handleChangeProperties=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const s=Object.assign(JSON.parse(JSON.stringify(e.props.currentBlock.json[0].data)),t);e.props.update({data:s},void 0,a),e.forceUpdate()},this.handleChangeType=e=>{this.handleChangeProperties({type:e})},this.handleChangeUrl=e=>{let t=e.target.value,a={video:t},s=Object(qt.q)(t);this.setState({videoUrl:t}),s.type&&s.id&&("youtube"===s.type?s.id&&c.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(s.id,"&key=AIzaSyDrutUSPfjuwC8b4W9pitclowi3btRQkMo"),e=>{e&&e.items.length>0&&(a.name=e.items[0].snippet.title,this.handleChangeProperties(a))}):"vimeo"===s.type&&c.a.get("http://vimeo.com/api/v2/video/".concat(s.id,".json"),e=>{e&&e.length>0&&(a.name=e[0].title,this.handleChangeProperties(a))}))},this.handleChange=(e,t)=>{this.handleChangeProperties({[e]:t.target.checked})},this.handleChangeThumbnail=e=>{""===e.thumbnail&&this.handleChangeProperties({mode:"inline"}),this.handleChangeProperties(e)},this.handleShowIcons=()=>{this.setState({showIcons:!this.state.showIcons})},this.handleInsertIcon=e=>{e.body?this.handleChangeProperties({icon_svg:e.body,icon_id:"",icon_name:e.id}):this.handleChangeProperties({icon_id:e.id,icon_svg:"",icon_name:e.id})},this.handleChangeMode=e=>{this.handleChangeProperties(e),this.setState({showModes:!1})},this.handleChangeAutoplay=e=>{let t={autoplay:e.target.checked};e.target.checked&&(t.mute=!0),this.handleChangeProperties(t)},this.handleChangeOverlay=e=>{e=Object.assign({},JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data)),{overlay:Object.assign({},JSON.parse(JSON.stringify(this.props.currentBlock.json[0].data.overlay)),e)}),this.props.update({data:e}),this.forceUpdate()},this.handleChangeVideoUrl=e=>{let{url:t,name:a}=e,s={video_url:t};a&&(s.name=a),this.handleChangeProperties(s,()=>{const e=()=>{var t;const a=null===(t=document.getElementById(this.props.currentBlock.json[0].id))||void 0===t?void 0:t.querySelector("video");a?a.load():setTimeout(e,100)};e()})}}componentWillMount(){this.setState({videoUrl:this.props.currentBlock.json[0].data.video})}componentWillReceiveProps(e){e.currentBlock.json[0].data.video!==this.state.videoUrl&&this.setState({videoUrl:e.currentBlock.json[0].data.video})}render(){const{elementCurrentState:e,t:t}=this.props,{videoUrl:a}=this.state,s=this.props.currentBlock.json[0].data;return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(In,{style:{marginTop:0},hover:this.props.generalStyles.color_hover,componentSlug:this.props.currentBlockInfo.json[0].slug,currentBlock:this.props.currentBlockInfo,handleChangeElementCurrentState:this.props.handleChangeElementCurrentState,elementCurrentState:this.props.elementCurrentState})),"default"===e?n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title"},t("app.editor.settingspanel.video")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"se__s-p__mk-form__switcher"},n.a.createElement("div",{onClick:this.handleChangeType.bind(null,"youtube"),className:"se__s-p__mk-form__switcher-item ".concat("youtube"===s.type&&"se__s-p__mk-form__switcher-item_active")},t("app.editor.settingspanel.youtube")),n.a.createElement("div",{onClick:this.handleChangeType.bind(null,"file"),className:"se__s-p__mk-form__switcher-item ".concat("file"===s.type&&"se__s-p__mk-form__switcher-item_active")},t("app.editor.settingspanel.mpvideo")))),"youtube"===s.type?n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",null,n.a.createElement("input",{className:"input input-wrapper__setting input-wrapper__setting_video-url",name:"video_url",type:"text",autoComplete:"off",placeholder:t("app.editor.settingspanel.videourlplaceholder"),onChange:this.handleChangeUrl,value:a}))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_withicon"},t("app.editor.settingspanel.file"),n.a.createElement("svg",{"data-for":"video-desc","data-html":!0,"data-tip":"Format .mov or .mp4 <br> Not more than 10mb.<br>For paid accounts only.",className:"se__s-p__mk-item__title-icon_video se__s-p__mk-item__title-icon_videokit-file cp",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM6.40327 7.72917C6.29465 7.98919 6.24034 8.33807 6.24034 8.77582H7.36106C7.36764 8.30187 7.47955 7.94146 7.69678 7.69461L8.30404 7.09722C8.80433 6.57718 9.05447 6.04892 9.05447 5.51242C9.05447 4.9101 8.86851 4.44108 8.49658 4.10536C8.12795 3.76964 7.61285 3.60178 6.95128 3.60178C6.30946 3.60178 5.79272 3.77129 5.40104 4.1103C5.01266 4.44931 4.81518 4.9101 4.80859 5.49268H6.0083C6.0083 5.21949 6.09388 5.00391 6.26503 4.84592C6.43947 4.68464 6.66822 4.604 6.95128 4.604C7.2475 4.604 7.47132 4.68629 7.62272 4.85086C7.77742 5.01213 7.85476 5.24747 7.85476 5.55686C7.85476 5.79055 7.78894 6.00778 7.65728 6.20855C7.5717 6.34021 7.36764 6.56237 7.04508 6.87505C6.72582 7.18444 6.51188 7.46915 6.40327 7.72917ZM6.33908 9.84223C6.2173 9.96072 6.15641 10.1171 6.15641 10.3113C6.15641 10.4923 6.21401 10.6437 6.32921 10.7655C6.4477 10.8872 6.61556 10.9481 6.83279 10.9481C7.05002 10.9481 7.21788 10.8872 7.33637 10.7655C7.45486 10.6437 7.51411 10.4923 7.51411 10.3113C7.51411 10.1236 7.45322 9.96895 7.33143 9.84717C7.20965 9.7221 7.04344 9.65956 6.83279 9.65956C6.62543 9.65956 6.46087 9.72045 6.33908 9.84223Z",fill:"#AFAFAF"}))),n.a.createElement(T.a,{id:"video-desc",html:!0,place:"bottom",type:"dark",effect:"solid"}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(So,{value:s.video_url,onChange:this.handleChangeVideoUrl}))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"se__s-p__mk-item__rows"},n.a.createElement("div",{className:"se__s-p__mk-item__row"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"autoplay",checked:s.autoplay,onChange:this.handleChangeAutoplay,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"autoplay",className:"se__s-p__mk-item__row-name"},t("app.editor.settingspanel.autoplay"))),n.a.createElement("div",{className:"se__s-p__mk-item__row"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"loop",checked:s.loop,onChange:this.handleChange.bind(this,"loop"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"loop",className:"se__s-p__mk-item__row-name"},t("app.editor.settingspanel.loop"))),n.a.createElement("div",{className:"se__s-p__mk-item__row"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"mute",checked:s.mute,onChange:this.handleChange.bind(this,"mute"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"mute",className:"se__s-p__mk-item__row-name"},t("app.editor.settingspanel.mute"))),n.a.createElement("div",{className:"se__s-p__mk-item__row"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"videocontrols",checked:s.controls,onChange:this.handleChange.bind(this,"controls"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"videocontrols",className:"se__s-p__mk-item__row-name"},t("app.editor.settingspanel.controls"))))),n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},t("app.editor.settingspanel.preview")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(ao,{currentBlock:s,property:"thumbnail",update:this.handleChangeThumbnail,changeProps:()=>{},updateStyles:()=>{},handleChangeAllDevices:()=>{}}))),(s.thumbnail||!s.video)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},t("app.editor.settingspanel.icon")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting",ref:"iconsvideo"},n.a.createElement("div",{className:"input-wrapper__setting-chooseicon",onClick:this.handleShowIcons},s.icon_svg&&n.a.createElement("svg",{className:"input-wrapper__setting-icon material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:s.icon_svg}}),!s.icon_svg&&n.a.createElement("i",{className:"input-wrapper__setting-icon material-icons ".concat(s.icon_id)})),n.a.createElement("div",{className:"input-wrapper__setting-value",onClick:this.handleShowIcons},s.icon_name||t("app.editor.settingspanel.noicon")),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button fr",onClick:this.handleShowIcons},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),this.state.showIcons&&n.a.createElement(co,{buttonTop:this.refs.iconsvideo.getBoundingClientRect().top,handleShowIcons:this.handleShowIcons,handleClick:this.handleInsertIcon}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.generalStyles,colorStartProperty:"color",colorStopProperty:"color",updateProperties:this.props.currentBlock.handleChangeStyles,update:this.props.currentBlock.handleChangeStyles}))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(_o,{max:500,styles:s,property:"icon_width",title:"Size",update:this.handleChangeProperties})),n.a.createElement("div",{className:"se__s-p__mk-item__title"},"Overlay color"),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:s.overlay,styles:this.props.generalStyles,colorProperty:"backgroundColor",colorStartProperty:"bg_color_start",colorStopProperty:"bg_color_stop",updateProperties:this.handleChangeOverlay,update:()=>{}})))):n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title"},t("app.editor.settingspanel.icon")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.generalStyles,colorStartProperty:"color_hover",colorStopProperty:"color_hover",updateProperties:this.props.currentBlock.handleChangeStyles,update:this.props.currentBlock.handleChangeStyles})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(_o,{max:500,styles:s,property:"icon_width_hover",title:"Size",update:this.handleChangeProperties}))),"default"===e&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,property:"boxShadow",update:this.props.currentBlock.handleChangeStyles,withoutInset:!0})),s.thumbnail&&"default"===e&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title"},"Playback mode"),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting cursor-pointer",onClick:this.handleShowPlaybackModes,ref:"modespopupref"},n.a.createElement("div",{className:"input-wrapper__setting-value cursor-pointer",onClick:this.handleShowPlaybackModes,style:{textTransform:"capitalize"}},s.mode),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button fr",onClick:this.handleShowPlaybackModes},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"}))))),this.state.showModes&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleShowPlaybackModes}),n.a.createElement("div",{id:"modespopup",className:"input-wrapper__setting-fontfamily__popup input-wrapper__setting-fontfamily__popup_custom",style:{top:this.state.top,width:"auto"}},n.a.createElement("div",{className:"input-wrapper__setting-fontfamily__popup-section input-wrapper__setting-fontfamily__popup-section_all"},n.a.createElement("div",{className:"input-wrapper__setting-fontfamily__popup-section__item",onClick:this.handleChangeMode.bind(null,{mode:"inline"})},t("app.editor.settingspanel.playinline")),n.a.createElement("div",{className:"input-wrapper__setting-fontfamily__popup-section__item",onClick:this.handleChangeMode.bind(null,{mode:"newtab"})},t("app.editor.settingspanel.openinnewtab")))))),n.a.createElement("div",{className:"se__s-p__space"}))}}var No=Object(o.b)(e=>({}),{})(Object(j.a)()(xo));class Bo extends s.Component{constructor(){super(...arguments),this.handleChangeMode=e=>{this.update({mode:e.value}),this.forceUpdate()},this.update=e=>{const t=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data)),e);this.props.update({data:t})},this.handleChangeControls=e=>{this.update({controls:e.target.checked}),this.forceUpdate()},this.handleChangeZoomOnScroll=e=>{this.update({zoom_on_scroll:e.target.checked}),this.forceUpdate()},this.handleChangeSearchBoxShown=e=>{this.props.update({blocked:!this.props.currentBlock.blocked},!1),this.forceUpdate()},this.handleChangeTravelMode=e=>{this.update({travel_mode:e.target.value}),this.forceUpdate()},this.handleChangeMapStyles=e=>{this.update({map_styles:e.target.value}),this.forceUpdate()}}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(Dt,{name:"font-family",value:this.props.currentBlock.data.mode,onChange:this.handleChangeMode,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-wrapper-inlist select-wrapper__map",disabled:this.props.currentBlock.isSearchBoxShown,options:[{value:"standart",label:e("app.editor.settingspanel.standartmap")},{value:"directions",label:e("app.editor.settingspanel.directions")}]}),"directions"===this.props.currentBlock.data.mode&&n.a.createElement("div",{className:"se__s-p__mk-item__map-radio"},n.a.createElement("div",{className:"se__s-p__mk-item__map-radio__item"},n.a.createElement("input",{id:"map_directions_car",name:"map_direction",className:"se__s-p__mk-item__map-radio__item-radio",type:"radio",value:"DRIVING",onChange:this.handleChangeTravelMode,checked:"DRIVING"===this.props.currentBlock.data.travel_mode}),n.a.createElement("label",{className:"se__s-p__mk-item__map-radio__item-label se__s-p__mk-item__map-radio__item-label_map",htmlFor:"map_directions_car"},n.a.createElement("svg",{className:"va-middle",width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M13.7667 1.00832C13.6 0.516657 13.1333 0.166656 12.5833 0.166656H3.41667C2.86667 0.166656 2.40833 0.516657 2.23333 1.00832L0.5 5.99999V12.6667C0.5 13.125 0.875 13.5 1.33333 13.5H2.16667C2.625 13.5 3 13.125 3 12.6667V11.8333H13V12.6667C13 13.125 13.375 13.5 13.8333 13.5H14.6667C15.125 13.5 15.5 13.125 15.5 12.6667V5.99999L13.7667 1.00832ZM3.41667 9.33332C2.725 9.33332 2.16667 8.77499 2.16667 8.08332C2.16667 7.39166 2.725 6.83332 3.41667 6.83332C4.10833 6.83332 4.66667 7.39166 4.66667 8.08332C4.66667 8.77499 4.10833 9.33332 3.41667 9.33332ZM12.5833 9.33332C11.8917 9.33332 11.3333 8.77499 11.3333 8.08332C11.3333 7.39166 11.8917 6.83332 12.5833 6.83332C13.275 6.83332 13.8333 7.39166 13.8333 8.08332C13.8333 8.77499 13.275 9.33332 12.5833 9.33332ZM2.16667 5.16666L3.41667 1.41666H12.5833L13.8333 5.16666H2.16667Z",fill:"#AFAFAF"})))),n.a.createElement("div",{className:"se__s-p__mk-item__map-radio__item"},n.a.createElement("input",{id:"map_directions_walk",name:"map_direction",className:"se__s-p__mk-item__map-radio__item-radio",type:"radio",value:"WALKING",onChange:this.handleChangeTravelMode,checked:"WALKING"===this.props.currentBlock.data.travel_mode}),n.a.createElement("label",{className:"se__s-p__mk-item__map-radio__item-label se__s-p__mk-item__map-radio__item-label_map",htmlFor:"map_directions_walk"},n.a.createElement("svg",{className:"va-middle",width:"11",height:"19",viewBox:"0 0 11 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.25 3.58333C7.16667 3.58333 7.91667 2.83333 7.91667 1.91667C7.91667 1 7.16667 0.25 6.25 0.25C5.33333 0.25 4.58333 1 4.58333 1.91667C4.58333 2.83333 5.33333 3.58333 6.25 3.58333ZM3.16667 6.41667L0.833333 18.1667H2.58333L4.08333 11.5L5.83333 13.1667V18.1667H7.5V11.9167L5.75 10.25L6.25 7.75C7.33333 9 9 9.83333 10.8333 9.83333V8.16667C9.25 8.16667 7.91667 7.33333 7.25 6.16667L6.41667 4.83333C6.08333 4.33333 5.58333 4 5 4C4.75 4 4.58333 4.08333 4.33333 4.08333L0 5.91667V9.83333H1.66667V7L3.16667 6.41667Z",fill:"#AFAFAF"})))),n.a.createElement("div",{className:"se__s-p__mk-item__map-radio__item"},n.a.createElement("input",{id:"map_directions_bike",name:"map_direction",className:"se__s-p__mk-item__map-radio__item-radio",type:"radio",value:"BICYCLING",onChange:this.handleChangeTravelMode,checked:"BICYCLING"===this.props.currentBlock.data.travel_mode}),n.a.createElement("label",{className:"se__s-p__mk-item__map-radio__item-label se__s-p__mk-item__map-radio__item-label_map",htmlFor:"map_directions_bike"},n.a.createElement("svg",{className:"va-middle",width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M12.9167 3.58333C13.8333 3.58333 14.5833 2.83333 14.5833 1.91667C14.5833 1 13.8333 0.25 12.9167 0.25C12 0.25 11.25 1 11.25 1.91667C11.25 2.83333 12 3.58333 12.9167 3.58333ZM4.16667 9C1.83333 9 0 10.8333 0 13.1667C0 15.5 1.83333 17.3333 4.16667 17.3333C6.5 17.3333 8.33333 15.5 8.33333 13.1667C8.33333 10.8333 6.5 9 4.16667 9ZM4.16667 16.0833C2.58333 16.0833 1.25 14.75 1.25 13.1667C1.25 11.5833 2.58333 10.25 4.16667 10.25C5.75 10.25 7.08333 11.5833 7.08333 13.1667C7.08333 14.75 5.75 16.0833 4.16667 16.0833ZM9 7.75L11 5.75L11.6667 6.41667C12.75 7.5 14.1667 8.16667 15.9167 8.16667V6.5C14.6667 6.5 13.6667 6 12.9167 5.25L11.3333 3.66667C10.9167 3.33333 10.5 3.16667 10 3.16667C9.5 3.16667 9.08333 3.33333 8.83333 3.66667L6.5 6C6.16667 6.33333 6 6.75 6 7.16667C6 7.66667 6.16667 8.08333 6.5 8.33333L9.16667 10.6667V14.8333H10.8333V9.66667L9 7.75ZM15.8333 9C13.5 9 11.6667 10.8333 11.6667 13.1667C11.6667 15.5 13.5 17.3333 15.8333 17.3333C18.1667 17.3333 20 15.5 20 13.1667C20 10.8333 18.1667 9 15.8333 9ZM15.8333 16.0833C14.25 16.0833 12.9167 14.75 12.9167 13.1667C12.9167 11.5833 14.25 10.25 15.8333 10.25C17.4167 10.25 18.75 11.5833 18.75 13.1667C18.75 14.75 17.4167 16.0833 15.8333 16.0833Z",fill:"#AFAFAF"}))))),n.a.createElement("div",null,this.props.currentBlock.blocked&&n.a.createElement("button",{className:"button button_white button_full button_map",onClick:this.handleChangeSearchBoxShown},e("app.editor.settingspanel.done")),!this.props.currentBlock.blocked&&n.a.createElement("button",{className:"button button_white button_full button_map",onClick:this.handleChangeSearchBoxShown},e("app.editor.settingspanel.mapsetlocation")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"se__s-p__mk-item__rows"},n.a.createElement("div",{className:"se__s-p__mk-item__row se__s-p__mk-item__row_fullwidth"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"controls-map",checked:this.props.currentBlock.data.controls,onChange:this.handleChangeControls,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"controls-map",className:"se__s-p__mk-item__row-name"},e("app.editor.settingspanel.mapcontrols"))),n.a.createElement("div",{className:"se__s-p__mk-item__row se__s-p__mk-item__row_fullwidth"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"zoom_on_scroll",checked:this.props.currentBlock.data.zoom_on_scroll,onChange:this.handleChangeZoomOnScroll,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"zoom_on_scroll",className:"se__s-p__mk-item__row-name"},e("app.editor.settingspanel.mapzoomonscroll")))))),n.a.createElement("div",{className:"se__s-p__mk-item__title"},e("app.editor.settingspanel.customstyles")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("textarea",{id:"paste-json",className:"input input_map-textarea",value:this.props.currentBlock.data.map_styles,onChange:this.handleChangeMapStyles}),n.a.createElement("a",{href:"https://mapstyle.withgoogle.com/",target:"blank",className:"button button_white button_full button_map"},n.a.createElement("span",null,e("app.editor.settingspanel.launchmapwizard")),n.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.8"},n.a.createElement("path",{d:"M6 3.5H4C3.17157 3.5 2.5 4.17157 2.5 5V11C2.5 11.8284 3.17157 12.5 4 12.5H10C10.8284 12.5 11.5 11.8284 11.5 11V9",stroke:"#333333"}),n.a.createElement("path",{d:"M8.5 3C8.22386 3 8 3.22386 8 3.5C8 3.77614 8.22386 4 8.5 4V3ZM11.5 3.5H12C12 3.22386 11.7761 3 11.5 3V3.5ZM11 6.5C11 6.77614 11.2239 7 11.5 7C11.7761 7 12 6.77614 12 6.5H11ZM5.14645 9.14645C4.95118 9.34171 4.95118 9.65829 5.14645 9.85355C5.34171 10.0488 5.65829 10.0488 5.85355 9.85355L5.14645 9.14645ZM8.5 4H11.5V3H8.5V4ZM11 3.5V6.5H12V3.5H11ZM5.85355 9.85355L11.8536 3.85355L11.1464 3.14645L5.14645 9.14645L5.85355 9.85355Z",fill:"#333333"})))))),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,property:"boxShadow",update:this.props.updateStyles,withoutInset:!0})),n.a.createElement("div",{className:"se__s-p__space"}))}}var Fo=Object(o.b)(e=>({}),{})(Object(j.a)()(Bo));class Ao extends s.Component{constructor(){super(...arguments),this.state={blur:0},this.getValueForSlider=()=>{const{property:e}=this.props;return parseFloat(this.props.styles[e].split("blur(")[1])},this.onSliderChange=e=>{const{property:t,elementSelector:a}=this.props;this.setState({blur:e});const s=document.querySelector(a);s&&(s.style[t]="blur("+e+"px)")},this.onChangeSuccess=()=>{const{property:e}=this.props;this.props.update({[e]:"blur("+this.state.blur+"px)"})},this.update=e=>{this.onChangeSuccess()},this.onKeyDown=e=>{"Enter"===e.key&&this.onChangeSuccess()},this.onInputChange=e=>{this.setState({blur:e.target.value},this.onChangeSuccess)},this.handleAddBlur=()=>{const{update:e,styles:t,property:a}=this.props;t.hasOwnProperty(a)&&"none"!==t[a]?e({[a]:"none"}):(this.setState({blur:4}),e({[a]:"blur(4px)"}))}}componentWillMount(){const{styles:e,property:t}=this.props;(null===e||void 0===e?void 0:e.hasOwnProperty(t))&&this.setState({blur:Math.round(parseFloat(this.props.styles[t].split("blur(")[1]))})}componentWillReceiveProps(e){const{property:t}=e;e.styles.hasOwnProperty(t)&&this.props.elementSelector!==e.elementSelector&&this.setState({blur:Math.round(parseFloat(e.styles[t].split("blur(")[1]))})}render(){const{blur:e}=this.state,{t:t,styles:a,property:s,max:o,step:i,label:r,tip:l}=this.props,c=(null===a||void 0===a?void 0:a.hasOwnProperty(s))&&"none"!==a[s];return n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom",onClick:this.handleAddBlur},n.a.createElement("span",{className:"cp"},t("app.editor.settingspanel.blur")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{onChange:()=>{},checked:!(!(null===a||void 0===a?void 0:a.filter)||"none"===(null===a||void 0===a?void 0:a.filter)),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),c&&n.a.createElement("div",{className:"se__s-p__mk-item__opacity"},n.a.createElement("div",{className:"se__s-p__mk-item__opacity-label",style:{width:44},"data-for":"blur-desc","data-html":!0,"data-tip":l},r||"Value"),n.a.createElement("div",{className:"se__s-p__mk-item__slider-setting__control"},n.a.createElement(Fn.a,{value:e,step:i||1,max:o||500,onAfterChange:this.onChangeSuccess,onChange:this.onSliderChange})),n.a.createElement(Za,{onKeyDown:this.onKeyDown,type:"text",className:"se__s-p__mk-item__slider-setting__value input_setting input-wrapper__setting_small-int number-no-arrows",value:e,update:this.update,onChange:this.onInputChange}),n.a.createElement(T.a,{id:"blur-desc",html:!0,place:"bottom",type:"dark"})))}}var Lo=Object(o.b)(e=>({}),{})(Object(j.a)()(Ao));a(486).ntc.init();class Oo extends s.Component{constructor(){super(...arguments),this.handleChangeForm=e=>{const t=Object.assign(this.props.currentBlock.data,{form:e.target.value});this.props.update({data:t}),"circle"===e.target.value&&this.props.updateStyles({borderRadius:"50%",width:"206px",height:"206px"},void 0,void 0,void 0,void 0,!1),"square"===e.target.value&&this.props.updateStyles({borderRadius:"0px",width:"206px",height:"206px"},void 0,void 0,void 0,void 0,!1),"line"===e.target.value&&this.props.updateStyles({width:"206px",height:"6px",borderRadius:"0px"},void 0,void 0,void 0,void 0,!1),this.forceUpdate()},this.handleToggleUseImage=()=>{const e=Object.assign({},this.props.currentBlock.data,{use_image:!this.props.currentBlock.data.use_image});this.props.update({data:e}),this.forceUpdate()},this.handleToggleBorder=()=>{var e,t;(null===(e=this.props.generalStyles)||void 0===e?void 0:e.border)&&"none"!==(null===(t=this.props.generalStyles)||void 0===t?void 0:t.border)?this.props.updateStyles({border:"none"}):this.props.updateStyles({border:"1px solid rgba(0, 0, 0, 0.5)"})},this.handleChangeBackground=(e,t)=>{const a=Object.assign({},this.props.currentBlock.data,{fills:e,fills_css:t});this.props.update({data:a}),this.forceUpdate()},this.handleChangeHoverBackground=(e,t)=>{const a=Object.assign({},this.props.currentBlock.data,{fills_hover:e,fills_hover_css:t});this.props.update({data:a}),this.forceUpdate()},this.oneOfDimensionsIsPercent=()=>{const e=this.props.currentBlock;return"%"===e.width_unit||"%"===e.height_unit||"%"===e.top_unit||"%"===e.left_unit},this.handleChangeProperties=e=>{const t=JSON.parse(JSON.stringify(Object.assign({},this.props.currentBlock.data,e)));this.props.update({data:t}),this.forceUpdate()},this.handleToggleType=e=>{"none"!==this.props.currentBlock.data.effect?this.handleChangeProperties({effect:"none"}):this.handleChangeProperties({effect:"link"})},this.onColorPickerShow=()=>{document.querySelector(".section-editor__body").classList.add("section-editor__indicators_blocked")},this.onColorPickerHide=()=>{const e=document.querySelector(".section-editor__body");e&&e.classList.remove("section-editor__indicators_blocked")}}render(){var e,t,a,s,o,i;const{data:r,image_data:l,id:c}=this.props.currentBlock,{elementCurrentState:p,t:d}=this.props,h=CSS.escape(c);return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(In,{style:{marginTop:0},componentSlug:this.props.currentBlockInfo.json[0].slug,currentBlock:this.props.currentBlockInfo,hover:this.props.currentBlockInfo.json[0].data.hover,handleChangeElementCurrentState:this.props.handleChangeElementCurrentState,elementCurrentState:this.props.elementCurrentState}),!this.props.currentBlock.lock&&"default"===p&&!this.oneOfDimensionsIsPercent()&&n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},d("app.editor.settingspanel.shape")),n.a.createElement("div",{className:"se__s-p__mk-item__map-radio"},n.a.createElement("div",{className:"se__s-p__mk-item__map-radio__item"},n.a.createElement("input",{id:"shape_form_square",name:"shape_form",className:"se__s-p__mk-item__map-radio__item-radio",type:"radio",value:"square",onChange:this.handleChangeForm,checked:"square"===r.form}),n.a.createElement("label",{className:"se__s-p__mk-item__map-radio__item-label se__s-p__mk-item__map-radio__item-label_shape",htmlFor:"shape_form_square"},n.a.createElement("span",{className:"se__s-p__mk-item__map-radio__item-label__square"}))),n.a.createElement("div",{className:"se__s-p__mk-item__map-radio__item"},n.a.createElement("input",{id:"shape_form_circle",name:"shape_form",className:"se__s-p__mk-item__map-radio__item-radio",type:"radio",value:"circle",onChange:this.handleChangeForm,checked:"circle"===r.form}),n.a.createElement("label",{className:"se__s-p__mk-item__map-radio__item-label se__s-p__mk-item__map-radio__item-label_shape",htmlFor:"shape_form_circle"},n.a.createElement("span",{className:"se__s-p__mk-item__map-radio__item-label__circle"}))),n.a.createElement("div",{className:"se__s-p__mk-item__map-radio__item"},n.a.createElement("input",{id:"shape_form_line",name:"shape_form",className:"se__s-p__mk-item__map-radio__item-radio",type:"radio",value:"line",onChange:this.handleChangeForm,checked:"line"===r.form}),n.a.createElement("label",{className:"se__s-p__mk-item__map-radio__item-label se__s-p__mk-item__map-radio__item-label_shape",htmlFor:"shape_form_line"},n.a.createElement("span",{className:"se__s-p__mk-item__map-radio__item-label__line"}))))),"default"===p?n.a.createElement("div",null,n.a.createElement(ws,{fills:r.fills,update:this.handleChangeBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlockInfo,path:"data.fills",elementSelector:"#".concat(h," .strw-shape")}),n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleUseImage},d("app.editor.settingspanel.fillimage")),n.a.createElement("label",{htmlFor:"fill-image",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"fill-image",checked:r.use_image,onChange:this.handleToggleUseImage,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),r.use_image&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(ao,{currentBlock:r,imageData:l,changeProps:this.props.update,property:"image",disableRemove:!0,styles:this.props.generalStyles,update:this.handleChangeProperties,handleChangeAllDevices:this.props.handleChangeComponentForAllDevices}))),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleBorder},d("app.editor.settingspanel.border")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:!(!(null===(e=this.props.generalStyles)||void 0===e?void 0:e.border)||"none"===(null===(t=this.props.generalStyles)||void 0===t?void 0:t.border)),onChange:this.handleToggleBorder,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),(null===(a=this.props.generalStyles)||void 0===a?void 0:a.border)&&"none"!==(null===(s=this.props.generalStyles)||void 0===s?void 0:s.border)&&"line"!==r.form&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zn,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,property:"border",update:this.props.updateStyles})),n.a.createElement(Lo,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,filter:null===(o=this.props.generalStyles)||void 0===o?void 0:o.filter,property:"filter",label:d("app.editor.settingspanel.value"),elementSelector:"#".concat(h),update:this.props.updateStyles}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,boxShadow:null===(i=this.props.generalStyles)||void 0===i?void 0:i.boxShadow,property:"boxShadow",update:this.props.updateStyles})):n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(ws,{fills:r.fills_hover,update:this.handleChangeHoverBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlockInfo,path:"data.fills_hover",elementSelector:"#".concat(h," .strw-shape")})))),"default"===p&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"LayoutSwitcher"},d("app.editor.settingspanel.clickaction")),n.a.createElement("label",{htmlFor:"LayoutSwitcher",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"LayoutSwitcher",checked:"none"!==r.effect,onChange:this.handleToggleType,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),"none"!==r.effect&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(oo,{handleChangeProperties:this.handleChangeProperties,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,getPageColors:this.props.getPageColors,currentBlock:r,currentBlockId:this.props.currentBlock.id,hrefProperty:"href",subjectProperty:"subject",bodyProperty:"body",typeProperty:"effect",targetProperty:"target_blank"}))),n.a.createElement("div",{className:"se__s-p__space"}))}}var Do=Object(o.b)(e=>({}),{})(Object(j.a)()(Oo)),Mo=a(327);const Po=Object(Mo.SortableElement)(e=>{let{image:t,indexName:a,index:s,number:o,handleRemoveImage:i,handleReplaceImage:r,currentImageToReplace:l,handleToggleDisabled:c,getYoutubeImage:p,t:d}=e;return n.a.createElement("div",{key:s,className:"slider-images__modal-list__item-tr ".concat(l&&l.image===t.image&&"slider-images__modal-list__item-tr_active")},"video"===t.type&&"youtube"===t.video_type&&n.a.createElement("div",{className:"slider-images__modal-list__item-image",onClick:r.bind(null,t),style:{backgroundImage:"url(".concat(p(t),")")},width:46}),"video"===t.type&&"file"===t.video_type&&n.a.createElement("div",{className:"slider-images__modal-list__item-image",onClick:r.bind(null,t),style:{backgroundColor:"#e8ebef"},width:46},n.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16ZM9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z",fill:"#808080"}),n.a.createElement("path",{d:"M11.7064 8.44722C12.1171 8.7013 12.1171 9.29872 11.7064 9.55279L7.99192 11.8505C7.55889 12.1184 6.99997 11.8069 6.99997 11.2977L6.99997 6.7023C6.99997 6.19311 7.55889 5.88165 7.99192 6.14951L11.7064 8.44722Z",fill:"#808080"}))),"image"===t.type&&n.a.createElement("div",{className:"slider-images__modal-list__item-image",onClick:r.bind(null,t),style:{backgroundImage:"url(".concat(t.image,")")},width:46}),n.a.createElement("span",{className:"slider-images__modal-list__item-name",onClick:r.bind(null,t)},d("app.editor.settingspanel.slide")," ",a),n.a.createElement("div",{className:"input-wrapper__setting-right-icons"},!t.disabled&&n.a.createElement("svg",{onClick:c.bind(null,o),className:"input-wrapper__setting-right-icons__eye",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M6.5 2.5C3.00003 2.5 0.5 6.5 0.5 6.5C0.5 6.5 2.99995 10.5 6.5 10.5C10 10.5 12.5 6.5 12.5 6.5C12.5 6.5 9.99997 2.5 6.5 2.5Z",stroke:"#AFAFAF",strokeLinejoin:"round"}),n.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2",fill:"#AFAFAF"})),t.disabled&&n.a.createElement("svg",{onClick:c.bind(null,o),className:"input-wrapper__setting-right-icons__eye",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.34131 6.81975C1.24689 6.69725 1.16755 6.58904 1.10422 6.5C1.16755 6.41096 1.2469 6.30275 1.34132 6.18026C1.61869 5.82043 2.02295 5.3415 2.53019 4.8641C3.55796 3.89679 4.93937 3 6.5 3C7.50834 3 8.44186 3.37438 9.25352 3.90026L9.97528 3.17975C9.01122 2.51978 7.83117 2 6.5 2C4.56066 2 2.94207 3.10321 1.84483 4.1359C1.28957 4.6585 0.850073 5.17957 0.549314 5.56974C0.398628 5.76523 0.281969 5.92889 0.20224 6.04486C0.162356 6.10287 0.131658 6.14903 0.110509 6.18136L0.0859748 6.21926L0.0791523 6.22999L0.0771163 6.23322L0.0764438 6.23429L0.0761942 6.23469C0.0760936 6.23485 0.0760025 6.235 0.5 6.5L0.0760025 6.235C-0.0253328 6.39713 -0.0253342 6.60286 0.0759987 6.765L0.5 6.5C0.0759987 6.765 0.0760898 6.76514 0.0761904 6.7653L0.07644 6.7657L0.0771125 6.76677L0.0791484 6.77L0.0859709 6.78073L0.110505 6.81864C0.131653 6.85097 0.16235 6.89712 0.202233 6.95514C0.28196 7.07111 0.398617 7.23477 0.549299 7.43025C0.850053 7.82042 1.28954 8.3415 1.8448 8.8641C2.2349 9.23125 2.6909 9.60732 3.20379 9.93956L3.92991 9.21469C3.41372 8.90229 2.94336 8.52479 2.53017 8.1359C2.02293 7.6585 1.61868 7.17958 1.34131 6.81975ZM5.87945 9.9532L5.03905 10.7921C5.50138 10.9236 5.98958 11 6.5 11C8.43937 11 10.058 9.8968 11.1552 8.8641C11.7105 8.3415 12.1499 7.82042 12.4507 7.43025C12.6014 7.23477 12.718 7.07111 12.7978 6.95514C12.8376 6.89712 12.8683 6.85097 12.8895 6.81864L12.914 6.78073L12.9209 6.77L12.9229 6.76677L12.9236 6.7657L12.9238 6.7653C12.9239 6.76514 12.924 6.765 12.5 6.5L12.924 6.765C13.0253 6.60286 13.0253 6.39713 12.924 6.235L12.5 6.5C12.924 6.235 12.9239 6.23485 12.9238 6.23469L12.9236 6.23429L12.9229 6.23322L12.9208 6.22999L12.914 6.21926L12.8895 6.18136C12.8683 6.14903 12.8376 6.10287 12.7978 6.04486C12.718 5.92889 12.6014 5.76523 12.4507 5.56974C12.2023 5.24746 11.8592 4.83586 11.4344 4.40786L10.7266 5.11436C11.1147 5.50556 11.4299 5.88343 11.6587 6.18026C11.7531 6.30275 11.8325 6.41096 11.8958 6.5C11.8325 6.58904 11.7531 6.69725 11.6587 6.81975C11.3813 7.17958 10.9771 7.6585 10.4698 8.1359C9.44208 9.1032 8.06067 10 6.5 10C6.28976 10 6.08276 9.98373 5.87945 9.9532Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M0.5 12.5L12.5 0.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"13",height:"13",fill:"white"})))),n.a.createElement("svg",{onClick:i.bind(null,o),className:"input-wrapper__setting-right-icons__minus",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"}))))}),Io=Object(Mo.SortableContainer)(e=>{let{images:t,handleRemoveImage:a,handleReplaceImage:s,currentImageToReplace:o,handleToggleDisabled:i,getYoutubeImage:r,t:l}=e;return n.a.createElement("div",null,t.map((e,t)=>n.a.createElement(Po,{t:l,key:t,image:e,index:t,number:t,indexName:t+1,getYoutubeImage:r,handleToggleDisabled:i,currentImageToReplace:o,handleRemoveImage:a,handleReplaceImage:s})))});class To extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={popupOpen:!1,currentImageToReplace:void 0,top:0},this.getYoutubeImage=e=>{if(e.video)return"https://img.youtube.com/vi/".concat(Object(qt.q)(e.video).id,"/default.jpg")},this.onUpload=e=>{const t=[...this.props.images];this.state.currentImageToReplace?(t.find(e=>e.image===this.state.currentImageToReplace.image).image=e.image,this.setState({popupOpen:!1})):t.push({image:e.image,caption:"Example caption",disabled:!1}),this.props.update({images:t,name:t.map((e,t)=>"Slide ".concat(t+1)).join(", ")},()=>{window.swiper&&window.swiper[this.props.currentBlockId]&&window.swipers[this.props.currentBlockId].slideTo(window.swiper[this.props.currentBlockId].index,0)}),this.forceUpdate()},this.handleReplaceImage=e=>{this.setState({popupOpen:!0},()=>{this.setState({top:this.refs.tableRef.getBoundingClientRect().y})});let t=this.props.images.indexOf(e);t>-1&&window.swipers[this.props.currentBlockId].slideTo(t),this.setState({currentImageToReplace:e})},this.getCurrentImageUrl=e=>{if(e)return"url(".concat(e,")")},this.handleRemoveImage=e=>{const t=[...this.props.images];t.splice(e,1),this.props.update({images:t,name:t.map((e,t)=>"Slide ".concat(t+1)).join(", ")}),this.forceUpdate()},this.moveArrayElement=(e,t,a)=>{if(a>=e.length){let t=a-e.length;for(;1+t--;)e.push(void 0)}return e.splice(a,0,e.splice(t,1)[0]),e},this.onSortEnd=e=>{let{oldIndex:t,newIndex:a}=e,s=[...this.props.images];s=this.moveArrayElement(s,t,a),this.props.update({images:s})},this.handleOpenPopup=()=>{this.setState({popupOpen:!this.state.popupOpen},()=>{this.setState({top:this.refs.tableRef.getBoundingClientRect().y})}),this.state.popupOpen&&this.setState({currentImageToReplace:void 0})},this.handleToggleDisabled=e=>{const t=[...this.props.images];t[e].disabled=!t[e].disabled,this.props.update({images:t}),this.forceUpdate()},this.handleChangeType=e=>{this.handleChangeCurrentImageProps({type:e})},this.handleChangeCurrentImageProps=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const s=[...e.props.images];Object.assign(s.find(t=>t.image===e.state.currentImageToReplace.image),t),e.props.update({images:s},()=>{setTimeout(()=>{window.swiper&&window.swiper[e.props.currentBlockId]&&window.swipers[e.props.currentBlockId].slideTo(window.swiper[e.props.currentBlockId].index,0)}),a()}),e.forceUpdate()},this.handleChangeVideoType=e=>{this.handleChangeCurrentImageProps({video_type:e.value})},this.handleChangeVideo=e=>{let t={video:e.target.value};this.handleChangeCurrentImageProps(t,()=>{})},this.handleChangeVideoFileUrl=e=>{let{url:t}=e,a={video_file_url:t};this.handleChangeCurrentImageProps(a,()=>{})},this.handleChangeAutoplay=e=>{let t={autoplay:e.target.checked};e.target.checked&&(t.mute=!0),this.handleChangeCurrentImageProps(t)},this.handleChange=(e,t)=>{this.handleChangeCurrentImageProps({[e]:t.target.checked})},this.handleChangeThumbnail=e=>{""===e.video_thumbnail&&this.handleChangeCurrentImageProps({mode:"inline"}),this.handleChangeCurrentImageProps(e)},this.handleShowIcons=()=>{this.setState({showIcons:!this.state.showIcons})},this.handleInsertIcon=e=>{e.body?this.handleChangeCurrentImageProps({icon_svg:e.body,icon_id:"",icon_name:e.id}):this.handleChangeCurrentImageProps({icon_id:e.id,icon_svg:"",icon_name:e.id})},this.handleChangeMode=e=>{this.handleChangeCurrentImageProps(e),this.setState({showModes:!1})},this.handleAddSlide=()=>{const e=[...this.props.images];e.push({type:"image",image:"https://siterio.s3.amazonaws.com/assets/ast_ZhkJjjRynLgXsMTTQibrbKnhZ/bbf60e46-5071-471e-8462-c2296a2cb480.jpg?t="+(new Date).getTime(),disabled:!1,video_type:"youtube",video_thumbnail:"",video:"https://www.youtube.com/watch?v=96Xz84csUko",video_file_url:"",icon_svg:"<svg className='material-icons' xmlns='http://www.w3.org/2000/svg' xmlnsXlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' viewBox='0 0 8 8'><path d='M4 0C1.79 0 0 1.79 0 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zM3 2l3 2-3 2V2z' fill='currentColor'/></svg>",icon_width:"60px",icon_name:"play-circle",icon_color:"#FFFFFF",loop:!1,controls:!0,mute:!1,autoplay:!1,show_info:!1,use_thumbnail:!0,video_mode:"inline",icon_id:"",bg_color_stop:"rgba(255, 255, 255, 0)",bg_color_angle:"0deg",bg_color_start:"rgba(255, 255, 255, 0)"}),this.props.update({images:e}),this.forceUpdate()},this.onOverlayScroll=e=>{if(c()(e.target).parents(".modal-window__icons").length>0)return;if(c()(e.target).parents(".modal-window").length>0)return;let t=c()(e.target).parents("#scrollbar").find("div")[0];const a=t.scrollTop+e.deltaY/2;t.scrollTop=a,c()(".pages-settings-modal-footer-images__upload-popup").css("top",this.refs.tableRef.getBoundingClientRect().y)}}componentDidMount(){this.setState({top:this.refs.tableRef.getBoundingClientRect().y})}render(){const{t:e}=this.props,t=this.props.data,{currentImageToReplace:a,popupOpen:s,top:o}=this.state;return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleAddSlide},n.a.createElement("span",null,e("app.editor.settingspanel.slides")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"}))))),n.a.createElement("div",{className:"slider-images__modal-content",ref:"tableRef"},this.props.images.length>0&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Io,{t:e,distance:5,handleToggleDisabled:this.handleToggleDisabled,currentImageToReplace:a,handleRemoveImage:this.handleRemoveImage,getYoutubeImage:this.getYoutubeImage,images:this.props.images,onSortEnd:this.onSortEnd,handleReplaceImage:this.handleReplaceImage})))),n.a.createElement("div",null,s&&n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("div",{onWheel:this.onOverlayScroll,style:{overflow:"scroll"},className:"se__s-p-colorpicker-overlay",onClick:this.handleOpenPopup}),n.a.createElement("div",{className:"pages-settings-modal-footer-images__upload-popup",onWheel:this.onOverlayScroll,style:{top:o}},a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-form__switcher"},n.a.createElement("div",{onClick:this.handleChangeType.bind(null,"image"),className:"se__s-p__mk-form__switcher-item ".concat("image"===a.type&&"se__s-p__mk-form__switcher-item_active")},e("app.editor.settingspanel.slideimage")),n.a.createElement("div",{onClick:this.handleChangeType.bind(null,"video"),className:"se__s-p__mk-form__switcher-item ".concat("video"===a.type&&"se__s-p__mk-form__switcher-item_active")},e("app.editor.settingspanel.slidevideo"))),"video"===a.type&&n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(Dt,{name:"video-type",value:a.video_type,onChange:this.handleChangeVideoType,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-wrapper-inlist",options:[{value:"youtube",label:"Youtube"},{value:"file",label:"Own Video"}]})),"youtube"===a.video_type?n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",null,n.a.createElement("input",{className:"input input-wrapper__setting input-wrapper__setting_video-url",name:"youtube-url",type:"text",autoComplete:"off",placeholder:"Youtube or Vimeo URL...",onChange:this.handleChangeVideo,value:a.video}))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_withicon"},"Own Videofile",n.a.createElement("svg",{"data-for":"video-desc","data-html":!0,"data-tip":"Format .mov or .mp4 <br> Not more than 10mb.<br>For paid accounts only.",className:"se__s-p__mk-item__title-icon_video cp",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM6.40327 7.72917C6.29465 7.98919 6.24034 8.33807 6.24034 8.77582H7.36106C7.36764 8.30187 7.47955 7.94146 7.69678 7.69461L8.30404 7.09722C8.80433 6.57718 9.05447 6.04892 9.05447 5.51242C9.05447 4.9101 8.86851 4.44108 8.49658 4.10536C8.12795 3.76964 7.61285 3.60178 6.95128 3.60178C6.30946 3.60178 5.79272 3.77129 5.40104 4.1103C5.01266 4.44931 4.81518 4.9101 4.80859 5.49268H6.0083C6.0083 5.21949 6.09388 5.00391 6.26503 4.84592C6.43947 4.68464 6.66822 4.604 6.95128 4.604C7.2475 4.604 7.47132 4.68629 7.62272 4.85086C7.77742 5.01213 7.85476 5.24747 7.85476 5.55686C7.85476 5.79055 7.78894 6.00778 7.65728 6.20855C7.5717 6.34021 7.36764 6.56237 7.04508 6.87505C6.72582 7.18444 6.51188 7.46915 6.40327 7.72917ZM6.33908 9.84223C6.2173 9.96072 6.15641 10.1171 6.15641 10.3113C6.15641 10.4923 6.21401 10.6437 6.32921 10.7655C6.4477 10.8872 6.61556 10.9481 6.83279 10.9481C7.05002 10.9481 7.21788 10.8872 7.33637 10.7655C7.45486 10.6437 7.51411 10.4923 7.51411 10.3113C7.51411 10.1236 7.45322 9.96895 7.33143 9.84717C7.20965 9.7221 7.04344 9.65956 6.83279 9.65956C6.62543 9.65956 6.46087 9.72045 6.33908 9.84223Z",fill:"#AFAFAF"}))),n.a.createElement(T.a,{id:"video-desc",html:!0,place:"bottom",type:"dark",effect:"solid"}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(So,{value:a.video_file_url,onChange:this.handleChangeVideoFileUrl}))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"se__s-p__mk-item__rows"},n.a.createElement("div",{className:"se__s-p__mk-item__row"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"autoplay",checked:a.autoplay,onChange:this.handleChangeAutoplay,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"autoplay",className:"se__s-p__mk-item__row-name"},e("app.editor.settingspanel.autoplay"))),n.a.createElement("div",{className:"se__s-p__mk-item__row"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"loop",checked:a.loop,onChange:this.handleChange.bind(this,"loop"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"loop",className:"se__s-p__mk-item__row-name"},e("app.editor.settingspanel.loop"))),n.a.createElement("div",{className:"se__s-p__mk-item__row"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"mute",checked:a.mute,onChange:this.handleChange.bind(this,"mute"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"mute",className:"se__s-p__mk-item__row-name"},e("app.editor.settingspanel.mute"))),"file"===a.video_type&&n.a.createElement("div",{className:"se__s-p__mk-item__row"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"videocontrols",checked:a.controls,onChange:this.handleChange.bind(this,"controls"),type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"videocontrols",className:"se__s-p__mk-item__row-name"},e("app.editor.settingspanel.controls"))))),n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},e("app.editor.settingspanel.preview")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(ao,{currentBlock:a,property:"video_thumbnail",update:this.handleChangeThumbnail,changeProps:()=>{},updateStyles:()=>{},handleChangeAllDevices:()=>{}}))),(a.video_thumbnail||!a.video)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},e("app.editor.settingspanel.icon")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting",ref:"iconsvideo"},n.a.createElement("div",{className:"input-wrapper__setting-chooseicon",onClick:this.handleShowIcons},a.icon_svg&&n.a.createElement("svg",{className:"input-wrapper__setting-icon material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:a.icon_svg}}),!a.icon_svg&&n.a.createElement("i",{className:"input-wrapper__setting-icon material-icons ".concat(a.icon_id)})),n.a.createElement("div",{className:"input-wrapper__setting-value",onClick:this.handleShowIcons},a.icon_name||e("app.editor.settingspanel.noicon")),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button fr",onClick:this.handleShowIcons},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),this.state.showIcons&&n.a.createElement(co,{only:"play",buttonTop:this.refs.iconsvideo.getBoundingClientRect().top,handleShowIcons:this.handleShowIcons,handleClick:this.handleInsertIcon}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:a,colorStartProperty:"icon_color",colorStopProperty:"icon_color",updateProperties:this.handleChangeCurrentImageProps,update:this.handleChangeCurrentImageProps}))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(_o,{max:500,styles:a,property:"icon_width",title:"Size",update:this.handleChangeCurrentImageProps})),n.a.createElement("div",{className:"se__s-p__mk-item__title"},"Overlay color"),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:a,styles:a,colorProperty:"backgroundColor",colorStartProperty:"bg_color_start",colorStopProperty:"bg_color_stop",updateProperties:this.handleChangeCurrentImageProps,update:()=>{}})))),t.video_thumbnail&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title"},"Playback mode"),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting cursor-pointer",onClick:this.handleShowPlaybackModes,ref:"modespopupref"},n.a.createElement("div",{className:"input-wrapper__setting-value cursor-pointer",onClick:this.handleShowPlaybackModes,style:{textTransform:"capitalize"}},t.mode),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button fr",onClick:this.handleShowPlaybackModes},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"}))))),this.state.showModes&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleShowPlaybackModes}),n.a.createElement("div",{id:"modespopup",className:"input-wrapper__setting-fontfamily__popup input-wrapper__setting-fontfamily__popup_custom",style:{top:this.state.top,width:136}},n.a.createElement("div",{className:"input-wrapper__setting-fontfamily__popup-section input-wrapper__setting-fontfamily__popup-section_all"},n.a.createElement("div",{className:"input-wrapper__setting-fontfamily__popup-section__item",onClick:this.handleChangeMode.bind(null,{video_mode:"inline"})},"Play Inline"),n.a.createElement("div",{className:"input-wrapper__setting-fontfamily__popup-section__item",onClick:this.handleChangeMode.bind(null,{video_mode:"newtab"})},e("app.editor.settingspanel.openinnewtab"))))))),"image"===a.type&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(ao,{updateProperties:()=>{},property:"image",currentBlock:{image:a&&a.image?a.image:""},handleChangeAllDevices:(e,t)=>{},update:this.onUpload,changeProps:()=>{},disableRemove:!0}))))))))}}var Ro=Object(o.b)(e=>({}),{})(Object(j.a)()(To));class jo extends s.Component{constructor(){super(...arguments),this.onSizeChange=e=>{const t={[this.props.property]:e/100};this.props.update(t),this.forceUpdate()},this.getValue=()=>void 0===this.props.styles[this.props.property]?0:100*this.props.styles[this.props.property],this.onMouseUp=e=>{e.target.select()},this.classes=()=>Be()("input-wrapper__setting input-wrapper__setting_nowrap",{"input-wrapper__setting_small input-wrapper__setting_small-3":"small"===this.props.size})}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:this.classes()},n.a.createElement("label",{className:"input-wrapper__setting-label ".concat("small"!==this.props.size&&" va-middle"),style:{marginRight:10}},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:this.getValue(),onChange:e=>{this.onSizeChange(e)}},n.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M8.75 1.75H12.25V5.25",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M5.25 12.25H1.75V8.75",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M12.2503 1.75L8.16699 5.83333",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M1.75 12.25L5.83333 8.16663",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})))),n.a.createElement("input",{autoComplete:"off",style:"small"!==this.props.size?{width:100}:{},onMouseUp:this.onMouseUp,id:"margin-right",type:"number",className:"input input_setting input_setting-inline input-wrapper__setting-input",value:this.getValue(),onChange:e=>{this.onSizeChange(e.target.value)}}),n.a.createElement("span",{className:"input-wrapper__setting-select fr",style:{padding:"3px"}},"%"),n.a.createElement(T.a,{html:!0,place:"bottom",type:"dark",effect:"solid"})))}}var Go=Object(o.b)(e=>({}),{})(jo),Ho=a(170);class Uo extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={showImages:!1,currentStateDots:"default",currentStateArrows:"default",showArrowsIcons:!1,showDotsIcons:!1},this.update=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const s=Object.assign(JSON.parse(JSON.stringify(e.props.currentBlock.data)),t);e.props.update({data:s},!0,a),e.forceUpdate()},this.handleChangeMode=e=>{this.update({mode:"classic"})},this.handleChange=(e,t)=>{this.update({[e]:t.target.checked})},this.updateCaptionStyles=e=>{const t=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data)),{caption_settings:Object.assign({},JSON.parse(JSON.stringify(this.props.currentBlock.data.caption_settings)),e)});this.props.update({data:t}),this.forceUpdate()},this.handleChangeArrowsPosition=e=>{e.target.checked?this.update({arrows_position:"in"}):this.update({arrows_position:"none"})},this.SelectHandleChangeArrowsPosition=e=>{let t={arrows_position:e.value};"out"===e.value?Object.assign(t,{arrows:"rgba(0, 0, 0, 1)",arrows_hover:"rgba(0, 0, 0, 0.5)",arrows_active:"rgba(0, 0, 0, 0.5)"}):Object.assign(t,{arrows:"rgba(255, 255, 255, 1)",arrows_hover:"rgba(255, 255, 255, 0.5)",arrows_active:"rgba(255, 255, 255, 0.5)"}),this.update(t),this.forceUpdate()},this.SelectHandleChangeDotsPosition=e=>{let t={dots_position:e.value};"out"===e.value?Object.assign(t,{dots:"rgba(0, 0, 0, 1)",dots_hover:"rgba(0, 0, 0, 0.5)",dots_active:"rgba(0, 0, 0, 0.5)"}):Object.assign(t,{dots:"rgba(255, 255, 255, 1)",dots_hover:"rgba(255, 255, 255, 0.5)",dots_active:"rgba(255, 255, 255, 0.5)"}),this.update(t),this.forceUpdate()},this.handleChangeDotsPosition=e=>{e.target.checked?this.update({dots_position:"out",dots:"rgba(0, 0, 0, 1)",dots_hover:"rgba(0, 0, 0, 0.5)",dots_active:"rgba(0, 0, 0, 0.5)"}):this.update({dots_position:"none"})},this.handleChangeControlColor=e=>{this.update(e)},this.handleShowImages=()=>{this.setState({showImages:!this.state.showImages})},this.handleChangeView=e=>{this.update({view:e.value})},this.handleChangeAutoplayDelay=e=>{this.update({autoplay_delay:parseInt(e.target.value,10)})},this.handleChangeDisableOnInteraction=e=>{this.update({disable_on_interaction:e.target.checked})},this.handleChangeAllowTouchMove=e=>{this.update({allow_touch_move:e.target.checked})},this.handleChangeElementCurrentState=(e,t)=>{this.setState({[t]:e})},this.handleShowArrowsIcons=()=>{this.setState({showArrowsIcons:!this.state.showArrowsIcons})},this.handleInsertArrowsIcon=e=>{e.body?this.update({arrows_icon_svg:e.body,arrows_icon_id:"",arrows_icon_name:e.id}):this.update({arrows_icon_id:e.id,arrows_icon_svg:"",arrows_icon_name:e.id}),this.forceUpdate()},this.handleShowDotsIcons=()=>{this.setState({showDotsIcons:!this.state.showDotsIcons})},this.handleInsertDotsIcon=e=>{e.body?this.update({dots_icon_svg:e.body,dots_icon_id:"",dots_icon_name:e.id}):this.update({dots_icon_id:e.id,dots_icon_svg:"",dots_icon_name:e.id}),this.forceUpdate()},this.getIconName=()=>{if(this.props.currentBlock.data&&"string"===typeof this.props.currentBlock.data.arrows_icon_name)return this.props.currentBlock.data.arrows_icon_name.replace(/-left|left-|left/g,"")}}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item se__s-p__mk-item_first"},n.a.createElement(Ro,{update:this.update,data:this.props.currentBlock.data,images:this.props.images,currentBlockId:this.props.currentBlock&&this.props.currentBlock.id,getPageColors:this.props.getPageColors}))),n.a.createElement("div",{className:"se__s-p__mk-item se__s-p__mk-item_first"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:()=>{this.handleChange("autoplay",{target:{checked:!this.props.currentBlock.data.autoplay}})}},n.a.createElement("span",null,e("app.editor.settingspanel.autoplay")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"autoplay",onChange:()=>{},checked:this.props.currentBlock.data.autoplay,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),this.props.currentBlock.data.autoplay&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_nowrap input-wrapper__setting_fullwidth"},n.a.createElement("label",{className:"input-wrapper__setting-label inline-wrapper",style:{marginRight:10}},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(this.props.currentBlock.data.autoplay_delay,10),onChange:e=>{this.handleChangeAutoplayDelay({target:{value:e}})}},n.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("circle",{cx:"7.5",cy:"7.5",r:"6",stroke:"#AFAFAF"}),n.a.createElement("path",{d:"M7 5V8L9.5 9.5",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{d:"M2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L2.85355 2.14645ZM2.64645 3.35355C2.84171 3.54882 3.15829 3.54882 3.35355 3.35355C3.54882 3.15829 3.54882 2.84171 3.35355 2.64645L2.64645 3.35355ZM2.14645 2.85355L2.64645 3.35355L3.35355 2.64645L2.85355 2.14645L2.14645 2.85355Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M12.1464 2.14645C12.3417 1.95118 12.6583 1.95118 12.8536 2.14645C13.0488 2.34171 13.0488 2.65829 12.8536 2.85355L12.1464 2.14645ZM12.3536 3.35355C12.1583 3.54882 11.8417 3.54882 11.6464 3.35355C11.4512 3.15829 11.4512 2.84171 11.6464 2.64645L12.3536 3.35355ZM12.8536 2.85355L12.3536 3.35355L11.6464 2.64645L12.1464 2.14645L12.8536 2.85355Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M6.5 1.71143e-08C6.22386 -3.95915e-09 6 0.223858 6 0.5C6 0.776142 6.22386 1 6.5 1V1.71143e-08ZM8.5 1C8.77614 1 9 0.776142 9 0.5C9 0.223858 8.77614 5.92611e-08 8.5 -2.50326e-08V1ZM6.5 1L8.5 1V-2.50326e-08L6.5 1.71143e-08V1Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("rect",{width:"14",height:"14",fill:"white"})))))),n.a.createElement("input",{autoComplete:"off",style:{padding:0},id:"input-seconds",onMouseUp:e=>{e.target.select()},type:"number",className:"input input_setting input_small input-wrapper__setting-input va-middle",value:this.props.currentBlock.data.autoplay_delay,onChange:this.handleChangeAutoplayDelay}),n.a.createElement("span",{className:"input-wrapper__setting-caption"},"seconds")),n.a.createElement("div",{className:"se__s-p__mk-item__rows"},n.a.createElement("div",{className:"se__s-p__mk-item__row se__s-p__mk-item__row_fullwidth"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"controls-map",checked:this.props.currentBlock.data.disable_on_interaction,onChange:this.handleChangeDisableOnInteraction,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"controls-map",className:"se__s-p__mk-item__row-name"},"Stop on user interaction")),n.a.createElement("div",{className:"se__s-p__mk-item__row se__s-p__mk-item__row_fullwidth"},n.a.createElement("div",{className:"se__s-p__mk-item__row-switch"},n.a.createElement("label",{className:"switcher switcher_small"},n.a.createElement("input",{id:"zoom_on_scroll",checked:this.props.currentBlock.data.allow_touch_move,onChange:this.handleChangeAllowTouchMove,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("label",{htmlFor:"zoom_on_scroll",className:"se__s-p__mk-item__row-name"},"Swipe with mouse"))))),n.a.createElement("div",{className:"se__s-p__mk-item se__s-p__mk-item_first"},n.a.createElement("div",{className:"se__s-p__mk-item se__s-p__mk-item_first"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:()=>{this.handleChangeArrowsPosition({target:{checked:"none"===this.props.currentBlock.data.arrows_position}})}},n.a.createElement("span",null,e("app.editor.settingspanel.arrows")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:"none"!==this.props.currentBlock.data.arrows_position,onChange:()=>{},type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),"none"!==this.props.currentBlock.data.arrows_position&&n.a.createElement("div",null,n.a.createElement("div",{style:{width:"auto"},className:"se__s-p__mk-form__switcher se__s-p__mk-form__switcher_2 mt10"},n.a.createElement("div",{onClick:this.handleChangeElementCurrentState.bind(null,"default","currentStateArrows"),className:"se__s-p__mk-form__switcher-item ".concat("default"===this.state.currentStateArrows&&"se__s-p__mk-form__switcher-item_active")},n.a.createElement(Ho.Textfit,{mode:"single",max:12},e("app.editor.settingspanel.default"))),n.a.createElement("div",{onClick:this.handleChangeElementCurrentState.bind(null,"hover","currentStateArrows"),className:"se__s-p__mk-form__switcher-item ".concat("hover"===this.state.currentStateArrows&&"se__s-p__mk-form__switcher-item_active")},n.a.createElement(Ho.Textfit,{mode:"single",max:12},e("app.editor.settingspanel.hover")))),"default"===this.state.currentStateArrows&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Dt,{name:"slider-arrows-position",value:this.props.currentBlock.data.arrows_position,onChange:this.SelectHandleChangeArrowsPosition,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-wrapper-inlist",options:[{value:"out",label:e("app.editor.settingspanel.neartheimage")},{value:"in",label:e("app.editor.settingspanel.intheimage")}]}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting",ref:"arrowsiconsbutton"},n.a.createElement("div",{className:"input-wrapper__setting-chooseicon cursor-pointer",onClick:this.handleShowArrowsIcons},this.props.currentBlock.data.arrows_icon_id?n.a.createElement("i",{className:"input-wrapper__setting-icon material-icons ".concat(this.props.currentBlock.data.arrows_icon_id)}):n.a.createElement("svg",{className:"input-wrapper__setting-icon material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:this.props.currentBlock.data.arrows_icon_svg}})),n.a.createElement("div",{className:"input-wrapper__setting-value cursor-pointer",onClick:this.handleShowArrowsIcons},this.getIconName()||e("app.editor.settingspanel.noicon")),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button cursor-pointer fr",onClick:this.handleShowArrowsIcons},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),this.state.showArrowsIcons&&n.a.createElement(co,{only:"arrow left",buttonTop:this.refs.arrowsiconsbutton.getBoundingClientRect().top,handleShowIcons:this.handleShowArrowsIcons,handleClick:this.handleInsertArrowsIcon})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.currentBlock.data,colorProperty:"backgroundColor",colorStartProperty:"arrows",colorStopProperty:"arrows",updateProperties:this.handleChangeControlColor,update:()=>{}}))),"hover"===this.state.currentStateArrows&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.currentBlock.data,colorProperty:"backgroundColor",colorStartProperty:"arrows_hover",colorStopProperty:"arrows_hover",updateProperties:this.handleChangeControlColor,update:()=>{}})),"default"===this.state.currentStateArrows&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Go,{styles:this.props.currentBlock.data,property:"arrows_icon_scale",title:"Scale",size:"small",update:this.update}),n.a.createElement(vo,{styles:this.props.currentBlock.data,property:"arrows_margin",update:this.update})))),n.a.createElement("div",{className:"se__s-p__mk-item se__s-p__mk-item_first"},n.a.createElement("div",{className:"se__s-p__mk-item se__s-p__mk-item_first"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:()=>{this.handleChangeDotsPosition({target:{checked:"none"===this.props.currentBlock.data.dots_position}})}},n.a.createElement("span",null,e("app.editor.settingspanel.dots")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:"none"!==this.props.currentBlock.data.dots_position,onChange:this.handleChangeDotsPosition,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),"none"!==this.props.currentBlock.data.dots_position&&n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-form__switcher se__s-p__mk-form__switcher_3 mt10"},n.a.createElement("div",{onClick:this.handleChangeElementCurrentState.bind(null,"default","currentStateDots"),className:"se__s-p__mk-form__switcher-item ".concat("default"===this.state.currentStateDots&&"se__s-p__mk-form__switcher-item_active")},n.a.createElement(Ho.Textfit,{mode:"single",max:12},e("app.editor.settingspanel.default"))),n.a.createElement("div",{onClick:this.handleChangeElementCurrentState.bind(null,"hover","currentStateDots"),className:"se__s-p__mk-form__switcher-item ".concat("hover"===this.state.currentStateDots&&"se__s-p__mk-form__switcher-item_active")},n.a.createElement(Ho.Textfit,{mode:"single",max:12},e("app.editor.settingspanel.hover"))),n.a.createElement("div",{onClick:this.handleChangeElementCurrentState.bind(null,"active","currentStateDots"),className:"se__s-p__mk-form__switcher-item ".concat("active"===this.state.currentStateDots&&"se__s-p__mk-form__switcher-item_active")},n.a.createElement(Ho.Textfit,{mode:"single",max:12},e("app.editor.settingspanel.active")))),"default"===this.state.currentStateDots&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Dt,{name:"slider-arrows-position",value:this.props.currentBlock.data.dots_position,onChange:this.SelectHandleChangeDotsPosition,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-wrapper-inlist",options:[{value:"out",label:e("app.editor.settingspanel.neartheimage")},{value:"in",label:e("app.editor.settingspanel.intheimage")}]}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting",ref:"dotsiconsbutton"},n.a.createElement("div",{className:"input-wrapper__setting-chooseicon cursor-pointer",onClick:this.handleShowDotsIcons},!this.props.currentBlock.data.dots_icon_id&&n.a.createElement("svg",{className:"input-wrapper__setting-icon material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:this.props.currentBlock.data.dots_icon_svg}}),this.props.currentBlock.data.dots_icon_id&&n.a.createElement("i",{className:"input-wrapper__setting-icon material-icons ".concat(this.props.currentBlock.data.dots_icon_id)})),n.a.createElement("div",{className:"input-wrapper__setting-value cursor-pointer",onClick:this.handleShowDotsIcons},this.props.currentBlock.data.dots_icon_name||e("app.editor.settingspanel.noicon")),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button cursor-pointer fr",onClick:this.handleShowDotsIcons},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),this.state.showDotsIcons&&n.a.createElement(co,{buttonTop:this.refs.dotsiconsbutton.getBoundingClientRect().top,handleShowIcons:this.handleShowDotsIcons,handleClick:this.handleInsertDotsIcon})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.currentBlock.data,colorProperty:"backgroundColor",colorStartProperty:"dots",colorStopProperty:"dots",updateProperties:this.handleChangeControlColor,update:()=>{}}))),"hover"===this.state.currentStateDots&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.currentBlock.data,colorProperty:"backgroundColor",colorStartProperty:"dots_hover",colorStopProperty:"dots_hover",updateProperties:this.handleChangeControlColor,update:()=>{}})),"active"===this.state.currentStateDots&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.currentBlock.data,colorProperty:"backgroundColor",colorStartProperty:"dots_active",colorStopProperty:"dots_active",updateProperties:this.handleChangeControlColor,update:()=>{}})),"default"===this.state.currentStateDots&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(_o,{styles:this.props.currentBlock.data,property:"dots_icon_width",title:"Size",size:"small",update:this.update}),n.a.createElement(Co,{styles:this.props.currentBlock.data,property:"dots_margin_top",update:this.update,icon:0})),"in"===this.props.currentBlock.data.dots_position&&n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},e("app.editor.settingspanel.backgroundcolor")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:this.props.currentBlock.data,colorProperty:"backgroundColor",colorStartProperty:"dots_bg",colorStopProperty:"dots_bg",updateProperties:this.handleChangeControlColor,update:()=>{}}))))))),n.a.createElement("div",{className:"se__s-p__space"}))}}var Zo=Object(o.b)(e=>({}),{})(Object(j.a)()(Uo)),zo=a(161),Vo=a.n(zo);a(940),a(315);class Wo extends s.Component{constructor(){super(...arguments),this.state={showEditor:!1,top:0},this.handleChangeCode=e=>{const t=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data)),{content:e});this.props.update({data:t}),this.forceUpdate()},this.handleToggleCode=()=>{this.setState({showEditor:!this.state.showEditor},()=>{this.state.showEditor&&this.refs.ace&&this.refs.ace.editor.focus()})}}componentDidMount(){this.setState({top:this.refs.editorbutton.getBoundingClientRect().y})}render(){return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding",ref:"editorbutton"},n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_code",onClick:this.handleToggleCode},this.props.currentBlock.data.content||"Empty")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("button",{className:"button button_white button_full button_map",onClick:this.handleToggleCode},"Edit the code"),this.state.showEditor&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleToggleCode}),n.a.createElement("div",{className:"section-editor__code-wrapper",style:{top:this.state.top}},n.a.createElement(Vo.a,{value:this.props.currentBlock.data.content,showPrintMargin:!1,mode:"html",theme:"monokai",onChange:this.handleChangeCode,name:"UNIQUE_ID_OF_DIV",wrapEnabled:!0,width:"100%",height:"100%",ref:"ace",className:"section-editor__code",tabSize:2}))))))}}var qo=Object(o.b)(e=>({}),{})(Wo);const Ko={fadeIn:{title:"Fade in",initial:{opacity:0}},scaleIn:{title:"Scale in",initial:{scale:.5,opacity:0}},scaleInBottom:{title:"Scale in bottom",initial:{scale:.5,opacity:0,y:50}},flipHorizontal:{title:"Flip horizontal",initial:{rotateY:-180,opacity:100}},flipVertical:{title:"Flip vertical",initial:{rotateX:-180,opacity:100}},slideInTop:{title:"Slide in top",initial:{opacity:0,y:-150}},slideInLeft:{title:"Slide in left",initial:{opacity:0,x:-150}},slideInRight:{title:"Slide in right",initial:{opacity:0,x:150}},slideInBottom:{title:"Slide in bottom",initial:{opacity:0,y:150}},custom:{title:"Custom",initial:{}}},Yo={onAppear:"On Appear",onScroll:"On Scroll",layerInView:"Layer In View"},Jo={linear:"Linear",easeInQuad:"Ease In",easeInOutQuad:"Ease In Out",easeOutQuad:"Ease Out",easeInBack:"Back In",easeInOutBack:"Back In Out",easeOutBack:"Back Out"},Xo=e=>Object.keys(e).map(t=>({label:"object"===typeof e[t]?e[t].title:e[t],value:t})),Qo=n.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_5798_25888)"},n.a.createElement("path",{d:"M0.292893 12.2929C-0.0976311 12.6834 -0.0976311 13.3166 0.292893 13.7071C0.683417 14.0976 1.31658 14.0976 1.70711 13.7071L0.292893 12.2929ZM11.7071 3.70711C12.0976 3.31658 12.0976 2.68342 11.7071 2.29289C11.3166 1.90237 10.6834 1.90237 10.2929 2.29289L11.7071 3.70711ZM8.20711 7.20711L8.91421 6.5L7.5 5.08579L6.79289 5.79289L8.20711 7.20711ZM1.70711 13.7071L8.20711 7.20711L6.79289 5.79289L0.292893 12.2929L1.70711 13.7071ZM9.70711 5.70711L11.7071 3.70711L10.2929 2.29289L8.29289 4.29289L9.70711 5.70711Z",fill:"#333333"}),n.a.createElement("path",{opacity:"0.5",d:"M11.5 7L11.7129 7.83987C11.8932 8.55127 12.4487 9.10676 13.1601 9.2871L14 9.5L13.1601 9.7129C12.4487 9.89324 11.8932 10.4487 11.7129 11.1601L11.5 12L11.2871 11.1601C11.1068 10.4487 10.5513 9.89324 9.83987 9.7129L9 9.5L9.83987 9.2871C10.5513 9.10676 11.1068 8.55127 11.2871 7.83987L11.5 7Z",fill:"#444444"}),n.a.createElement("path",{opacity:"0.5",d:"M7 10L7.22886 10.9028C7.33706 11.3296 7.67035 11.6629 8.0972 11.7711L9 12L8.0972 12.2289C7.67035 12.3371 7.33706 12.6704 7.22886 13.0972L7 14L6.77114 13.0972C6.66294 12.6704 6.32965 12.3371 5.9028 12.2289L5 12L5.9028 11.7711C6.32965 11.6629 6.66294 11.3296 6.77114 10.9028L7 10Z",fill:"#444444"}),n.a.createElement("path",{opacity:"0.5",d:"M3.5 0L3.91514 1.63763C4.09548 2.34904 4.65096 2.90452 5.36236 3.08486L7 3.5L5.36237 3.91514C4.65096 4.09548 4.09548 4.65096 3.91514 5.36236L3.5 7L3.08486 5.36237C2.90452 4.65096 2.34904 4.09548 1.63764 3.91514L0 3.5L1.63763 3.08486C2.34904 2.90452 2.90452 2.34904 3.08486 1.63764L3.5 0Z",fill:"#444444"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_5798_25888"},n.a.createElement("rect",{width:"14",height:"14",fill:"white",transform:"translate(0 14) rotate(-90)"}))));class $o extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={displayPicker:!1},this.t=Math.random().toString(36).substr(2,9),this.handleTogglePicker=()=>{const e=new CustomEvent("siter.settings.closeall",{detail:this.t});document.dispatchEvent(e),this.setState({displayPicker:!this.state.displayPicker},()=>{this.setTop(),this.createPreview()})},this.handleClosePicker=e=>{e&&e.detail===this.t||this.state.displayPicker&&(window.removeClones(),document.querySelector(".widget-clone__effects-preview__transformator").style.display="none",document.removeEventListener("siter.transformator.changed",this.setStyleToPreviewBorder),this.setState({displayPicker:!1}))},this.setTop=()=>{const e=document.getElementById("pickerpopup");if(e){let{top:t}=this.refs.settingElement.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight-30),this.setState({top:t})}},this.handleUpdateEffect=function(){e.props.handleUpdateEffect(...arguments),setTimeout(e.createPreview),e.forceUpdate()},this.handleChangeEffectIdWrapper=e=>{this.handleUpdateEffect({name:e.value},this.props.index),setTimeout(()=>{this.setTop()},10)},this.handleChangeTriggerIdWrapper=e=>{this.handleUpdateEffect({trigger_id:e.value},this.props.index),setTimeout(()=>{this.setTop()},10)},this.prevProps=null,this.handleChangePresetIdWrapper=e=>{let t=this.getPresetsDict()[e.value].initial,a={preset_id:e.value};oi.start=this.props.effect.initial.start,oi.direction=this.props.effect.initial.direction,"custom"!==e.value&&(oi.duration=this.prevProps.effect.initial.duration,oi.delay=this.prevProps.effect.initial.delay,a=Object.assign({preset_id:e.value},{initial:Object.assign({},oi,t)})),this.handleUpdateEffect(a,this.props.index),setTimeout(()=>{this.setTop()},10)},this.getPresetsDict=()=>{const{effect:e}=this.props;if("onScroll"===e.trigger_id){let e={};for(const t of Object.keys(Ko))e[t]=Object.assign({},Ko[t]),e[t].title=e[t].title.replace("in","out");return e}return Ko},this.handleInitialChange=(e,t)=>{let a=this.props.effect.initial;a[e]=t,this.handleUpdateEffect({initial:a},this.props.index)},this.handleInitialEasingChange=e=>{this.handleInitialChange("easing",e.value)},this.handleChangeDirection=e=>{this.handleInitialChange("direction",e)},this.handleChangeStart=e=>{this.handleInitialChange("start",e)},this.handleChangeReplay=e=>{this.handleInitialChange("replay",e.target.checked)},this.getCommonRect=function(e){var t=e.map((e,t)=>parseFloat(c()(t).css("left"))),a=e.map((e,t)=>parseFloat(c()(t).css("left"))+c()(t).width()),s=e.map((e,t)=>parseFloat(c()(t).css("top"))),n=e.map((e,t)=>parseFloat(c()(t).css("top"))+c()(t).height()),o=Math.min.apply(Math,t),i=Math.max.apply(Math,a),r=Math.min.apply(Math,s);return{offsetWidth:i-o,offsetHeight:Math.max.apply(Math,n)-r,offsetLeft:o,offsetTop:r}},this.setStyleToPreviewBorder=()=>{const{effect:e}=this.props,t=document.querySelector(".section-editor__transformator").style;if(t.transform){const a=(e=>{const t={},a=e.match(/(\w+)\(([^,)]+)(?:,([^)]*))?\)/g);return a&&a.forEach(e=>{const a=e.match(/(\w+)/),s=a?a[0]:null,n=e.match(/\(([^)]+)\)/)[1].split(",").map(e=>e.trim());s&&(t[s]=n)}),t})(t.transform),s=parseFloat(a.translate[0]),n=parseFloat(a.translate[1]),o=document.querySelector(".widget-clone__effects-preview");c()(".widget-clone__effects-preview__transformator").css({display:"block",width:o.offsetWidth*(window.currentZoom/100)+"px",height:o.offsetHeight*(window.currentZoom/100)+"px",transform:"translate(".concat(s+e.initial.x*(window.currentZoom/100),"px, ").concat(n+e.initial.y*(window.currentZoom/100),"px) scale(").concat(e.initial.scale,") rotateX(").concat(e.initial.rotateX,"deg) rotateY(").concat(e.initial.rotateY,"deg) rotateZ(").concat(e.initial.rotateZ,"deg)")})}},this.createPreview=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;if(0===c()(".widget-clone").length){window.createClones("widget-clone__effects-preview"),document.addEventListener("siter.transformator.changed",e.setStyleToPreviewBorder);const t=document.querySelector(".widget-clone__effects-preview");if(!c()(t).hasClass("s-e__w-i__group-frame")){const a=e.getCommonRect(c()(t).find(".s-e__w-i:not(.s-e__w-i__group)"));t.querySelectorAll(".s-e__w-i:not(.s-e__w-i__group)").forEach(e=>{e.style.top=parseFloat(getComputedStyle(e).top)-a.offsetTop+"px",e.style.left=parseFloat(getComputedStyle(e).left)-a.offsetLeft+"px"}),t.style.top=a.offsetTop+"px",t.style.left=a.offsetLeft+"px",t.style.width=a.offsetWidth+"px",t.style.height=a.offsetHeight+"px"}}const a=document.querySelector(".widget-clone__effects-preview");let s=a.dataset.origLeft,n=a.dataset.origTop;if(!c()(a).hasClass("s-e__w-i__group-frame")&&c()(a).hasClass("s-e__w-i__group")){const t=e.getCommonRect(c()("#"+CSS.escape(a.dataset.origId)).find(".s-e__w-i:not(.s-e__w-i__group)"));s=t.offsetLeft,n=t.offsetTop}const{effect:o}=t,i={opacity:o.initial.opacity/100,transform:"scale(".concat(o.initial.scale,") rotateX(").concat(o.initial.rotateX,"deg) rotateY(").concat(o.initial.rotateY,"deg) rotateZ(").concat(o.initial.rotateZ,"deg)"),left:"".concat(parseFloat(s)+o.initial.x,"px"),top:"".concat(parseFloat(n)+o.initial.y,"px"),filter:"blur(".concat(o.initial.blur,"px)")};c()(".widget-clone__effects-preview").css(i),e.setStyleToPreviewBorder(t)}}componentDidMount(){this.props.isDisplayPickerReady&&this.handleTogglePicker()}componentWillMount(){document.addEventListener("siter.settings.closeall",this.handleClosePicker)}componentWillUnmount(){document.removeEventListener("siter.settings.closeall",this.handleClosePicker),document.querySelector(".widget-clone__effects-preview__transformator").style.display="none",document.removeEventListener("siter.transformator.changed",this.setStyleToPreviewBorder),window.removeClones()}componentWillReceiveProps(e){this.state.displayPicker&&this.createPreview(e)}componentDidUpdate(){this.prevProps=this.props}render(){var e,t,a,s,o,i,r,l,c,p,d,h,m,u,g,_,f,v,w,C,y,b,E,k,S,x,N,B,F,A,L,O,D,M,P,I,T,R,j,G,H,U,Z,z,V,W,q,K,Y,J,X,Q,$,ee;const{displayPicker:te,top:ae}=this.state,{index:se,effect:ne,handleRemoveEffect:oe}=this.props,ie=Xo(Yo),re=Xo(this.getPresetsDict()),le=Xo(ni),ce=Xo(Jo);return n.a.createElement("div",null,n.a.createElement("div",{ref:"settingElement",className:"input-wrapper__setting input-wrapper__setting-effect"+(te?" input-wrapper__setting-active":"")},Qo,n.a.createElement("div",{className:"input-wrapper__setting-effect__label"},ni[ne.name],": ",this.getPresetsDict()[ne.preset_id].title),n.a.createElement("div",{className:"input-wrapper__setting-effect__right"},n.a.createElement("svg",{onClick:this.handleTogglePicker,className:"input-wrapper__setting-effect__right-edit cp",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_5798_23987)"},n.a.createElement("path",{d:"M11.5 8.5V11.5C11.5 12.6046 10.6046 13.5 9.5 13.5H2.5C1.39543 13.5 0.5 12.6046 0.5 11.5V4.5C0.5 3.39543 1.39543 2.5 2.5 2.5H5.5M7.5 9L13.4227 3.07725C13.4722 3.02779 13.5 2.9607 13.5 2.89075V2.89075C13.5 1.57038 12.4296 0.5 11.1092 0.5V0.5C11.0393 0.5 10.9722 0.527788 10.9227 0.57725L5 6.5L4.5 9.5L7.5 9Z",stroke:"#AFAFAF",strokeLinecap:"round",strokeLinejoin:"round"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_5798_23987"},n.a.createElement("rect",{width:"14",height:"14",fill:"white"})))),n.a.createElement("svg",{onClick:oe.bind(null,se),className:"input-wrapper__setting-effect__right-remove cp",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 7.5H13",stroke:"#AFAFAF"}))),!te&&n.a.createElement("div",{className:"input-wrapper__setting-clickable",onClick:this.handleTogglePicker})),te&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"pickerpopup",ref:"pickerpopup",className:"effects-popup fill-select","data-effect-index":se,style:{top:ae}},n.a.createElement("div",{className:"inline-select__with-icon"},Qo,n.a.createElement(Dt,{name:"name",value:{value:ne.name,label:ni[ne.name]},onChange:this.handleChangeEffectIdWrapper,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-inline appear-select",customClass:"fill-select",options:le})),"appear"===ne.name&&n.a.createElement("div",{className:"effect-setting__items"},n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Trigger"),n.a.createElement(Dt,{name:"trigger_id",value:{value:ne.trigger_id,label:Yo[ne.trigger_id]},onChange:this.handleChangeTriggerIdWrapper,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-inline",customClass:"fill-select",options:ie})),"onScroll"===ne.trigger_id&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Start"),n.a.createElement("div",{className:"se__s-p__mk-form__switcher se__s-p__mk-form__switcher_full_3"},n.a.createElement("div",{onClick:this.handleChangeStart.bind(null,"top"),className:"se__s-p__mk-form__switcher-item ".concat("top"===(null===(e=ne.initial)||void 0===e?void 0:e.start)&&"se__s-p__mk-form__switcher-item_active")},"Top"),n.a.createElement("div",{onClick:this.handleChangeStart.bind(null,"middle"),className:"se__s-p__mk-form__switcher-item ".concat("middle"===(null===(t=ne.initial)||void 0===t?void 0:t.start)&&"se__s-p__mk-form__switcher-item_active")},"Middle"),n.a.createElement("div",{onClick:this.handleChangeStart.bind(null,"bottom"),className:"se__s-p__mk-form__switcher-item ".concat("bottom"===(null===(a=ne.initial)||void 0===a?void 0:a.start)&&"se__s-p__mk-form__switcher-item_active")},"Bottom"))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Direction"),n.a.createElement("div",{className:"se__s-p__mk-form__switcher se__s-p__mk-form__switcher_110"},n.a.createElement("div",{onClick:this.handleChangeDirection.bind(null,"down"),className:"se__s-p__mk-form__switcher-item ".concat("down"===(null===(s=ne.initial)||void 0===s?void 0:s.direction)&&"se__s-p__mk-form__switcher-item_active")},"Down"),n.a.createElement("div",{onClick:this.handleChangeDirection.bind(null,"up"),className:"se__s-p__mk-form__switcher-item ".concat("up"===(null===(o=ne.initial)||void 0===o?void 0:o.direction)&&"se__s-p__mk-form__switcher-item_active")},"Up"))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Replay"),n.a.createElement("label",{htmlFor:"effect-replay",className:"switcher switcher_small switcher_noml"},n.a.createElement("input",{id:"effect-replay",checked:null===(i=ne.initial)||void 0===i?void 0:i.replay,onChange:this.handleChangeReplay,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),"layerInView"===ne.trigger_id&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Start"),n.a.createElement("div",{className:"se__s-p__mk-form__switcher se__s-p__mk-form__switcher_full_3"},n.a.createElement("div",{onClick:this.handleChangeStart.bind(null,"top"),className:"se__s-p__mk-form__switcher-item ".concat("top"===(null===(r=ne.initial)||void 0===r?void 0:r.start)&&"se__s-p__mk-form__switcher-item_active")},"Top"),n.a.createElement("div",{onClick:this.handleChangeStart.bind(null,"middle"),className:"se__s-p__mk-form__switcher-item ".concat("middle"===(null===(l=ne.initial)||void 0===l?void 0:l.start)&&"se__s-p__mk-form__switcher-item_active")},"Middle"),n.a.createElement("div",{onClick:this.handleChangeStart.bind(null,"bottom"),className:"se__s-p__mk-form__switcher-item ".concat("bottom"===(null===(c=ne.initial)||void 0===c?void 0:c.start)&&"se__s-p__mk-form__switcher-item_active")},"Bottom"))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Replay"),n.a.createElement("label",{htmlFor:"effect-replay",className:"switcher switcher_small switcher_noml"},n.a.createElement("input",{id:"effect-replay",checked:null===(p=ne.initial)||void 0===p?void 0:p.replay,onChange:this.handleChangeReplay,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Preset"),n.a.createElement(Dt,{name:"preset_id",value:{value:ne.preset_id,label:this.getPresetsDict()[ne.preset_id].title},onChange:this.handleChangePresetIdWrapper,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-inline",customClass:"fill-select",options:re})),"custom"===ne.preset_id&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"X"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(d=ne.initial)||void 0===d?void 0:d.x,startPoint:0,max:500,min:-500,step:10,onChange:this.handleInitialChange.bind(null,"x")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(h=ne.initial)||void 0===h?void 0:h.x,onChange:e=>this.handleInitialChange("x",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Y"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(m=ne.initial)||void 0===m?void 0:m.y,startPoint:0,max:500,min:-500,step:10,onChange:this.handleInitialChange.bind(null,"y")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(u=ne.initial)||void 0===u?void 0:u.y,onChange:e=>this.handleInitialChange("y",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Rotate X"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(g=ne.initial)||void 0===g?void 0:g.rotateX,startPoint:0,max:180,min:-180,onChange:this.handleInitialChange.bind(null,"rotateX")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(_=ne.initial)||void 0===_?void 0:_.rotateX,onChange:e=>this.handleInitialChange("rotateX",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Rotate Y"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(f=ne.initial)||void 0===f?void 0:f.rotateY,startPoint:0,max:180,min:-180,onChange:this.handleInitialChange.bind(null,"rotateY")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(v=ne.initial)||void 0===v?void 0:v.rotateY,onChange:e=>this.handleInitialChange("rotateY",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Rotate Z"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(w=ne.initial)||void 0===w?void 0:w.rotateZ,startPoint:0,max:180,min:-180,onChange:this.handleInitialChange.bind(null,"rotateZ")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(C=ne.initial)||void 0===C?void 0:C.rotateZ,onChange:e=>this.handleInitialChange("rotateZ",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Opacity"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(y=ne.initial)||void 0===y?void 0:y.opacity,startPoint:0,max:100,min:0,onChange:this.handleInitialChange.bind(null,"opacity")})),n.a.createElement("div",null,n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(b=ne.initial)||void 0===b?void 0:b.opacity,onChange:e=>this.handleInitialChange("opacity",e.target.value)}),n.a.createElement("span",{className:"se__s-p__mk-item__slider-setting__value se__s-p__mk-item__slider-setting__value_percent"},"%"))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Scale"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(E=ne.initial)||void 0===E?void 0:E.scale,startPoint:1,max:2,min:0,step:.1,onChange:this.handleInitialChange.bind(null,"scale")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(k=ne.initial)||void 0===k?void 0:k.scale,onChange:e=>this.handleInitialChange("scale",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Blur"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(S=ne.initial)||void 0===S?void 0:S.blur,startPoint:0,max:100,min:0,step:1,onChange:this.handleInitialChange.bind(null,"blur")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(x=ne.initial)||void 0===x?void 0:x.blur,onChange:e=>this.handleInitialChange("blur",e.target.value)}))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Duration"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(N=ne.initial)||void 0===N?void 0:N.duration,startPoint:0,max:5,min:0,step:.1,onChange:this.handleInitialChange.bind(null,"duration")})),n.a.createElement("div",null,n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(B=ne.initial)||void 0===B?void 0:B.duration,onChange:e=>this.handleInitialChange("duration",e.target.value)}),n.a.createElement("span",{className:"se__s-p__mk-item__slider-setting__value se__s-p__mk-item__slider-setting__value_percent"},"s"))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Delay"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(F=ne.initial)||void 0===F?void 0:F.delay,startPoint:0,max:5,min:0,step:.1,onChange:this.handleInitialChange.bind(null,"delay")})),n.a.createElement("div",null,n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(A=ne.initial)||void 0===A?void 0:A.delay,onChange:e=>this.handleInitialChange("delay",e.target.value)}),n.a.createElement("span",{className:"se__s-p__mk-item__slider-setting__value se__s-p__mk-item__slider-setting__value_percent"},"s"))),"custom"===ne.preset_id&&n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Easing"),n.a.createElement(Dt,{name:"easing",value:{value:null===(L=ne.initial)||void 0===L?void 0:L.easing,label:Jo[null===(O=ne.initial)||void 0===O?void 0:O.easing]},onChange:this.handleInitialEasingChange,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-inline",customClass:"fill-select",options:ce}))),"loop"===ne.name&&n.a.createElement("div",{className:"effect-setting__items"},n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Preset"),n.a.createElement(Dt,{name:"preset_id",value:{value:ne.preset_id,label:this.getPresetsDict()[ne.preset_id].title},onChange:this.handleChangePresetIdWrapper,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-inline",customClass:"fill-select",options:re})),"custom"===ne.preset_id&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"X"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(D=ne.initial)||void 0===D?void 0:D.x,startPoint:0,max:500,min:-500,step:10,onChange:this.handleInitialChange.bind(null,"x")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(M=ne.initial)||void 0===M?void 0:M.x,onChange:e=>this.handleInitialChange("x",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Y"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(P=ne.initial)||void 0===P?void 0:P.y,startPoint:0,max:500,min:-500,step:10,onChange:this.handleInitialChange.bind(null,"y")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(I=ne.initial)||void 0===I?void 0:I.y,onChange:e=>this.handleInitialChange("y",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Rotate X"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(T=ne.initial)||void 0===T?void 0:T.rotateX,startPoint:0,max:180,min:-180,onChange:this.handleInitialChange.bind(null,"rotateX")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(R=ne.initial)||void 0===R?void 0:R.rotateX,onChange:e=>this.handleInitialChange("rotateX",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Rotate Y"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(j=ne.initial)||void 0===j?void 0:j.rotateY,startPoint:0,max:180,min:-180,onChange:this.handleInitialChange.bind(null,"rotateY")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(G=ne.initial)||void 0===G?void 0:G.rotateY,onChange:e=>this.handleInitialChange("rotateY",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Rotate Z"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(H=ne.initial)||void 0===H?void 0:H.rotateZ,startPoint:0,max:180,min:-180,onChange:this.handleInitialChange.bind(null,"rotateZ")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(U=ne.initial)||void 0===U?void 0:U.rotateZ,onChange:e=>this.handleInitialChange("rotateZ",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Opacity"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(Z=ne.initial)||void 0===Z?void 0:Z.opacity,startPoint:0,max:100,min:0,onChange:this.handleInitialChange.bind(null,"opacity")})),n.a.createElement("div",null,n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(z=ne.initial)||void 0===z?void 0:z.opacity,onChange:e=>this.handleInitialChange("opacity",e.target.value)}),n.a.createElement("span",{className:"se__s-p__mk-item__slider-setting__value se__s-p__mk-item__slider-setting__value_percent"},"%"))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Scale"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(V=ne.initial)||void 0===V?void 0:V.scale,startPoint:1,max:2,min:0,step:.1,onChange:this.handleInitialChange.bind(null,"scale")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(W=ne.initial)||void 0===W?void 0:W.scale,onChange:e=>this.handleInitialChange("scale",e.target.value)})),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Blur"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(q=ne.initial)||void 0===q?void 0:q.blur,startPoint:0,max:100,min:0,step:.2,onChange:this.handleInitialChange.bind(null,"blur")})),n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(K=ne.initial)||void 0===K?void 0:K.blur,onChange:e=>this.handleInitialChange("blur",e.target.value)}))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Duration"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(Y=ne.initial)||void 0===Y?void 0:Y.duration,startPoint:0,max:5,min:0,step:.1,onChange:this.handleInitialChange.bind(null,"duration")})),n.a.createElement("div",null,n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(J=ne.initial)||void 0===J?void 0:J.duration,onChange:e=>this.handleInitialChange("duration",e.target.value)}),n.a.createElement("span",{className:"se__s-p__mk-item__slider-setting__value se__s-p__mk-item__slider-setting__value_percent"},"s"))),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Delay"),n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item__slider"},n.a.createElement(Fn.a,{value:null===(X=ne.initial)||void 0===X?void 0:X.delay,startPoint:0,max:5,min:0,step:.1,onChange:this.handleInitialChange.bind(null,"delay")})),n.a.createElement("div",null,n.a.createElement("input",{type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:null===(Q=ne.initial)||void 0===Q?void 0:Q.delay,onChange:e=>this.handleInitialChange("delay",e.target.value)}),n.a.createElement("span",{className:"se__s-p__mk-item__slider-setting__value se__s-p__mk-item__slider-setting__value_percent"},"s"))),"custom"===ne.preset_id&&n.a.createElement("div",{className:"se__s-p-colorpicker-shadow-settings-item"},n.a.createElement("div",{className:"se__s-p__mk-item-colorpicker__title-shadow"},"Easing"),n.a.createElement(Dt,{name:"easing",value:{value:null===($=ne.initial)||void 0===$?void 0:$.easing,label:Jo[null===(ee=ne.initial)||void 0===ee?void 0:ee.easing]},onChange:this.handleInitialEasingChange,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-inline",customClass:"fill-select",options:ce})))),n.a.createElement("div",{ref:"artboardoverlay",onClick:this.handleClosePicker,className:"colorpicker-artboard__overlay"},n.a.createElement("div",{ref:"overlayelement",className:"colorpicker-artboard__overlay-element"}))))}}var ei=Object(o.b)(e=>({}),{})(Object(j.a)()($o));const ti=a(86).v4,ai=n.a.forwardRef((e,t)=>{let{handleCopyEffect:a,handleInsertEffect:s,menu_id:o,index:i}=e;const r="true"===sessionStorage.getItem("isEffectsCopied");return n.a.createElement(R.Menu,{style:{marginLeft:-25,marginTop:-8,width:128,minWidth:128},id:o,ref:t},n.a.createElement(R.Item,{onClick:a.bind(null,i)},"Copy"),r&&n.a.createElement(R.Item,{onClick:s},"Paste"))}),si=e=>{let{handleInsertEffect:t,menu_id:a,index:s}=e;return"true"===sessionStorage.getItem("isEffectsCopied")?n.a.createElement(R.Menu,{style:{marginLeft:-25,marginTop:-8,width:128,minWidth:128},id:a},n.a.createElement(R.Item,{onClick:t},"Paste")):n.a.createElement(n.a.Fragment,null)},ni={appear:"Appear",loop:"Loop"},oi={x:0,y:0,opacity:0,scale:1,blur:0,duration:.25,delay:0,rotateX:0,rotateY:0,rotateZ:0,easing:"easeInOutQuad",direction:"down",start:"top",replay:!0},ii=e=>{let{handleAddEffect:t,availableToAddEffects:a,usedEffects:s,t:o}=e;return n.a.createElement(R.Menu,{style:{marginLeft:-25,marginTop:-8,width:128,minWidth:128},id:"effects"},a.map(e=>n.a.createElement(R.Item,{key:e,onClick:t.bind(null,e)},o("app.editor.settingspanel.".concat(e)))))},ri=e=>({id:"ef-"+ti(),trigger_id:"onAppear",preset_id:"fadeIn",name:e,initial:Object.assign({},oi)});class li extends s.Component{constructor(){super(...arguments),this.state={isDisplayPickerReady:!1},this.handleCopyEffect=(e,t)=>{sessionStorage.setItem("isEffectsCopied","true"),window.effectIndex=e,document.execCommand("copy")},this.handleInsertEffect=()=>{Yt.a.getItem("effect",(e,t)=>{if(t){t=Object(Jt.parse)(t);let e=this.props.effects;if(e)e=Object.assign({},e);else{e={};for(const t of window.devices)e[t.name]=[]}for(const a of Object.keys(e)){const s=e[a].find(e=>e.name===t.name);if(s){const n=e[a].indexOf(s);e[a]=e[a].slice(0),e[a][n]=Object.assign({},s,t)}else e[a].push(t)}this.props.handleChangeDataProps({effects:e},!1)}})},this.getAvailableToAddEffects=()=>{const e=this.getCurrentEffects().map(e=>e.name);return Object.keys(ni).filter(t=>-1===e.indexOf(t))},this.handleOpenContextMenu=e=>{0!==this.getAvailableToAddEffects()&&R.contextMenu.show({id:"effects",event:e})},this.handleAddEffect=e=>{var t,a;let s=this.props.effects;if(console.log(),(null===(t=s)||void 0===t||null===(a=t.desktop)||void 0===a?void 0:a[0])&&this.handleRemoveEffect([0]),s)s=Object.assign({},s);else{s={};for(const e of window.devices)s[e.name]=[]}if("desktop"===window.currentDeviceName){const t=ri(e);for(const e of window.devices)s[e.name].push(t)}else s[window.currentDeviceName].push(ri(e));this.props.handleChangeDataProps({effects:s})},this.handleUpdateEffect=(e,t)=>{let a=this.props.effects,s=a[window.currentDeviceName];if("desktop"===window.currentDeviceName){const s=this.props.effects.desktop[t].id;for(const t of window.devices){let n=a[t.name].find(e=>e.id===s);n&&Object.assign(n,e)}}else s[t]=Object.assign({},s[t],e,{id:"ef-"+ti()});this.props.handleChangeDataProps({effects:a},!1)},this.handleRemoveEffect=e=>{let t=Object.assign({},this.props.effects);if("desktop"===window.currentDeviceName){const a=this.props.effects.desktop[e].id;for(const e of window.devices){const s=t[e.name].find(e=>e.id===a);if(s){const a=t[e.name].indexOf(s);a>-1&&t[e.name].splice(a,1)}}}else t[window.currentDeviceName].splice(e,1);this.props.handleChangeDataProps({effects:t})},this.getCurrentEffects=()=>{let e=this.props.effects;if(!e){e={};for(const t of window.devices)e[t.name]=[]}return e[window.currentDeviceName]}}render(){const{t:e,handleChangeDataProps:t}=this.props,a=this.getCurrentEffects(),s=a.map(e=>e.name),o=Object.keys(ni).filter(e=>-1===s.indexOf(e));return n.a.createElement(R.MenuProvider,{id:"effect-insert-context-menu"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",null,n.a.createElement("div",{onClick:this.handleOpenContextMenu,className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom",style:{cursor:"pointer"}},n.a.createElement("span",null,e("app.editor.settingspanel.effects")),o.length>0&&n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"}))))),n.a.createElement(ii,{t:e,availableToAddEffects:o,handleAddEffect:this.handleAddEffect}),a.map((e,a)=>n.a.createElement(R.MenuProvider,{key:a,id:"effect-copy-context-menu"+a},n.a.createElement(ei,{index:a,effect:e,handleUpdateEffect:this.handleUpdateEffect,handleChangeDataProps:t,handleRemoveEffect:this.handleRemoveEffect,isDisplayPickerReady:this.state.isDisplayPickerReady}),n.a.createElement(ai,{index:a,menu_id:"effect-copy-context-menu"+a,handleCopyEffect:this.handleCopyEffect,handleInsertEffect:this.handleInsertEffect})))),n.a.createElement(si,{menu_id:"effect-insert-context-menu",handleInsertEffect:this.handleInsertEffect})))}}var ci=Object(o.b)(e=>({}),{})(Object(j.a)()(li));class pi extends s.Component{constructor(){var e;super(...arguments),e=this,this.handleChangeProperties=function(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=Object.assign({},e.props.currentBlock.data,t);e.props.handleChangeProperties({data:s},void 0,void 0,a),e.forceUpdate()},this.handleToggleEffect=e=>{"none"!==this.props.currentBlock.data.effect?this.handleChangeProperties({effect:"none"}):this.handleChangeProperties({effect:"link"})}}render(){const{t:e,currentBlock:t}=this.props;return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement(ci,{effects:t.data.effects,effectsChanged:JSON.stringify(t.data.effects),handleChangeDataProps:this.handleChangeProperties,isAnimationsReady:this.props.isAnimationsReady}),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"LayoutSwitcher"},e("app.editor.settingspanel.clickaction")),n.a.createElement("label",{id:"groupkit-click-action",htmlFor:"LayoutSwitcher",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"LayoutSwitcher",checked:"none"!==this.props.currentBlock.data.effect,onChange:this.handleToggleEffect,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),"none"!==this.props.currentBlock.data.effect&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(oo,{handleChangeProperties:this.handleChangeProperties,choosedBlock:this.props.choosedBlock,getPageColors:this.props.getPageColors,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,currentBlock:this.props.currentBlock.data,currentBlockId:this.props.currentBlock.id,hrefProperty:"href",subjectProperty:"subject",bodyProperty:"body",typeProperty:"effect",targetProperty:"target_blank"}))))}}var di=Object(o.b)(e=>({}),{})(Object(j.a)()(pi));class hi extends s.Component{constructor(){var e;super(...arguments),e=this,this.handleChangeProperties=function(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=Object.assign({},e.props.currentBlock.data,t);e.props.handleChangeProperties({data:s},void 0,void 0,a),e.forceUpdate()},this.handleToggleEffect=()=>{const{currentBlock:e}=this.props;"none"!==e.data.effect?this.handleChangeProperties({effect:"none"}):this.handleChangeProperties({effect:"link"})},this.handleChangeBackground=(e,t)=>{this.handleChangeProperties({fills:e,fills_css:t}),this.forceUpdate()},this.handleToggleUseImage=()=>{const{currentBlock:e}=this.props;this.handleChangeProperties({use_image:!e.data.use_image}),this.forceUpdate()},this.handleToggleBorder=()=>{const{generalStyles:e}=this.props;e.border&&"none"!==e.border?this.props.updateStyles({border:"none"}):this.props.updateStyles({border:"1px solid rgba(0, 0, 0, 0.5)"})},this.onColorPickerShow=()=>{document.querySelector(".section-editor__body").classList.add("section-editor__indicators_blocked")},this.onColorPickerHide=()=>{const e=document.querySelector(".section-editor__body");e&&e.classList.remove("section-editor__indicators_blocked")}}render(){const{t:e,currentBlock:t,updateStyles:a,flexDirection:s,gap:o,alignItems:i,flexWrap:r,padding:l,justifyContent:c,alignContent:p,ComponentHelper:d}=this.props,{image_data:h,id:m}=this.props.currentBlock,u=CSS.escape(m);return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement(ci,{effects:t.data.effects,effectsChanged:JSON.stringify(t.data.effects),handleChangeDataProps:this.handleChangeProperties}),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"autolayout"},e("app.editor.settingspanel.autolayout")),n.a.createElement("label",{htmlFor:"autolayout",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"autolayout",checked:t.autolayout,onChange:this.props.handleRemoveAutolayout,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),t.autolayout&&n.a.createElement(qa,{id:t.id,updateStyles:a,ComponentHelper:d,updateData:this.handleChangeProperties,flexDirection:s,gap:o,flexWrap:r,alignItems:i,justifyContent:c,padding:l,alignContent:p})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(ws,{fills:t.data.fills,update:this.handleChangeBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlockInfo,path:"data.fills",elementSelector:"#".concat(CSS.escape(t.id)," .strw-shape")}),n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleUseImage},e("app.editor.settingspanel.fillimage")),n.a.createElement("label",{htmlFor:"fill-image",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"fill-image",checked:t.data.use_image,onChange:this.handleToggleUseImage,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),t.data.use_image&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(ao,{currentBlock:t.data,imageData:h,changeProps:this.props.handleChangeProperties,property:"image",disableRemove:!0,styles:this.props.generalStyles,update:this.handleChangeProperties,handleChangeAllDevices:this.props.handleChangeComponentForAllDevices}))),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleBorder},e("app.editor.settingspanel.border")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:!(!this.props.generalStyles.border||"none"===this.props.generalStyles.border),onChange:this.handleToggleBorder,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),this.props.generalStyles.border&&"none"!==this.props.generalStyles.border&&"line"!==t.data.form&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zn,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,property:"border",update:this.props.updateStyles})),n.a.createElement(Lo,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,filter:this.props.generalStyles.filter,property:"filter",label:e("app.editor.settingspanel.value"),elementSelector:"#".concat(u),update:this.props.updateStyles}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,boxShadow:this.props.generalStyles.boxShadow,property:"boxShadow",update:this.props.updateStyles})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"LayoutSwitcher"},e("app.editor.settingspanel.clickaction")),n.a.createElement("label",{id:"Framekit-click-action",htmlFor:"LayoutSwitcher",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"LayoutSwitcher",checked:"none"!==t.data.effect,onChange:this.handleToggleEffect,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),"none"!==t.data.effect&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(oo,{handleChangeProperties:this.handleChangeProperties,choosedBlock:this.props.choosedBlock,getPageColors:this.props.getPageColors,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,currentBlock:t.data,currentBlockId:t.id,hrefProperty:"href",subjectProperty:"subject",bodyProperty:"body",typeProperty:"effect",targetProperty:"target_blank"}))))}}var mi=Object(o.b)(e=>({}),{})(Object(j.a)()(hi));class ui extends s.Component{constructor(){var e;super(...arguments),e=this,this.handleChangeProperties=function(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=Object.assign({},e.props.currentBlock.data,t);e.props.handleChangeProperties({data:s},void 0,void 0,a),e.forceUpdate()},this.handleToggleEffect=()=>{const{currentBlock:e}=this.props;"none"!==e.data.effect?this.handleChangeProperties({effect:"none"}):this.handleChangeProperties({effect:"link"})},this.handleChangeBackground=(e,t)=>{this.handleChangeProperties({fills:e,fills_css:t}),this.forceUpdate()},this.handleToggleUseImage=()=>{const{currentBlock:e}=this.props;this.handleChangeProperties({use_image:!e.data.use_image}),this.forceUpdate()},this.handleToggleBorder=()=>{const{generalStyles:e}=this.props;e.border&&"none"!==e.border?this.props.updateStyles({border:"none"}):this.props.updateStyles({border:"1px solid rgba(0, 0, 0, 0.5)"})},this.onColorPickerShow=()=>{document.querySelector(".section-editor__body").classList.add("section-editor__indicators_blocked")},this.onColorPickerHide=()=>{const e=document.querySelector(".section-editor__body");e&&e.classList.remove("section-editor__indicators_blocked")}}render(){const{t:e,currentBlock:t}=this.props,{id:a}=this.props.currentBlock,s=CSS.escape(a);return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement(ci,{effects:t.data.effects,effectsChanged:JSON.stringify(t.data.effects),handleChangeDataProps:this.handleChangeProperties}),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(ws,{fills:t.data.fills,update:this.handleChangeBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlockInfo,path:"data.fills",elementSelector:"#".concat(CSS.escape(t.id)," .strw-shape")}),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleBorder},e("app.editor.settingspanel.border")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:!(!this.props.generalStyles.border||"none"===this.props.generalStyles.border),onChange:this.handleToggleBorder,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),this.props.generalStyles.border&&"none"!==this.props.generalStyles.border&&"line"!==t.data.form&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zn,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,property:"border",update:this.props.updateStyles})),n.a.createElement(Lo,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,filter:this.props.generalStyles.filter,property:"filter",label:e("app.editor.settingspanel.value"),elementSelector:"#".concat(s),update:this.props.updateStyles}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:this.props.generalStyles,boxShadow:this.props.generalStyles.boxShadow,property:"boxShadow",update:this.props.updateStyles})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"LayoutSwitcher"},e("app.editor.settingspanel.clickaction")),n.a.createElement("label",{id:"Framekit-click-action",htmlFor:"LayoutSwitcher",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"LayoutSwitcher",checked:"none"!==t.data.effect,onChange:this.handleToggleEffect,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),"none"!==t.data.effect&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(oo,{handleChangeProperties:this.handleChangeProperties,choosedBlock:this.props.choosedBlock,getPageColors:this.props.getPageColors,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,currentBlock:t.data,currentBlockId:t.id,hrefProperty:"href",subjectProperty:"subject",bodyProperty:"body",typeProperty:"effect",targetProperty:"target_blank"}))))}}var gi=Object(o.b)(e=>({}),{})(Object(j.a)()(ui));class _i extends s.Component{constructor(){super(...arguments),this.handleAddEmail=()=>{const{form:e}=this.props;let t=e.data.emails;t.push(""),this.props.updateData({emails:t},()=>{document.getElementById("collaboration-".concat(t.length-1)).focus()}),this.forceUpdate()},this.handleChangeEmailItem=(e,t)=>{const{form:a}=this.props;a.data.emails[e]=t.target.value,this.props.updateData({emails:a.data.emails}),this.forceUpdate()},this.handleRemove=e=>{const{form:t}=this.props;t.data.emails.length>1&&(t.data.emails.splice(e,1),this.props.updateData({emails:t.data.emails}),this.forceUpdate())}}render(){const{form:e,t:t}=this.props;return n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleAddEmail},n.a.createElement("span",null,t("app.editor.settingspanel.formelements.recipientemail")),n.a.createElement("label",{id:"addshadow",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"}))))),n.a.createElement("div",{className:"se__s-p__mk-item"},e&&e.data.emails.map((e,a)=>n.a.createElement("div",{className:"se__s-p__mk-item__collaboration-item",key:a},n.a.createElement("input",{placeholder:t("app.editor.settingspanel.formelements.recipientplaceholder"),className:"input input-collaboration",id:"collaboration-"+a,type:"text",onChange:this.handleChangeEmailItem.bind(null,a),value:e}),n.a.createElement("svg",{onClick:this.handleRemove.bind(null,a),className:"se__s-p__state-switcher-label__remove",width:"12",height:"12",viewBox:"0 0 12 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 1H12V0H0V1Z",fill:"#AFAFAF"}))))))}}var fi=Object(o.b)(e=>({}),{})(Object(j.a)()(_i));class vi extends s.Component{constructor(){super(...arguments),this.handleToggleUseRedirect=()=>{const{form:e}=this.props;e.data.useRedirect||e.data.hasOwnProperty("effect")||(e.data.close_click_outside=!1,e.data.effect="link",e.data.text_align="middle",e.data.overlay_color="rgba(0, 0, 0, 0.2)",e.data.target_blank=!1),this.props.updateData({useRedirect:!e.data.useRedirect}),this.forceUpdate()},this.handleChangeUrl=(e,t)=>{this.props.updateData({redirectUrl:t.target.value}),this.forceUpdate()},this.handleRemove=e=>{const{form:t}=this.props;t.data.useRedirect&&(this.props.updateData({useRedirect:!1}),this.forceUpdate())}}render(){const{form:e,t:t}=this.props;return n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_first cp",onClick:this.handleToggleUseRedirect},n.a.createElement("span",null,t("app.editor.settingspanel.formelements.redirectUrl")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:e.data.useRedirect,onChange:()=>{},type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),e.data.useRedirect&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(oo,{handleChangeProperties:this.props.updateData,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,currentBlock:e.data,currentBlockId:e.id,getPageColors:()=>{},hrefProperty:"redirectUrl",subjectProperty:"subject",bodyProperty:"body",typeProperty:"effect",targetProperty:"target_blank",form:!0})))}}var wi=Object(o.b)(e=>({}),{})(Object(j.a)()(vi));class Ci extends s.Component{render(){const{currentFieldType:e,fieldTypes:t,handleChangePlaceholder:a,handleAddSelectOption:s,handleChangeRequired:o,currentFieldP:i,currentFieldOptions:r,currentFieldRequired:l,t:c}=this.props;return n.a.createElement("div",{className:"presets-editor",style:{height:window.innerHeight}},n.a.createElement("div",{className:"presets-editor__header"},n.a.createElement("div",{className:"presets-editor__header-icon",onClick:this.props.handleClosePopup},n.a.createElement("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M5 1L1 6L5 11",stroke:"#7F7F7F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),n.a.createElement("span",{className:"presets-editor__header-title"},n.a.createElement("span",{className:"capitalize"},e)," ",c("app.editor.settingspanel.formelements.input"))),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item mt5"},n.a.createElement(Dt,{name:"field-type",value:t.find(t=>t.value===e),onChange:this.props.handleChangeCurrentFieldType,searchable:!1,scrollMenuIntoView:!1,clearable:!1,options:t}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("input",{autoComplete:"off",className:"input input-wrapper__setting input-wrapper__setting-form__settings-input",name:"placeholder",onChange:a,type:"text",placeholder:c("app.editor.settingspanel.formelements.inputplaceholder"),value:i})),"select"===e&&n.a.createElement("div",null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp"},n.a.createElement("span",null,c("app.editor.settingspanel.formelements.dropdownoptions")),n.a.createElement("label",{onClick:s,id:"ff-options",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"}))))),r.map((e,t)=>n.a.createElement("div",{className:"se__s-p__mk-item",style:{position:"relative"},key:t},n.a.createElement("input",{style:r.length>1?{width:"88%"}:{},className:"input input-wrapper__setting input-wrapper__setting-form__settings-input",name:"placeholder",onChange:this.props.handleChangeSelectOption.bind(this,t),type:"text",placeholder:"Option",value:e.title}),r.length>1&&n.a.createElement("svg",{style:{right:0,top:22},className:"input-wrapper__setting-form__field-remove cp",onClick:this.props.handleRemoveSelectOption.bind(null,t),width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 8H13V7H1V8Z",fill:"#AFAFAF"}))))),n.a.createElement("label",{htmlFor:"required",className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp"},n.a.createElement("span",null,c("app.formerrors.required")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"required",onChange:o,checked:l,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))))}}var yi=Object(o.b)(e=>({user:e.sessions,site:e.site}),{})(Ci),bi=a(86).v4;let Ei={classic:{form_fields_styles:{fontFamily:"Roboto",fontSize:"14px",fontWeight:"400",width:"100%",border:"1px solid #ECECEC",borderRadius:"5px",color:"rgba(51, 51, 51, 1)",textAlign:"left",letterSpacing:"0em",textShadow:"none",fontFamily_hover:"Roboto",fontSize_hover:"14px",fontWeight_hover:"400",width_hover:"100%",border_hover:"1px solid #ECECEC",color_hover:"rgba(51, 51, 51, 1)",textAlign_hover:"left",letterSpacing_hover:"0em"},fields_fills_hover:[],fields_fills_hover_css:"",button_fills_hover:[],button_fills_hover_css:"",fields_fills:[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.9803921568627451,g:.9803921568627451,b:.9803921568627451}}],button_fills_css:"linear-gradient(to right, rgba(39, 174, 96, 1), rgba(39, 174, 96, 1))",fields_fills_css:"linear-gradient(to right, rgba(250, 250, 250, 1), rgba(250, 250, 250, 1))",button_styles:{width:"100%",borderRadius:"5px",border:"0px solid rgba(255, 255, 255, 1)",color:"rgba(255, 255, 255, 1)",fontSize:"14px",textAlign:"center",fontFamily:"Roboto",fontWeight:"400",letterSpacing:"0em",borderRadius_hover:"4px",border_hover:"0px solid rgba(255, 255, 255, 1)",color_hover:"rgba(255, 255, 255, 1)",fontSize_hover:"14px",textAlign_hover:"center",fontFamily_hover:"Roboto",fontWeight_hover:"400",letterSpacing_hover:"0em"},button_fills:[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.15294117647058825,g:.6823529411764706,b:.3764705882352941}}]},newstyle:{form_fields_styles:{fontFamily:"Roboto",fontSize:"14px",fontWeight:"400",width:"100%",border:"1px solid #F5F5F5",borderRadius:"0px",color:"rgba(51, 51, 51, 1)",textAlign:"left",letterSpacing:"0em",textShadow:"none",fontFamily_hover:"Roboto",fontSize_hover:"14px",fontWeight_hover:"400",width_hover:"100%",border_hover:"1px solid #F5F5F5",color_hover:"rgba(51, 51, 51, 1)",textAlign_hover:"left",letterSpacing_hover:"0em"},fields_fills:[{type:"SOLID",color:{r:.9607843137254902,g:.9607843137254902,b:.9607843137254902},opacity:1,visible:!0,blendMode:"NORMAL",uid:"ff86f28d-ab58-48eb-a6f0-63d7d809be23"}],fields_fills_hover:[{uid:"a832da3c-c342-4585-b243-8e0c5a5cf46d",type:"SOLID",visible:!0,opacity:.8,blendMode:"NORMAL",color:{r:.396078431372549,g:.3176470588235294,b:.8784313725490196}}],button_fills:[{type:"SOLID",color:{r:.396078431372549,g:.3176470588235294,b:.8784313725490196},opacity:1,visible:!0,blendMode:"NORMAL",uid:"9da91ed7-e18e-42a3-879d-cfa0bb015090"}],fields_fills_css:"linear-gradient(to right, rgba(245, 245, 245, 1), rgba(245, 245, 245, 1))",fields_fills_hover_css:"linear-gradient(to right, rgba(245, 245, 245, 1), rgba(245, 245, 245, 1))",button_fills_css:"linear-gradient(to right, rgba(101, 81, 224, 1), rgba(101, 81, 224, 1))",button_fills_hover_css:"linear-gradient(to right, rgba(101, 81, 224, 0.8), rgba(101, 81, 224, 0.8))",button_fills_hover:[{uid:"a832da3c-c342-4585-b243-8e0c5a5cf46d",type:"SOLID",visible:!0,opacity:.8,blendMode:"NORMAL",color:{r:.396078431372549,g:.3176470588235294,b:.8784313725490196}}],button_styles:{width:"100%",borderRadius:"0px",border:"0px solid rgba(255, 255, 255, 1)",color:"rgba(255, 255, 255, 1)",fontSize:"14px",textAlign:"center",fontFamily:"Roboto",fontWeight:"400",letterSpacing:"0em",borderRadius_hover:"0px",border_hover:"0px solid rgba(255, 255, 255, 1)",color_hover:"rgba(255, 255, 255, 1)",fontSize_hover:"14px",textAlign_hover:"center",fontFamily_hover:"Roboto",fontWeight_hover:"400",letterSpacing_hover:"0em"}},underline:{form_fields_margin:"12px",form_fields_styles:{fontFamily:"Roboto",fontSize:"14px",fontWeight:"400",width:"100%",border:"1px solid rgba(51, 51, 51, 1)",borderRadius:"0px",color:"rgba(51, 51, 51, 1)",textAlign:"left",letterSpacing:"0em",textShadow:"none",fontFamily_hover:"Roboto",fontSize_hover:"14px",fontWeight_hover:"400",width_hover:"100%",border_hover:"1px solid rgba(51, 51, 51, 1)",color_hover:"rgba(51, 51, 51, 1)",textAlign_hover:"left",letterSpacing_hover:"0em"},button_styles:{width:"100%",borderRadius:"0px",border:"none",color:"rgba(255, 255, 255, 1)",fontSize:"14px",textAlign:"center",fontFamily:"Roboto",fontWeight:"400",letterSpacing:"0em",borderRadius_hover:"0px",border_hover:"none",color_hover:"rgba(255, 255, 255, 1)",fontSize_hover:"14px",textAlign_hover:"center",fontFamily_hover:"Roboto",fontWeight_hover:"400",letterSpacing_hover:"0em"},fields_fills_hover:[],fields_fills_hover_css:"",button_fills_hover:[],button_fills_hover_css:"",fields_fills:[{type:"SOLID",color:{r:1,g:1,b:1},opacity:0,visible:!0,blendMode:"NORMAL",uid:"ff86f28d-ab58-48eb-a6f0-63d7d809be23"}],button_fills:[{type:"SOLID",color:{r:.2,g:.2,b:.2},opacity:1,visible:!0,blendMode:"NORMAL",uid:"9da91ed7-e18e-42a3-879d-cfa0bb015090"}],button_fills_css:"linear-gradient(to right, rgba(51, 51, 51, 1), rgba(51, 51, 51, 1))",fields_fills_css:"linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0))"}};const ki=e=>{let t={id:"ff-"+bi(),title:"Dropdown",placeholder:"Dropdown",name:"Dropdown",required:!0,type:e,options:[]};return"select"===e&&(t.options=[{title:"Option #1",value:"option1"},{title:"Option #2",value:"option2"}],t.name="Dropdown"),["name"].indexOf(e)>-1&&(t.title="Name",t.placeholder="Name",t.name="name"),["text"].indexOf(e)>-1&&(t.title="Text",t.placeholder="Text",t.name="text"),"email"===e&&(t.title="Email",t.placeholder="Email",t.name="email"),"number"===e&&(t.title="Number",t.placeholder="Number",t.name="number"),"phone"===e&&(t.title="Phone",t.placeholder="Phone",t.name="phone"),"textarea"===e&&(t.title="Description",t.placeholder="Description",t.name="description"),t},Si=e=>{let{handleAddField:t,t:a}=e;return n.a.createElement(R.Menu,{style:{marginLeft:-25,marginTop:-8,width:128,minWidth:128},id:"form-type-context-menu"},n.a.createElement(R.Item,{onClick:t.bind(null,"name")},a("app.editor.settingspanel.formelements.name")),n.a.createElement(R.Item,{onClick:t.bind(null,"email")},a("app.editor.settingspanel.formelements.email")),n.a.createElement(R.Item,{onClick:t.bind(null,"phone")},a("app.editor.settingspanel.formelements.phone")),n.a.createElement(R.Item,{onClick:t.bind(null,"text")},a("app.editor.settingspanel.formelements.text")),n.a.createElement(R.Item,{onClick:t.bind(null,"textarea")},a("app.editor.settingspanel.formelements.textarea")),n.a.createElement(R.Item,{onClick:t.bind(null,"select")},a("app.editor.settingspanel.formelements.dropdown")))};class xi extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={popupOpen:!1,currentStyle:"fields",showIcons:!1,iconsButtonTop:-1e3},this.fieldTypes=[{value:"text",label:this.props.t("app.editor.settingspanel.formelements.text")},{value:"name",label:this.props.t("app.editor.settingspanel.formelements.name")},{value:"email",label:this.props.t("app.editor.settingspanel.formelements.email")},{value:"phone",label:this.props.t("app.editor.settingspanel.formelements.phone")},{value:"select",label:this.props.t("app.editor.settingspanel.formelements.dropdown")},{value:"textarea",label:this.props.t("app.editor.settingspanel.formelements.textarea")}],this.handleAddField=e=>{let{currentBlock:t}=this.props,{form_fields:a}=t.data,s=ki(e);a.push(s);let n=Object.assign(t.data,{form_fields:a});this.props.update({data:n}),this.forceUpdate()},this.handleChangeCurrentStyle=e=>{this.setState({currentStyle:e})},this.handleRemoveField=e=>{let{currentBlock:t}=this.props,{form_fields:a}=t.data;a.splice(e,1);let s=Object.assign(t.data,{form_fields:a});this.props.update({data:s}),this.forceUpdate()},this.handleChangeType=e=>{if(["res375"].indexOf(this.props.currentDeviceName)>-1)return;let{currentBlock:t}=this.props,a=Object.assign(t.data,{form_type:e});this.props.update({data:a},!0),this.forceUpdate()},this.handleChangeTheme=e=>{let{value:t}=e,{currentBlock:a}=this.props,s=JSON.parse(JSON.stringify(Object.assign(a.data,{form_theme:t}))),n=JSON.parse(JSON.stringify(Ei[t]));for(let o of Object.keys(n))if("object"===typeof n[o])for(let e of Object.keys(n[o]))e.indexOf("color")>-1?[Ei.classic[o][e],Ei.newstyle[o][e],Ei.underline[o][e]].indexOf(s[o][e])>-1&&(s[o][e]=n[o][e]):o.indexOf("fills")>-1?(s[o]=[],s[o][e]=n[o][e]):s[o][e]=n[o][e];else o.indexOf("color")>-1?[Ei.classic[o],Ei.newstyle[o],Ei.underline[o]].indexOf(s[o])>-1&&(s[o]=n[o]):s[o]=n[o];this.props.update({data:s}),this.forceUpdate()},this.toggleAddFieldSelect=e=>{R.contextMenu.show({id:"form-type-context-menu",event:e,props:{foo:"bar"}})},this.handleOpenFieldSettings=e=>{this.setState({popupOpen:!0},()=>{this.setState({top:this.refs["fieldref"+e.id].getBoundingClientRect().y})}),this.setState({currentField:e})},this.handleClosePopup=()=>{this.setState({popupOpen:!1})},this.handleChangeCurrentFieldType=e=>{let{value:t}=e,{currentField:a,optionsUpdated:s}=this.state,{currentBlock:n}=this.props,{form_fields:o}=n.data;a.type=t,Object.assign(a,ki(t));let i=Object.assign(n.data,{form_fields:o});this.setState({currentField:a,optionsUpdated:!s}),this.props.update({data:i}),this.forceUpdate()},this.handleChangePlaceholder=e=>{let{currentField:t,optionsUpdated:a}=this.state,{currentBlock:s}=this.props,{form_fields:n}=s.data;t.placeholder=e.target.value,t.name=e.target.value,t.title=e.target.value;let o=Object.assign(s.data,{form_fields:n});this.setState({currentField:t,optionsUpdated:!a}),this.props.update({data:o}),this.forceUpdate()},this.handleChangeRequired=e=>{let{currentField:t,optionsUpdated:a}=this.state,{currentBlock:s}=this.props,{form_fields:n}=s.data;t.required=!t.required;let o=Object.assign(s.data,{form_fields:n});this.setState({currentField:t,optionsUpdated:!a}),this.props.update({data:o}),this.forceUpdate()},this.handleAddSelectOption=()=>{let{currentField:e,optionsUpdated:t}=this.state,{currentBlock:a}=this.props,{form_fields:s}=a.data;e.options.push({title:"Option #1",value:"option1"});let n=Object.assign(a.data,{form_fields:s});this.setState({currentField:e,optionsUpdated:!t}),this.props.update({data:n}),this.forceUpdate()},this.handleChangeSelectOption=(e,t)=>{let{currentField:a,optionsUpdated:s}=this.state,{currentBlock:n}=this.props,{form_fields:o}=n.data;a.options[e].value=t.target.value,a.options[e].title=t.target.value;let i=Object.assign(n.data,{form_fields:o});this.setState({currentField:a,optionsUpdated:!s}),this.props.update({data:i}),this.forceUpdate()},this.handleRemoveSelectOption=e=>{let{currentField:t,optionsUpdated:a}=this.state,{currentBlock:s}=this.props,{form_fields:n}=s.data;t.options.splice(e,1);let o=Object.assign(s.data,{form_fields:n});this.setState({currentField:t,optionsUpdated:!a}),this.props.update({data:o}),this.forceUpdate()},this.handleChangeFieldsGradient=e=>{e=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data)),{fields_gradient:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data.fields_gradient)),e)}),this.props.update({data:e}),this.forceUpdate()},this.handleChangeFieldsBackground=(e,t)=>{const a=Object.assign({},this.props.currentBlock.data,{fields_fills:e,fields_fills_css:t});this.props.update({data:a}),this.forceUpdate()},this.handleChangeFieldsBackgroundHover=(e,t)=>{const a=Object.assign({},this.props.currentBlock.data,{fields_fills_hover:e,fields_fills_hover_css:t});this.props.update({data:a}),this.forceUpdate()},this.handleChangeButtonBackground=(e,t)=>{const a=Object.assign({},this.props.currentBlock.data,{button_fills:e,button_fills_css:t});this.props.update({data:a}),this.forceUpdate()},this.handleChangeButtonBackgroundHover=(e,t)=>{const a=Object.assign({},this.props.currentBlock.data,{button_fills_hover:e,button_fills_hover_css:t});this.props.update({data:a}),this.forceUpdate()},this.updateFormData=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},s=e.props.currentBlock.data,n=Object.assign(s,t);e.props.update({data:n},!0,a),e.forceUpdate()},this.updateFormFieldsStyles=e=>{e=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data)),{form_fields_styles:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data.form_fields_styles)),e)}),this.props.update({data:e}),this.forceUpdate()},this.updateButtonStyles=e=>{e.hasOwnProperty("borderRadius")&&(e.borderRadius_hover=e.borderRadius),e=Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data)),{button_styles:Object.assign(JSON.parse(JSON.stringify(this.props.currentBlock.data.button_styles)),e)}),this.props.update({data:e}),this.forceUpdate()},this.handleToggleFieldsBorder=()=>{let{currentBlock:e,elementCurrentState:t}=this.props,a="hover"===t?"border_hover":"border",s=JSON.parse(JSON.stringify(e.data));s.form_fields_styles[a]&&"none"!==s.form_fields_styles[a]?(s.form_fields_styles[a]="none",this.props.update({data:s}),this.forceUpdate()):(s.form_fields_styles[a]="1px solid rgba(0, 0, 0, 0.5)",this.props.update({data:s}),this.forceUpdate())},this.handleToggleButtonBorder=()=>{let{currentBlock:e,elementCurrentState:t}=this.props,a="hover"===t?"border_hover":"border",s=JSON.parse(JSON.stringify(e.data));s.button_styles[a]&&"none"!==s.button_styles[a]?(s.button_styles[a]="none",this.props.update({data:s}),this.forceUpdate()):(s.button_styles[a]="1px solid rgba(0, 0, 0, 0.5)",this.props.update({data:s}),this.forceUpdate())},this.setTop=()=>{const e=document.getElementById("iconspopup");if(e){let{top:t}=this.refs.iconsbutton.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=window.innerHeight-e.offsetHeight),this.setState({iconsButtonTop:t})}},this.handleShowIcons=()=>{this.setState({showIcons:!this.state.showIcons},()=>{setTimeout(this.setTop)})},this.handleInsertIcon=e=>{e.body?this.updateFormData({button_icon_svg:e.body,button_icon_id:"",button_icon_name:e.id}):this.updateFormData({button_icon_id:e.id,button_icon_svg:"",button_icon_name:e.id})},this.handleChangeWithIcon=e=>{let t=!this.props.currentBlock.data.button_with_icon,a={button_with_icon:t};t&&Object.assign(a,{button_icon_id:"done_all",button_icon_svg:"",button_icon_name:"done_all"}),this.updateFormData({button_with_icon:t})},this.formIsHorizontal=()=>{const{currentBlock:e}=this.props;var t="horizontal"===e.data.form_type;return["res375"].indexOf(this.props.currentDeviceName)>-1&&e.data.mobile_only_vertical&&(t=!1),-1===["res375"].indexOf(this.props.currentDeviceName)&&"horizontal"===e.data.form_type&&(t=!0),t},this.handleMobileOnlyVertical=e=>{this.updateFormData({mobile_only_vertical:e})},this.handleUpdateButtonValue=e=>{this.updateFormData({button_value:e.target.value})},this.handleToggleSendAnalytics=e=>{this.updateFormData({analytics:e.target.checked})},this.onColorPickerShow=()=>{document.querySelector(".section-editor__body").classList.add("section-editor__indicators_blocked")},this.onColorPickerHide=()=>{const e=document.querySelector(".section-editor__body");e&&e.classList.remove("section-editor__indicators_blocked")},this.handleToggleButtonCustomWidth=()=>{this.updateFormData({customWidth:!this.props.currentBlock.data.customWidth}),"100%"===this.props.currentBlock.data.button_styles.width&&this.updateButtonStyles({width:"100px"})},this.handleChangeAriaLabel=e=>{this.updateFormData({ariaLabel:e.target.value})}}render(){const{currentBlock:e,elementCurrentState:t}=this.props,{currentField:a,currentStyle:s,popupOpen:o}=this.state,{t:i}=this.props;let r="hover"===t?"border_hover":"border";return n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_withicon"},i("app.editor.settingspanel.typeform")),n.a.createElement("svg",{"data-for":"form-desc","data-html":!0,"data-tip":i("app.editor.settingspanel.forminfo"),className:"se__s-p__mk-item__title-icon se__s-p__mk-item__title-icon_form cp",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM6.40327 7.72917C6.29465 7.98919 6.24034 8.33807 6.24034 8.77582H7.36106C7.36764 8.30187 7.47955 7.94146 7.69678 7.69461L8.30404 7.09722C8.80433 6.57718 9.05447 6.04892 9.05447 5.51242C9.05447 4.9101 8.86851 4.44108 8.49658 4.10536C8.12795 3.76964 7.61285 3.60178 6.95128 3.60178C6.30946 3.60178 5.79272 3.77129 5.40104 4.1103C5.01266 4.44931 4.81518 4.9101 4.80859 5.49268H6.0083C6.0083 5.21949 6.09388 5.00391 6.26503 4.84592C6.43947 4.68464 6.66822 4.604 6.95128 4.604C7.2475 4.604 7.47132 4.68629 7.62272 4.85086C7.77742 5.01213 7.85476 5.24747 7.85476 5.55686C7.85476 5.79055 7.78894 6.00778 7.65728 6.20855C7.5717 6.34021 7.36764 6.56237 7.04508 6.87505C6.72582 7.18444 6.51188 7.46915 6.40327 7.72917ZM6.33908 9.84223C6.2173 9.96072 6.15641 10.1171 6.15641 10.3113C6.15641 10.4923 6.21401 10.6437 6.32921 10.7655C6.4477 10.8872 6.61556 10.9481 6.83279 10.9481C7.05002 10.9481 7.21788 10.8872 7.33637 10.7655C7.45486 10.6437 7.51411 10.4923 7.51411 10.3113C7.51411 10.1236 7.45322 9.96895 7.33143 9.84717C7.20965 9.7221 7.04344 9.65956 6.83279 9.65956C6.62543 9.65956 6.46087 9.72045 6.33908 9.84223Z",fill:"#AFAFAF"})),n.a.createElement(T.a,{id:"form-desc",html:!0,place:"bottom",type:"dark"}),n.a.createElement("div",{className:"se__s-p__mk-item",style:{position:"relative"}},["res375"].indexOf(this.props.currentDeviceName)>-1?n.a.createElement("div",{className:"se__s-p__mk-form__switcher"},n.a.createElement("div",{onClick:this.handleMobileOnlyVertical.bind(null,!0),className:"se__s-p__mk-form__switcher-item ".concat(!this.formIsHorizontal()&&"se__s-p__mk-form__switcher-item_active")},i("app.editor.settingspanel.formvertical")),n.a.createElement("div",{onClick:this.handleMobileOnlyVertical.bind(null,!1),className:"se__s-p__mk-form__switcher-item ".concat(this.formIsHorizontal()&&"se__s-p__mk-form__switcher-item_active")},i("app.editor.settingspanel.formhorizontal"))):n.a.createElement("div",{className:"se__s-p__mk-form__switcher"},n.a.createElement("div",{onClick:this.handleChangeType.bind(null,"vertical"),className:"se__s-p__mk-form__switcher-item ".concat(!this.formIsHorizontal()&&"se__s-p__mk-form__switcher-item_active")},i("app.editor.settingspanel.formvertical")),n.a.createElement("div",{onClick:this.handleChangeType.bind(null,"horizontal"),className:"se__s-p__mk-form__switcher-item ".concat(this.formIsHorizontal()&&"se__s-p__mk-form__switcher-item_active")},i("app.editor.settingspanel.formhorizontal")))),n.a.createElement("div",{className:"se__s-p__mk-item se__s-p__mk-item_first"},n.a.createElement(Dt,{name:"form-theme",value:e.data.form_theme,onChange:this.handleChangeTheme,searchable:!1,scrollMenuIntoView:!1,clearable:!1,className:"select-wrapper-inlist",options:[{value:"classic",label:i("app.editor.settingspanel.formdesigns.classic")},{value:"newstyle",label:i("app.editor.settingspanel.formdesigns.newstyle")},{value:"underline",label:i("app.editor.settingspanel.formdesigns.underline")}]})),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.toggleAddFieldSelect},n.a.createElement("span",null,i("app.editor.settingspanel.formelements.title")),n.a.createElement("label",{id:"addshadow",className:"colorpicker-presets__item colorpicker-presets__item_add colorpicker-presets__item_add-shadow"},n.a.createElement("svg",{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0 3.5H7M3.5 7V0",stroke:"#444444"})))),n.a.createElement(Si,{handleAddField:this.handleAddField,t:i}),n.a.createElement("div",{className:"se__s-p__mk-item"},e.data.form_fields.map((t,a)=>n.a.createElement("div",{className:"input-wrapper__setting-form__field",key:a,ref:"fieldref"+t.id},n.a.createElement("div",{className:"input-wrapper__setting-clickable",onClick:this.handleOpenFieldSettings.bind(null,t)}),"text"===t.type&&i("app.editor.settingspanel.formelements.text"),"textarea"===t.type&&i("app.editor.settingspanel.formelements.textarea"),"name"===t.type&&i("app.editor.settingspanel.formelements.name"),"select"===t.type&&i("app.editor.settingspanel.formelements.dropdown"),"number"===t.type&&i("app.editor.settingspanel.formelements.number"),"email"===t.type&&i("app.editor.settingspanel.formelements.email"),"phone"===t.type&&i("app.editor.settingspanel.formelements.phone"),n.a.createElement("svg",{className:"".concat(e.data.form_fields.length<=1&&"input-wrapper__setting-form__field-remove"," input-wrapper__setting-form__field-settings cp"),onClick:this.handleOpenFieldSettings.bind(null,t),width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("circle",{cx:"3.5",cy:"3.5",r:"2",stroke:"#7F7F7F"}),n.a.createElement("path",{d:"M3.5 7L3.5 13",stroke:"#7F7F7F"}),n.a.createElement("path",{d:"M10.5 1V7",stroke:"#7F7F7F"}),n.a.createElement("circle",{r:"2",transform:"matrix(1 0 0 -1 10.5 10.5)",stroke:"#7F7F7F"})),e.data.form_fields.length>1&&n.a.createElement("svg",{className:"input-wrapper__setting-form__field-remove cp",onClick:this.handleRemoveField.bind(null,a),width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 8H13V7H1V8Z",fill:"#AFAFAF"})))),n.a.createElement("input",{autoComplete:"off",type:"text",onChange:this.handleUpdateButtonValue,className:"input-wrapper__setting-form__field",value:e.data.button_value})),o&&n.a.createElement(yi,{t:i,form:e,top:this.state.top,currentField:a,currentFieldOptionsUpdated:this.state.optionsUpdated,currentFieldOptions:a.options,currentFieldP:a.placeholder,currentFieldRequired:a.required,currentFieldType:a.type,fieldTypes:this.fieldTypes,updateData:this.updateFormData,handleClosePopup:this.handleClosePopup,handleChangePlaceholder:this.handleChangePlaceholder,handleRemoveSelectOption:this.handleRemoveSelectOption,handleAddSelectOption:this.handleAddSelectOption,handleChangeSelectOption:this.handleChangeSelectOption,handleChangeCurrentFieldType:this.handleChangeCurrentFieldType,handleChangeRequired:this.handleChangeRequired})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement(In,{style:{marginTop:0},hover:this.props.currentBlockInfo.json[0].data.hover,componentSlug:this.props.currentBlockInfo.json[0].slug,currentBlock:this.props.currentBlockInfo,handleChangeElementCurrentState:this.props.handleChangeElementCurrentState,elementCurrentState:t})),n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title"},i("app.editor.settingspanel.style")),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"se__s-p__mk-form__switcher"},n.a.createElement("div",{onClick:this.handleChangeCurrentStyle.bind(null,"fields"),className:"se__s-p__mk-form__switcher-item ".concat("fields"===s&&"se__s-p__mk-form__switcher-item_active")},i("app.editor.settingspanel.fields")),n.a.createElement("div",{onClick:this.handleChangeCurrentStyle.bind(null,"button"),className:"se__s-p__mk-form__switcher-item ".concat("button"===s&&"se__s-p__mk-form__switcher-item_active")},i("app.editor.settingspanel.button")))),"fields"===s&&n.a.createElement("div",null,n.a.createElement(ws,{fills:"hover"===t?e.data.fields_fills_hover:e.data.fields_fills,update:"hover"===t?this.handleChangeFieldsBackgroundHover:this.handleChangeFieldsBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlockInfo,path:"hover"===t?"data.fields_fills_hover":"data.fields_fills",elementSelector:".form_".concat(CSS.escape(e.id)," .strwf__input"),multipleElements:!0}),"default"===t&&n.a.createElement("div",{className:"se__s-p__mk-item"},["res375"].indexOf(this.props.currentDeviceName)>-1?n.a.createElement(Co,{styles:e.data,property:"form_fields_margin_mobile",update:this.updateFormData,full:"underline"===e.data.form_theme,min:"0",unit:"%",icon:"vertical"===e.data.form_type?1:3}):n.a.createElement(Co,{styles:e.data,property:"form_fields_margin",update:this.updateFormData,full:"underline"===e.data.form_theme,min:"0",unit:"%",icon:"vertical"===e.data.form_type?1:3}),"underline"!==e.data.form_theme&&n.a.createElement(Co,{styles:e.data.form_fields_styles,property:"borderRadius",update:this.updateFormFieldsStyles,min:"0",icon:2})),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleFieldsBorder},"underline"===e.data.form_theme?"Underline":"Border"),"underline"!==e.data.form_theme&&n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:!(!e.data.form_fields_styles[r]||"none"===e.data.form_fields_styles[r]),onChange:this.handleToggleFieldsBorder,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),e.data.form_fields_styles[r]&&"none"!==e.data.form_fields_styles[r]&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zn,{getPageColors:this.props.getPageColors,styles:e.data.form_fields_styles,property:r,update:this.updateFormFieldsStyles})),n.a.createElement("div",{className:"se__s-p__mk-item__title"},i("app.editor.settingspanel.text")),n.a.createElement(Hs,{handleChangePage:this.props.handleChangePage,fonts:this.props.fonts,installedFonts:this.props.installedFonts,styles:e.data.form_fields_styles,property:"hover"===t?"fontFamily_hover":"fontFamily",update:this.updateFormFieldsStyles,currentBlock:this.props.currentBlockInfo,currentBlockId:e&&e.id}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zs,{fonts:this.props.fonts,installedFonts:this.props.installedFonts,styles:e.data.form_fields_styles,property:"hover"===t?"fontWeight_hover":"fontWeight",update:this.updateFormFieldsStyles,type:"inline"}),n.a.createElement(qs,{styles:e.data.form_fields_styles,property:"hover"===t?"fontSize_hover":"fontSize",update:this.updateFormFieldsStyles,size:"inline"})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:e.data.form_fields_styles,colorStartProperty:"hover"===t?"color_hover":"color",colorStopProperty:"hover"===t?"color_hover":"color",color:e.data.form_fields_styles.color,updateProperties:this.updateFormFieldsStyles,update:this.updateFormFieldsStyles})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(on,{styles:e.data.form_fields_styles,elementCurrentState:t,property:"hover"===t?"letterSpacing_hover":"letterSpacing",update:this.updateFormFieldsStyles,updator:()=>{}})),n.a.createElement(Xs,{textAlign:"hover"===t?e.data.form_fields_styles.textAlign_hover:e.data.form_fields_styles.textAlign,currentBlock:this.props.currentBlockInfo,styles:e.data.form_fields_styles,property:"hover"===t?"textAlign_hover":"textAlign",usePropUpdate:!0,update:this.updateFormFieldsStyles,updator:()=>{}}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:e.data.form_fields_styles,textShadow:"hover"===t?e.data.form_fields_styles.boxShadow_hover:e.data.form_fields_styles.boxShadow,property:"hover"===t?"boxShadow_hover":"boxShadow",withoutSpread:!0,withoutInset:!0,update:this.updateFormFieldsStyles}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:e.data.form_fields_styles,textShadow:"hover"===t?e.data.form_fields_styles.textShadow_hover:e.data.form_fields_styles.textShadow,property:"hover"===t?"textShadow_hover":"textShadow",withoutSpread:!0,withoutInset:!0,title:i("app.editor.settingspanel.textshadow"),update:this.updateFormFieldsStyles})),"button"===s&&n.a.createElement("div",null,"default"===t&&"horizontal"===e.data.form_type&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleButtonCustomWidth},i("app.editor.settingspanel.customwidth")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:e.data.customWidth,onChange:this.handleToggleButtonCustomWidth,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),e.data.customWidth&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Co,{styles:e.data.button_styles,property:"width",update:this.updateButtonStyles,min:"0",unit:"px",full:!0,icon:5}))),n.a.createElement(ws,{fills:"hover"===t?e.data.button_fills_hover:e.data.button_fills,update:"hover"===t?this.handleChangeButtonBackgroundHover:this.handleChangeButtonBackground,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,currentBlockInfo:this.props.currentBlockInfo,path:"hover"===t?"data.button_fills_hover":"data.button_fills",elementSelector:".form_".concat(CSS.escape(e.id)," .strwf_button")}),"default"===t&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Co,{styles:e.data.button_styles,property:"borderRadius",update:this.updateButtonStyles,min:"0",full:!0,icon:2})),"hover"===t&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Co,{styles:e.data.button_styles,property:"borderRadius_hover",update:this.updateButtonStyles,min:"0",full:!0,icon:2})),n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",{className:"cp",onClick:this.handleToggleButtonBorder},i("app.editor.settingspanel.border")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:!(!e.data.button_styles[r]||"none"===e.data.button_styles[r]),onChange:this.handleToggleButtonBorder,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),e.data.button_styles[r]&&"none"!==e.data.button_styles[r]&&n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zn,{getPageColors:this.props.getPageColors,styles:e.data.button_styles,property:r,update:this.updateButtonStyles})),n.a.createElement("div",{className:"se__s-p__mk-item__title"},i("app.editor.settingspanel.text")),n.a.createElement(Hs,{handleChangePage:this.props.handleChangePage,fonts:this.props.fonts,installedFonts:this.props.installedFonts,styles:e.data.button_styles,property:"hover"===t?"fontFamily_hover":"fontFamily",update:this.updateButtonStyles,currentBlock:this.props.currentBlockInfo,currentBlockId:e&&e.id}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zs,{fonts:this.props.fonts,installedFonts:this.props.installedFonts,styles:e.data.button_styles,property:"hover"===t?"fontWeight_hover":"fontWeight",update:this.updateButtonStyles,type:"inline"}),n.a.createElement(qs,{styles:e.data.button_styles,property:"hover"===t?"fontSize_hover":"fontSize",elementCurrentState:t,update:this.updateButtonStyles,size:"inline"})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(hn,{getPageColors:this.props.getPageColors,currentBlock:e.data.button_styles,colorStartProperty:"hover"===t?"color_hover":"color",colorStopProperty:"hover"===t?"color_hover":"color",color:e.data.button_styles.color,updateProperties:this.updateButtonStyles,update:this.updateButtonStyles})),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(on,{styles:e.data.button_styles,elementCurrentState:t,property:"hover"===t?"letterSpacing_hover":"letterSpacing",update:this.updateButtonStyles,updator:()=>{}})),n.a.createElement(Xs,{textAlign:"hover"===t?e.data.button_styles.textAlign_hover:e.data.button_styles.textAlign,currentBlock:this.props.currentBlockInfo,styles:e.data.button_styles,property:"hover"===t?"textAlign_hover":"textAlign",alignProp:"button_text_align",usePropUpdate:!0,update:this.updateButtonStyles,updator:()=>{}}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:e.data.button_styles,textShadow:"hover"===t?e.data.button_styles.boxShadow_hover:e.data.button_styles.boxShadow,property:"hover"===t?"boxShadow_hover":"boxShadow",update:this.updateButtonStyles}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:e.data.button_styles,textShadow:"hover"===t?e.data.button_styles.textShadow_hover:e.data.button_styles.textShadow,property:"hover"===t?"textShadow_hover":"textShadow",withoutSpread:!0,withoutInset:!0,title:i("app.editor.settingspanel.textshadow"),update:this.updateButtonStyles}),"default"===t&&e.data.button_with_icon&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom cp",onClick:this.handleChangeWithIcon},n.a.createElement("span",null,i("app.editor.settingspanel.icon")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:e.data.button_with_icon,onChange:()=>{},type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("div",{className:"input-wrapper__setting cp",ref:"iconsbutton",onClick:this.handleShowIcons},n.a.createElement("div",{className:"input-wrapper__setting-chooseicon"},e.data.button_icon_svg?n.a.createElement("svg",{className:"input-wrapper__setting-icon material-icons",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24","data-inline":"false",dangerouslySetInnerHTML:{__html:e.data.button_icon_svg}}):n.a.createElement("i",{className:"input-wrapper__setting-icon material-icons ".concat(e.data.button_icon_id)})),n.a.createElement("div",{className:"input-wrapper__setting-value"},e.data.button_icon_name||i("app.editor.settingspanel.noicon")),n.a.createElement("div",{style:{border:0},className:"input-wrapper__setting-value__button fr"},n.a.createElement("svg",{width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"#AFAFAF"})))),this.state.showIcons&&n.a.createElement(co,{buttonTop:this.state.iconsButtonTop,handleShowIcons:this.handleShowIcons,handleClick:this.handleInsertIcon})),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(_o,{styles:e.data,property:"button_icon_width",title:"Size",update:this.updateFormData}))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Co,{styles:e.data,property:"button_icon_margin_top",update:this.updateFormData,icon:0}),n.a.createElement(vo,{styles:e.data,property:"button_icon_margin_right",update:this.updateFormData}))),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement("input",{placeholder:"Button title (optional)",className:"input input-collaboration",type:"text",onChange:this.handleChangeAriaLabel,value:e.data.ariaLabel}))),n.a.createElement(fi,{updateData:this.updateFormData,form:e}),n.a.createElement(wi,{updateData:this.updateFormData,form:e,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode}),(this.props.site.facebook_pixel_id||this.props.site.google_analytics_id)&&n.a.createElement("div",{className:"se__s-p__mk-item__title"},n.a.createElement("span",{className:"cp",onClick:()=>{this.handleToggleSendAnalytics({target:{checked:!e.data.analytics}})}},i("app.editor.settingspanel.senddatatoanalytics")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{checked:e.data.analytics,onChange:this.handleToggleSendAnalytics,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),e.data.analytics&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title"},this.props.site.facebook_pixel_id&&"FB Pixel: ".concat(this.props.site.facebook_pixel_id),this.props.site.facebook_pixel_id&&this.props.site.google_analytics_id&&n.a.createElement("br",null),this.props.site.google_analytics_id?"Google Analytics: ".concat(this.props.site.google_analytics_id):""),n.a.createElement("div",{className:"se__s-p__mk-item__desc"},i("app.editor.settingspanel.formanalyticsdesc")+" /form/"+e.id+"/submit"))),n.a.createElement("div",{className:"se__s-p__space"}))}}var Ni=Object(o.b)(e=>({site:e.site}),{})(Object(j.a)()(xi));const Bi=(e,t,a)=>{((e,t)=>e.every(a=>a[t]===e[0][t]))(e,a)?t[a]=e[0][a]:t[a]="mixed"},Fi=(e,t)=>{if(e.data[t]){let a=JSON.parse(JSON.stringify(e.data[t]));return a=a.map((a,s)=>(a.componentId=e.id,a.prop=t,a.elementSelector="fields_fills"===t?".form_".concat(CSS.escape(e.id)," .strwf__input"):((e,t)=>{const a=CSS.escape(e);return{icon:".icon_".concat(a),text:".text_".concat(a),button:".button_".concat(a),rectangle:"#".concat(a," .strw-shape"),image:"#".concat(a," .strw-shape"),form:".form_".concat(a," .strwf_button")}[t]})(e.id,e.slug),a.index=s,a)),a}return[]};class Ai extends s.Component{constructor(){super(...arguments),this.state={textDecoration:!1,top:0,fillsLimit:3,presetsLimit:3},this.getCommonFontStyles=()=>{const{currentDeviceName:e}=this.props;let t=[],a={},s=[];Array.isArray(this.props.currentBlock.json)&&(s=this.props.currentBlock.json.filter(e=>["text","button","form"].indexOf(e.slug)>-1));for(let n of s)"text"===n.slug&&t.push(n.styles[e]),"button"===n.slug&&("flex-end"===n.styles[e].justifyContent&&(n.styles[e].justifyContent="right"),t.push(Object.assign({},n.styles[e],{textAlign:n.styles[e].justifyContent}))),"form"===n.slug&&(t.push(n.data.button_styles),t.push(n.data.form_fields_styles));return t.length>0&&(Bi(t,a,"fontFamily"),Bi(t,a,"fontWeight"),Bi(t,a,"fontSize"),Bi(t,a,"letterSpacing"),Bi(t,a,"lineHeight"),Bi(t,a,"textAlign"),Bi(t,a,"textIndent"),Bi(t,a,"textShadow"),Bi(t,a,"fontStyle"),Bi(t,a,"textDecoration")),a},this.handleUpdateAllFontProp=e=>{let t=[];const{currentDeviceName:a}=this.props;let s=this.props.currentBlock.json.filter(e=>["text","button","form"].indexOf(e.slug)>-1);for(let n of s){if(["text","button"].indexOf(n.slug)>-1){let s={};"button"===n.slug&&(e.fontFamily&&(s.fontFamily_hover=e.fontFamily),e.textAlign&&("right"===e.textAlign?s.justifyContent="flex-end":s.justifyContent=e.textAlign)),t.push({styles:Object.assign({},n.styles,{[a]:Object.assign({},n.styles[a],Object.assign({},e,s))})})}if("form"===n.slug){let a={};Object.keys(e).forEach(t=>{a[t+"_hover"]=e[t]}),t.push({data:Object.assign({},n.data,{button_styles:Object.assign({},n.data.button_styles,e,a),form_fields_styles:Object.assign({},n.data.form_fields_styles,e,a)}),presets:[]})}}window.handleChangeComponentsProperties(s,t),this.forceUpdate()},this.colorsComponentsPresent=()=>{const{currentBlock:e}=this.props;return e.json.filter(e=>["text","rectangle","icon","button","form","image"].indexOf(e.slug)>-1).length>0},this.fontComponentsPresent=()=>{const{currentBlock:e}=this.props;return e.json.filter(e=>["text","button","form"].indexOf(e.slug)>-1).length>0},this.handleToggleTextDecoration=()=>{this.setState({textDecoration:!this.state.textDecoration})},this.setTop=()=>{const e=document.getElementById("textDecorationPopup");if(e){let{top:t}=this.refs.textDecorationButton.getBoundingClientRect();e.offsetHeight+t>window.innerHeight&&(t=50+window.innerHeight-e.offsetHeight),this.setState({top:t})}},this.handleTogglePopup=()=>{this.setState({textDecoration:!this.state.textDecoration},()=>{setTimeout(()=>{this.setTop()})})},this.handleUpdateCommonColors=(e,t,a)=>{let s=e.map(e=>{let s,n=e.presets.filter(e=>e.code===a.code&&-1===e.path.indexOf("hover")),o={};for(const a of n)s=a.path.split("."),Object.assign(o,{[s[1]]:t,[s[1]+"_css"]:Object(gt.a)(t,a)});return o=Object.assign({},e[s[0]],o),{data:o}});e.length>0&&window.handleChangeComponentsProperties(e,s)},this.handleChangeCommonPresets=(e,t,a)=>{const s=e.map(e=>{let s=e.presets.slice();if(t.presets.length>0)for(const n of s.filter(e=>e.code===a.code&&-1===e.path.indexOf("hover"))){let e=JSON.parse(JSON.stringify({code:t.presets[0].code,path:n.path}));if(-1===e.path.indexOf("hover")){const t=s.find(t=>{let{code:a,path:s}=t;return a===e.code&&s===e.path}),a=s.find(t=>{let{path:a}=t;return a===e.path});if(a){const e=s.indexOf(a);s.splice(e,1)}t||s.push(e)}}if(0===t.presets.length){const e=s.find(e=>e.code===a.code);if(e){const t=s.indexOf(e);s.splice(t,1)}}return{presets:s}});e.length>0&&window.handleChangeComponentsProperties(e,s)},this.getCommonPresets=()=>{let e=[],t=[],a=[],s=[];for(let o of this.props.currentBlock.json)if(t=o.presets.filter(e=>-1===e.path.indexOf("hover")),t.length>0)for(let a of t){let t=this.props.presets.find(e=>e.code===a.code);if(t){let s=Object.assign({},{path:a.path},t);e.push({preset:s,fills:Object(Cs.get)(o,s.path),component:o})}}let n=la()(e,e=>e.preset.code);for(let o of Object.values(n))a=o.map(e=>e.component),s.push({components:a,fills:Object(Cs.get)(a[0],o[0].preset.path),preset:o[0].preset});return s},this.getCommonFills=()=>{let e=[],t=[],a=[];for(let n of this.props.currentBlock.json)a=n.presets.filter(e=>-1===e.path.indexOf("hover")),0===a.length&&["icon","text","rectangle","button","image"].indexOf(n.slug)>-1&&(e=e.concat(Fi(n,"fills"))),"form"===n.slug&&(a=n.presets.filter(e=>-1===e.path.indexOf("fields")&&-1===e.path.indexOf("hover")),0===a.length&&(e=e.concat(Fi(n,"button_fills"))),a=n.presets.filter(e=>-1===e.path.indexOf("button")&&-1===e.path.indexOf("hover")),0===a.length&&(e=e.concat(Fi(n,"fields_fills"))));let s=la()(e,e=>{var t,a,s;const n=(null===(t=e.color)||void 0===t?void 0:t.r)+(null===(a=e.color)||void 0===a?void 0:a.g)+(null===(s=e.color)||void 0===s?void 0:s.b);return parseFloat(n).toFixed(3)+JSON.stringify(e.gradientTransform||"none")+JSON.stringify(e.gradientStops||"none")+(e.opacity||"none")});for(let n of Object.values(s))if(1===n.length)t.push(n[0]);else{let e=Object.assign({},n[0]);e.elementSelector=[],e.componentId=[],e.prop=[];for(let t of n)e.elementSelector.push(t.elementSelector),e.componentId.push(t.componentId),e.prop.push(t.prop);t.push(e)}return t},this.removeUnneedValues=e=>{delete e.index,delete e.elementSelector,delete e.componentId,delete e.path,delete e.prop},this.handleChangeCommonFills=(e,t)=>{let a,s,n=JSON.parse(JSON.stringify(e[0])),o=[],i=[];Array.isArray(n.componentId)||(n.componentId=[n.componentId]),Array.isArray(n.prop)||(n.prop=[n.prop]);let r=0;if(Array.isArray(this.props.currentBlock.json))for(const l of n.componentId){const c=this.props.currentBlock.json.find(e=>e.id===l);if(c){o.push(JSON.parse(JSON.stringify(c))),a=n.prop[r],e=c.data[a].slice();let p=JSON.parse(JSON.stringify(n));p.uid=e[n.index].uid,this.removeUnneedValues(p),e[n.index]=p,s=Object.assign({},c.data,{[a]:e,[a+"_css"]:t}),i.push({data:s}),n.componentId[r-1]&&n.componentId[r-1]===l&&(i[r-1].data=Object.assign({},i[r-1].data,{[a]:e,[a+"_css"]:t}))}r++}document.querySelectorAll(n.elementSelector).forEach(e=>{e.style.background="",e.style.backgroundImage=""});for(let l of n.componentId){const e=n.componentId.filter(e=>e===l);if(e.length>1){const t=n.componentId.indexOf(e[0]);t>-1&&(n.componentId.splice(t+1,1),o.splice(t+1,1),i.splice(t+1,1))}}o.length>0&&window.handleChangeComponentsProperties(o,i)},this.setFillsLimit=e=>{this.setState({fillsLimit:e})},this.setPresetsLimit=e=>{this.setState({presetsLimit:e})},this.currentBlockInfo=e=>({json:[{presets:[e.preset]}],handleChangeProperties:t=>{this.handleChangeCommonPresets(e.components,t,e.preset)}}),this.handleUpdateCommonColorsHelper=(e,t)=>{this.handleUpdateCommonColors(e.components,t,e.preset)}}render(){const{fillsLimit:e,presetsLimit:t}=this.state,a=this.getCommonFills(),s=this.getCommonPresets(),o=this.getCommonFontStyles(),{t:i}=this.props,r=this.colorsComponentsPresent(),l=this.fontComponentsPresent();return(r||l)&&(s.length>0||a.length>0||Object.keys(o).length>0)?n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit page-editor__settings-panel__box",style:{paddingBottom:15,borderBottom:0}},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding",style:{}},r&&n.a.createElement(n.a.Fragment,null,(s.length>0||a.length>0)&&n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},i("app.editor.settingspanel.selectioncolors")),s.slice(0,t).map((e,t)=>n.a.createElement(ws,{fills:e.fills,key:e.preset.code+e.preset.path,update:this.handleUpdateCommonColorsHelper.bind(null,e),onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,elementSelector:"none",multipleElements:"none",currentBlockInfo:this.currentBlockInfo(e),path:e.preset.path,label:" ",disableHandles:!0,disableAdd:!0,disableRemove:!0})),t<50&&s.length>3&&n.a.createElement("span",{onClick:this.setPresetsLimit.bind(null,50),className:"se__s-p__mk-item__title se__s-p__mk-item__title_link cp"},i("app.editor.settingspanel.seeall")," ",s.length," ",i("app.editor.settingspanel.seeallstyles")),a.slice(0,e).map((e,t)=>n.a.createElement(ws,{fills:[e],key:e.componentId+e.prop,update:this.handleChangeCommonFills,onPickerShow:this.onColorPickerShow,onPickerHide:this.onColorPickerHide,elementSelector:e.elementSelector,multipleElements:e.elementSelector.indexOf("strwf__input")>-1,label:" ",disableHandles:!0,disableAdd:!0,disableRemove:!0})),e<50&&a.length>3&&n.a.createElement("span",{onClick:this.setFillsLimit.bind(null,50),className:"se__s-p__mk-item__title se__s-p__mk-item__title_link cp"},i("app.editor.settingspanel.seeall")," ",a.length," ",i("app.editor.settingspanel.seeallcolors"))),l&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("span",null,i("app.editor.settingspanel.text")),n.a.createElement("label",{ref:"textDecorationButton",id:"textDecoration",onClick:this.handleTogglePopup,className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add se__s-p__mk-item__title-add_plus"},n.a.createElement("div",{className:"colorpicker-presets__item colorpicker-presets__item_add",style:{marginBottom:0}},n.a.createElement("svg",{width:"7",height:"5",viewBox:"0 0 7 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.5 0C0.223858 0 0 0.223858 0 0.5C0 0.776142 0.223858 1 0.5 1V0ZM6.5 1C6.77614 1 7 0.776142 7 0.5C7 0.223858 6.77614 0 6.5 0V1ZM0.5 2C0.223858 2 0 2.22386 0 2.5C0 2.77614 0.223858 3 0.5 3V2ZM6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2V3ZM0.5 4C0.223858 4 0 4.22386 0 4.5C0 4.77614 0.223858 5 0.5 5V4ZM6.5 5C6.77614 5 7 4.77614 7 4.5C7 4.22386 6.77614 4 6.5 4V5ZM0.5 1H6.5V0H0.5V1ZM0.5 3H6.5V2H0.5V3ZM0.5 5H6.5V4H0.5V5Z",fill:"#444444"}))))),this.state.textDecoration&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p-colorpicker-overlay",onClick:this.handleToggleTextDecoration}),n.a.createElement("div",{id:"textDecorationPopup",className:"input-wrapper__setting-textdecoration__popup",style:{top:this.state.top}},n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item_without-line"},"Text Styles"),n.a.createElement(Ys,{styles:o,update:this.handleUpdateAllFontProp,updator:()=>{}})))),n.a.createElement("div",{className:"se__s-p__mk-item__text-tools_mousedown-disable"},n.a.createElement(Hs,{handleChangePage:this.props.handleChangePage,fonts:this.props.fonts,installedFonts:this.props.installedFonts,styles:o,property:"fontFamily",update:this.handleUpdateAllFontProp,currentBlock:this.props.currentBlock,currentBlockId:this.props.currentBlock.json[0]&&this.props.currentBlock.json[0].id}),n.a.createElement("div",{className:"se__s-p__mk-item"},n.a.createElement(Zs,{installedFonts:this.props.installedFonts,fonts:this.props.fonts,styles:o,property:"fontWeight",update:this.handleUpdateAllFontProp,updator:()=>{},type:"inline"}),n.a.createElement(qs,{styles:o,property:"fontSize",update:this.handleUpdateAllFontProp,updator:()=>{},size:"inline",changeLineHeight:!0})),n.a.createElement("div",{className:"se__s-p__mk-item-controls"},n.a.createElement(tn,{styles:o,property:"lineHeight",update:this.handleUpdateAllFontProp,updator:()=>{},size:"inline"}),n.a.createElement(on,{styles:o,property:"letterSpacing",update:this.handleUpdateAllFontProp,updator:()=>{},size:"inline"}),n.a.createElement(pn,{styles:o,property:"textIndent",update:this.handleUpdateAllFontProp,updator:()=>{},size:"inline"})),n.a.createElement(Xs,{textAlign:o.textAlign,currentBlock:this.props.currentBlock,styles:o,update:this.handleUpdateAllFontProp,updator:()=>{},usePropUpdate:!0,disableVerticalAlign:!0,disableBehavior:!0,updateCKstyles:()=>{}}),n.a.createElement(Ln,{getPageColors:this.props.getPageColors,styles:o,property:"textShadow",withoutSpread:!0,withoutInset:!0,title:i("app.editor.settingspanel.textshadow"),update:this.handleUpdateAllFontProp,updateCKstyles:()=>{}}))))):null}}var Li=Object(o.b)(e=>({presets:e.presets}),{})(Object(j.a)()(Ai));class Oi extends s.Component{constructor(){super(...arguments),this.handleToggleClipContent=()=>{let{overflow:e,updateStyles:t,handleCreateFrameWithoutLayoutChange:a,handleRemoveFrameWithoutLayoutChange:s}=this.props;const n="visible"!==e&&e?{overflow:"visible"}:{overflow:"hidden"};"hidden"===n.overflow?a():s(),t(n)}}render(){let{overflow:e}=this.props;return e||(e="visible"),n.a.createElement("div",null)}}var Di=Object(o.b)(e=>({}),{})(Object(j.a)()(Oi));class Mi extends s.Component{constructor(){super(...arguments),this.state={letRender:!1,newBlockName:void 0},this.showContextMenu=e=>{R.contextMenu.show({id:"blockSelectorMenu",event:e,props:{foo:"bar"}})},this.handleMenuItemClick=e=>{const t=this.props.currentBlock.getGroupStyles().overflow;this.setState({newBlockName:e}),"group"===e.value?"hidden"!==t&&this.props.handleCreateFrameWithoutLayoutChange():"frame"===e.value&&"hidden"===t&&this.props.handleRemoveFrameWithoutLayoutChange()},this.determineLabel=()=>{const{currentBlock:e,currentBlockJSON:t}=this.props,a=e.group_ids||[],s=new Set;t.forEach(e=>{e.group_id?s.add(e.group_id):s.add(null)});const n="hidden"===e.getGroupStyles().overflow,o=Array.from(s).every(e=>null===e||a.includes(e));return s.size>1&&!o?"Multiple selected":n?"Frame":"Group"}}componentDidUpdate(e){e.currentBlockJSON!==this.props.currentBlockJSON&&this.defineIfNotage()}defineCurrentName(){var e;return this.props.currentBlockJSON?"hidden"===this.props.currentBlock.getGroupStyles().overflow?"Frame":this.props.currentBlockJSON[1]?"Group":null===(e=this.props.currentBlockJSON[0])||void 0===e?void 0:e.name:"Undefined"}defineIfNotage(){this.props.currentBlockJSON.updated_at||this.props.currentBlock.getGroupStyles().gap&&"hidden"!==this.props.currentBlock.getGroupStyles().overflow?this.setState({letRender:!1}):this.setState({letRender:!0})}render(){const e="hidden"===this.props.currentBlock.getGroupStyles().overflow?"group":"frame";return n.a.createElement(n.a.Fragment,null,this.state.letRender&&this.props.currentBlock.group_ids[0]&&n.a.createElement("div",{onClick:"Multiple selected"===this.determineLabel()?null:this.showContextMenu,className:"se__s-p__mk-item__aligns se__s-p__mk-item__title se__s-p__mk-item__title__select_block",id:"blockselector_open_dropdown",style:{cursor:"Multiple selected"===this.determineLabel()?"default":"pointer"}},n.a.createElement("label",{id:"current_block_label"},this.determineLabel()),"Multiple selected"!==this.determineLabel()&&n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"8",viewBox:"0 0 10 8",fill:"none"},n.a.createElement("path",{d:"M0.5 2.5L5 6.5L9.5 2.5",stroke:"#AFAFAF",strokeLinejoin:"round"}))),this.state.letRender&&!this.props.currentBlock.group_ids[0]&&n.a.createElement("div",{className:"se__s-p__mk-item__aligns se__s-p__mk-item__title se__s-p__mk-item__title__select_block",id:"blockselector_open_dropdown"},n.a.createElement("label",null,this.props.currentBlockJSON.length>1?"Multiple selected":this.defineCurrentName())),n.a.createElement(R.Menu,{id:"blockSelectorMenu",style:{marginLeft:-13,marginTop:-15,width:180,minWidth:128},className:"custom-context-menu"},[{label:"Frame",value:"group"},{label:"Group",value:"frame"}].map((t,a)=>n.a.createElement(R.Item,{onClick:()=>this.handleMenuItemClick(t),key:a,disabled:t.value===e},n.a.createElement("span",{className:"va-middle"},t.label)))))}}var Pi=Object(o.b)(e=>({}),{})(Object(j.a)()(Mi));class Ii extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={mode:0},this.differentComponentsContainer=()=>this.props.currentComponents.filter(e=>"window"===e.container).length>0,this.checkMode=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,a={},s=[];1===t.currentComponents.length&&(a={mode:1,group_idsFromCurrentBlock:[]}),t.currentComponents.length>1&&(a={mode:0,group_idsFromCurrentBlock:[]});const n=m()(t.group_ids);for(const o of n){const t=e.props.searchTree({children:e.props.components},o);t&&(s=s.concat(e.props.getGroups(t.children)))}if(s=m()(s),s&&s.forEach(e=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}),1===n.length){a={mode:1,group_idsFromCurrentBlock:n};const s=e.props.searchTree({children:e.props.components},n[0]);if(s){const e=t.getComponentsInGroup(s),o=[];t.currentComponents.forEach(t=>{e.find(e=>e.id===t.id)||o.push(t)}),o.length>0&&(a={mode:0,group_idsFromCurrentBlock:n})}}n.length>1&&(a={mode:0,group_idsFromCurrentBlock:n}),e.setState(a)},this.update=(e,t)=>{let a;const{currentDevice:s}=this.props;let n=[...this.props.currentComponents];this.addCommonComponents(n),n=this.props.ComponentHelper.processComponentsWithFrames(n);let o=[],i=[];n.forEach((t,n)=>{if(t.commonComponents)this.updateCommonComponent(t,e[n]);else{e[n].left&&"%"===t.left_unit&&(e[n].left="".concat(Math.round(parseFloat(e[n].left,10)/window.WORKSPACE_WIDTH*100),"%")),e[n].top&&"%"===t.top_unit&&(a=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,e[n].top="".concat(Math.round(parseFloat(e[n].top,10)/a*100),"%")),e[n].width&&"%"===t.width_unit&&(e[n].width="".concat(Math.round(parseFloat(e[n].width,10)/window.WORKSPACE_WIDTH*100),"%")),e[n].height&&"%"===t.height_unit&&(a=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,e[n].height="".concat(Math.round(parseFloat(e[n].height,10)/a*100),"%"));const r=this.isMasterDependingComponentItem(this.props.y.one("#".concat(t.id)));r&&this.props.currentBlock.group_ids.indexOf(r)>-1||this.props.y.all("[data-main-master-component-id='".concat(t.id,"']")).each(a=>{var r,l,c,p,d,h,m,u;let{component:g}=a,_=parseFloat(null===(r=g.styles)||void 0===r?void 0:r[s.name].width)/parseFloat(null===(l=t.styles)||void 0===l?void 0:l[s.name].width),f=parseFloat(null===(c=g.styles)||void 0===c?void 0:c[s.name].height)/parseFloat(null===(p=t.styles)||void 0===p?void 0:p[s.name].height);const v=(parseFloat(e[n].left)-parseFloat(null===(d=t.styles)||void 0===d?void 0:d[s.name].left))*_,w=(parseFloat(e[n].top)-parseFloat(null===(h=t.styles)||void 0===h?void 0:h[s.name].top))*f;let C={};o.push(g),e[n].left&&(C.left=parseFloat(null===(m=g.styles)||void 0===m?void 0:m[s.name].left)+v+g.left_unit),e[n].top&&(C.top=parseFloat(null===(u=g.styles)||void 0===u?void 0:u[s.name].top)+w+g.top_unit),i.push(C)}),o.push(t),i.push(e[n])}}),o.length>0&&window.handleChangeComponentsStyles(o,i)},this.handleChangeMode=e=>{this.setState({mode:parseFloat(e.target.value,10)})},this.getDeviceWidth=e=>"window"===e.container&&"desktop"===this.props.currentDevice.name?window.WORKSPACE_WIDTH:this.props.currentDevice.width,this.isMasterDependingComponentItem=e=>(e=c()(e._node))&&e.parents(".s-e__w-i__group_master-component").length>0&&e.parents(".s-e__w-i__group_master-component")[0].getAttribute("id"),this.updateCommonComponent=(e,t)=>{const{currentDevice:a}=this.props,s=e.componentsInGroup.map(e=>parseFloat(Object(qt.r)(parseFloat(e.styles[this.props.currentDevice.name].left,10)+e.left_unit,this.props.currentDevice),10)),n=Math.min(...s),o=e.componentsInGroup.map(e=>parseFloat(Object(qt.s)(parseFloat(e.styles[this.props.currentDevice.name].top,10)+e.top_unit),10)),i=Math.min(...o);let r=[],l=[];e.componentsInGroup.forEach(e=>{let s={};const o=e.styles[this.props.currentDevice.name];if(t.left){const a=parseFloat(o.left,10)+(parseFloat(t.left,10)-n);s.left=a+e.left_unit}if(t.top){const a=parseFloat(o.top,10)+(parseFloat(t.top,10)-i);s.top=a+e.top_unit}const c=this.isMasterDependingComponentItem(this.props.y.one("#".concat(e.id)));c&&this.props.currentBlock.group_ids.indexOf(c)>-1||this.props.y.all("[data-main-master-component-id='".concat(e.id,"']")).each(t=>{var n,o,i,c,p,d,h,m;let u=t.component,g=parseFloat(null===(n=u.styles)||void 0===n?void 0:n[a.name].width)/parseFloat(null===(o=e.styles)||void 0===o?void 0:o[a.name].width),_=parseFloat(null===(i=u.styles)||void 0===i?void 0:i[a.name].height)/parseFloat(null===(c=e.styles)||void 0===c?void 0:c[a.name].height);const f=(parseFloat(s.left)-parseFloat(null===(p=e.styles)||void 0===p?void 0:p[a.name].left))*g,v=(parseFloat(s.top)-parseFloat(null===(d=e.styles)||void 0===d?void 0:d[a.name].top))*_;let w={};s.left&&(w.left=parseFloat(null===(h=u.styles)||void 0===h?void 0:h[a.name].left)+f+u.left_unit),s.top&&(w.top=parseFloat(null===(m=u.styles)||void 0===m?void 0:m[a.name].top)+v+u.top_unit),l.push(u),r.push(w)}),l.push(e),r.push(s)}),e.componentsInGroup.length>0&&window.handleChangeComponentsStyles(l,r)},this.addCommonComponents=e=>{if(this.state.group_idsFromCurrentBlock)for(const t of this.state.group_idsFromCurrentBlock){const a=this.props.y.one("#".concat(t));if(a){const t=a.component,s=this.props.getComponentsInGroup(t),n=Object(qt.j)(s,this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y,t.id);e.push(n);for(let a of s)if(a=e.find(e=>e.id===a.id),a){const t=e.indexOf(a);t>-1&&e.splice(t,1)}}}},this.getComponentsFromGroupByComponent=e=>{let t=[];for(const a of e)if(t.push(a),a.group_id){const e=this.props.y.one("#".concat(a.group_id));if(e){const a=e.component,s=this.props.getComponentsInGroup(a);t=t.concat(s)}}return t},this.handleAlignLeft=e=>{let t=this.props.currentComponents.slice(0);this.addCommonComponents(t),t=this.props.ComponentHelper.processComponentsWithFrames(t);let a=[];if(0===this.state.mode){const e=[];let s=0;t.forEach(t=>{let a=parseFloat(Object(qt.r)(t.styles[this.props.currentDevice.name].left,this.props.currentDevice),10);e.push(a)}),s=Math.min(...e),t.forEach(e=>{if("window"===e.container){let e="".concat(s,"px");"desktop"===this.props.currentDevice.name&&(e=parseFloat(e,10)+"px"),a.push({left:e})}else a.push({left:"".concat(s,"px")})})}if(1===this.state.mode){let e;const s=this.getComponentsFromGroupByComponent(t),{width:n}=this.props.currentDevice,o=1200===n?(parseFloat(window.WORKSPACE_WIDTH,10)-n)/2:0,i=s.map(e=>{let t=parseFloat(Object(qt.r)(e.styles[this.props.currentDevice.name].left,this.props.currentDevice),10);return parseFloat(t,10)}),r=Math.min(...i);e=r,t.forEach(s=>{!s.group_id||1!==t.length&&1!==this.state.group_idsFromCurrentBlock.length?("window"===s.container&&(e+=o),a.push({left:"".concat(parseFloat(Object(qt.r)(s.styles[this.props.currentDevice.name].left,this.props.currentDevice),10)-e,"px")})):a.push({left:"".concat(e,"px")})})}if(e)return a;this.update(a,()=>{window.setTransformator(t[0])})},this.handleAlignHorizontally=e=>{let t=[...this.props.currentComponents];this.addCommonComponents(t),t=this.props.ComponentHelper.processComponentsWithFrames(t);const a=[],{width:s}=this.props.currentDevice,n=1200===s?(parseFloat(window.WORKSPACE_WIDTH,10)-s)/2:0;if(0===this.state.mode){const e=[];t.forEach(t=>{const a=parseFloat(Object(qt.t)(t.styles[this.props.currentDevice.name].width,this.props.currentDevice));e.push(Math.abs(a))});const s=Math.max(...e),n=e.indexOf(s);n>-1&&t.forEach(e=>{const s=Object(qt.r)(t[n].styles[this.props.currentDevice.name].left,this.props.currentDevice),o=Object(qt.t)(t[n].styles[this.props.currentDevice.name].width,this.props.currentDevice);if("window"===e.container){let t="".concat(parseFloat(s,10)+parseFloat(o,10)/2-parseFloat(Object(qt.t)(e.styles[this.props.currentDevice.name].width,this.props.currentDevice),10)/2,"px");"desktop"===this.props.currentDevice.name&&(t=parseFloat(t,10)+"px"),a.push({left:t})}else a.push({left:"".concat(parseFloat(s,10)+parseFloat(o,10)/2-parseFloat(Object(qt.t)(e.styles[this.props.currentDevice.name].width,this.props.currentDevice),10)/2,"px")})})}if(1===this.state.mode){let e;const s=this.getComponentsFromGroupByComponent(t),o=s.map(e=>parseFloat(Object(qt.r)(e.styles[this.props.currentDevice.name].left,this.props.currentDevice),10)),i=s.map(e=>{const t=parseFloat(Object(qt.t)(e.styles[this.props.currentDevice.name].width,this.props.currentDevice),10);return parseFloat(Object(qt.r)(e.styles[this.props.currentDevice.name].left,this.props.currentDevice),10)+parseFloat(t,10)}),r=Math.min(...o),l=Math.max(...i),c=Math.min(...i);t.forEach(s=>{if(!s.group_id||1!==t.length&&1!==this.state.group_idsFromCurrentBlock.length)e=l>c?this.getDeviceWidth(s)/2-(r+(l-r)/2):this.getDeviceWidth(s)/2-(r+(c-r)/2),"window"===s.container&&(e-=n),a.push({left:"".concat(parseFloat(Object(qt.r)(s.styles[this.props.currentDevice.name].left,this.props.currentDevice),10)+e,"px")});else{const t=this.props.y.one("#".concat(s.group_id));if(t){const o=t.component,i=Object(qt.t)(Object(qt.j)(this.props.getComponentsInGroup(o),this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y).styles[this.props.currentDevice.name].width,this.props.currentDevice),r=Object(qt.r)(Object(qt.j)(this.props.getComponentsInGroup(o),this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y).styles[this.props.currentDevice.name].left,this.props.currentDevice);e=parseFloat(r,10)+parseFloat(i,10)/2-parseFloat(Object(qt.t)(s.styles[this.props.currentDevice.name].width,this.props.currentDevice),10)/2,"window"===s.container&&(e-=n),a.push({left:"".concat(e,"px")})}else a.push({})}})}if(e)return a;this.update(a,()=>{window.setTransformator(t[0])})},this.handleAlignRight=e=>{let t=[...this.props.currentComponents];this.addCommonComponents(t),t=this.props.ComponentHelper.processComponentsWithFrames(t);const a=[],{width:s}=this.props.currentDevice,n=1200===s?(parseFloat(window.WORKSPACE_WIDTH,10)-s)/2:0;if(0===this.state.mode){const e=[];let s=0;t.forEach(t=>{let a=parseFloat(Object(qt.r)(t.styles[this.props.currentDevice.name].left,this.props.currentDevice),10)+parseFloat(Object(qt.t)(t.styles[this.props.currentDevice.name].width,this.props.currentDevice),10);e.push(a)}),s=Math.max(...e),t.forEach(e=>{if("window"===e.container){let t="".concat(s-parseFloat(Object(qt.t)(e.styles[this.props.currentDevice.name].width,this.props.currentDevice),10),"px");a.push({left:t})}else a.push({left:"".concat(s-parseFloat(Object(qt.t)(e.styles[this.props.currentDevice.name].width,this.props.currentDevice),10),"px")})})}if(1===this.state.mode){let e;const s=this.getComponentsFromGroupByComponent(t).map(e=>{const t=parseFloat(Object(qt.t)(e.styles[this.props.currentDevice.name].width,this.props.currentDevice),10);return parseFloat(Object(qt.r)(e.styles[this.props.currentDevice.name].left,this.props.currentDevice),10)+parseFloat(t,10)}),o=Math.max(...s);t.forEach(s=>{if(!s.group_id||1!==t.length&&1!==this.state.group_idsFromCurrentBlock.length)e=this.getDeviceWidth(s)-o,"window"===s.container&&(e-=n),a.push({left:"".concat(parseFloat(Object(qt.r)(s.styles[this.props.currentDevice.name].left,this.props.currentDevice),10)+e,"px")});else{const t=this.props.y.one("#".concat(s.group_id));if(t){const o=t.component,i=Object(qt.t)(Object(qt.j)(this.props.getComponentsInGroup(o),this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y).styles[this.props.currentDevice.name].width,this.props.currentDevice),r=Object(qt.r)(Object(qt.j)(this.props.getComponentsInGroup(o),this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y).styles[this.props.currentDevice.name].left,this.props.currentDevice);e=parseFloat(r,10)+parseFloat(i,10)-parseFloat(Object(qt.t)(s.styles[this.props.currentDevice.name].width,this.props.currentDevice),10),"window"===s.container&&(e-=n),a.push({left:"".concat(e,"px")})}else a.push({})}})}if(e)return a;this.update(a,()=>{window.setTransformator(t[0])})},this.handleAlignTop=e=>{let t=[...this.props.currentComponents];this.addCommonComponents(t),t=this.props.ComponentHelper.processComponentsWithFrames(t);const a=[];if(0===this.state.mode){const e=[];let s=0;t.forEach(t=>{const a=parseFloat(Object(qt.s)(t.styles[this.props.currentDevice.name].top),10);e.push(a)}),s=Math.min(...e),t.forEach(e=>{a.push({top:"".concat(s,"px")})})}if(1===this.state.mode){let e;const s=this.getComponentsFromGroupByComponent(t).map(e=>parseFloat(Object(qt.s)(e.styles[this.props.currentDevice.name].top),10)),n=Math.min(...s);e=n,t.forEach(s=>{!s.group_id||1!==t.length&&1!==this.state.group_idsFromCurrentBlock.length?a.push({top:"".concat(parseFloat(Object(qt.s)(s.styles[this.props.currentDevice.name].top),10)-e,"px")}):a.push({top:"".concat(e,"px")})})}if(e)return a;this.update(a,()=>{setTimeout(()=>{window.setTransformator(t[0])})})},this.handleAlignVertically=e=>{let t=[...this.props.currentComponents];this.addCommonComponents(t),t=this.props.ComponentHelper.processComponentsWithFrames(t);const a=[];let s;if(0===this.state.mode){const e=[];s=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,t.forEach(t=>{const a=parseFloat(t.styles[this.props.currentDevice.name].height,10),s=parseFloat(a,10);e.push(s)});const n=Math.max(...e),o=e.indexOf(n);if(o>-1){const e=Object(qt.s)(t[o].styles[this.props.currentDevice.name].top),s=parseFloat(t[o].styles[this.props.currentDevice.name].height,10);t.forEach(t=>{const n=parseFloat(t.styles[this.props.currentDevice.name].height,10);a.push({top:"".concat(parseFloat(e,10)+parseFloat(s,10)/2-parseFloat(n,10)/2,"px")})})}}if(1===this.state.mode){let e;const n=this.getComponentsFromGroupByComponent(t),o=n.map(e=>parseFloat(Object(qt.r)(e.styles[this.props.currentDevice.name].top,this.props.currentDevice),10)),i=n.map(e=>{const t=parseFloat(e.styles[this.props.currentDevice.name].height,10);return parseFloat(Object(qt.r)(e.styles[this.props.currentDevice.name].top,this.props.currentDevice),10)+parseFloat(t,10)}),r=Math.min(...o),l=Math.max(...i),c=Math.min(...i);s=document.getElementsByClassName("section-editor__layout")[0].offsetHeight,t.forEach(n=>{if(!n.group_id||1!==t.length&&1!==this.state.group_idsFromCurrentBlock.length)e=l>c?s/2-(r+(l-r)/2):s/2-(r+(c-r)/2),a.push({top:"".concat(parseFloat(Object(qt.r)(n.styles[this.props.currentDevice.name].top,this.props.currentDevice),10)+e,"px")});else{const t=this.props.y.one("#".concat(n.group_id));if(t){const s=t.component,o=Object(qt.j)(this.props.getComponentsInGroup(s),this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y).styles[this.props.currentDevice.name].height,i=Object(qt.j)(this.props.getComponentsInGroup(s),this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y).styles[this.props.currentDevice.name].top;e=parseFloat(i,10)+parseFloat(o,10)/2-parseFloat(n.styles[this.props.currentDevice.name].height,10)/2,a.push({top:"".concat(e,"px")})}else a.push({})}})}if(e)return a;this.update(a,()=>{window.setTransformator(t[0])})},this.handleAlignBottom=e=>{let t=[...this.props.currentComponents];this.addCommonComponents(t),t=this.props.ComponentHelper.processComponentsWithFrames(t);const a=[];if(0===this.state.mode){const e=[];let s=0;t.forEach(t=>{const a=parseFloat(t.styles[this.props.currentDevice.name].height,10),s=parseFloat(Object(qt.s)(t.styles[this.props.currentDevice.name].top),10)+parseFloat(a,10);e.push(s)}),s=Math.max(...e),t.forEach(e=>{const t=parseFloat(e.styles[this.props.currentDevice.name].height,10);a.push({top:"".concat(s-parseFloat(t,10),"px")})})}if(1===this.state.mode){let e;const s=this.getComponentsFromGroupByComponent(t).map(e=>{const t=parseFloat(e.styles[this.props.currentDevice.name].height,10);return parseFloat(Object(qt.s)(e.styles[this.props.currentDevice.name].top),10)+parseFloat(t,10)}),n=Math.max(...s),o=document.getElementsByClassName("section-editor__layout")[0].offsetHeight;e=o-n,t.forEach(s=>{if(!s.group_id||1!==t.length&&1!==this.state.group_idsFromCurrentBlock.length)a.push({top:"".concat(parseFloat(Object(qt.s)(s.styles[this.props.currentDevice.name].top),10)+e,"px")});else{const t=this.props.y.one("#".concat(s.group_id));if(t){const n=t.component,o=parseFloat(Object(qt.j)(this.props.getComponentsInGroup(n),this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y).styles[this.props.currentDevice.name].height,10),i=parseFloat(Object(qt.j)(this.props.getComponentsInGroup(n),this.props.currentDevice,this.state.group_idsFromCurrentBlock,this.props.y).styles[this.props.currentDevice.name].top,10),r=parseFloat(s.styles[this.props.currentDevice.name].height,10);e=o-r,a.push({top:"".concat(i+e,"px")})}else a.push({})}})}if(e)return a;this.update(a,()=>{window.setTransformator(t[0])})},this.itemsDisabled=()=>{const{isLayout:e,currentComponents:t,getRootGroupIds:a}=this.props;let s=!1,n=!1;for(const{id:o}of t)s||(s=c()("#"+CSS.escape(o)).parents("[data-main-master-component-id]").length>0);for(const o of a())n||(n=c()("#"+CSS.escape(o)).parents("[data-main-master-component-id]").length>0);return e||(a().length>0?n:s)},this.handleAlign=e=>{this.itemsDisabled()||this["handleAlign".concat(Object(qt.f)(e.toLowerCase()))]()},this.leftActive=()=>{},this.horizontallyActive=()=>{},this.rightActive=()=>{},this.topActive=()=>{},this.verticallyActive=()=>{},this.bottomActive=()=>{}}componentDidMount(){this.checkMode()}componentWillReceiveProps(e){this.checkMode(e)}render(){const e=this.itemsDisabled();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"se__s-p__mk-item__aligns"},n.a.createElement("div",{className:"se__s-p__mk-item__aligns-item ".concat(this.leftActive()?"se__s-p__mk-item__aligns-item_active":""," ").concat(e?"se__s-p__mk-item__aligns-item_disabled":""),onClick:this.handleAlign.bind(null,"left")},n.a.createElement("svg",{alt:"Align Left",title:"Align Left",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{width:"1",height:"16",fill:"#AFAFAF"}),n.a.createElement("rect",{width:"1",height:"16"}),n.a.createElement("rect",{x:"4",y:"2",width:"12",height:"5",rx:"1.5",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"4",y:"2",width:"12",height:"5",rx:"1.5"}),n.a.createElement("rect",{x:"4",y:"9",width:"6",height:"5",rx:"1.5",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"4",y:"9",width:"6",height:"5",rx:"1.5"}))),n.a.createElement("div",{className:"se__s-p__mk-item__aligns-item ".concat(this.horizontallyActive()?"se__s-p__mk-item__aligns-item_active":""," ").concat(e?"se__s-p__mk-item__aligns-item_disabled":""),onClick:this.handleAlign.bind(null,"horizontally")},n.a.createElement("svg",{alt:"Align Horizontally",title:"Align Horizontally",width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{x:"7",width:"1",height:"16",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"7",width:"1",height:"16"}),n.a.createElement("rect",{y:"2",width:"15",height:"5",rx:"1.5",fill:"#AFAFAF"}),n.a.createElement("rect",{y:"2",width:"15",height:"5",rx:"1.5"}),n.a.createElement("rect",{x:"4",y:"9",width:"7",height:"5",rx:"1.5",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"4",y:"9",width:"7",height:"5",rx:"1.5"}))),n.a.createElement("div",{className:"se__s-p__mk-item__aligns-item ".concat(this.rightActive()?"se__s-p__mk-item__aligns-item_active":""," ").concat(e?"se__s-p__mk-item__aligns-item_disabled":""),onClick:this.handleAlign.bind(null,"right")},n.a.createElement("svg",{alt:"Align Right",title:"Align Right",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{width:"1",height:"16",transform:"matrix(-1 0 0 1 16 0)",fill:"#AFAFAF"}),n.a.createElement("rect",{width:"1",height:"16",transform:"matrix(-1 0 0 1 16 0)"}),n.a.createElement("rect",{width:"12",height:"5",rx:"1.5",transform:"matrix(-1 0 0 1 12 2)",fill:"#AFAFAF"}),n.a.createElement("rect",{width:"12",height:"5",rx:"1.5",transform:"matrix(-1 0 0 1 12 2)"}),n.a.createElement("rect",{width:"7",height:"5",rx:"1.5",transform:"matrix(-1 0 0 1 12 9)",fill:"#AFAFAF"}),n.a.createElement("rect",{width:"7",height:"5",rx:"1.5",transform:"matrix(-1 0 0 1 12 9)"}))),n.a.createElement("div",{className:"se__s-p__mk-item__aligns-item ".concat(this.topActive()?"se__s-p__mk-item__aligns-item_active":""," ").concat(e?"se__s-p__mk-item__aligns-item_disabled":""),onClick:this.handleAlign.bind(null,"top")},n.a.createElement("svg",{alt:"Align Top",title:"Align Top",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{width:"1",height:"16",transform:"matrix(0 1 1 0 0 0)",fill:"#AFAFAF"}),n.a.createElement("rect",{width:"1",height:"16",transform:"matrix(0 1 1 0 0 0)"}),n.a.createElement("rect",{width:"12",height:"5",rx:"1.5",transform:"matrix(0 1 1 0 2 4)",fill:"#AFAFAF"}),n.a.createElement("rect",{width:"12",height:"5",rx:"1.5",transform:"matrix(0 1 1 0 2 4)"}),n.a.createElement("rect",{width:"7",height:"5",rx:"1.5",transform:"matrix(0 1 1 0 9 4)",fill:"#AFAFAF"}),n.a.createElement("rect",{width:"7",height:"5",rx:"1.5",transform:"matrix(0 1 1 0 9 4)"}))),n.a.createElement("div",{className:"se__s-p__mk-item__aligns-item ".concat(this.verticallyActive()?"se__s-p__mk-item__aligns-item_active":""," ").concat(e?"se__s-p__mk-item__aligns-item_disabled":""),onClick:this.handleAlign.bind(null,"vertically")},n.a.createElement("svg",{alt:"Align Vertically",title:"Align Vertically",width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_4121_5437)"},n.a.createElement("path",{d:"M0 8L0 7L16 7V8L0 8Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M3.50001 15C2.67158 15 2 14.3284 2 13.5L2.00001 1.5C2.00001 0.671572 2.67158 -9.53674e-07 3.50001 -9.53674e-07H5.5C6.32843 -9.53674e-07 7 0.671572 7 1.5L7 13.5C7 14.3284 6.32843 15 5.50001 15L3.50001 15Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M10.5 12C9.67157 12 9 11.3284 9 10.5L9 4.5C9 3.67157 9.67158 3 10.5 3H12.5C13.3284 3 14 3.67157 14 4.5V10.5C14 11.3284 13.3284 12 12.5 12L10.5 12Z",fill:"#AFAFAF"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_4121_5437"},n.a.createElement("rect",{width:"15",height:"16",fill:"white",transform:"translate(0 15) rotate(-90)"}))))),n.a.createElement("div",{className:"se__s-p__mk-item__aligns-item ".concat(this.bottomActive()?"se__s-p__mk-item__aligns-item_active":""," ").concat(e?"se__s-p__mk-item__aligns-item_disabled":""),onClick:this.handleAlign.bind(null,"bottom")},n.a.createElement("svg",{alt:"Align Bottom",title:"Align Bottom",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0_4121_5417)"},n.a.createElement("rect",{y:"16",width:"1",height:"16",transform:"rotate(-90 0 16)",fill:"#AFAFAF"}),n.a.createElement("rect",{y:"16",width:"1",height:"16",transform:"rotate(-90 0 16)"}),n.a.createElement("rect",{x:"2",y:"12",width:"12",height:"5",rx:"1.5",transform:"rotate(-90 2 12)",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"2",y:"12",width:"12",height:"5",rx:"1.5",transform:"rotate(-90 2 12)"}),n.a.createElement("rect",{x:"9",y:"12",width:"7",height:"5",rx:"1.5",transform:"rotate(-90 9 12)",fill:"#AFAFAF"}),n.a.createElement("rect",{x:"9",y:"12",width:"7",height:"5",rx:"1.5",transform:"rotate(-90 9 12)"})),n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"clip0_4121_5417"},n.a.createElement("rect",{width:"16",height:"16",fill:"white",transform:"translate(0 16) rotate(-90)"})))))))}}var Ti=Object(o.b)(e=>({}),{})(Ii);const Ri=e=>"-"!==e&&isNaN(e);class ji extends s.Component{constructor(){super(...arguments),this.state={},this.onRotateChange=e=>{if(Ri(e))return;e>180&&(e=parseFloat(e,10)-360),e<-180&&(e=360+parseFloat(e,10));const t={[this.props.property]:"rotate(".concat(e,"deg)")};this.setState({oldvalue:this.props.styles[this.props.property]}),this.props.update(t)},this.onMouseUp=e=>{e.target.select()},this.getValue=()=>{var e;return this.props.styles?void 0===this.props.styles[this.props.property]||"rotate(deg)"===this.props.styles[this.props.property]?0:parseFloat(null===(e=this.props.styles[this.props.property])||void 0===e?void 0:e.replace(/^\D+/g,""),10):0},this.getValueInput=()=>this.props.styles?"rotate(deg)"===this.props.styles[this.props.property]?"":"rotate(-deg)"===this.props.styles[this.props.property]?"-":void 0===this.props.styles[this.props.property]||"rotate(deg)"===this.props.styles[this.props.property]?0:parseFloat(this.props.styles[this.props.property].replace("rotate(",""),10):0,this.onKeyDown=e=>{const{value:t}=e.target;if(["ArrowDown","ArrowUp","Enter"].indexOf(e.key)>-1)if("ArrowUp"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))+1;this.onRotateChange(e)}else if("ArrowDown"===e.key){const e=(isNaN(parseFloat(t))?0:parseFloat(t))-1;this.onRotateChange(e)}else this.onRotateChange(t)},this.blur=()=>{"rotate(deg)"===this.props.styles[this.props.property]&&this.onRotateChange(parseFloat(this.state.oldvalue.replace("rotate(",""),10))}}render(){const e=this.getValueInput();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_small input-wrapper__setting_small-2 input-wrapper__setting_small-2_rotate input-wrapper__setting_nowrap"},n.a.createElement("label",{className:"input-wrapper__setting-label",style:{marginRight:10}},n.a.createElement(ht,{min:-1/0,max:1/0,steps:1,value:this.getValue(),onChange:e=>{this.onRotateChange(e)}},n.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M9.5 10C9.77614 10 10 9.77614 10 9.5C10 9.22386 9.77614 9 9.5 9V10ZM0.5 9.5L0.146447 9.14645C0.00344762 9.28945 -0.0393302 9.5045 0.0380602 9.69134C0.115451 9.87818 0.297769 10 0.5 10V9.5ZM9.85355 0.853553C10.0488 0.658291 10.0488 0.341709 9.85355 0.146447C9.65829 -0.0488155 9.34171 -0.0488155 9.14645 0.146447L9.85355 0.853553ZM9.5 9H0.5V10H9.5V9ZM0.853553 9.85355L9.85355 0.853553L9.14645 0.146447L0.146447 9.14645L0.853553 9.85355Z",fill:"#AFAFAF"})))),n.a.createElement(Za,{type:"text",hidefocus:"true",autoComplete:"off",id:"".concat(this.props.property,"-hover-").concat((new Date).getTime()),className:"input input_setting input_setting-inline input-wrapper__setting-input",name:"rotate",min:-180,max:180,onKeyDown:this.onKeyDown,onBlur:this.blur,oldvalue:this.state.oldvalue,value:Ri(e)?"":e,onChange:e=>{this.onRotateChange(e.target.value)}}),n.a.createElement("span",{className:"input-wrapper__setting-select"},"deg")))}}var Gi=Object(o.b)(e=>({}),{})(ji);class Hi extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={hex:"000000",tab:"color",topLeft:0,topRight:0,bottomRight:0,bottomLeft:0,open:!1},this.setDefaults=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;const a=t.styles[t.property]||"0px",s=a.split(" ");e.setState({topLeft:parseInt(s[0]||0,10),topRight:parseInt(s[1]||s[0]||0,10),bottomRight:parseInt(s[2]||s[0]||0,10),bottomLeft:parseInt(s[3]||s[0]||0,10)},()=>{e.differentSizes()&&e.setState({open:!0})})},this.update=()=>{const e="".concat(this.state.topLeft,"px ").concat(this.state.topRight,"px ").concat(this.state.bottomRight,"px ").concat(this.state.bottomLeft,"px");this.props.update(this.props.currentBlock,{[this.props.property]:e})},this.handleClose=()=>{this.setState({open:!1})},this.handleChangeCorner=(e,t)=>{this.setState({[t]:Math.max(0,parseFloat(e))},this.update)},this.handleChangeAllCorners=e=>{e=Math.max(0,parseFloat(e)),this.setState({topLeft:parseFloat(e),topRight:parseFloat(e),bottomLeft:parseFloat(e),bottomRight:parseFloat(e)},this.update)},this.handleClick=()=>{this.setState({open:!this.state.open})},this.differentSizes=()=>{if(""===this.state.topLeft||isNaN(this.state.topLeft))return!1;return(this.state.topLeft+this.state.topRight+this.state.bottomLeft+this.state.bottomRight)/4!==this.state.topLeft},this.getValue=e=>isNaN(parseFloat(this.state[e]))?0:Math.round(parseFloat(this.state[e])),this.getValueInput=e=>""===this.state[e]||isNaN(this.state[e])?"":isNaN(parseFloat(this.state[e]))?0:Math.round(parseFloat(this.state[e])),this.getValueInput2=e=>this.differentSizes()?"...":""===this.state[e]||isNaN(this.state[e])?"":isNaN(parseFloat(this.state[e]))?0:Math.round(parseFloat(this.state[e])),this.onMouseUp=e=>{e.target.select()}}componentDidMount(){this.props.styles[this.props.property]&&this.setDefaults()}componentWillReceiveProps(e){this.setDefaults(e)}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_small input-wrapper__setting_small-2 input-wrapper__setting_nowrap"},n.a.createElement("label",{className:"input-wrapper__setting-label",style:{marginRight:10}},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:"..."===this.getValueInput2("topLeft")?0:this.getValueInput2("topLeft"),onChange:e=>{this.handleChangeAllCorners(e)}},n.a.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.5 9V6.5C0.5 3.18629 3.18629 0.5 6.5 0.5H9",stroke:"#AFAFAF"})))),n.a.createElement("input",{id:"input-radius",readOnly:this.differentSizes()&&this.state.open,onMouseUp:this.onMouseUp,type:"number",autoComplete:"off",className:"input input_setting input_setting-inline input-wrapper__setting-input",value:this.getValueInput2("topLeft"),onChange:e=>{this.handleChangeAllCorners(e.target.value)}}),"..."===this.getValueInput2("topLeft")&&n.a.createElement("label",{htmlFor:"input-radius",style:{position:"absolute",top:12,left:28,zIndex:1}},"..."),n.a.createElement("span",{className:"input-wrapper__setting-select"},"px"),n.a.createElement(T.a,{html:!0,place:"bottom",type:"dark",effect:"solid"})),n.a.createElement("svg",{onClick:this.handleClick,className:"input-wrapper__setting-radius__icon ".concat(this.state.open&&" input-wrapper__setting-radius__icon_active"),width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 1C1.67157 1 1 1.67157 1 2.5V4H0V2.5C0 1.11929 1.11929 2.18557e-07 2.5 2.18557e-07H4V1H2.5Z",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 2.5C11 1.67157 10.3284 1 9.5 1L8 1V0L9.5 1.09278e-07C10.8807 1.69631e-07 12 1.11929 12 2.5V4H11V2.5Z",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 11C10.3284 11 11 10.3284 11 9.5V8H12V9.5C12 10.8807 10.8807 12 9.5 12H8V11H9.5Z",fill:"#AFAFAF"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 9.5C1 10.3284 1.67157 11 2.5 11L4 11V12L2.5 12C1.11929 12 1.46777e-07 10.8807 3.27836e-07 9.5L6.55671e-07 8H1L1 9.5Z",fill:"#AFAFAF"})),this.state.open&&n.a.createElement("div",{className:"input-wrapper__setting-items"},n.a.createElement("div",{className:"input-wrapper__setting-items__item","data-tip":"Top right"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(this.getValueInput("topRight"),10),onChange:e=>this.handleChangeCorner(e,"topRight")},n.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M-2.14577e-06 0.555542L3.44444 0.555542C6.75815 0.555542 9.44444 3.24183 9.44444 6.55554L9.44444 9.99999",stroke:"#AFAFAF"}))),n.a.createElement("input",{onMouseUp:this.onMouseUp,type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("topRight"),onChange:e=>{this.handleChangeCorner(e.target.value,"topRight")}})),n.a.createElement("div",{className:"input-wrapper__setting-items__item","data-tip":"Bottom right"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(this.getValueInput("bottomRight"),10),onChange:e=>this.handleChangeCorner(e,"bottomRight")},n.a.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M8.5 0L8.5 2.5C8.5 5.81371 5.81371 8.5 2.5 8.5L0 8.5",stroke:"#AFAFAF"}))),n.a.createElement("input",{onMouseUp:this.onMouseUp,type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("bottomRight"),onChange:e=>{this.handleChangeCorner(e.target.value,"bottomRight")}})),n.a.createElement("div",{className:"input-wrapper__setting-items__item","data-tip":"Bottom left"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(this.getValueInput("bottomLeft"),10),onChange:e=>this.handleChangeCorner(e,"bottomLeft")},n.a.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M8.99951 8.5L6.49951 8.5C3.1858 8.5 0.499512 5.81371 0.499512 2.5L0.499512 0",stroke:"#AFAFAF"}))),n.a.createElement("input",{onMouseUp:this.onMouseUp,type:"number",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("bottomLeft"),onChange:e=>{this.handleChangeCorner(e.target.value,"bottomLeft")}})),n.a.createElement("div",{className:"input-wrapper__setting-items__item","data-tip":"Top left"},n.a.createElement(ht,{min:0,max:1/0,steps:1,value:parseInt(this.getValueInput("topLeft"),10),onChange:e=>this.handleChangeCorner(e,"topLeft")},n.a.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.499512 9L0.499512 6.5C0.499512 3.18629 3.1858 0.5 6.49951 0.5L8.99951 0.5",stroke:"#AFAFAF"}))),n.a.createElement("input",{onMouseUp:this.onMouseUp,type:"number",min:"0",autoComplete:"off",className:"se__s-p__mk-item__slider-setting__value input-wrapper__setting_small-int number-no-arrows",value:this.getValueInput("topLeft"),onChange:e=>{this.handleChangeCorner(e.target.value,"topLeft")}}))))}}var Ui=Object(o.b)(e=>({}),{})(Hi);class Zi extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={left:0,top:0,isDisabled:!1},this.updateSelectDisabledState=()=>{console.log("20px 20px 20px 20px"===this.props.styles.padding),"20px 20px 20px 20px"===this.props.styles.padding?this.setState({isDisabled:!0}):this.setState({isDisabled:!1})},this.getStyles=function(){var t,a;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;(null===(t=s.styles)||void 0===t?void 0:t.hasOwnProperty("top"))&&s.styles.top!==e.state.top&&"px"!==s.styles.top&&"%"!==s.styles.top&&e.setState({top:parseInt(s.styles.top,10)}),(null===(a=s.styles)||void 0===a?void 0:a.hasOwnProperty("left"))&&s.styles.left!==e.state.left&&"px"!==s.styles.left&&"%"!==s.styles.left&&e.setState({left:parseInt(s.styles.left,10)})},this.handleChangeTop=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},s=[];for(let n of e.props.currentBlockJSON){const t=e.props.ComponentHelper.Y.one("#".concat(n.id));s.push(t&&e.props.isMasterDependingComponentItem(t))}if(void 0!==t.target.value&&s.filter(e=>!1===e).length===s.length){const s={top:t.target.value};e.setState(s,a)}},this.handleChangeLeft=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},s=[];for(let n of e.props.currentBlockJSON){const t=e.props.ComponentHelper.Y.one("#".concat(n.id));s.push(t&&e.props.isMasterDependingComponentItem(t))}if(void 0!==t.target.value&&s.filter(e=>!1===e).length===s.length){const s={left:t.target.value};e.setState(s,a)}},this.update=()=>{const{severalComponents:e,styles:t}=this.props;let a=this.props.currentBlockJSON.slice(0);if(e){a=this.props.ComponentHelper.processComponentsWithFrames(a);const e=parseInt(this.state.left,10)-parseInt(t.left,10),s=parseInt(this.state.top,10)-parseInt(t.top,10),n=[];for(const t of a)n.push({left:"".concat(parseInt(t.styles[this.props.currentDevice.name].left,10)+e,"px"),top:"".concat(parseInt(t.styles[this.props.currentDevice.name].top,10)+s,"px")});this.props.update(n)}else{const e={left:this.state.left+this.props.currentBlock.left_unit,top:this.state.top+this.props.currentBlock.top_unit};for(const t of Object.keys(e))e[t]||delete e[t];this.props.update(e)}},this.onKeyDown=(e,t)=>{let a=this.state[e];18!==t.keyCode&&18!==t.which||window.showRulersForTarget();let s=[];for(let n of this.props.currentBlockJSON){const e=this.props.ComponentHelper.Y.one("#".concat(n.id));s.push(e&&this.props.isMasterDependingComponentItem(e))}s.filter(e=>!1===e).length===s.length&&("ArrowUp"===t.key&&(a++,this.setState({[e]:a},this.update)),"ArrowDown"===t.key&&(a--,this.setState({[e]:a},this.update)),"Enter"===t.key&&this.update())},this.onKeyUp=e=>{18!==e.keyCode&&18!==e.which||window.hideRulersForComponent()},this.handleChangeLeftUnit=e=>{this.props.handleChangeProperties({left_unit:e.target.value});const t=document.getElementsByClassName("section-editor__layout")[0].offsetWidth;if("%"===e.target.value){let a=e.target.getAttribute("current-value")/t*100+"%";this.props.handleChangeComponentForAllDevices(this.props.currentBlock,{left:a})}if("px"===e.target.value){let a=t*e.target.getAttribute("current-value")/100+"px";this.props.handleChangeComponentForAllDevices(this.props.currentBlock,{left:a})}this.forceUpdate()},this.handleChangeTopUnit=e=>{this.props.handleChangeProperties({top_unit:e.target.value}),"px"===e.target.value&&this.props.handleChangeComponentForAllDevices(this.props.currentBlock,{top:"0px"}),"%"===e.target.value&&this.props.handleChangeComponentForAllDevices(this.props.currentBlock,{top:"0%"}),this.forceUpdate()},this.isLayoutORLock=()=>this.props.lock||this.props.isLayout,this.onMouseUp=e=>{e.target.select()},this.handleTogglePosition=()=>{"absolute"===this.props.styles.position?this.props.update({position:"fixed"}):this.props.update({position:"absolute"})},this.onScrubChangeLeft=e=>{this.handleChangeLeft({target:{value:e}},this.update)},this.onScrubChangeTop=e=>{this.handleChangeTop({target:{value:e}},this.update)}}componentDidMount(){this.getStyles(),this.updateSelectDisabledState()}componentDidUpdate(e){e.styles.overflow!==this.props.styles.overflow&&this.updateSelectDisabledState()}componentWillReceiveProps(e){this.getStyles(e)}render(){var e,t,a;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:1===this.props.getRootGroupIds().length||1===this.props.currentBlockJSON.length?"input-wrapper__setting_near-2__wrapper-with__lock":""},n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_near-2 ".concat(this.isLayoutORLock()&&"input-wrapper__setting_disabled")},n.a.createElement("label",{className:"settings-panel__position-label"},n.a.createElement(ht,{disabled:this.isLayoutORLock(),min:-1/0,max:1/0,steps:1,value:parseInt(this.state.left,10),onChange:this.onScrubChangeLeft},"X")),n.a.createElement(Za,{disabled:this.isLayoutORLock(),id:"position-x-".concat((new Date).getTime()),className:"input input_setting input-wrapper__setting-input",type:"text",name:"positionX",value:this.state.left,oldvalue:null===(e=this.props.styles)||void 0===e?void 0:e.left,onChange:this.handleChangeLeft,update:this.update,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown.bind(this,"left")}),n.a.createElement("select",{disabled:this.state.isDisabled,className:"input-wrapper__setting-select input-wrapper__setting-select_position",id:"leftUnit","current-value":this.state.left,value:this.props.currentBlock.left_unit||"px",onChange:this.handleChangeLeftUnit},n.a.createElement("option",{value:"%"},"%"),n.a.createElement("option",{value:"px"},"px"))),n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_near-2 ".concat(this.props.isLayout&&"input-wrapper__setting_disabled")},n.a.createElement("label",{className:"settings-panel__position-label"},n.a.createElement(ht,{disabled:this.props.isLayout,min:-1/0,max:1/0,steps:1,value:this.state.top,onChange:this.onScrubChangeTop},"Y")),n.a.createElement(Za,{id:"position-y-".concat((new Date).getTime()),className:"input input_setting input-wrapper__setting-input",type:"text",name:"positionY",value:this.state.top,oldvalue:null===(t=this.props.styles)||void 0===t?void 0:t.top,onChange:this.handleChangeTop,update:this.update,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown.bind(this,"top"),disabled:this.props.isLayout}),n.a.createElement("select",{disabled:!0,className:"input-wrapper__setting-select input-wrapper__setting-select_position",id:"topUnit",value:this.props.currentBlock.top_unit||"px",onChange:this.handleChangeTopUnit},n.a.createElement("option",{value:"%"},"%"),n.a.createElement("option",{value:"px"},"px")))),(this.props.onlyGroupSelected||1===this.props.currentBlockJSON.length)&&n.a.createElement("svg",{id:"fix-position",onClick:this.handleTogglePosition,"data-place":"left","data-tip":"Fixed position when scrolling","data-for":"fix-position",className:"input-wrapper__setting-position__icon ".concat("fixed"===(null===(a=this.props.styles)||void 0===a?void 0:a.position)&&" input-wrapper__setting-position__icon_active"),width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M3.60392 8.25106L0.300117 12.2896C0.214119 12.3949 0.210818 12.5496 0.300117 12.6587C0.40173 12.7836 0.585685 12.802 0.7101 12.7L4.74993 9.39584C4.5435 9.21202 4.34482 9.02519 4.15975 8.83997C3.96602 8.64634 3.78092 8.44893 3.60392 8.25106Z",fill:"#AFAFAF"}),n.a.createElement("path",{d:"M11.3727 1.62753C10.2431 0.497597 8.9668 -0.0570354 8.52112 0.387301C8.49819 0.410355 6.16596 3.59152 4.997 5.18562C4.23107 4.63972 3.54418 4.32026 3.10144 4.32061C2.9396 4.32061 2.80983 4.36281 2.72132 4.45214C2.23389 4.93872 3.14397 6.63766 4.75328 8.24699C6.06844 9.56215 7.44395 10.4109 8.16801 10.4109C8.33018 10.4109 8.45929 10.3682 8.54813 10.2794C8.88035 9.94718 8.56205 9.05023 7.81541 8.00291C9.40999 6.83385 12.59 4.50172 12.6125 4.47918C13.0577 4.03438 12.5023 2.75759 11.3727 1.62753Z",fill:"#AFAFAF"})),n.a.createElement(T.a,{id:"fix-position",html:!0,place:"left",type:"dark",effect:"solid"}))}}var zi=Object(o.b)(e=>({}),{})(Zi),Vi=a(487),Wi=a.n(Vi),qi=a(488),Ki=a.n(qi);class Yi extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={width:"0px",height:"0px"},this.t=(new Date).getTime(),this.reset=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;if(t.isLayout)return;const a=document.getElementById(t.currentBlock.id);a&&(e.ratioWidth=a.offsetHeight/a.offsetWidth,e.ratioHeight=a.offsetWidth/a.offsetHeight)},this.update=e=>{if(this.props.isLayout)this.props.update({height:"".concat(parseInt(this.state.height,10),"px")});else{this.props.ComponentHelper.offsetOptions={e:{target:{handle:"br"}}},this.props.ComponentHelper._componentResizeStart({target:{get:()=>this.props.ComponentHelper.Y.one("#section-editor__transformator")},currentTarget:{changeWidthHandles:!0,changeHeightHandles:!0}});const e=this.state;let t=this.props.ComponentHelper.getCurrentComponentsWithDependingComponents(!0);e.width.indexOf("%")>-1&&!this.props.severalComponents&&(e.width=parseFloat(e.width)*(this.props.currentDevice.width,this.props.currentDevice.width/100)),this.props.ComponentHelper.onResizeElements({width:parseFloat(e.width,10),height:parseFloat(e.height,10)},t),this.props.ComponentHelper._componentResizeMouseUp({target:{get:()=>this.props.ComponentHelper.Y.one("#section-editor__transformator")}},!1),this.props.ComponentHelper._componentResizeEnd({preventDefault:()=>{}}),window.setTransformator(this.props.currentBlockJSON[0])}},this.handleChangeHeight=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(void 0!==t.target.value){const s={height:t.target.value+e.props.currentBlock.height_unit};if(e.props.keepRatio&&(s.width="".concat(t.target.value*e.ratioHeight,"px")),"icon"===e.props.currentBlock.slug&&(s.fontSize=s.width),"rectangle"===e.props.currentBlock.slug&&parseInt(t.target.value,10)<1)return;const n=e.props.currentBlockJSON[0]&&1===e.props.currentBlockJSON.length&&e.props.ComponentHelper.Y.one("#".concat(e.props.currentBlockJSON[0].id));if(n&&e.props.isMasterDependingComponentItem(n))return!1;e.props.isLayout?e.setState({height:"".concat(t.target.value,"px")},()=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.update("height"),a()}):e.setState(s,()=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.update("height"),a()})}},this.handleChangeWidth=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(void 0!==t.target.value){const{value:s}=t.target,n={width:s+e.props.currentBlock.width_unit};e.props.keepRatio&&(n.height="".concat(s*e.ratioWidth,"px")),"icon"===e.props.currentBlock.slug&&(n.fontSize=n.height);const o=1===e.props.currentBlockJSON.length&&e.props.ComponentHelper.Y.one("#".concat(e.props.currentBlockJSON[0].id));if(o&&e.props.isMasterDependingComponentItem(o))return!1;e.setState(n,()=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.update("width"),a()})}},this.getHeight=()=>"string"!==typeof this.state.height&&isNaN(NaN)?"":this.state.height&&"auto"!==this.state.height?this.state.height.replace("px","").replace("%",""):"Auto",this.getWidth=()=>this.props.isLayout&&this.props.currentDevice?this.props.currentDevice.width:this.state.width&&0===this.state.width.length||"string"!==typeof this.state.width&&isNaN(NaN)?"":this.state.width.replace("px","").replace("%",""),this.onKeyDown=(e,t)=>{this.key=t.key;let a=parseFloat(this.state[e]);18!==t.keyCode&&18!==t.which||window.showRulersForTarget();const s=this.props.currentBlockJSON[0]&&1===this.props.currentBlockJSON.length&&this.props.ComponentHelper.Y.one("#".concat(this.props.currentBlockJSON[0].id));if(s&&this.props.isMasterDependingComponentItem(s))return!1;"ArrowUp"===t.key&&(a++,this.setState({[e]:a+(this.props.isLayout?"px":this.props.currentBlock.width_unit)},()=>{this.update(e)})),"ArrowDown"===t.key&&(a--,this.setState({[e]:a+(this.props.isLayout?"px":this.props.currentBlock.width_unit)},()=>{this.update(e)})),18!==t.keyCode&&18!==t.which||window.showRulersForTarget(),"Enter"===t.key&&this.update(e)},this.onKeyUp=e=>{18!==e.keyCode&&18!==e.which||window.hideRulersForComponent()},this.classes=()=>{let e="input-wrapper__setting input-wrapper__setting_near-2 input-wrapper__setting_small-size input-wrapper__setting_nowrap";return this.isLayoutORLock()&&(e+=" input-wrapper__setting_disabled"),e},this.handleKeepRatio=e=>{"icon"!==this.props.currentBlock.slug&&this.props.handleKeepRatio(e)},this.handleChangeWidthUnit=e=>{if(this.props.severalComponents)return;const t=document.getElementsByClassName("section-editor__layout")[0].offsetWidth;let a=e.target.getAttribute("current-value");if("%"===e.target.value){let s=100*a/t+"%";this.props.handleChangeComponentForAllDevices(this.props.currentBlock,{width:s},{width_unit:e.target.value})}else if("px"===e.target.value){let s=t*a/100+"px";this.props.handleChangeComponentForAllDevices(this.props.currentBlock,{width:s},{width_unit:e.target.value})}this.forceUpdate()},this.isLayoutORLock=()=>this.props.lock||this.props.isLayout,this.withLock=()=>!this.props.isLayout&&"px"===this.props.currentBlock.width_unit&&"px"===this.props.currentBlock.height_unit&&!this.props.severalComponents,this.getHeightUnit=()=>this.props.severalComponents?"px":this.props.currentBlock.height_unit||"px",this.getWidthUnit=()=>this.props.severalComponents?"px":this.props.currentBlock.width_unit||"px",this.onScrubChangeWidth=e=>{this.handleChangeWidth({target:{value:e}},()=>{this.update("width")})},this.onScrubChangeHeight=e=>{this.handleChangeHeight({target:{value:e}},()=>{this.update("height")})}}componentDidMount(){var e,t;this.props.keepRatio&&this.reset(),this.setState({width:(null===(e=this.props.styles)||void 0===e?void 0:e.width)||0,height:(null===(t=this.props.styles)||void 0===t?void 0:t.height)||0})}componentWillReceiveProps(e){var t,a,s,n,o,i,r,l,c,p,d;if(this.reset(e),e.currentBlock.id!==this.props.currentBlock.id){const{state:e}=this;delete e.fontSize,this.setState(e)}e.isLayout||(null===(t=e.styles)||void 0===t?void 0:t.width)===this.state.width||"px"===(null===(a=e.styles)||void 0===a?void 0:a.width)||"%"===(null===(s=e.styles)||void 0===s?void 0:s.width)||this.setState({width:parseInt(null===(n=e.styles)||void 0===n?void 0:n.width,10)+e.currentBlock.width_unit}),e.isLayout||(null===(o=e.styles)||void 0===o?void 0:o.height)===this.state.height||"px"===(null===(i=e.styles)||void 0===i?void 0:i.height)||"%"===(null===(r=e.styles)||void 0===r?void 0:r.height)||this.setState({height:parseInt(null===(l=e.styles)||void 0===l?void 0:l.height,10)+e.currentBlock.height_unit}),e.isLayout&&(null===(c=e.styles)||void 0===c?void 0:c.height)!==this.state.height&&"px"!==(null===(p=e.styles)||void 0===p?void 0:p.height)&&this.setState({height:"".concat(parseInt(null===(d=e.styles)||void 0===d?void 0:d.height,10),"px")}),"%"!==e.currentBlock.width_unit&&"%"!==e.currentBlock.height_unit||!this.props.keepRatio||this.handleKeepRatio(!1)}render(){var e,t;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:this.withLock()?"input-wrapper__setting_near-2__wrapper-with__lock":""},n.a.createElement("div",{className:this.classes()},n.a.createElement("label",{className:"settings-panel__size-label"},n.a.createElement(ht,{disabled:this.isLayoutORLock(),min:0,max:1/0,steps:1,value:parseFloat(this.getWidth()),onChange:this.onScrubChangeWidth},"W")),n.a.createElement(Za,{id:"size-width-".concat(this.t),className:"input input_setting input-wrapper__setting-input",type:"text",name:"size-width",value:this.getWidth(),oldvalue:(null===(e=this.props.styles)||void 0===e?void 0:e.width)||0,onChange:this.handleChangeWidth,update:this.update.bind(null,"width"),disabled:this.isLayoutORLock(),onMouseUp:this.onMouseUp,onKeyDown:this.onKeyDown.bind(this,"width"),onKeyUp:this.onKeyUp}),n.a.createElement("select",{disabled:this.isLayoutORLock()||this.props.severalComponents,className:"input-wrapper__setting-select input-wrapper__setting-select_position",id:"widthUnit","current-value":this.getWidth(),value:this.getWidthUnit(),onChange:this.handleChangeWidthUnit},n.a.createElement("option",{value:"%"},"%"),n.a.createElement("option",{value:"px"},"px"))),n.a.createElement("div",{className:"input-wrapper__setting input-wrapper__setting_near-2 input-wrapper__setting_small-size input-wrapper__setting_nowrap"},n.a.createElement("label",{className:"settings-panel__size-label"},n.a.createElement(ht,{disabled:"Auto"===this.getHeight(),min:0,max:1/0,steps:1,value:"Auto"===this.getHeight()?0:parseFloat(this.getHeight()),onChange:this.onScrubChangeHeight},"H")),"Auto"!==this.getHeight()&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Za,{id:"size-height-".concat(this.t),className:"input input_setting input-wrapper__setting-input",type:"text",name:"size-height",value:this.getHeight(),onChange:this.handleChangeHeight,update:this.update.bind(null,"height"),oldvalue:(null===(t=this.props.styles)||void 0===t?void 0:t.height)||0,onBlur:this.onBlur,onMouseUp:this.onMouseUp,onKeyDown:this.onKeyDown.bind(this,"height"),onKeyUp:this.onKeyUp}),n.a.createElement("select",{disabled:!0,className:"input-wrapper__setting-select input-wrapper__setting-select_position",id:"heightUnit",value:this.getHeightUnit(),"current-value":this.getHeight()},n.a.createElement("option",{value:"%"},"%"),n.a.createElement("option",{value:"px"},"px"))),"Auto"===this.getHeight()&&"Auto")),this.withLock()&&n.a.createElement(n.a.Fragment,null,this.props.keepRatio?n.a.createElement("img",{id:"keep-ratio",src:Ki.a,onClick:this.handleKeepRatio.bind(null,!1),className:"input-wrapper__setting-lock",alt:"Unlock"}):n.a.createElement("img",{id:"keep-ratio",src:Wi.a,onClick:this.handleKeepRatio.bind(null,!0),className:"input-wrapper__setting-lock",alt:"Lock"})))}}var Ji=Object(o.b)(e=>({}),{})(Yi);class Xi extends s.Component{constructor(){super(...arguments),this.state={opacity:0},this.update=()=>{clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{if(this.props.currentLayoutIsGroup&&this.props.update({opacity:this.state.opacity/100}),this.props.severalComponents){const e=this.props.currentBlockJSON.map(e=>e.group_id?{opacity:parseFloat(e.styles[this.props.currentDevice.name].opacity)}:{opacity:this.state.opacity/100});this.props.update(e)}this.props.severalComponents||this.props.currentLayoutIsGroup||this.props.update({opacity:this.state.opacity/100})},50)},this.onOpacitySliderChange=e=>{if(""!==e){if(e/100!==parseFloat(this.state.opacity)/100){const t={[this.props.property]:e};this.setState(t,this.update)}}else{const t={[this.props.property]:e};this.props.update(t)}},this.onAfterChange=()=>{this.refs.opacity.querySelector(".rc-slider-handle")&&this.refs.opacity.querySelector(".rc-slider-handle").blur()},this.onOpacityInputChange=e=>{const{value:t}=e.target,a={[this.props.property]:t};this.setState(a)},this.onKeyDown=e=>{let t=parseFloat(this.state.opacity);"Enter"===e.key&&this.update(),"ArrowUp"===e.key&&(t++,this.setState({opacity:t},this.update)),"ArrowDown"===e.key&&(t--,this.setState({opacity:t},this.update))},this.getValue=()=>isNaN(parseFloat(this.state.opacity))?100:Math.round(parseFloat(this.state.opacity))}componentWillMount(){var e;this.setState({opacity:Math.round(100*parseFloat(null===(e=this.props.styles)||void 0===e?void 0:e.opacity))})}componentWillReceiveProps(e){var t;e.styles.opacity!==this.state.opacity&&this.setState({opacity:Math.round(100*parseFloat(null===(t=e.styles)||void 0===t?void 0:t.opacity))})}render(){var e;const{t:t}=this.props;return n.a.createElement("div",{className:"se__s-p__mk-item__opacity",ref:"opacity"},n.a.createElement("div",{className:"se__s-p__mk-item__opacity-label"},t("app.editor.settingspanel.opacity")),n.a.createElement("div",{className:"se__s-p__mk-item__slider-setting__control"},n.a.createElement(Fn.a,{value:this.getValue(),max:100,onAfterChange:this.onAfterChange,onChange:this.onOpacitySliderChange})),n.a.createElement(Za,{onKeyDown:this.onKeyDown,type:"text",className:"se__s-p__mk-item__slider-setting__value input_setting input-wrapper__setting_small-int number-no-arrows",value:this.state.opacity,update:this.update,oldvalue:Math.round(100*parseFloat(null===(e=this.props.styles)||void 0===e?void 0:e.opacity)),onChange:this.onOpacityInputChange}))}}var Qi=Object(o.b)(e=>({}),{})(Object(j.a)()(Xi));const $i=[{label:"Fixed",value:"fixed"},{label:"Hug",value:"auto"},{label:"Fill",value:"fill"}];class er extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={elementCurrentState:"default",height:window.innerHeight,updatePanel:!1},this.widgetsWithStretch=["rectangle","image","map","video","slider"],this.handleChangeElementCurrentState=e=>{this.setState({elementCurrentState:e.target.value}),this.props.currentBlock.handleChangeProperties({state:e.target.value},!1,()=>{},!1,!0)},this.setHeight=()=>{let e=document.getElementsByClassName("section-editor__top-panel");if(e.length>0){const t=window.innerHeight-e[0].offsetHeight;this.state.height!==t&&this.setState({height:t})}},this.initOldSizes=()=>{if(!localStorage.getItem("oldSizesMap")){const e={width:{},left:{}};localStorage.setItem("oldSizesMap",JSON.stringify(e))}},this.handleChangeFullWidth=e=>{var t={};const{currentBlockJSON:a,currentDevice:s,handleChangeComponent:n,currentBlock:o}=this.props;let i=JSON.parse(localStorage.getItem("oldSizesMap"));const r=a[0];if(a[0]){if(e.target.checked){var l;const{left:e,width:a}=null===(l=r.styles)||void 0===l?void 0:l[s.name];i.width[r.id]=a,i.left[r.id]=e,t.width_unit="%",t.container="window",setTimeout(()=>{n(r,{width:"100%",left:"0px"},void 0,void 0,void 0,!1)},0),localStorage.setItem("oldSizesMap",JSON.stringify(i))}else setTimeout(()=>{n(r,{left:i.left[r.id]?i.left[r.id]:"0px",width:i.width[r.id]?i.width[r.id]:"".concat(s.width,"px")},void 0,void 0,void 0,!1)},0),t.width_unit="px",t.container="grid";o.handleChangeProperties(t),this.forceUpdate()}},this.disabledProperties={top:"0px",left:"0px",width:"0px",height:"0px",width_unit:"px",height_unit:"px",isLayout:!0},this.getCurrentComponentJSON=()=>this.props.currentBlock.isLayout||1!==this.props.currentBlockJSON.length?!this.props.currentBlock.isLayout&&this.props.currentBlockJSON.length>1?this.props.currentBlock.getGroupJSON():this.disabledProperties:this.props.currentBlockJSON[0],this.getStylesLayoutOrComponent=()=>this.props.currentBlock.isLayout||1!==this.props.currentBlockJSON.length||0!==this.props.getRootGroupIds().length?this.props.currentBlock.isLayout?this.props.currentBlock.isLayout?this.props.currentBlockJSON.styles[this.props.currentDevice.name]:this.disabledProperties:this.props.currentBlock.getGroupStyles():this.props.currentBlockJSON[0]?this.props.currentBlockJSON[0].styles[this.props.currentDevice.name]:void 0,this.severalComponents=()=>!this.props.currentBlock.isLayout&&this.props.currentBlockJSON.length>1,this.currentLayoutIsGroup=()=>this.props.currentBlock.group_ids.length>0,this.onlyGroupSelected=()=>{const{y:e,currentBlockJSON:t}=this.props;let a=[],s=e.one("#".concat(this.props.getRootGroupIds()[0]));if(s){let e=s.component;if(e){let s=this.props.getComponentsInGroup(e);t.forEach(e=>{let t=s.find(t=>t.id===e.id);t&&a.push(t)})}}return a.length===t.length},this.getCommonConstraintX=()=>{const{currentBlock:e}=this.props;if(e.json[0]){const t=e.json[0].constraint_x;return e.json.filter(e=>e.constraint_x===t).length===e.json.length?t:"mixed"}},this.onMouseDown=e=>{if(0===c()(e.target).parents(".se__s-p-colorpicker").length&&0===c()(e.target).parents(".layoutkit").length&&0===c()(e.target).parents(".fill-select").length&&!e.target.classList.contains("fill-select")){const e=new Event("siter.settings.closeall");document.dispatchEvent(e)}},this.handleChangeData=function(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=JSON.parse(JSON.stringify(Object.assign({},e.props.currentBlock.json[0].data,t)));e.props.currentBlock.handleChangeProperties({data:s},void 0,void 0,a)},this.handleChangeXSizingMode=(e,t)=>{const{ComponentHelper:a}=this.props,s=Object.assign({},t.data,{xSizingMode:e.value});let n=[t],o=[{data:s}];if("auto"===e.value&&"frame"===t.slug)for(const i of Object.values(t.children))"fixed"===i.data.xSizingMode&&i.data.xSizingMode||(n.push(i),o.push({data:Object.assign({},i.data,{xSizingMode:"fixed"})}));if("fill"===e.value){const e=this.props.searchTree({children:this.props.components},t.group_id);"auto"===e.data.xSizingMode&&(n.push(e),o.push({data:Object.assign({},e.data,{xSizingMode:"fixed"})}))}window.handleChangeComponentsProperties(n,o,!0,()=>{"fill"===e.value&&a.setFillComponentsSize(t,"xSizingMode",!0),setTimeout(()=>{window.setTransformator(this.props.currentBlockJSON[0])})}),setTimeout(()=>{if("auto"===e.value){let e=document.getElementById(t.id).getBoundingClientRect().width+"px";e={width:e},window.handleChangeComponentsStyles([t],[e])}},50)},this.handleChangeYSizingMode=(e,t)=>{const{ComponentHelper:a}=this.props,s=Object.assign({},t.data,{ySizingMode:e.value});let n=[t],o=[{data:s}];if("auto"===e.value&&"frame"===t.slug)for(const i of Object.values(t.children))n.push(i),o.push({data:Object.assign({},i.data,{ySizingMode:"fixed"})});if("fill"===e.value){const e=this.props.searchTree({children:this.props.components},t.group_id);"auto"===e.data.ySizingMode&&(n.push(e),o.push({data:Object.assign({},e.data,{ySizingMode:"fixed"})}))}window.handleChangeComponentsProperties(n,o,!0,()=>{"fill"===e.value&&a.setFillComponentsSize(t,"ySizingMode",!0),setTimeout(()=>{window.setTransformator(this.props.currentBlockJSON[0])})}),setTimeout(()=>{if("auto"===e.value){let e=document.getElementById(t.id).getBoundingClientRect().height+"px";e={height:e},window.handleChangeComponentsStyles([t],[e])}},50)},this.filterSizingModes=(e,t,a)=>t&&"frame"!==a?e.filter(e=>"auto"!==e.value):t&&"frame"===a||t||"frame"!==a?e:e.filter(e=>"fill"!==e.value)}componentDidMount(){window.onresize=this.setHeight,window.settingsPanelToTop=()=>{this.refs.scrollbar&&this.refs.scrollbar.scrollToTop()},this.initOldSizes()}componentWillReceiveProps(e){if(this.setHeight(),this.props.isLayout||1===this.props.currentBlockJSON.length){var t=e.currentBlockJSON[0]||e.currentBlockJSON,a=this.props.currentBlockJSON[0]||this.props.currentBlockJSON;t.id!==a.id&&(this.props.componentsWithState.indexOf(a.slug)>-1||this.props.isLayout)&&(t.path||this.handleChangeElementCurrentState({target:{value:"default"}})),this.setState({updator:!this.state.updator})}}componentWillUnmount(){window.onresize=()=>{}}render(){var e,t,a,s,o,i,r,l,c,p,d,h,m,u,g,_,f,v,w,C,y,b,E,k,S,x,N,B,F,A,L,O,D,M,P,I,T,R,j,G,H,U,Z,z,V;let{ComponentHelper:W,getComponentsInGroup:q,currentBlockJSON:K,currentBlock:Y,currentBlockIsLayout:J,components:X,handleChangeComponent:Q,handleChangeComponentsStyles:$,getRootGroupIds:ee,group_ids:te,getGroups:ae,showWindow:se,currentDevice:ne,pageHeight:oe,handleChangePage:ie,y:re,styles:le,searchTree:ce,oneOfCurrentIsMasterDependingComponent:pe,handleChangeComponentsProperties:de,page:he,t:me}=this.props;const{_updateSettingPanelProp:ue}=this.props;let ge,fe=!Y.isLayout&&1===ee().length,ve=fe&&this.onlyGroupSelected(),we=Y&&Y.isLayout&&K.styles,Ce=!Y.isLayout&&0===Y.group_ids.length&&1===K.length,ye=!Y.isLayout&&(K.length>1||fe);fe&&(ge=Y.getGroupJSON());let be,Ee=!1;if(ve&&fe){Ee=document.querySelector("#"+CSS.escape(ge.id)).hasAttribute("pf"),be=ge}if(Ce){const e=document.querySelector("#"+CSS.escape(K[0].id));e&&(Ee=e.hasAttribute("pf"),be=K[0])}return n.a.createElement("div",{id:"settings_panel",onMouseDown:this.onMouseDown,onMouseOver:this.handleMouseOver,className:"page-editor__settings-panel noselect"},n.a.createElement(_e.a,{id:"scrollbar",ref:"scrollbar",style:{width:"240px",height:this.state.height}},n.a.createElement(Pi,{ComponentHelper:W,currentBlockJSON:K,currentBlock:Y,handleCreateFrameWithoutLayoutChange:this.props.handleCreateFrameWithoutLayoutChange,handleRemoveFrameWithoutLayoutChange:this.props.handleRemoveFrameWithoutLayoutChange}),n.a.createElement("div",{ref:"container",className:"section-editor__settings-panel__modules"},n.a.createElement("div",{className:"section-editor__settings-panel__common-settings"},n.a.createElement(Ti,{y:re,oneOfCurrentIsMasterDependingComponent:pe,getRootGroupIds:ee,ComponentHelper:W,currentComponents:Array.isArray(K)&&K||[],getComponentsInGroup:q,update:Y.handleChangeStyles,currentBlock:Y,components:X,searchTree:ce,group_ids:te,handleChangeComponent:Q,handleChangeComponentsStyles:$,getGroups:ae,showWindow:se,currentDevice:ne,isLayout:Y.isLayout,pageHeight:oe})),n.a.createElement("div",{className:"page-editor__settings-panel__box"},n.a.createElement("div",{className:"se__s-p__mk-items__padding"},n.a.createElement("div",{id:"ck_instruments_size"},!Y.isLayout&&n.a.createElement("div",{className:"input-wrapper__setting-position"},n.a.createElement(zi,{onlyGroupSelected:this.onlyGroupSelected(),isMasterDependingComponentItem:this.props.isMasterDependingComponentItem,styles:this.getStylesLayoutOrComponent(),getRootGroupIds:ee,update:Y.handleChangeStyles,handleChangeProperties:Y.handleChangeProperties,isLayout:Y.isLayout,lock:this.getCurrentComponentJSON().lock,currentBlockJSON:K,currentDevice:ne,handleChangeComponent:Q,currentBlock:this.getCurrentComponentJSON(),groupIds:Y.group_ids,ComponentHelper:W,severalComponents:this.severalComponents()||this.currentLayoutIsGroup(),handleChangeComponentForAllDevices:Y.handleChangeComponentForAllDevices})),n.a.createElement("div",null,n.a.createElement(Ji,{isMasterDependingComponentItem:this.props.isMasterDependingComponentItem,keepRatio:this.props.keepRatio,handleKeepRatio:this.props.handleKeepRatio,styles:this.getStylesLayoutOrComponent(),getRootGroupIds:ee,handleChangeComponent:Q,update:Y.handleChangeStyles,currentBlockJSON:K,currentDevice:ne,isLayout:J,ComponentHelper:W,severalComponents:this.severalComponents()||this.currentLayoutIsGroup(),currentBlock:K[0]||K,lock:this.getCurrentComponentJSON().lock,handleChangeComponentForAllDevices:Y.handleChangeComponentForAllDevices,handleChangeProperties:Y.handleChangeProperties})),Ee&&n.a.createElement("div",{className:"se__s-p__mk-item__sizingmodes"},n.a.createElement(Dt,{name:"framexsizingmode",value:$i.find(e=>e.value===be.data.xSizingMode)||$i[0],onChange:e=>{this.handleChangeXSizingMode(e,be)},searchable:!1,clearable:!1,scrollMenuIntoView:!1,className:"select-wrapper-sizingmode select-wrapper-xsizingmode_"+be.data.xSizingMode,options:this.filterSizingModes($i,Ee,be.slug)}),n.a.createElement(Dt,{name:"frameysizingmode",value:$i.find(e=>e.value===be.data.ySizingMode)||$i[0],onChange:e=>{this.handleChangeYSizingMode(e,be)},searchable:!1,clearable:!1,scrollMenuIntoView:!1,className:"select-wrapper-sizingmode select-wrapper-ysizingmode_"+be.data.ySizingMode,options:this.filterSizingModes($i,Ee,be.slug)}))),Ce&&this.widgetsWithStretch.indexOf(K[0].slug)>-1&&n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom input-wrapper__setting-margin-top"},n.a.createElement("label",{htmlFor:"stretch-to-width"},me("app.editor.settingspanel.stretchtowidth")),n.a.createElement("label",{className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"stretch-to-width",checked:"100%"===(null===le||void 0===le?void 0:le.width),onChange:this.handleChangeFullWidth,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null)))),!Y.isLayout&&"hidden"!==(null===(e=ge)||void 0===e||null===(t=e.styles)||void 0===t||null===(a=t[null===ne||void 0===ne?void 0:ne.name])||void 0===a?void 0:a.overflow)&&n.a.createElement(Qi,{styles:this.getStylesLayoutOrComponent()||{},severalComponents:this.severalComponents(),currentLayoutIsGroup:this.currentLayoutIsGroup(),handleChangeComponentsStyles:this.props.handleChangeComponentsStyles,getRootGroupIds:this.props.getRootGroupIds,currentDevice:ne,currentBlockJSON:K,property:"opacity",update:Y.handleChangeStyles}),(Ce||ve&&"frame"===ge.slug)&&n.a.createElement("div",{className:"se__s-p__mk-item"},Ce&&n.a.createElement(Gi,{styles:le||{},setArrowsByRotate:W.setArrowsByRotate,componentId:Y.id,property:"transform",update:Y.handleChangeStyles}),Ce&&"form"!==K[0].slug&&n.a.createElement(Ui,{styles:le||{},borderRadius:null===le||void 0===le?void 0:le.borderRadius,property:"borderRadius",currentBlock:K[0],update:Y.handleChangeComponentForAllDevices}),ve&&"frame"===ge.slug&&"hidden"!==(null===(s=ge.styles)||void 0===s?void 0:s[ne.name].overflow)&&n.a.createElement(Ui,{styles:null===(o=ge.styles)||void 0===o?void 0:o[ne.name],borderRadius:null===(i=ge.styles)||void 0===i?void 0:i[ne.name].borderRadius,property:"borderRadius",currentBlock:ge,update:Y.handleChangeComponentForAllDevices})))),we&&n.a.createElement(Ds,{toggleAutolayout:this.props.toggleAutolayout,handleRemovePresetFromPageAndComponents:this.props.handleRemovePresetFromPageAndComponents,updator:this.state.updator,handleChangePage:ie,useTabletPortrait:this.props.useTabletPortrait,useMobilePortrait:this.props.useMobilePortrait,useTabletLandscape:this.props.useTabletLandscape,useMobileLandscape:this.props.useMobileLandscape,changeDevice:this.props.changeDevice,devices:this.props.devices,handleInheritDevice:this.props.handleInheritDevice,currentDevice:ne,currentDeviceName:ne.name,toggleLayout:this.props.toggleLayout,showLayout:this.props.showLayout,showWindow:this.props.showWindow,toggleWindow:this.props.toggleWindow,getPageColors:this.props.getPageColors,currentBlock:Y,currentBlockJSON:K,y:re,components:X,page:he,handleChangeComponentsProperties:de,generalStyles:null===(r=K.styles)||void 0===r?void 0:r[ne.name]}),this.props.currentBlockJSON.length>1&&("group"===(null===(l=ge)||void 0===l?void 0:l.slug)||"frame"===(null===(c=ge)||void 0===c?void 0:c.slug))&&n.a.createElement(Di,{overflow:null===(p=ge.styles)||void 0===p?void 0:p[ne.name].overflow,updateStyles:this.props.currentBlock.handleChangeStyles,handleCreateFrameWithoutLayoutChange:this.props.handleCreateFrameWithoutLayoutChange,handleRemoveFrameWithoutLayoutChange:this.props.handleRemoveFrameWithoutLayoutChange,slug:null===(d=ge)||void 0===d?void 0:d.slug}),(this.props.currentBlockJSON.length>1&&!ve||ve&&"group"===ge.slug)&&"hidden"!==(null===(h=ge)||void 0===h||null===(m=h.styles)||void 0===m||null===(u=m[ne.name])||void 0===u?void 0:u.overflow)&&n.a.createElement("div",{className:"page-editor__settings-panel__box page-editor__settings-panel__box-withpadding"},n.a.createElement("div",{className:"se__s-p__mk-item__title se__s-p__mk-item__title_custom"},n.a.createElement("label",{htmlFor:"autolayout"},me("app.editor.settingspanel.autolayout")),n.a.createElement("label",{htmlFor:"autolayout",className:"fr switcher switcher_small switcher_input se__s-p__mk-item__title-add"},n.a.createElement("input",{id:"autolayout",checked:!1,onChange:this.props.handleCreateAutolayout,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),ve&&"group"===(null===(g=ge)||void 0===g?void 0:g.slug)&&n.a.createElement(di,{updator:this.state.updator,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,handleChangeProperties:Y.handleChangeProperties,currentBlock:ge,isAnimationsReady:null===(_=this.props)||void 0===_?void 0:_.isAnimationsReady}),ve&&"hidden"!==(null===(f=ge)||void 0===f||null===(v=f.styles)||void 0===v||null===(w=v[null===ne||void 0===ne?void 0:ne.name])||void 0===w?void 0:w.overflow)&&"frame"===ge.slug&&n.a.createElement(mi,{ComponentHelper:this.props.ComponentHelper,updator:this.state.updator,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,handleChangeProperties:Y.handleChangeProperties,handleRemoveAutolayout:this.props.handleRemoveAutolayout,updateStyles:this.props.currentBlock.handleChangeStyles,currentBlock:ge,currentBlockInfo:Y,flexDirection:null===(C=ge.styles)||void 0===C?void 0:C[ne.name].flexDirection,gap:null===(y=ge.styles)||void 0===y?void 0:y[ne.name].gap,alignItems:null===(b=ge.styles)||void 0===b?void 0:b[ne.name].alignItems,padding:null===(E=ge.styles)||void 0===E?void 0:E[ne.name].padding,justifyContent:null===(k=ge.styles)||void 0===k?void 0:k[ne.name].justifyContent,overflow:null===(S=ge.styles)||void 0===S?void 0:S[ne.name].overflow,border:null===(x=ge.styles)||void 0===x?void 0:x[ne.name].border,filter:null===(N=ge.styles)||void 0===N?void 0:N[ne.name].filter,flexWrap:null===(B=ge.styles)||void 0===B?void 0:B[ne.name].flexWrap,alignContent:null===(F=ge.styles)||void 0===F?void 0:F[ne.name].alignContent,generalStyles:null===(A=ge.styles)||void 0===A?void 0:A[ne.name],currentDeviceName:ne.name}),ve&&"hidden"===(null===(L=ge)||void 0===L||null===(O=L.styles)||void 0===O||null===(D=O[null===ne||void 0===ne?void 0:ne.name])||void 0===D?void 0:D.overflow)&&"frame"===ge.slug&&n.a.createElement(gi,{ComponentHelper:this.props.ComponentHelper,updator:this.state.updator,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,handleChangeProperties:Y.handleChangeProperties,handleRemoveAutolayout:this.props.handleRemoveAutolayout,updateStyles:this.props.currentBlock.handleChangeStyles,currentBlock:ge,currentBlockInfo:Y,flexDirection:null===(M=ge.styles)||void 0===M?void 0:M[ne.name].flexDirection,gap:null===(P=ge.styles)||void 0===P?void 0:P[ne.name].gap,alignItems:null===(I=ge.styles)||void 0===I?void 0:I[ne.name].alignItems,padding:null===(T=ge.styles)||void 0===T?void 0:T[ne.name].padding,justifyContent:null===(R=ge.styles)||void 0===R?void 0:R[ne.name].justifyContent,overflow:null===(j=ge.styles)||void 0===j?void 0:j[ne.name].overflow,border:null===(G=ge.styles)||void 0===G?void 0:G[ne.name].border,filter:null===(H=ge.styles)||void 0===H?void 0:H[ne.name].filter,flexWrap:null===(U=ge.styles)||void 0===U?void 0:U[ne.name].flexWrap,alignContent:null===(Z=ge.styles)||void 0===Z?void 0:Z[ne.name].alignContent,generalStyles:null===(z=ge.styles)||void 0===z?void 0:z[ne.name],currentDeviceName:ne.name}),ye&&n.a.createElement(Li,{isGroup:ge&&dr(ge.slug),handleCreateAutolayout:this.props.handleCreateAutolayout,handleChangeComponentsProperties:de,currentBlock:Y,currentDeviceName:this.props.currentDevice.name,jsonLength:Y.json.length,getPageColors:this.props.getPageColors,handleChangePage:ie,installedFonts:this.props.installedFonts,getRootGroupIds:this.props.getRootGroupIds,fonts:this.props.fonts}),n.a.createElement("div",null,Ce&&n.a.createElement(ci,{effects:null===(V=Y.json[0].data)||void 0===V?void 0:V.effects,handleChangeDataProps:this.handleChangeData}),Ce&&"code"===K[0].slug&&n.a.createElement(qo,{updator:this.state.updator,getPageColors:this.props.getPageColors,update:Y.handleChangeProperties,currentBlock:K[0]}),Ce&&"text"===K[0].slug&&n.a.createElement(Hn,{elementCurrentState:this.state.elementCurrentState,handleChangeElementCurrentState:this.handleChangeElementCurrentState,updator:this.state.updator,currentBlockInfo:this.props.currentBlock,blocked:K[0].blocked,handleChangePage:ie,choosedBlock:this.props.choosedBlock,handleChooseBlockMode:this.props.handleChooseBlockMode,chooseBlockMode:this.props.chooseBlockMode,fonts:this.props.fonts,ComponentHelper:W,installedFonts:this.props.installedFonts,getPageColors:this.props.getPageColors,currentBlock:Y,currentDeviceWidth:this.props.currentDevice.width,y:re,generalStyles:le||{}}),Ce&&"button"===K[0].slug&&n.a.createElement(bo,{updator:this.state.updator,elementCurrentState:this.state.elementCurrentState,handleChangeElementCurrentState:this.handleChangeElementCurrentState,handleChangePage:ie,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,fonts:this.props.fonts,installedFonts:this.props.installedFonts,getPageColors:this.props.getPageColors,currentBlock:Y,generalStyles:le||{}})),Ce&&"form"===this.props.currentBlock.json[0].slug&&n.a.createElement(Ni,{updator:this.state.updator,handleChangePageOrSection:this.props.handleChangePageOrSection,fonts:this.props.fonts,getPageColors:this.props.getPageColors,handleChangePage:this.props.handleChangePage,generalStyles:le||{},installedFonts:this.props.installedFonts,currentDeviceName:this.props.currentDevice.name,currentBlock:this.props.currentBlock.json[0],handleChangeWidgetForAllDevices:this.props.currentBlock.handleChangeWidgetForAllDevices,elementCurrentState:this.state.elementCurrentState,handleChangeElementCurrentState:this.handleChangeElementCurrentState,update:this.props.currentBlock.handleChangeProperties,updateStyles:this.props.currentBlock.handleChangeStyles,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,currentBlockInfo:Y}),Ce&&"image"===K[0].slug&&n.a.createElement(ro,{updator:this.state.updator,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,ComponentHelper:W,handleKeepRatio:this.props.handleKeepRatio,updateStyles:Y.handleChangeStyles,update:Y.handleChangeProperties,handleChangeComponentForAllDevices:Y.handleChangeComponentForAllDevices,getPageColors:this.props.getPageColors,currentBlock:K[0],currentBlockInfo:Y,generalStyles:le||{}}),Ce&&"icon"===K[0].slug&&n.a.createElement(uo,{updator:this.state.updator,ComponentHelper:W,handleChangeElementCurrentState:this.handleChangeElementCurrentState,handleKeepRatio:this.props.handleKeepRatio,updateStyles:Y.handleChangeStyles,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,elementCurrentState:this.state.elementCurrentState,update:Y.handleChangeProperties,handleChangeComponentForAllDevices:Y.handleChangeComponentForAllDevices,getPageColors:this.props.getPageColors,currentBlockInfo:Y,currentBlock:K[0],generalStyles:le||{}}),Ce&&"video"===K[0].slug&&n.a.createElement(No,{elementCurrentState:this.state.elementCurrentState,handleChangeElementCurrentState:this.handleChangeElementCurrentState,updator:this.state.updator,ComponentHelper:W,currentBlock:Y,handleChangeComponentForAllDevices:Y.handleChangeComponentForAllDevices,updateStyles:Y.handleChangeStyles,getPageColors:this.props.getPageColors,generalStyles:le||{},currentBlockInfo:Y,update:Y.handleChangeProperties}),Ce&&"map"===K[0].slug&&n.a.createElement(Fo,{updator:this.state.updator,ComponentHelper:W,getPageColors:this.props.getPageColors,updateStyles:Y.handleChangeStyles,generalStyles:le||{},currentBlock:K[0],update:Y.handleChangeProperties}),Ce&&"rectangle"===K[0].slug&&n.a.createElement(Do,{updator:this.state.updator,ComponentHelper:W,updateStyles:Y.handleChangeStyles,elementCurrentState:this.state.elementCurrentState,handleChangeElementCurrentState:this.handleChangeElementCurrentState,choosedBlock:this.props.choosedBlock,chooseBlockMode:this.props.chooseBlockMode,handleChooseBlockMode:this.props.handleChooseBlockMode,getPageColors:this.props.getPageColors,update:Y.handleChangeProperties,handleChangeComponentForAllDevices:Y.handleChangeComponentForAllDevices,currentBlock:K[0],currentBlockInfo:Y,generalStyles:le||{}}),Ce&&"slider"===K[0].slug&&n.a.createElement(Zo,{updator:this.state.updator,ComponentHelper:W,handleChangePage:ie,updateStyles:Y.handleChangeStyles,currentDeviceName:ne.name,fonts:this.props.fonts,getPageColors:this.props.getPageColors,installedFonts:this.props.installedFonts,update:Y.handleChangeProperties,images:K[0].data.images,currentBlockInfo:Y,currentBlock:K[0],generalStyles:le||{}}))))}}var tr=Object(o.b)(e=>({}),{})(Object(j.a)()(er));var ar=class{constructor(e,t){this.Y=void 0,this.layout=void 0,this.filter=void 0,this.artBoard=void 0,this.initArtBlockEditor=e=>{this.layout=this.Y.one(".section-editor__layout"),this.filter=this.Y.one(".section-editor__filter"),this.artBoard=this.Y.one(".section-editor__artboard"),this.Y.one(".section-editor__layout").component={container:"grid"},this.initResizeLayout()},this.initResizeLayout=()=>{const e={node:this.filter,handles:"b"};if(this.Y.Resize){const t=new this.Y.Resize(e);this.setResizeEventsToWidget(t)}},this.setResizeEventsToWidget=e=>{e.on("resize:start",this._layoutResizeStart),e.on("resize:resize",this._layoutResizeResize),e.on("resize:end",this._layoutResizeEnd)},this._layoutResizeStart=e=>{const t=e.target.get("node");this.ResizeLayoutPosition={height:t.get("offsetHeight"),start:{top:t.get("offsetTop"),left:t.get("offsetLeft"),width:t.get("offsetWidth"),height:t.get("offsetHeight")}}},this._layoutResizeResize=e=>{let t;e.preventDefault();const a=e.dragEvent.info.offset[1]/(window.currentZoom/100);e.currentTarget.changeHeightHandles&&!e.currentTarget.changeTopHandles&&(t=this.ResizeLayoutPosition.start.height+a),this.layout.setStyles({height:t}),this.filter.setStyles({height:t}),this.artBoard.setStyles({height:t}),this.ResizeLayoutPosition.height=t},this._layoutResizeEnd=e=>{e.preventDefault(),this.EditorPage.handleChangeStyles({height:"".concat(this.ResizeLayoutPosition.height,"px")})},this.Y=e,this.EditorPage=t}};class sr extends n.a.Component{componentDidMount(){}render(){return n.a.createElement("div",{className:"section-editor section-editor_placeholder"},n.a.createElement("table",{className:"section-editor__top-panel"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{style:{width:500}},n.a.createElement("div",{className:"section-editor__top-panel__blocks"})),n.a.createElement("td",{style:{width:500}},n.a.createElement("div",{className:"section-editor__top-panel-zoom noselect"})),n.a.createElement("td",{style:{width:"100%"}},n.a.createElement("div",{className:"section-editor__top-panel__device-switcher"},n.a.createElement("form",null))),n.a.createElement("td",{style:{width:200}},n.a.createElement("div",{className:"section-editor__top-panel__switcher"})),n.a.createElement("td",{style:{width:200}},n.a.createElement("table",{width:"100%",className:"section-editor__top-panel__buttons"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null)))))))),n.a.createElement("div",{className:"section-editor__artboard",style:{transform:"scale(0.6)"}},n.a.createElement("div",{className:"section-editor__layout",style:{backgroundColor:"rgb(255, 255, 255)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center top",backgroundAttachment:"scroll",backgroundImage:"none",color:"rgb(0, 0, 0)",height:650,width:1200,left:900,top:2500,padding:20}},n.a.createElement("div",{className:"text-input__loading"},n.a.createElement("div",{className:"text-input__loading--line text-input__loading--line_small"}),n.a.createElement("div",{className:"text-input__loading--line text-input__loading--line_small"}),n.a.createElement("div",{className:"text-input__loading--line text-input__loading--line_small"}),n.a.createElement("div",{className:"text-input__loading--line text-input__loading--line_small"}),n.a.createElement("div",{className:"text-input__loading--line text-input__loading--line_small"}),n.a.createElement("div",{className:"text-input__loading--line text-input__loading--line_small"}),n.a.createElement("div",{className:"text-input__loading--line text-input__loading--line_small"}))),n.a.createElement("div",{className:"section-editor__space"})),n.a.createElement("div",{id:"settings_panel",className:"section-editor__settings-panel noselect",style:{height:"100%",padding:"19px 25px"}},n.a.createElement("div",{style:{position:"relative",overflow:"hidden",width:"100%"}},n.a.createElement("div",null,n.a.createElement("div",{className:"section-editor__settings-panel__modules"},n.a.createElement("div",{className:"section-editor__settings-panel__modules-kit"},n.a.createElement("div",{className:"text-input__loading"},n.a.createElement("div",{className:"text-input__loading--line",style:{height:25}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:50}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:100}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:25}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:50}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:50}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:100}}))),n.a.createElement("div",{id:"ck_instruments"}))),n.a.createElement("div",{style:{position:"absolute",height:6,display:"none",right:2,bottom:2,left:2,borderRadius:3}},n.a.createElement("div",{style:{position:"relative",display:"block",height:"100%",cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)"}})),n.a.createElement("div",{style:{position:"absolute",width:6,display:"none",right:2,bottom:2,top:2,borderRadius:3}},n.a.createElement("div",{style:{position:"relative",display:"block",width:"100%",cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)"}})))),n.a.createElement("div",{className:"section-editor__settings-panel noselect section-editor__layers",style:{position:"fixed",left:0,top:0,borderRadius:"0px",height:"100%",width:"58px"}},n.a.createElement("div",{style:{width:"100%",height:"100%"}},n.a.createElement("div",null,n.a.createElement("div",{className:"Collapsible-wrap Collapsible-wrap_layers",style:{padding:"17px"}},[1,2,3,4,5,6,7,8,9].map(e=>n.a.createElement("div",{key:e,className:"text-input__loading--line",style:{width:24,height:24,marginBottom:34}})))))))}}var nr=sr;class or extends s.Component{constructor(){super(...arguments),this.state={fileProgress:0},this.close=()=>{this.props.removeUploadFileFromState({id:this.props.fileId})}}componentDidMount(){let e=this.state.fileProgress;const t=setInterval(()=>{e+=1,this.setState({fileProgress:e}),95===e&&clearInterval(t)},95)}render(){return n.a.createElement("div",{className:"editor-page__upload-statuses__item-wrapper"},n.a.createElement("div",{className:"editor-page__upload-statuses__item"},n.a.createElement("div",{className:"editor-page__upload-status-text"},n.a.createElement("span",{className:"editor-page__upload-status-text__name"},this.props.fileName),n.a.createElement("span",{className:"editor-page__upload-status-text__progress"},"(",n.a.createElement("span",{className:""},this.props.fileProgress||this.state.fileProgress,"%")," of 100%)")),n.a.createElement("div",{className:"editor-page__upload-status-close",onClick:this.close},n.a.createElement("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.35355 10.3536L10.3536 1.35355L9.64645 0.646447L0.646447 9.64645L1.35355 10.3536ZM10.3536 9.64645L1.35355 0.646447L0.646447 1.35355L9.64645 10.3536L10.3536 9.64645Z",fill:"white"})))))}}var ir=Object(o.b)((e,t)=>({}),{})(or);class rr extends s.Component{render(){return n.a.createElement("div",{className:"editor-page__upload-statuses"},this.props.uploadFiles.map(e=>n.a.createElement(ir,{key:e.id,fileName:e.name,fileId:e.id,fileProgress:e.progress,removeUploadFileFromState:this.props.removeUploadFileFromState})))}}var lr=Object(o.b)((e,t)=>({}),{})(rr);Array.prototype.insert=function(e,t){this.splice(e,0,t)};const cr=["button","icon","text","rectangle","video","form"];let pr;const dr=e=>["group","frame"].indexOf(e)>-1,hr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=[];if(e){const{children:r}=e;if(r)for(var o of Object.keys(r)){var i=r[o];dr(i.slug)?(a&&n.push(i),s&&"frame"===i.slug&&n.push(i),n=n.concat(hr(i,t,a,s))):-1===t.indexOf(i.id)&&n.push(i)}}return n};class mr extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={currentDrawComponent:void 0,drawMode:!1,showLayout:!1,showGrid:!1,showWindow:!1,layoutEditor:void 0,currentDevice:{},components:[],devices:[],versionHistoryMode:!1,currentBlock:{isLayout:!0},layers:!1,uploadFiles:[],CKEReady:!1,shortcuts:!1,fonts:[],isAnimationsReady:1},this.viewMode="?live_view=1"===window.location.search,this.currentBatchIndex=-1,this.forceInnerGroups=[],this.getCurrentBatch=e=>{let{page:t}=this.state;Yt.a.getItem("".concat(t.id).concat("_changes"),(t,a)=>{let s=a?Object(Jt.parse)(a):[];s&&s.length>0&&e(s[this.currentBatchIndex])})},this.getCurrentBlock=(e,t)=>{let a={json:null,isLayout:t.isLayout,group_ids:JSON.parse(JSON.stringify(t.group_ids))};return t.hasOwnProperty("inner_groups")&&Array.isArray(t.inner_groups)?a.inner_groups=JSON.parse(JSON.stringify(t.inner_groups)):a.inner_groups=[],Array.isArray(t.json)&&t.json.length>0?a.json=t.json.map(e=>{let{id:t}=e;return t}):a.json=e,a},this.getCurrentBlocks=()=>{let e=this.getCurrentBlock(this.oldPage,this.oldCurrentBlock),t=this.getCurrentBlock(this.state.page,this.state.currentBlock);return{prevPage:this.oldPage,page:this.state.page,prevCurrentBlock:e,currentBlock:t}},this.addState=e=>{let{page:t}=this.state;Yt.a.getItem("".concat(t.id).concat("_changes"),(a,s)=>{if(!a){let a=s?Object(Jt.parse)(s):[],n=this.getCurrentBlocks();e={current:n,batch:JSON.parse(JSON.stringify(e))};const o=this.currentBatchIndex+1;a=a.slice(0,o),a.push(e),this.currentBatchIndex++,Yt.a.setItem("".concat(t.id).concat("_changes"),Object(Jt.stringify)(a,{fullPrecisionFloats:!0}))}})},this.batchCollection=[],this.removeUnchangedProps=(e,t)=>{let a=qt.g.map(e,t);for(const s of Object.keys(a))"unchanged"===a[s].mapper_type&&-1===["slug","id"].indexOf(s)&&(delete e[s],delete t[s])},this.oldCurrentBlock={},this.oldPage={},this.capture=(e,t)=>{let{changedComponents:a,prevChangedComponents:s,prevTreeIndex:n,nextTreeIndex:o,prevPath:i=[],oldCurrentDevice:r,currentDevice:l,path:c=null,treeIndex:p=null,nextDepth:d=null}=e;if(!this.state.versionHistoryMode)if(a=JSON.parse(JSON.stringify(a)),s=JSON.parse(JSON.stringify(s)),clearTimeout(this.historyTimeout),a.length===s.length){let e=0;for(let h of a){const a=h.slug?"component":"page";delete h.image_data,delete s[e].image_data,h.blocked&&delete h.blocked,s[e].blocked&&delete s[e].blocked,"REMOVE_COMPONENT"!==t&&(delete h.children,delete s[e].children),["CHANGE_PROPS","CHANGE_STYLES"].indexOf(t)>-1&&this.removeUnchangedProps(h,s[e]),"component"===a?null!==c&&null!==p?(this.batchCollection.push({componentId:h.id,componentType:a,prevJson:s[e],json:h,treeIndex:p,nextDepth:d,depth:c.indexOf(h.id)>-1?c.length-1:c.length,prevDepth:i.indexOf(h.id)>-1?i.length-1:i.length,prevTreeIndex:n,nextTreeIndex:o,type:t}),e++):this.getComponentTreeInfo(h.id,r=>{let{treeIndex:l,path:c}=r;this.batchCollection.push({componentId:h.id,componentType:a,prevJson:s[e],json:h,treeIndex:l,nextDepth:d,depth:c.indexOf(h.id)>-1?c.length-1:c.length,prevDepth:i.indexOf(h.id)>-1?i.length-1:i.length,prevTreeIndex:n,nextTreeIndex:o,type:t}),e++}):this.batchCollection.push({componentId:h.id,componentType:a,prevJson:s[e],json:h,type:t,oldCurrentDevice:r,currentDevice:l})}this.oldCurrentBlock=JSON.parse(JSON.stringify(this.state.currentBlock)),this.oldPage=JSON.parse(JSON.stringify(this.state.page)),this.historyTimeout=setTimeout(()=>{this.batchCollection.length>0&&this.addState(this.batchCollection),this.batchCollection=[]},200)}else console.error("Components length is not equals")},this.handleUndoRedo=e=>{if(!this.state.versionHistoryMode&&!c()(e.target._node).is('input[type="text"], input[type="number"], textarea, [contenteditable]')){const{ctrlKey:t,metaKey:a,keyCode:s,shiftKey:n}=e;(t||a)&&[90].indexOf(s)>-1&&(e.preventDefault(),n?this.redo():this.undo())}},this.updateCurrentBlock=(e,t)=>{const{y:a}=this.state;let s=[],n=[],o=[];if(Array.isArray(e.json))for(const r of e.json){let e=this.searchTree({children:this.state.components},r);e&&o.push(e)}else o=e.json;for(const r of e.group_ids)a.one("#".concat(r))&&s.push(r);for(const r of e.inner_groups)a.one("#".concat(r))&&n.push(r);const i={json:Array.isArray(o)&&o.length>0?o:t,isLayout:!(Array.isArray(o)&&o.length>0),group_ids:s,inner_groups:n};this.setState({currentBlock:Object.assign(this.state.currentBlock,i)},()=>{e.json[0]?window.setTransformator({id:e.json[0]}):window.hideAllIndicators()})},this.undo=e=>{if(this.canUndo()){let e=new Event("siter.undo");document.dispatchEvent(e),this.undoIsRun=!0,this.getCurrentBatch(e=>{var t;this.currentBatchIndex--;let a=[],s=[],n=[],o=[],i=[],r=[];if(e&&e.batch)for(const p of e.batch){let{json:e,treeIndex:l,depth:c,type:d,prevJson:h,componentType:m,oldCurrentDevice:u}=p;if("component"===m){const{currentDevice:m}=this.state;let u=p.json.slug,g=p.prevJson.slug;if("frame"===u&&"group"===g&&(setTimeout(()=>{this.setState({_updateBlockSelectorProp:Math.random()})},10),n.push(e),o.push(h)),"frame"!==u&&"group"!==g)switch(d){case"ADD_COMPONENT":i.push(e);break;case"CHANGE_STYLES":a.push(e),s.push(null===(t=h.styles)||void 0===t?void 0:t[m.name]);break;case"CHANGE_PROPS":if("frame"===u&&"group"===g)break;n.push(e),o.push(h);break;case"REMOVE_COMPONENT":r.push({node:e,treeIndex:l,depth:c})}}else switch(d){case"CHANGE_PROPS":h.screens&&this.setState({devices:h.screens.slice(0)}),this.handleChangePage(h,()=>{u&&this.changeDevice(u)},!0,!0)}}r.sort((e,t)=>e.depth-t.depth);const l=()=>{this.undoIsRun=!1,e&&e.current&&this.updateCurrentBlock(e.current.prevCurrentBlock,e.current.prevPage)},c=()=>{a.length>0&&this.handleChangeComponentsStyles(a,s,!0,!0),n.length>0?this.handleChangeComponentsProperties(n,o,!0,void 0,!0,void 0,void 0,l):l()};i.length>0?this.removeComponentFromPage(i,!1,!0,void 0,void 0,()=>{r.length>0?this.addComponentsToPageAtIndex(r,c,!1):c()}):r.length>0?this.addComponentsToPageAtIndex(r,c,!1):c()})}},this.redo=e=>{this.canRedo(e=>{if(e){this.redoIsRun=!0;let e=new Event("siter.redo");document.dispatchEvent(e),this.currentBatchIndex++,this.getCurrentBatch(e=>{var t;let a=[],s=[],n=[],o=[],i=[],r=[];if(e&&e.batch)for(const p of e.batch){let{json:e,nextTreeIndex:l,nextDepth:c,type:d,componentType:h,currentDevice:m}=p;if("component"===h){const{currentDevice:p}=this.state;switch(d){case"ADD_COMPONENT":r.push({node:e,treeIndex:l,depth:c});break;case"CHANGE_STYLES":a.push(e),s.push(null===(t=e.styles)||void 0===t?void 0:t[p.name]);break;case"CHANGE_PROPS":n.push(e),o.push(e);break;case"REMOVE_COMPONENT":i.push(e)}}else switch(d){case"CHANGE_PROPS":e.screens&&this.setState({devices:e.screens.slice(0)}),this.handleChangePage(e,()=>{m&&this.changeDevice(m)},!0,!0)}}r.sort((e,t)=>e.depth-t.depth);const l=()=>{this.redoIsRun=!1,e&&e.current&&this.updateCurrentBlock(e.current.currentBlock,e.current.page)},c=()=>{a.length>0&&this.handleChangeComponentsStyles(a,s,!0,!0),n.length>0?this.handleChangeComponentsProperties(n,o,!0,void 0,!0,void 0,void 0,l):l()};i.length>0?this.removeComponentFromPage(i,!1,!0,void 0,void 0,()=>{r.length>0?this.addComponentsToPageAtIndex(r,c):c()},!1):r.length>0?this.addComponentsToPageAtIndex(r,c):c()})}})},this.undoIsRun=!1,this.redoIsRun=!1,this.canUndo=()=>this.currentBatchIndex>-1&&!this.undoIsRun,this.canRedo=e=>{let{id:t}=this.state.page;Yt.a.getItem("".concat(t).concat("_changes"),(t,a)=>{if(!t){let t=Object(Jt.parse)(a).length;e(this.currentBatchIndex<t-1&&!this.redoIsRun)}})},this.hideComponentIndicatorTemporary=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;document.querySelector(".section-editor__indicators")&&(document.querySelector(".section-editor__indicators").style.display="none",clearTimeout(e.timeout2),e.timeout2=setTimeout(()=>{document.querySelector(".section-editor__indicators")&&(document.querySelector(".section-editor__indicators").style.display="")},t))},this.alignLayoutToCenter=e=>{const t=window.innerWidth,a=document.getElementsByClassName("section-editor__artboard")[0];if(a){if(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST)window.positionX=t*window.currentZoom/100/2-a.getBoundingClientRect().width/2;else{let t=e?516:296,a=e?277:58;window.positionX=(window.innerWidth-t)/2-window.WORKSPACE_WIDTH/2,window.positionX+=a}window.positionY=150}},this.noScroll=()=>{window.scrollTo(0,0)},this.undoRedoShortcutSubscribe=e=>{this.undoRedoSubscribe=null===e||void 0===e?void 0:e.one("doc").on("keydown",this.handleUndoRedo)},this.undoRedoShortcutUnsubscribe=()=>{this.undoRedoSubscribe&&this.undoRedoSubscribe.detach()},this.onBlurEditor=()=>{this.state.ComponentHelper&&(this.state.ComponentHelper.altPressed=!1)},this.fetchFontsIfMissing=()=>{this.state.fonts&&0!==this.state.fonts.length||this.props.fetchFontsRequest({offset:0,limit:99999},e=>{(null===e||void 0===e?void 0:e.length)>0?this.setState({fonts:e}):console.error("No fonts were fetched. Check API or fetch logic.")})},this.viewModeUpdateComponents=()=>{this.getPage(e=>{let{preview_component_params:t}=e;this.setState({components:t})})},this.request=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};const n=new XMLHttpRequest;n.open(t,e,!0),n.setRequestHeader("Content-Type","application/json"),n.onload=()=>{200===n.status&&s(JSON.parse(n.response))},n.send(JSON.stringify(a))},this.addIcons=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.request(t,"GET",{},e=>{window.iconsCategories.push({name:a,icons:e,colored:s})})},this.getAllIcons=()=>{window.iconsCategories=[],this.addIcons("/icons/material-design-icons.json","Material icons"),this.addIcons("/icons/Ion-icons.json","Ion icons"),this.addIcons("/icons/font-awesome-4.json","Font awesome 4"),this.addIcons("/icons/font-awesome-5-solid.json","Font awesome 5 solid"),this.addIcons("/icons/font-awesome-5-regular.json","Font awesome 5 regular"),this.addIcons("/icons/vaadin-icons.json","Vaadin icons"),this.addIcons("/icons/prestashop.json","PrestaShop"),this.addIcons("/icons/icomoon.json","IcoMoon free"),this.addIcons("/icons/webhostinghub.json","WebHostingHub"),this.addIcons("/icons/dashicons.json","Dashicons"),this.addIcons("/icons/entypo.json","Entypo"),this.addIcons("/icons/flat-color-icons.json","Flat color icons",!0),this.addIcons("/icons/smarticonsglyph.json","SmartIcons glyph"),this.addIcons("/icons/ligaturesymbols.json","Ligature symbols"),this.addIcons("/icons/elusive-icons.json","Elusive icons"),this.addIcons("/icons/foundation.json","Foundation"),this.addIcons("/icons/typeicons.json","Typeicons"),this.addIcons("/icons/maki.json","Maki"),this.addIcons("/icons/raphael.json","Raphael"),this.addIcons("/icons/open-iconic.json","Open iconic"),this.addIcons("/icons/icons8.json","Icons8 Windows 10"),this.addIcons("/icons/simple-line-icons.json","Simple line icons"),this.addIcons("/icons/octicons.json","Octicons"),this.addIcons("/icons/innowatiofont.json","Innowatio font"),this.addIcons("/icons/elegant.json","Elegant"),this.addIcons("/icons/vesper-icons.json","Vesper icons"),this.addIcons("/icons/twitter-emoji.json","Twitter emoji",!0),this.addIcons("/icons/noto-v1.json","Noto emoji (v1)",!0)},this.componentsTreeToFlat=e=>S({treeData:e,getNodeKey:e=>{let{node:t}=e;return t.id},ignoreCollapsed:!1}),this.getKey=e=>{let{id:t}=e;return t},this.getParentKey=e=>{let{group_id:t}=e;return t},this.componentsFlatToTree=e=>{const t=e.filter(e=>"group"===e.slug);for(const a of e)for(const e of t)e.data.stored_components.indexOf(a.id)>-1&&(a.group_id=e.id);return x({flatData:e,getKey:this.getKey,getParentKey:this.getParentKey,rootKey:null})},this.getPage=e=>{Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST?fetch("/test-data/page.json").then(e=>e.json()).then(t=>{let{page:a}=t;return e(a)}):(d.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),d.a.get("/pages/".concat(this.props.match.params.pageId,"/editor")).then(t=>e(t.data.page)))},this.addComponentsFromJSON=e=>{let t=this.componentsFlatToTree(e);this.setState({components:t})},this.validateComponents=e=>(y({treeData:e,getNodeKey:e=>{let{node:t}=e;return t.id},callback:e=>{if(!e.node.slug){e.node.slug="group",e.node.styles={desktop:{left:0,top:0,width:0,height:0}};const t=e.node.children?Object.keys(e.node.children):[];e.node.data={stored_components:t}}},ignoreCollapsed:!1}),e),this.initStorage=e=>{Yt.a.keys().then(t=>{for(const e of t)e.indexOf("_changes")>-1&&Yt.a.removeItem(e);Yt.a.setItem("".concat(e).concat("_changes"),Object(Jt.stringify)([]))})},this.init=()=>{this.currentBatchIndex=-1,this.forceInnerGroups=[],window.CKEDITOR.on("instanceReady",e=>{e.removeListener(),this.setState({CKEReady:!0})}),this.setState({CKEReady:!0}),this.getAllIcons(),window.YUI().use("node","event-valuechange","event-key","anim","dd","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate","event-hover","resize","resize-plugin","overlay",e=>{this.undoRedoShortcutSubscribe(e),this.props.fetchSiteRequest(this.props.match.params.siteId,t=>{this.getPage(a=>{a.screens.sort((e,t)=>t.width-e.width);const s=a.screens[0];let n=a.preview_component_params;window.pageId=a.id,window.siteId=t.subdomain,window.currentDeviceName=s.name,window.currentDeviceWidth=s.width,window.WORKSPACE_WIDTH=s.width,this.alignLayoutToCenter(n.length>0),document.title=a.name,this.initStorage(a.id),delete a.components,delete a.preview_component_params,this.props.updatePresets(t.presets),n=this.validateComponents(n),this.siteColors=t.colors,window.devices=a.screens.slice(0),this.setState({layoutEditor:new ar(e,this),ComponentHelper:new ba(e,window.currentZoom,hr,this.state.components,s),y:e,page:a,components:n,fonts:t.fonts,devices:a.screens.slice(0),currentDevice:s,layers:Object.keys(n).length>0||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST,currentBlock:{getGroupStyles:this.getGroupStyles,getGroupJSON:this.getGroupJSON,handleChangeStyles:this.handleChangeStyles,handleChangeProperties:this.handleChangeProperties,handleChangeComponentForAllDevices:this.handleChangeComponentForAllDevices,handleChangePageForAllDevices:this.handleChangePageForAllDevices,isLayout:!0,remove:this.removeComponentFromPage,json:a,group_ids:[]}},()=>{this.createPropertiesForComponents(0,void 0,void 0,"desktop")})})})})},this.handleChangeFonts=e=>{this.setState({fonts:e})},this.getGroupRect=function(){return e.state.ComponentHelper.getCommonRectByComponentsProps(...arguments)},this.getRootGroupIds=()=>{let e=m()(this.state.currentBlock.group_ids);const t=this.forceInnerGroups;if(t)for(const a of t){const t=e.indexOf(a);t>-1&&e.splice(t,1)}return e},this.getGroupStyles=()=>{let e,{currentBlock:t,y:a}=this.state,s={};const n=this.getGroupRect(t.json),o=a.one("#".concat(this.getRootGroupIds()[0]));return o&&(e=o.component,delete n.opacity,s=e.styles[this.state.currentDevice.name]),e&&"frame"===e.slug?Object.assign({},s):Object.assign({},s,n)},this.getGroupJSON=()=>{let e={left_unit:"px",height_unit:"px",lock:!1};if(this.getRootGroupIds()[0]&&1===this.getRootGroupIds().length){const t=this.state.y.one("#".concat(this.getRootGroupIds()[0]));t&&(e=t.component)}return e},this.addMasterDependingComponents=(e,t)=>{const{currentDevice:a}=this.state;let s=this.state.ComponentHelper.getDependingComponents();for(const h of s){let s={},m=e.find(e=>e.id===h.main_master_component_id),u=e.indexOf(m);if(t[u].hasOwnProperty("left")){var n,o,i,r;let e=parseFloat(t[u].left)-parseFloat(null===(n=m.styles)||void 0===n?void 0:n[a.name].left),l=parseFloat(null===(o=h.styles)||void 0===o?void 0:o[a.name].width)/parseFloat(null===(i=m.styles)||void 0===i?void 0:i[a.name].width);s.left=parseFloat(null===(r=h.styles)||void 0===r?void 0:r[a.name].left)+e*l+h.left_unit}if(t[u].hasOwnProperty("top")){var l,c,p,d;let e=parseFloat(t[u].top)-parseFloat(null===(l=m.styles)||void 0===l?void 0:l[a.name].top),n=parseFloat(null===(c=h.styles)||void 0===c?void 0:c[a.name].height)/parseFloat(null===(p=m.styles)||void 0===p?void 0:p[a.name].height);s.top=parseFloat(null===(d=h.styles)||void 0===d?void 0:d[a.name].top)+e*n+h.top_unit}Object.keys(s).length>0&&(t.push(s),e.push(h))}},this.frameStyleKeys=["overflow","gap","alignItems","flexDirection","padding","justifyContent"],this.okStylesForGroup=e=>{const t=["position","opacity"].concat(this.frameStyleKeys.slice(0));let a;for(const s of t)e.hasOwnProperty(s)&&(a=!0);return a},this.handleChangeStyles=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=e.getRootGroupIds();if(e.state.currentBlock.isLayout){let s=JSON.parse(JSON.stringify(e.state.currentBlock.json.styles));t=Object.assign(s,{[e.state.currentDevice.name]:Object.assign({},s[e.state.currentDevice.name],t)}),clearTimeout(e.pageTimeout),e.pageTimeout=setTimeout(()=>{e.handleChangePage({styles:t})},100),a()}else if(1===e.state.currentBlock.json.length&&0===o.length){n&&"fixedsize"!==e.state.currentBlock.json[0].data.behavior&&e.hideComponentIndicatorTemporary();let o=e.state.currentBlock.json.slice(0);t=t[0]?t:[t],e.addMasterDependingComponents(o,t),e.handleChangeComponentsStyles(o,t,s),e.setState({currentBlock:Object.assign(e.state.currentBlock,{json:[Object.assign({},e.state.currentBlock.json[0],{styles:Object.assign({},e.state.currentBlock.json[0].styles,{[e.state.currentDevice.name]:Object.assign({},e.state.currentBlock.json[0].styles[e.state.currentDevice.name],t)})})]})},a)}else if(o.length>0&&e.okStylesForGroup(t)){let s=[],n=[];for(const a of o){let o=e.state.y.one("#".concat(a));o&&o.component&&(n.push(t),s.push(o.component))}e.handleChangeComponentsStyles(s,n,void 0,void 0,a,void 0,!0)}else{e.hideComponentIndicatorTemporary();let a=e.state.currentBlock.json.slice(0);a=e.state.ComponentHelper.processComponentsWithFrames(a),t=Array.isArray(t)?t:[t],e.addMasterDependingComponents(a,t),e.handleChangeComponentsStyles(a,t)}},this.addEditorInfoToParams=e=>{const{currentDevice:t,currentBlock:a}=this.state;Object.assign(e,{options:{current_device:t.name,current_groups:a.group_ids}})},this.removeTechKeys=e=>{delete e.blocked,delete e.expanded,delete e.new,delete e.newDraw,delete e.template_id,delete e.groupOpen,delete e.state,delete e.image_data},this.makeTree=function(t){let a={},s={result:a};for(let{id:n}of t)e.getComponentTreeInfo(n,a=>{let n=Object.assign({},a.node);const o=a.path;e.removeTechKeys(n),Object.keys(n).length>0&&o.reduce((a,s,i,r)=>{if(!a[s])if(a[s]={result:{}},i===o.length-1)a.result[n.id]=n;else{let n=t.find(e=>e.id===s&&dr(e.slug))||{};e.removeTechKeys(n),a.result[s]=Object.assign({},n,{id:s,children:a[s].result})}return a[s]},s)});return a},this.makeSaveTree=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0,n=e.makeTree(t.components,a,s);return Object.keys(n).length>0&&(window.newComponents={},window.newDrawComponents={}),{update:n}},this.paramsComponents=[],this.saveComponentsRequestCallbacks=[],this.saveComponentsRequest=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{},l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(e.state.versionHistoryMode)return;s||(t.components=e.paramsComponents=e.paramsComponents.concat(t.components)),i||a(),clearTimeout(e.saveComponentsTimeout);const c=()=>{if(!i&&t.components.length>0)return void e.editStack.push({run:s=>{e.saveComponentsRequest(t,a,!1,!1,"",!0,s,l)},name:"saveComponentsRequest",status:"new"});let s="/pages/".concat(e.state.page.id,"/page_components");t=e.makeSaveTree(t,n,o),e.addEditorInfoToParams(t),d.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.user.jwt),!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST&&Object.keys(t.update).length>0?(e.wasASave=!0,d.a.put(s,t).then(()=>{r(),e.paramsComponents=[],e.saveComponentsRequestCallbacks=[]}).catch(()=>{r(),e.paramsComponents=[],e.saveComponentsRequestCallbacks=[]})):r()};i?c():e.saveComponentsTimeout=setTimeout(c,200)},this.taskRuner=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};t.length>0?(t[a].status="run",t[a].run(()=>{t[a].status="done",a<t.length-1?(a++,e.taskRuner(t,a,s,n)):n()})):n()},this.checkEditStack=()=>{this.editStack=this.editStack.filter(e=>"done"!==e.status),window.onbeforeunload=this.editStack.length>0?function(){return"Are you sure ?"}:null},this.editStack=[],this.trackEdit=()=>{this.checkEditStack();const e=this.editStack.filter(e=>"removeComponentsRequest"===e.name&&"new"===e.status);this.taskRuner(e,0,void 0,()=>{const e=this.editStack.filter(e=>"saveComponentsRequest"===e.name&&"new"===e.status);this.taskRuner(e,0,void 0,()=>{const e=this.editStack.filter(e=>"sortComponentsRequest"===e.name&&"new"===e.status);this.taskRuner(e,0,void 0,()=>{this.checkEditStack(),this.trackEditTimeout=setTimeout(this.trackEdit,1e3)})})})},this.handleSaveComponents=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",r=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST||e.viewMode||e.state.versionHistoryMode)a();else{let l={components:JSON.parse(JSON.stringify(t)),deleted:s};for(let e of l.components)"image"===e.slug&&e.image_data&&e.image_data.indexOf("base64")>-1&&delete e.image_data;const c=new CustomEvent("siter.savestart");document.dispatchEvent(c),e.setState({saving:!0}),e.saveComponentsRequest(l,()=>{e.setState({saving:!1}),(e.sortNeed||n)&&(t.length>0&&e.sortComponentsRequest(t[0]),e.sortNeed=!1),a()},!1,o,i,void 0,void 0,r)}},this.validateStyles=e=>{for(const t of Object.keys(e))-1===["string","number"].indexOf(typeof e[t])&&delete e[t]},this.searchTree=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.id===t)return e;let s=[];return y({treeData:e.children,getNodeKey:e=>{let{node:t}=e;return t.id},callback:e=>{if(a){if(t.indexOf(e.node.id)>-1)return void s.push(e.node)}else if(e.node.id===t)return void(s=[e.node])},ignoreCollapsed:!1}),a?s:s[0]},this.filterPropsForDependingComponentsForStyles=e=>{if(Array.isArray(e))for(let t of e)t&&(delete t.width,delete t.height,delete t.left,delete t.top)},this.removeNotEqualAttributesStyles=(e,t,a)=>{for(const s of Object.keys(e))"string"===typeof e[s]&&e[s]!==t[s]&&delete a[s]},this.handleAddDependingComponentsStyles=(e,t,a)=>{const{y:s,components:n,currentDevice:o}=this.state,i=JSON.parse(JSON.stringify(e));let r=JSON.parse(JSON.stringify(t)),l=0;a&&this.filterPropsForDependingComponentsForStyles(r,a);for(const p of i){let a=this.searchTree({children:n},p.id);a&&s.all("[data-main-master-component-id='".concat(a.id,"']:not(.widget-clone)")).each(s=>{let{component:n}=s;if(n){let s=c()("#".concat(a.id)).parents(".s-e__w-i__group_master-component").length>0||c()("#".concat(a.id)).hasClass("s-e__w-i__group_master-component");var i,p;if(Object.keys(r[l]).length>0)this.removeNotEqualAttributesStyles(null===(i=a.styles)||void 0===i?void 0:i[o.name],null===(p=n.styles)||void 0===p?void 0:p[o.name],r[l]),s&&(e.push(n),t.push(r[l]))}}),l++}},this.handleChangeComponent=function(t,a){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{},i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];e.handleChangeComponentsStyles([t],[a],s,n,o,i)},this.componentsForChange=[],this.componentsPrevForChange=[],this.updateSavedStyles=e=>{if("text"===e.slug){let t=Object.assign({},e.styles[this.state.currentDevice.name]);t.fonts=JSON.parse(JSON.stringify(e.fonts)),this.setState({textStyles:t})}if("button"===e.slug){const t=Object.assign({},e.styles[this.state.currentDevice.name]);this.setState({buttonStyles:t})}},this.handleChangeComponentForAllDevices=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={},o={},i=JSON.parse(JSON.stringify(t.styles));e.validateStyles(a);for(const e of Object.keys(i))o[e]=Object.assign({},i[e],a);n.styles=o,s&&Object.assign(n,s),e.handleChangeComponentsProperties([t],[n])},this.handleChangePageForAllDevices=e=>{this.validateStyles(e);const t=Object.assign({},this.state.page);for(const a of Object.keys(t.styles))t.styles[a]=Object.assign({},t.styles[a],e);this.setState({page:t},this.setLayoutAsCurrentBlock)},this.handleChangePage=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const i=JSON.parse(JSON.stringify(e.state.page));e.setState(e=>{let a=e.page;Object.assign(a,t);let s=Object.assign({},a);return t.screens&&(s.devices=t.screens,window.devices=t.screens),s},()=>{e.resetCurrentBlock(),n||e.capture({changedComponents:[e.state.page],prevChangedComponents:[i],oldCurrentDevice:o,currentDevice:o?e.state.currentDevice:null},"CHANGE_PROPS"),a(e.state.page),s&&e.savePage()})},this.addComponentsToPage=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const{currentDevice:r,components:l}=e.state;let c=JSON.parse(JSON.stringify(t));for(let e of t){var p;(null===(p=e.styles)||void 0===p?void 0:p[r.name])||(e.styles[r.name]=Object.assign({},e.styles.desktop))}let d={...l};const h=e.getSelectedTreeNodes();if(h.length>0)for(const m of t)m.group_id=h[0].node.group_id,e.addComponentToPageAsTreeNodeAboveSelectedNode(m,a,!0,n,void 0,!0);else{for(let e of t)d[e.id]=e;e.setState({components:d},()=>{const l=e.state.devices.indexOf(r);l>-1&&e.createPropertiesForComponents(l,!0,s),(!o&&a||i)&&e.capture({changedComponents:t,prevChangedComponents:c},"ADD_COMPONENT"),n(),e.sortNeed=!0})}},this.getSelectedTreeNodes=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=[];if(e.state.currentBlock.json[0]){if(!t){const a=e.getRootGroupIds();t=[...new Set(a.concat(e.state.currentBlock.json.map(e=>{let{id:t}=e;return t})))]}e.getComponentsTreeInfo(t,t=>{for(let s of t){const t=e.state.y.one("#".concat(s.node.id));e.isMasterDependingComponentItem(t)||(s.depth=s.path.length-1,a.push(s))}})}return Object(qt.v)(a)},this.addComponentToPageAsTreeNodeAboveSelectedNode=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=e.getSelectedTreeNodes(),c=l.sort((e,t)=>t.depth-e.depth).sort((e,t)=>t.treeIndex-e.treeIndex),p={node:t,treeIndex:c[0].treeIndex+1,depth:c[0].depth},d=c[0].node.group_id;if(d){var h;let a=null===(h=e.state.y.one("#".concat(d)))||void 0===h?void 0:h.component;a&&e.handleChangeComponentProperties(a,{data:Object.assign(a.data,{stored_components:a.data.stored_components.concat([t.id])})})}let m=[p];window.insertDependingComponents(m,c[0],!1),i&&e.addComponentsToPageAsTreeNode(m,a,s,n,o,i,c[0],void 0,r)},this.addComponentsToPageAsTreeNode=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,r=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];const{currentDevice:c,y:p}=e.state;let d=JSON.parse(JSON.stringify(t.map(e=>{let{node:t}=e;return t}))),h=[];for(let e of t){var m;(null===(m=e.node.styles)||void 0===m?void 0:m[c.name])||(e.node.styles[c.name]=Object.assign({},e.node.styles.desktop)),Object.assign(window.newComponents,{[e.node.id]:!0})}if(i&&a&&l){var u,g;let a,{node:s}=i;if("group"===s.slug){let t=e.searchTree({children:e.state.components},s.id),n=hr(t);a=Object(qt.j)(n,c,[],p)}else a=s;let n=[];for(const{node:e}of t)if("group"===e.slug){let t=hr(e);n=n.concat(t)}else n.push(e);let o=Object(qt.j)(n,c,[],p),r=null===(u=a.styles)||void 0===u?void 0:u[c.name],l=null===(g=o.styles)||void 0===g?void 0:g[c.name],d=parseInt(r.top,10)-(parseInt(l.height,10)/2-parseInt(r.height,10)/2),h=parseInt(r.left,10)-(parseInt(l.width,10)/2-parseInt(r.width,10)/2),m=Object(qt.c)(o,{top:d,left:h},c),f=0;for(let e of n){var _;Object.assign(null===(_=e.styles)||void 0===_?void 0:_[c.name],m[f]),f++}}e.setState(a=>{let s=e.newTreeDataForGrouping||a.components;for(const e of t){let{node:t,depth:a,treeIndex:n}=e;s=k({ignoreCollapsed:r,depth:a,treeData:s,newNode:t,minimumTreeIndex:n,expandParent:!1,getNodeKey:e=>{let{node:t}=e;return t.id}}).treeData}return h=s,{components:s}},()=>{const i=e.state.devices.indexOf(c);i>-1&&e.createPropertiesForComponents(i,!0),(!n&&a||o)&&e.capture({changedComponents:t.map(e=>{let{node:t}=e;return t}),prevChangedComponents:d},"ADD_COMPONENT"),s(h),e.sortNeed=!0})},this.addComponentsToPageAtIndex=function(t,a){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=t.sort((e,t)=>e.depth-t.depth).sort((e,t)=>e.treeIndex-t.treeIndex),e.setState(e=>{let a=Object.assign({},e.components);for(const n of t){let{node:e,depth:t,treeIndex:o}=n;dr(e.slug)&&void 0===e.children&&(e.children={});let i=[];if(s){y({treeData:a,getNodeKey:e=>{let{node:t}=e;return t.id},callback:t=>{t.node.id===e.id&&i.push(t.path)},ignoreCollapsed:!1});for(const e of i)a=E({treeData:a,path:e,getNodeKey:e=>{let{node:t}=e;return t.id},ignoreCollapsed:!0})}a=k({treeData:a,newNode:e,depth:t,minimumTreeIndex:o,ignoreCollapsed:!1,expandParent:!1,getNodeKey:e=>{let{node:t}=e;return t.id}}).treeData}return{components:a}},()=>{let s=t.map(e=>{let{node:t}=e;return t});setTimeout(()=>{e.saveComponentsRequest({components:s},()=>{e.sortComponentsRequest(s[0])})},100),a()})},this.removeComponentsRequest=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.state.versionHistoryMode)if(s){if(!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST&&(d.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.user.jwt),t.length>0)){const s=t.map(e=>e.id);for(let e of t){if(t.find(t=>t.id===e.group_id)){let t=s.indexOf(e.id);t>-1&&s.splice(t,1)}}let n={delete:{keys:s}};e.addEditorInfoToParams(n),e.removeInProccess=!0,e.wasASave=!0,d.a.put("/pages/".concat(e.state.page.id,"/page_components"),n).then(()=>{e.removeInProccess=!1,a()}).catch(()=>{a()})}}else e.editStack.push({run:s=>{e.removeComponentsRequest(t,()=>{a(),s()},!0)},name:"removeComponentsRequest",status:"new"})},this.removeComponentsFromTree=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};e.setState(a=>{let{components:s}=a;for(const n of t){e.searchTree({children:s},n[n.length-1])&&(s=E({treeData:s,path:n,getNodeKey:e=>{let{node:t}=e;return t.id},ignoreCollapsed:!0}))}return{components:s}},a)},this.removeIdFromGroup=(e,t)=>{this.state.y.all(".s-e__w-i__group").each(e=>{let{component:a}=e;const s=a.data.stored_components.indexOf(t);s>-1&&a.data.stored_components.splice(s,1)})},this.getComponentPath=e=>{let t=[];return c()("#".concat(e)).parents().each((e,a)=>{a.dataset.componentId&&t.unshift(a.dataset.componentId)}),t.push(e),t},this.getComponentsForRemove=(e,t,a)=>{let s=a.map(e=>{let{id:t}=e;return t});for(let n of a)if(n.group_id&&-1===s.indexOf(n.group_id)){let a=this.searchTree({children:this.state.components},n.group_id);if(a){let s=e.indexOf(e.find(e=>e.id===a.id)),o=(s>-1?t[s].data:null)||JSON.parse(JSON.stringify(a.data)),i=o.stored_components.indexOf(n.id);i>-1&&(o.stored_components.splice(i,1),e.find(e=>{let{id:t}=e;return t===a.id})||(e.push(a),t.push({data:o})))}}return a},this.removeComponentFromPage=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>{},r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const{y:l}=e.state;let c=[],p=t.filter(e=>e&&"master_component"===e.group_type&&!e.main_master_component_id),d=[];for(const e of p)d=d.concat(hr(e,void 0,!0).map(e=>e.id));for(let f of t){let t=l.one("#".concat(CSS.escape(f.id)));!t||!e.isMasterDependingComponentItem(t)||s||n||a?c.push(f):e.toggleVisible(f),o||("master_component"!==f.group_type||f.main_master_component_id)&&-1===d.indexOf(f.id)&&l.all("[data-main-master-component-id='".concat(f.id,"']")).each(e=>{let{component:t}=e;t&&c.push(t)})}let h=[],m=[],u=c;r&&(u=e.getComponentsForRemove(h,m,c)),e.setLayoutAsCurrentBlock(!1),u=e.removeDuplicates(u,"id");for(let e of t)l.all('[data-href="#'+e.id+'"]').each(e=>{e.component&&(h.push(e.component),m.push({data:Object.assign(e.component.data,{href:"",effect:"none"})}))});if(!s){var g,_;let t=JSON.parse(JSON.stringify(u));e.capture({changedComponents:u,prevChangedComponents:t,treeIndex:null===(g=pr)||void 0===g?void 0:g.treeIndex,path:null===(_=pr)||void 0===_?void 0:_.path},"REMOVE_COMPONENT")}if(u.length>0){let t=u.map(t=>{let{id:a}=t;return e.getComponentPath(a)});e.removeComponentsFromTree(t,i)}a?(e.removeComponentsRequest(u,i),h.length>0&&e.handleChangeComponentsProperties(h,m,!0,()=>{},!0,void 0)):(h.length>0?e.handleChangeComponentsProperties(h,m,!0,void 0,void 0,n,void 0,()=>{e.removeComponentsRequest(u)},void 0,n,void 0,void 0,void 0,!0):u.length>0&&e.removeComponentsRequest(u),localStorage.getItem("firstComponentRemoved")||(N.b.info("This layer will be deleted on all screens.","Removing layers",5e3),localStorage.setItem("firstComponentRemoved",!0)))},this.setComponents=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};e.setState({components:t}),setTimeout(()=>{a(e.sortComponentsRequest)})},this.toggleDrawMode=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.currentDrawComponent;e.setState({drawMode:t,currentDrawComponent:a})},this.clearDrawComponent=()=>{this.setState({currentDrawComponent:void 0},()=>{setTimeout(()=>{window.createByKeyboardDisabled=!1})})},this.filterPropsForDependingComponents=e=>{for(let t of e)delete t.blocked,delete t.state,delete t.groupOpen,delete t.expanded,delete t.new,delete t.group_id,t.hasOwnProperty("data")&&(delete t.main_master_component_id,delete t.data.stored_components)},this.removeNotEqualAttributes=(e,t,a)=>{for(const s of Object.keys(e))a.hasOwnProperty("content")||"string"===typeof e[s]&&e[s]!==t[s]&&delete a[s],"object"===typeof e[s]&&JSON.stringify(e[s])!==JSON.stringify(t[s])&&delete a[s]},this.handleAddDependingComponentsProperties=(e,t)=>{const{y:a,components:s}=this.state,n=JSON.parse(JSON.stringify(e));let o=JSON.parse(JSON.stringify(t)),i=0;this.filterPropsForDependingComponents(o);for(const r of n){let n=this.searchTree({children:s},r.id);n&&a.all("[data-main-master-component-id='".concat(n.id,"']:not(.widget-clone)")).each(a=>{let{component:s}=a;s&&(o[i].hasOwnProperty("data")&&Object.keys(o[i].data).length>0?(this.removeNotEqualAttributes(n.data,s.data,o[i].data),e.push(s),t.push({data:Object.assign(s.data,o[i].data)})):o[i]&&Object.keys(o[i]).length>0&&(this.removeNotEqualAttributes(n,s,o[i]),e.push(s),t.push(Object.assign(s,o[i]))))}),i++}},this.handleChangeComponentProperties=function(t,a){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e.handleChangeComponentsProperties([t],[a],s,n,o,i)},this.handleChangeProperties=function(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.state.currentBlock.isLayout){let a=JSON.parse(JSON.stringify(e.state.currentBlock.json));e.setState({currentBlock:Object.assign(e.state.currentBlock,{json:Object.assign(a,t)})},()=>{e.handleChangePage(t,()=>{},!0)})}else if(1!==e.getRootGroupIds().length||i){n&&e.hideComponentIndicatorTemporary();let i=JSON.parse(JSON.stringify(e.state.currentBlock.json));t=i.map(()=>t),e.handleChangeComponentsProperties(i,t,a,s,o)}else{const n=e.state.y.one("#".concat(e.getRootGroupIds()[0]));if(n){const i=n.component;e.handleChangeComponentsProperties([i],[t],a,s,o,void 0,void 0,void 0,!0)}}},this.updateSavedProps=e=>{if("button"===e.slug){let t=Object.assign({},e.data);this.setState({buttonProps:t})}},this.updatePageRulers=e=>{this.setState({page:Object.assign(this.state.page,{rulers:e})},()=>{this.props.updatePageRequest({id:window.pageId,rulers:e})})},this.handleRemovePresetFromPageAndComponents=e=>{const{page:t}=this.state;let a=[],s=[];y({treeData:this.state.components,getNodeKey:e=>{let{node:t}=e;return t.id},callback:t=>{t.node.presets.find(t=>t.code===e)&&a.push(t.node)},ignoreCollapsed:!1});for(let o of a){let t=o.presets.filter(t=>t.code===e);for(const e of t){const t=o.presets.indexOf(e);t>-1&&(o.presets.splice(t,1),s.push(o.presets))}}a.length>0&&this.handleChangeComponentsProperties(a,s,!1,()=>{},!0);const n=t.presets.filter(t=>t.code===e);for(const o of n){const e=t.presets.indexOf(o);e>-1&&t.presets.splice(e,1)}n.length>0&&this.handleChangePage({presets:t.presets},()=>{},!1,!0)},this.toggleLayout=e=>{this.setState({showLayout:!this.state.showLayout})},this.toggleWindow=e=>{this.setState({showWindow:!this.state.showWindow})},this.createPropertiesForPage=e=>{this.state.page.styles[this.state.devices[e].name]||this.setState({page:Object.assign(this.state.page,{styles:Object.assign(this.state.page.styles,{[this.state.devices[e].name]:Object.assign({},this.state.page.styles[this.state.currentDevice.name])})})},this.savePage)},this.checkOutsideOfArtBoard=e=>{if(e){if(parseFloat(e.left)>this.state.currentDevice.width)return!0;if(parseFloat(e.left)+parseFloat(e.width)<0)return!0}},this.alignComponentToOutsideOfArtBoard=(e,t)=>e.map(e=>{if(this.checkOutsideOfArtBoard(e.styles[t.name])){let a=e.styles[t.name],s=a.left;const{currentDevice:n}=this.state,o=parseFloat(a.left);return o>n.width&&(s="desktop"===t.name?o-n.width+t.width+(window.WORKSPACE_WIDTH-t.width)/2:"desktop"===n.name?o-n.width+t.width-(window.WORKSPACE_WIDTH-n.width)/2:o-n.width+t.width),parseFloat(a.left)+parseFloat(a.width)<0&&(s="desktop"===t.name?o-(window.WORKSPACE_WIDTH-t.width)/2:"desktop"===n.name?o+(window.WORKSPACE_WIDTH-n.width)/2:o),e.lock||"%"===e.width_unit||dr(e.slug)||Object.assign(e.styles[t.name],{left:"".concat(parseFloat(s),"px")}),null}return e}).filter(e=>null!=e),this.isObject=e=>e&&"object"===typeof e,this.alignAllComponentsByConstraints=function(t,a){let{nextDeviceIndex:s}=a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.state.currentDevice;const{ComponentHelper:o,y:i}=e.state;let r={components:t,currentDevice:n,ComponentHelper:o,nextDeviceIndex:s,devices:e.state.devices,y:i};Object(qt.e)(r)},this.createPropertiesForComponents=function(t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const{y:n,devices:o,currentDevice:i}=e.state,r=[];let l=[];s=s||i.name;let p=Object.assign({},e.state.components);n.all("[data-component-id]:not(.widget-clone)").each(a=>{let{component:n}=a;if(n||(n=e.searchTree({children:p},a.getAttribute("id"))),n){const e=n.styles[o[t].name]&&"0px"===n.styles[o[t].name].width&&"0px"===n.styles[o[t].name].height;var i;if(!n.styles[o[t].name]||e)n.styles[o[t].name]||(n.newDevice=!0,n.styles[o[t].name]=Object.assign({},n.styles[s])),0===c()(a._node).parents(".s-e__w-i__group_master-component").length&&r.push(n),!(null===(i=n.data.effects)||void 0===i?void 0:i.desktop)||n.data.effects&&n.data.effects[o[t].name]||(n.data.effects[o[t].name]=n.data.effects.desktop.slice(0)),l.push(n)}}),!a&&r.length>0&&e.alignAllComponentsByConstraints(r,{nextDeviceIndex:t},e.state.currentDevice),e.setState({components:p},()=>{e.saveComponentsRequest({components:l},()=>{})})},this.removeArtboardOutline=e=>{const t=document.querySelector(".section-editor__artboard");t&&(t.style.outline="none")},this.changeDevice=e=>{const{devices:t,currentDevice:a}=this.state,s=t.indexOf(t.find(t=>t.name===e.name));let n=a.width;a.width<1200&&(n-=240),this.createPropertiesForPage(s),this.createPropertiesForComponents(s),window.currentDeviceName=t[s].name,window.currentDeviceWidth=t[s].width,this.state.ComponentHelper.changeDevice(e),this.setState({currentDevice:t[s]},()=>{this.forceUpdate(),this.removeArtboardOutline(),window.updateIndicator(),t[s].width>=1200?window.WORKSPACE_WIDTH=t[s].width:window.WORKSPACE_WIDTH=1200,window.positionX=window.positionX+(n/2-t[s].width/2)*(window.currentZoom/100),this.handleChangeZoomFromPanel({target:{value:window.currentZoom}})})},this.handleInheritDevice=e=>{const{devices:t}=this.state;e=t.find(t=>t.name===e);const a=this.state.devices.indexOf(this.state.currentDevice),s=[...this.state.components],{page:n}=this.state;n.styles[e.name]&&(n.styles[this.state.currentDevice.name]=n.styles[e.name]);for(const o of s)o.lock||"%"===o.width_unit||"%"===o.left_unit||o.styles[e.name]&&(o.styles[this.state.currentDevice.name]=JSON.parse(JSON.stringify(o.styles[e.name])));this.alignAllComponentsByConstraints(s,{nextDeviceIndex:a},e),setTimeout(()=>{this.setState({components:s,page:n})},200)},this.zooms=[2,3,6,13,25,50,100,200,400,800,1600],this.closestZoom=(e,t)=>{for(let a=0;a<this.zooms.length;a++)if(!0===t){if(this.zooms[a]>e)return this.zooms[a-1]||0}else if(this.zooms[a]>=e)return this.zooms[a]},this.changeZoom=e=>{let t=window.currentZoom;const a=this.zooms.indexOf(window.currentZoom);a>-1?("-"===e&&(t=this.zooms[a-1]),"+"===e&&(t=this.zooms[a+1])):t=this.closestZoom(t,"-"===e);const s=new CustomEvent("siter.updatezoom",{detail:{zoom:t}});document.dispatchEvent(s),-1!==this.zooms.indexOf(t)&&(this.handleChangeZoomFromPanel({target:{value:t}}),document.getElementsByClassName("section-editor__artboard")[0].style.transform="translate(".concat(window.positionX,"px, ").concat(window.positionY,"px) scale(").concat(t/100,")"),this.state.currentBlock.json[0]&&setTimeout(()=>{window.setTransformator(this.state.currentBlock.json[0])}),window.updateIndicator(),window.updateColorPickerInstrumentations&&window.updateColorPickerInstrumentations())},this.updateLinesScale=()=>{const e=document.getElementById("rulers-lines-style"),t=".section-editor__widgets-lines-item-size {transform: scale(".concat(1/(window.currentZoom/100),") translateY(-15px); }.section-editor__widgets-lines-item__vertical .section-editor__widgets-lines-item-size { transform: scale(").concat(1/(window.currentZoom/100),") translateX(10px); }");e.innerHTML=t},this.handleChangeZoom=e=>{const t=e.target.value;window.currentZoom=t,document.getElementsByClassName("section-editor__artboard")[0].style.transform="translate(".concat(window.positionX,"px, ").concat(window.positionY,"px) scale(").concat(t/100,")");const a=new CustomEvent("siter.updatezoom",{detail:{zoom:t}});document.dispatchEvent(a),window.zoomInProccess=!0,clearTimeout(this.updateTopPanelTimeout),this.updateTopPanelTimeout=setTimeout(()=>{window.zoomInProccess=!1,this.updateLinesScale(),this.setState({updateTopPanel:!this.state.updateTopPanel})},100)},this.handleChangeZoomFromPanel=e=>{const t=e.target.value,a=1-t/100/(window.currentZoom/100);this.translateX=window.positionX,this.translateY=window.positionY;const s=window.WORKSPACE_WIDTH/2,n=window.innerHeight/2;this.translateX+=(s-this.translateX)*a,this.translateY+=(n-this.translateY)*a,isNaN(this.translateY)||(this.handleChangeX(this.translateX),this.handleChangeY(this.translateY)),window.currentZoom=t,this.updateLinesScale(),this.setState({updateTopPanel:!this.state.updateTopPanel}),document.getElementsByClassName("section-editor__artboard")[0].style.transform="translate(".concat(this.translateX,"px, ").concat(this.translateY,"px) scale(").concat(t/100,")"),this.state.currentBlock.json[0]&&setTimeout(()=>{window.setTransformator(this.state.currentBlock.json[0])});const o=new CustomEvent("siter.updatezoom",{detail:{zoom:window.currentZoom}});document.dispatchEvent(o),window.updateIndicator()},this.handleChangeX=e=>{window.positionX=e},this.handleChangeY=e=>{window.positionY=e},this.savePage=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};if(!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST){let a=Object.assign({},e.state.page);e.setState({saving:!0}),delete a.components,delete a.preview_component_params,delete a.published_component_params,clearTimeout(e.savePageTimeout),e.savePageTimeout=setTimeout(()=>{e.props.updatePageRequest(a,()=>{t(),e.setState({saving:!1})})},300)}},this.getInstalledFonts=()=>{const e=this.state.fonts||[];if(0===e.length)return console.warn("No fonts found in the state. Ensure fonts are being fetched correctly."),[];const t=e.reduce((e,t)=>{const a=t.family||t.name;return e[a]=e[a]||[],e[a].push(t),e},{});return Object.keys(t).map(e=>{const a=t[e];return a&&0!==a.length?1===a.length?a[0]:{...a[0],weights:a.map(e=>e.weight),urls:a.map(e=>e.url),formats:a.map(e=>e.format)}:(console.warn('Font group for "'.concat(e,'" is empty or invalid.')),null)}).filter(Boolean)},this.handleKeepRatio=e=>{if(Array.isArray(this.state.currentBlock.json)&&1===this.state.currentBlock.json.length){const t=this.state.currentBlock.json[0];this.handleChangeComponentProperties(t,{keep_ratio:e},()=>{})}},this.toggleVisible=e=>{const t=e.styles[this.state.currentDevice.name],a=t.visibility&&"hidden"!==t.visibility||!t.visibility;let s="block";["text"].indexOf(e.slug)>-1&&(s="table"),["button"].indexOf(e.slug)>-1&&(s="inline-flex"),this.handleChangeComponent(e,{visibility:a?"hidden":"inherit",display:s}),this.forceUpdate()},this.handleChangeLock=(e,t)=>{const a={lock:e.target.checked};this.handleChangeComponentProperties(t,a,()=>{}),this.forceUpdate()},this.handleAllGroupsClose=()=>{this.state.y.all("[data-component-id]").each(e=>{let{component:t}=e;if(t&&dr(t.slug)&&t.groupOpen){const e=hr(t);if(Array.isArray(this.state.currentBlock.json))for(const a of this.state.currentBlock.json)e.find(e=>e.id===a.id)||delete t.groupOpen;else delete t.groupOpen}})},this.checkEmptyText=()=>{let e=!1;if(this.state.currentBlock.json[0]&&this.state.currentBlock.json[0].blocked&&1===this.state.currentBlock.json.length&&"text"===this.state.currentBlock.json[0].slug){const t=window.CKEDITOR.instances[Object.keys(window.CKEDITOR.instances)[0]];if(t){let a=c()("<div />"),s=t.getData();a.html(s),a&&a.find("style")&&(a.find("style").remove(),a=a[0].innerHTML);const n=this.state.currentBlock.json[0];if(null==a||0!==a.length&&"<br>"!==a&&"<p><br></p>"!==a&&"&nbsp;"!==a){if(window.newComponents[n.id]||"autowidth"===n.data.behavior){const e=CSS.escape(n.id),t=document.querySelector("#".concat(e)).offsetHeight+n.height_unit,a=document.querySelector("#".concat(e)).offsetWidth+n.width_unit;this.handleChangeComponent(n,{width:a,height:t},!0,void 0,void 0,!1)}const e=JSON.parse(JSON.stringify(this.state.currentBlock.json[0]));delete window.newComponents[e.id];const t={data:Object.assign(e.data,{content:a})};this.handleChangeComponentProperties(e,t,!0,()=>{})}else this.removeComponentFromPage([n]),e=!0,this.state.currentBlock.json[0]&&this.setLayoutAsCurrentBlock(!1)}}return e},this.setLayoutAsCurrentBlock=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.state.chooseBlockMode)return;if(t&&!a&&e.checkEmptyText(),t&&e.state.currentBlock.json[0]&&1===e.state.currentBlock.json.length&&["text","slider","button","map"].indexOf(e.state.currentBlock.json[0].slug)>-1&&e.state.currentBlock.json[0].blocked)return void e.handleChangeComponentProperties(e.state.currentBlock.json[0],{blocked:!1},!1);window.settingsPanelToTop&&window.settingsPanelToTop(),setTimeout(e.handleAllGroupsClose),e.setState({currentBlock:Object.assign(e.state.currentBlock,{json:e.state.page,isLayout:!0,group_ids:[],inner_groups:[]})},()=>{window.setTransformator(e.state.page,{currentBlockJSON:e.state.page})});const s=document.getElementById("layer-page");s&&s.scrollIntoView()},this.handleToggleLayers=()=>{this.setState({layers:!this.state.layers})},this.handleToggleShortcuts=()=>{this.setState({shortcuts:!this.state.shortcuts})},this.handleChooseBlockMode=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setState({chooseBlockMode:!(t&&!t.target)&&!e.state.chooseBlockMode})},this.handleChooseBlock=e=>{this.setState({choosedBlock:"".concat(e," ").concat((new Date).getTime())})},this.onKeyDownChooseBlockMode=e=>{27===e.keyCode&&this.handleChooseBlockMode(!0)},this.currentBlocksIsOneGroup=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=e.getRootGroupIds();if(a[0]&&t){let t=e.state.y.one("#".concat(a[0]));if(t)return t.component}return a.length>0},this.newTreeDataForGrouping=void 0,this.createGroup=(e,t,a)=>{this.props.createPageComponentRequest({slugs:["group"]},s=>{let n,o={node:JSON.parse(JSON.stringify(s[0])),treeIndex:t.treeIndex,depth:t.depth};e&&(n=JSON.parse(JSON.stringify(e.data)),n.stored_components.push(o.node.id)),this.addComponentsToPageAsTreeNode([o],!0,!1,e=>{this.capture({changedComponents:[o.node],prevChangedComponents:[o.node],nextTreeIndex:t.treeIndex,nextDepth:t.path.length-1,treeIndex:t.treeIndex,path:t.path},"ADD_COMPONENT"),this.newTreeDataForGrouping=e,a(JSON.parse(JSON.stringify(o.node)),n,e)},!0)})},this.handleGroupDependingComponents=(e,t,a)=>{const{y:s}=this.state;let n={};for(const o of e)s.all("[data-main-master-component-id='".concat(o,"']:not(.widget-clone):not(.s-e__w-i__group_master-component)")).each((e,t)=>{let{component:a}=e;n[t]||(n[t]=[]),n[t].push(a)});if(0===Object.keys(n).length)a();else{let e=0;const s=()=>{let o=Object.keys(n)[e];this.handleGroupComponents(void 0,n[o].map(e=>e.id),t,t=>{e++,this.sortComponentsRequest(t),e===Object.keys(n).length?a():s()},n[o])};s()}},this.setPositionChildWhenGroupingInFrame=(e,t)=>{const a=this.state.y.one("#"+CSS.escape(e)),{component:s}=a;let n={},o={top:0,left:0};if(!dr(s.slug)){if(document.querySelector(".s-e__w-i__group-frame:not(#".concat(CSS.escape(t.id),") .").concat(s.slug,"_").concat(CSS.escape(s.id)))){const e=c()(a._node).parents(".s-e__w-i__group:not(#".concat(CSS.escape(t.id),")"))[0];o=ya(a._node,e)}else o=ya(a._node,document.querySelector(".section-editor__widgets"));const e=o.left,i=o.top;a.setStyles({top:i,left:e}),n=Object.assign({},s.styles,{[this.state.currentDevice.name]:Object.assign({},s.styles[this.state.currentDevice.name],{left:e+"px",top:i+"px"})})}return n},this.getPositionChildWhenGroupingInFrame=(e,t,a,s)=>{const n=this.state.y.one("#"+CSS.escape(e)),{component:o}=n;let i={},{flexDirection:r}=t.styles[this.state.currentDevice.name];if(!dr(o.slug)){const e=n.get("offsetLeft")-("row"===r?a:0),t=n.get("offsetTop")-("column"===r?s:0);i=Object.assign({},o.styles,{[this.state.currentDevice.name]:Object.assign({},o.styles[this.state.currentDevice.name],{left:e+"px",top:t+"px"})})}return i},this.changedComponentsForGrouping=[],this.changedPropsForGrouping=[],this.treeNodes=[],this.handleGroupComponents=function(){let t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{slug:"group",styles:{},group_type:"default",description:"Group",autolayout:!1,data:{}},s=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.state.currentBlock.json,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>{},{currentBlock:l,y:c}=e.state;const{group_type:p,description:d,autolayout:h,slug:m,styles:u}=a;if(Array.isArray(i)){let _=[],f=[];if(s)t=s;else{let a=e.getRootGroupIds(),s=l.group_ids,n=i.filter(e=>{let{group_id:t}=e;return-1===s.indexOf(t)}).map(e=>e.id);t=a.concat(n).filter(t=>{let a=e.state.y.one("#".concat(t));return a&&!e.isMasterDependingComponentItem(a)})}if(t.length>0){var g;let i=void 0,l=void 0,v=[],w={treeIndex:0,depth:0};for(const a of t){let{component:t}=c.one("#".concat(a)),s=t.group_id;if(e.getComponentTreeInfo(a,e=>{v.push(e)}),s&&(i=e.searchTree({children:e.newTreeDataForGrouping||e.state.components},s),i)){l=JSON.parse(JSON.stringify(i));let e=i.data.stored_components.indexOf(a),t=JSON.parse(JSON.stringify(i.data));e>-1&&(t.stored_components.splice(e,1),i.data.stored_components.splice(e,1),_.push(l),f.push({data:t}))}}v=v.sort((e,t)=>t.depth-e.depth).sort((e,t)=>e.treeIndex-t.treeIndex),v.length>0&&(w={treeIndex:v[0].treeIndex,depth:v[0].path.length-1,path:v[0].path});let C=[],b={};for(const e of v)b[e.node.id]=e.node;y({treeData:b,getNodeKey:e=>{let{node:t}=e;return t.id},callback:e=>{C.push(e.node)},ignoreCollapsed:!1});let E=0;if(y({treeData:e.state.components,getNodeKey:e=>{let{node:t}=e;return t.id},callback:t=>{if(C.find(e=>e.id===t.node.id)){const{treeIndex:a,path:s}=t;e.capture({changedComponents:[t.node],prevChangedComponents:[t.node],nextTreeIndex:a+1,nextDepth:s.length,treeIndex:a,path:s},"REMOVE_COMPONENT"),e.capture({changedComponents:[t.node],prevChangedComponents:[t.node],nextTreeIndex:a+1,nextDepth:s.length,treeIndex:a,path:s},"ADD_COMPONENT"),E++}},ignoreCollapsed:!1}),"frame"===(null===(g=i)||void 0===g?void 0:g.slug)){let a=t.map(t=>({top:e.state.y.one("#"+CSS.escape(t)).get("offsetTop"),left:e.state.y.one("#"+CSS.escape(t)).get("offsetLeft")})),s=Math.min.apply(Math,a.map(e=>e.left)),n=Math.min.apply(Math,a.map(e=>e.top));for(let o of t){let t={},a=[],r=[];t.styles=e.getPositionChildWhenGroupingInFrame(o,i,s,n),Object.keys(t.styles).length>0&&(a.push({id:o}),r.push(t))}}e.createGroup(i,w,(g,w,C)=>{const y=JSON.parse(JSON.stringify(g));g.children||(g.children={});let b={data:Object.assign(g.data,{stored_components:t},a.data),main_master_component_id:n||null,group_type:p,description:d,styles:Object.assign({},g.styles,{[e.state.currentDevice.name]:Object.assign({},g.styles[e.state.currentDevice.name],u)}),slug:m||"group",children:g.children,group_id:i?i.id:null,autolayout:h};for(let e of v)b.children[e.node.id]=e.node;_.push(y),f.push(b),w&&(_.push(l),f.push({data:w}));for(let e of t){var E;let t=null===(E=c.one("#".concat(CSS.escape(e))))||void 0===E?void 0:E.component.group_id,a={id:e,group_id:g.id};_.push({id:e,group_id:t}),f.push(a)}e.changedComponentsForGrouping=e.changedComponentsForGrouping.concat(_),e.changedPropsForGrouping=e.changedPropsForGrouping.concat(f),o(Object.assign({},g,{group_id:i?i.id:null})),s||e.handleGroupDependingComponents(t,g.id,()=>{n||e.removeComponentFromPage(v.map(e=>{let{node:t}=e;return t}),!0,!0,void 0,void 0),e.handleChangeComponentsProperties(e.changedComponentsForGrouping,e.changedPropsForGrouping,!0,()=>{},void 0,!0,!0,()=>{r(g);const t=e.changedComponentsForGrouping.find(e=>"group"!==e.slug);e.changedComponentsForGrouping=[],e.changedPropsForGrouping=[],e.newTreeDataForGrouping=void 0;const a=new CustomEvent("siter.update_master_components");if(document.dispatchEvent(a),!s){let a=e.state.y.one("#".concat(g.id)),s=e.searchTree({children:e.state.components},g.id);a&&(a.component=s),e.setCurrentGroup(s),window.handleChangeHoverTarget(s),window.setTransformator(t)}})})})}}},this.handleUngroupDependingComponents=(e,t)=>{const{y:a}=this.state;let s=[];if(a.all("[data-main-master-component-id='".concat(e.id,"']:not(.widget-clone)")).each(e=>{let{component:t}=e;s.push(t)}),0===s.length)t();else{let e=0;const a=()=>{let n=this.searchTree({children:this.state.components},s[e].id);this.handleUnGroupComponents(n,{json:hr(n)},()=>{e++,e===s.length?t():a()})};a()}},this.changedComponentsForUngrouping=[],this.changedPropsForUngrouping=[],this.handleUnGroupComponents=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.currentBlock,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(0===e.state.currentBlock.group_ids.length&&!t)return;let n,o=[],i=[];n=t||e.searchTree({children:e.state.components},a.group_ids[0]);let r,l=[],c=e.state.y.one("#".concat(n.id));if(c&&e.isMasterDependingComponentItem(c)&&!t)return;e.state.y.all(".s-e__w-i__group").each(e=>{let{component:t}=e;t&&l.push(t)});for(const e of l){e.data.stored_components.indexOf(n.id)>-1&&(r=e)}const p=[];for(const e of a.json)e.group_id?e.group_id===n.id?p.push(e.id):n.data.stored_components.indexOf(e.group_id)>-1&&p.push(e.group_id):p.push(e.id);e.setState({currentBlock:Object.assign(e.state.currentBlock,{group_ids:[],inner_groups:[]})},()=>{if(r){let t=JSON.parse(JSON.stringify(r.data.stored_components));const a=t.indexOf(n.id);a>-1&&t.splice(a,1),t=m()(t.concat(p)),o.push(r),i.push({data:Object.assign({},r.data,{stored_components:t})});for(let s of p){let{component:t}=e.state.y.one("#".concat(s));o.push({id:s,group_id:t.group_id}),i.push({id:s,group_id:r.id})}e.getComponentTreeInfo(n.id,t=>{let a=Object.keys(n.children).map((e,a)=>({node:n.children[e],depth:t.path.length-1,treeIndex:t.treeIndex+a})).sort((e,t)=>e.depth-t.depth);e.getComponentTreeInfo(n.id,e=>{pr=e});for(const s of a)e.getComponentTreeInfo(s.node.id,t=>{e.capture({changedComponents:[s.node],prevChangedComponents:[s.node],nextTreeIndex:s.treeIndex,nextDepth:s.depth,treeIndex:t.treeIndex,path:t.path},"REMOVE_COMPONENT"),e.capture({changedComponents:[s.node],prevChangedComponents:[s.node],nextTreeIndex:s.treeIndex,nextDepth:s.depth,treeIndex:s.treeIndex,path:s.path},"ADD_COMPONENT")});e.addComponentsToPageAsTreeNode(a,!0,void 0,void 0,!0)})}else{const t=Object.keys(e.state.components).indexOf(n.id);for(let s of p){let{component:t}=e.state.y.one("#".concat(s));o.push({id:s,group_id:t.group_id}),i.push({id:s,group_id:null})}let a=Object.keys(n.children).map((e,a)=>({node:n.children[e],depth:0,treeIndex:t+a})).sort((e,t)=>e.depth-t.depth);e.getComponentTreeInfo(n.id,e=>{pr=e});for(const s of a)e.getComponentTreeInfo(s.node.id,t=>{e.capture({changedComponents:[s.node],prevChangedComponents:[s.node],nextTreeIndex:s.treeIndex,nextDepth:s.depth,treeIndex:t.treeIndex,path:t.path},"REMOVE_COMPONENT"),e.capture({changedComponents:[s.node],prevChangedComponents:[s.node],nextTreeIndex:s.treeIndex,nextDepth:s.depth,treeIndex:s.treeIndex,path:s.path},"ADD_COMPONENT")});e.addComponentsToPageAsTreeNode(a,!0,void 0,void 0,!0)}for(let e of Object.keys(n.children))o.push(n.children[e]),i.push({group_id:n.group_id});o.push(n),i.push({data:Object.assign({},n.data,{stored_components:[]})}),e.changedComponentsForUngrouping=e.changedComponentsForUngrouping.concat(o),e.changedPropsForUngrouping=e.changedPropsForUngrouping.concat(i),s(),t||e.handleUngroupDependingComponents(n,()=>{e.handleChangeComponentsProperties(e.changedComponentsForUngrouping,e.changedPropsForUngrouping,!0,()=>{e.changedComponentsForUngrouping=[],e.changedPropsForUngrouping=[]},void 0,!0,!0)})})},this.handleDetachMasterDepending=()=>{const{y:e}=this.state,t=this.getSelectedTreeNodes();if(1===t.length){let a=t[0].node,s=[JSON.parse(JSON.stringify(a))],n=[{group_type:"default",main_master_component_id:null}];e.all("#".concat(a.id," .s-e__w-i")).each(e=>{let{component:t}=e;s.push(t),n.push({main_master_component_id:null})}),this.handleChangeComponentsProperties(s,n,!0,void 0,!1,!1,!0)}},this.handleCreateMasterComponent=()=>{const e=this.getSelectedTreeNodes();if(1===e.length){const{node:t}=e[0],{description:a}=t;dr(t.slug)?this.handleChangeProperties({group_type:"master_component"},void 0,void 0,!1):this.handleGroupComponents({group_type:"master_component",description:a||Object(qt.h)(t)})}e.length>1&&this.handleGroupComponents({group_type:"master_component",description:"Component"}),setTimeout(()=>window.setTransformator(this.state.currentBlock.json[0]))},this.addCommonComponents=(e,t)=>{if(t)for(const a of t){const s=this.state.y.one("#".concat(a));if(s){const a=s.component,n=hr(a);let o=Object(qt.j)(n,this.state.currentDevice,t,this.state.y);o.group=a,e.push(o);for(let t of n)if(t=e.find(e=>e.id===t.id),t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}}}},this.sortComponentsInFrameAfterCreate=(e,t,a)=>{const s="row"===a?"left":"top";e.length>0&&(e.sort((e,t)=>parseFloat(e.styles[this.state.currentDevice.name][s])-parseFloat(t.styles[this.state.currentDevice.name][s])),this.getComponentTreeIndex(t.id,a=>{let s=a+e.length-1;const n=a=>{let o=e[a];const i=o.commonComponents?o.group:o;this.getComponentTreeIndex(i.id,o=>{this.sortComponents([{oldIndex:o,newIndex:s-a,withFlat:!0,component:i}],()=>{a<e.length-1&&(a++,n(a))},t)})};n(0)}))},this.getAverageGapForAutolayout=(e,t)=>{let a,s=[],n=0;e.sort((e,a)=>parseFloat(e[t])-parseFloat(a[t]));for(const o of e)a="left"===t?o.width:o.height,e[n+1]&&s.push(parseFloat(e[n+1][t])-(parseFloat(a)+parseFloat(o[t]))),n++;return Math.max(0,this.state.ComponentHelper.average(s).toFixed(0))},this.afterCreateAutolayout=(e,t,a,s)=>{let n=t.map(e=>{let{node:t}=e;return t});this.addCommonComponents(n,a),n=n.filter(e=>!dr(e.slug)),this.sortComponentsInFrameAfterCreate(n,e,s.flexDirection),n.reverse();let o=n.map(e=>e.group&&"frame"===e.group.slug?Object.assign({},e.group.styles[this.state.currentDevice.name]):Object.assign({},e.styles[this.state.currentDevice.name])),i=0,r=0;const l=Math.min.apply(Math,o.map(e=>parseFloat(e.left))),c=Math.min.apply(Math,o.map(e=>parseFloat(e.top)));if("row"===s.flexDirection){for(const e of o)i+=parseFloat(e.width);s.gap=this.getAverageGapForAutolayout(o,"left")+"px",r=Math.max.apply(Math,o.map(e=>parseFloat(e.height))),i+=parseFloat(s.gap)*(o.length-1)}if("column"===s.flexDirection){for(const e of o)r+=parseFloat(e.height);s.gap=this.getAverageGapForAutolayout(o,"top")+"px",r+=parseFloat(s.gap)*(o.length-1),i=Math.max.apply(Math,o.map(e=>parseFloat(e.width)))}let p=Object.assign({},s,{height:r+"px",width:i+"px",left:l+"px",top:c+"px"}),d=[e],h=[p];for(const m of n)if(m.commonComponents){if(m.group.id!==e.id)if("frame"===m.group.slug)d.push(m.group),h.push({top:"0px",left:"0px"});else{const e=hr(m.group);d=d.concat(e),h=h.concat(Object(qt.c)(m,{top:0,left:0},this.state.currentDevice))}}else d.push(m),h.push({top:"0px",left:"0px"});this.handleChangeComponentsStyles(d,h,void 0,void 0,()=>{let e=[{styles:Object.assign({},d[0].styles,{[this.state.currentDevice.name]:p})}];this.handleChangeComponentsProperties([d[0]],e)})},this.detectLayoutMode=e=>{let t={flexDirection:"row",flexWrap:"wrap",alignItems:"flex-start"},a=e;1===a.length&&"group"===a[0].node.slug&&(a=Object.values(a[0].node.children).map(e=>({node:e})));const s=a.map(e=>{if("group"===e.node.slug){const t=hr(e.node),a=Object(qt.j)(t,this.state.currentDevice);return Object.assign({},a.styles[this.state.currentDevice.name])}return Object.assign({},e.node.styles[this.state.currentDevice.name])});let n=[],o=[],i=0;s.sort((e,t)=>parseFloat(e.top)+parseFloat(e.height)-(parseFloat(t.top)+parseFloat(t.height)));for(const d of s){var r,l;n.push(parseFloat(null===(r=s[i-1])||void 0===r?void 0:r.top)+parseFloat(null===(l=s[i-1])||void 0===l?void 0:l.height)>parseFloat(d.top)+parseFloat(d.height)/2),i++}s.sort((e,t)=>parseFloat(e.left)+parseFloat(e.width)-(parseFloat(t.left)+parseFloat(t.width))),i=0;for(const d of s){var c,p;o.push(parseFloat(null===(c=s[i-1])||void 0===c?void 0:c.left)+parseFloat(null===(p=s[i-1])||void 0===p?void 0:p.width)>parseFloat(d.left)+parseFloat(d.width)/2),i++}return n.filter(e=>!0===e).length+1>n.filter(e=>!1===e).length&&(delete t.flexWrap,delete t.alignItems,t.flexDirection="row"),o.filter(e=>!0===e).length+1>o.filter(e=>!1===e).length&&(delete t.flexWrap,delete t.alignItems,t.flexDirection="column"),t},this.handleCreateAutolayout=()=>{var e;const t=this.getSelectedTreeNodes(),a=this.detectLayoutMode(t),s=this.state.currentBlock.json[0]&&1===this.state.currentBlock.json.length,n={...null===(e=this.props.systemComponents.find(e=>"frame"===e.slug))||void 0===e?void 0:e.styles.desktop},o=Object.assign({},{justifyContent:"normal",alignItems:"flex-start",gap:"20px"},n,{padding:s?"20px 20px 20px 20px":"0px 0px 0px 0px"},a),i={slug:"frame",description:"Autolayout",autolayout:!0,group_type:null,data:{fills:[],fills_css:"",xSizingMode:"auto",ySizingMode:"auto"}},r=this.getRootGroupIds();if(1===t.length){const{node:e}=t[0];if("group"===e.slug){const t=Object.assign({},e.data,i.data);this.handleChangeProperties({slug:"frame",autolayout:!0,data:t},void 0,()=>{let t=Object.values(e.children).map(e=>({node:e})),a=r;const s=a.indexOf(e.id);s>-1&&a.splice(s,1);for(const e of t)"group"===e.node.slug&&a.push(e.node.id);this.afterCreateAutolayout(e,t,a,o)},!1)}else this.handleGroupComponents(i,void 0,void 0,void 0,void 0,e=>{this.afterCreateAutolayout(e,t,r,o)})}t.length>1&&this.handleGroupComponents(i,void 0,void 0,void 0,void 0,e=>{this.afterCreateAutolayout(e,t,r,o)})},this.handleRemoveAutolayout=()=>{const{currentBlock:e,currentDevice:t}=this.state,a=this.searchTree({children:this.state.components},e.group_ids[0]);let s=[],n=[];if(a){var o;let e,i=JSON.parse(JSON.stringify(a.styles)),r=a.description;"autolayout"===(null===(o=r)||void 0===o?void 0:o.toLowerCase())&&(r="Group");for(const a of this.frameStyleKeys)delete i[t.name][a];i[t.name].width="100%",i[t.name].height="0px",i[t.name].left="0px",i[t.name].top="0px";let l=hr(a);for(const t of l)e=this.setPositionChildWhenGroupingInFrame(t.id,a),s.push(t),n.push({styles:e});s.push(a),n.push({autolayout:!1,styles:i,slug:"group",description:r}),this.handleChangeComponentsProperties(s,n,void 0,()=>{setTimeout(()=>{this.state.currentBlock.json[0]&&window.setTransformator(this.state.currentBlock.json[0])})})}},this.afterCreateMaskAutolayout=(e,t,a,s)=>{let n=t.map(e=>{let{node:t}=e;return t});this.addCommonComponents(n,a),n=n.filter(e=>!dr(e.slug)),this.sortComponentsInFrameAfterCreate(n,e,s.flexDirection),n.reverse();let o=n.map(e=>e.group&&"frame"===e.group.slug?Object.assign({},e.group.styles[this.state.currentDevice.name]):Object.assign({},e.styles[this.state.currentDevice.name])),i=0,r=0;const l=Math.min.apply(Math,o.map(e=>parseFloat(e.left))),c=Math.min.apply(Math,o.map(e=>parseFloat(e.top)));if("row"===s.flexDirection){for(const e of o)i+=parseFloat(e.width);s.gap=this.getAverageGapForAutolayout(o,"left")+"px",r=Math.max.apply(Math,o.map(e=>parseFloat(e.height))),i+=parseFloat(s.gap)*(o.length-1)}if("column"===s.flexDirection){for(const e of o)r+=parseFloat(e.height);s.gap=this.getAverageGapForAutolayout(o,"top")+"px",r+=parseFloat(s.gap)*(o.length-1),i=Math.max.apply(Math,o.map(e=>parseFloat(e.width)))}let p=Object.assign({},s,{height:r+"px",width:i+"px",left:l+"px",top:c+"px"}),d=[e],h=[p];for(const m of n){const t=parseFloat(m.styles[this.state.currentDevice.name].left)-l,a=parseFloat(m.styles[this.state.currentDevice.name].top)-c;if(m.commonComponents){if(m.group.id!==e.id)if("frame"===m.group.slug)d.push(m.group),h.push({top:"".concat(a,"px"),left:"".concat(t,"px")});else{const e=hr(m.group);d=d.concat(e),h=h.concat(Object(qt.c)(m,{top:a,left:t},this.state.currentDevice))}}else d.push(m),h.push({top:"".concat(a,"px"),left:"".concat(t,"px")}),"desktop"!==this.state.currentDevice.name&&(m.styles.desktop.top=a,m.styles.desktop.left=t,console.log(m.styles.desktop.top))}this.handleChangeComponentsStyles(d,h,void 0,void 0,()=>{let e=[{styles:Object.assign({},d[0].styles,{[this.state.currentDevice.name]:p,desktop:p})}];this.handleChangeComponentsProperties([d[0]],e)})},this.handleCreateFrameWithoutLayoutChange=()=>{var e;const t=this.getSelectedTreeNodes(),a=this.state.currentBlock.getGroupStyles().top,s=this.state.currentBlock.getGroupStyles().left;let n=this.state.currentDevice.name;const o=this.detectLayoutMode(t),i=this.state.currentBlock.json[0]&&1===this.state.currentBlock.json.length,r={...null===(e=this.props.systemComponents.find(e=>"frame"===e.slug))||void 0===e?void 0:e.styles.desktop},l=Object.assign({},{padding:i?"20px 20px 20px 20px":"0px 0px 0px 0px",width:this.state.currentBlock.getGroupStyles().width,height:this.state.currentBlock.getGroupStyles().height,overflow:"hidden"},r,{padding:i?"20px 20px 20px 20px":"0px 0px 0px 0px"},o),c={slug:"frame",description:"Frame",autolayout:!1,group_type:null,data:{fills:[],fills_css:"",xSizingMode:"fixed",ySizingMode:"gixed"}},p=this.getRootGroupIds();if(1===t.length){const{node:e}=t[0];if("group"===e.slug){const t=Object.assign({},e.data,c.data);this.handleChangeProperties({slug:"frame",autolayout:!1,data:t},void 0,()=>{let t=Object.values(e.children).map(e=>({node:e})),o=p;const i=o.indexOf(e.id);i>-1&&o.splice(i,1);for(const e of t){if(document.getElementById(e.node.id)){let t=document.getElementById(e.node.id);t.hasAttribute("pf")&&t.removeAttribute("pf")}let t=parseInt(e.node.styles[n].top,10),i=parseInt(e.node.styles[n].left,10);"group"===e.node.slug&&o.push(e.node.id),"group"!==e.node.slug&&setTimeout(()=>{let o=t-a+"px",r=i-s+"px";e.node.styles[n].top=o,e.node.styles[n].left=r},0)}this.afterCreateMaskAutolayout(e,t,o,l),this.handleChangeStyles(l,()=>{console.log("Styles updated after frame creation")})},!1)}else this.handleGroupComponents(c,void 0,void 0,void 0,void 0,e=>{this.afterCreateAutolayout(e,t,p,l),this.handleChangeStyles(l,()=>{console.log("Styles updated after group creation")})})}t.length>1&&this.handleGroupComponents(c,void 0,void 0,void 0,void 0,e=>{this.afterCreateAutolayout(e,t,p,l),this.handleChangeStyles(l,()=>{console.log("Styles updated after multiple group creation")})}),setTimeout(()=>{this.setState({_updateSettingPanelProp:Math.random()})},10)},this.handleRemoveFrameWithoutLayoutChange=()=>{const{currentBlock:e,currentDevice:t}=this.state,a=this.searchTree({children:this.state.components},e.group_ids[0]);let s=[],n=[];if(a){var o;let e,i=JSON.parse(JSON.stringify(a.styles)),r=a.description;"frame without layout change"===(null===(o=r)||void 0===o?void 0:o.toLowerCase())&&(r="Group");for(const a of this.frameStyleKeys)delete i[t.name][a];i[t.name].width="100%",i[t.name].height="auto",i[t.name].left="0px",i[t.name].top="0px",i[t.name].boxShadow="none",i[t.name].filter="none",i[t.name].border="none",i[t.name].backgroundColor="none";let l=hr(a);for(const t of l)e=this.setPositionChildWhenGroupingInFrame(t.id,a),s.push(t),n.push({styles:e});s.push(a),n.push({autolayout:!1,styles:i,slug:"group",description:r}),this.handleChangeComponentsProperties(s,n,void 0,()=>{setTimeout(()=>{this.state.currentBlock.json[0]&&window.setTransformator(this.state.currentBlock.json[0])})})}},this.oneOfCurrentIsMasterDependingComponent=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{currentBlock:a}=e.state;let s=[],n=e.currentBlocksIsOneGroup(!0);if(!a.isLayout)for(const e of a.json.map(e=>{let{id:t}=e;return t}).concat(a.group_ids))if(e){const a=c()("#".concat(CSS.escape(e))),n=a&&(a.parents(".s-e__w-i__group_master-component").length>0||a.hasClass("s-e__w-i__group_master-component")),o=a&&a.parents(".s-e__w-i__group_master-component").length>0&&a.parents("[data-main-master-component-id]").length>0;s.push(t?o:n)}return n&&"master_component"===n.group_type?!t:s.filter(e=>!0===e).length>0},this.allCurrentIsMasterDependingComponent=()=>{const{currentBlock:e}=this.state;let t=[],a=this.currentBlocksIsOneGroup(!0);if(!e.isLayout)for(const s of e.json.map(e=>{let{id:t}=e;return t}).concat(e.group_ids))if(s){const e=c()("#".concat(CSS.escape(s)));t.push(e&&e.parents(".s-e__w-i__group_master-component").length>0&&e.parents("[data-main-master-component-id]").length>0||e.hasClass("s-e__w-i__group_master-component"))}return(!a||"master_component"!==a.group_type)&&t.filter(e=>!0===e).length===t.length},this.isMasterDependingComponentItem=e=>{if(e){e=c()(e._node);let t=this.currentBlocksIsOneGroup(!0),a=c()("#"+CSS.escape(t.id));return(!t||0!==a.parents(".s-e__w-i__group_master-component").length)&&(e&&e.parents(".s-e__w-i__group_master-component").length>0&&e.parents("[data-main-master-component-id]").length>0)}},this.addUploadFile=e=>{const t=[...this.state.uploadFiles];t.push(e),this.setState({uploadFiles:t})},this.removeUploadFileFromState=e=>{const t=[...this.state.uploadFiles],a=t.find(t=>t.id===e.id),s=t.indexOf(a);t.splice(s,1),this.setState({uploadFiles:t})},this.removeUploadFile=e=>{const t=[...this.state.uploadFiles],a=t.find(t=>t.id===e.id),s=t.indexOf(a);s>-1&&(t[s].progress=100,this.setState({uploadFiles:t},()=>{setTimeout(()=>{this.removeUploadFileFromState(e)},300)}))},this.handleUpdateSiteColor=e=>{let t=[...this.siteColors];const a=r()(t,e);if(a.length>0)var s=t.indexOf(a[0]);s&&s>-1&&t.splice(s,1),JSON.stringify(t)!==JSON.stringify(this.siteColors)&&(t=t.slice(0,16),this.props.updateSiteRequest({id:this.props.site.id,colors:t},()=>{})),this.siteColors=t},this.getColors=e=>{let t=[];if(e&&e.length>0)for(const a of e)if("SOLID"===a.type)t.push({start:Object(gt.b)(a.color,a.opacity)});else for(const e of a.gradientStops)t.push({start:Object(gt.b)(e.color,e.color.a*a.opacity)});return t},this.getPageColors=e=>{const{y:t}=this.state,{all:a}=t;let s=this.siteColors.slice(0);return a("[data-component-id]").each(e=>{let{component:t}=e;if(t){let{fills:e,fills_hover:a}=t.data;s=s.concat(this.getColors(e)).concat(this.getColors(a))}}),s=s.concat(this.getColors(this.state.page.fills)),s=g()(s,f.a),JSON.stringify(s)!==JSON.stringify(this.siteColors)&&(s=s.slice(0,16),this.props.updateSiteRequest({id:this.props.site.id,colors:s},()=>{})),this.handleUpdateSiteColor(e),s},this.moveArrayElement=(e,t,a)=>{if(a>=e.length){let t=a-e.length;for(;1+t--;)e.push(void 0)}return e.splice(a,0,e.splice(t,1)[0]),e},this.sortComponentsRequest=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};if(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST||e.state.versionHistoryMode)return;if(!s)return void e.editStack.push({run:s=>{e.sortComponentsRequest(t,a,!0,s)},name:"sortComponentsRequest",params:JSON.stringify(t),status:"new"});let o={sort:{key:null,order:[]}};if((t=e.searchTree({children:e.state.components},t.id))&&t.group_id){let a=e.searchTree({children:e.state.components},t.group_id);a&&a.children&&(o.sort.order=Object.keys(a.children),o.sort.key=a.id)}else o.sort.order=Object.keys(e.state.components);e.addEditorInfoToParams(o),e.wasASave=!0,d.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.user.jwt),d.a.put("/pages/".concat(e.state.page.id,"/page_components"),o).then(()=>{n(),t&&t.children&&Object.keys(t.children).length>0&&!a&&e.sortComponentsRequest(t.children[Object.keys(t.children)[0]],!0)}).catch(()=>{n()})},this.sortComponents=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},s=arguments.length>2?arguments[2]:void 0;e.setState(a=>{let s=Object.assign({},a.components),n=t.filter(e=>e.withFlat),o=t.filter(e=>!e.withFlat);for(const t of o)s=e.moveArrayElement(Object.values(s),t.oldIndex,t.newIndex);if(o.length>0){let e={};for(const t of s.filter(e=>e))e[t.id]=t;s=e}for(const t of n)s=e.componentsTreeToFlat(s).map(e=>{let{node:t}=e;return t}),s=e.moveArrayElement(s,t.oldIndex,t.newIndex),s=e.componentsFlatToTree(s.filter(e=>e));return{components:s}},()=>{e.sortComponentsRequest(s),a()})},this.getComponentTreeInfo=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1;y({treeData:e.newTreeDataForGrouping||e.state.components,getNodeKey:e=>{let{node:t}=e;return t.id},callback:e=>{e.node.id!==t||n||(a(e),n=!0)},ignoreCollapsed:s})},this.getComponentsTreeInfo=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=[];y({treeData:e.newTreeDataForGrouping||e.state.components,getNodeKey:e=>{let{node:t}=e;return t.id},callback:e=>{t.indexOf(e.node.id)>-1&&!n&&(o.push(e),t.length===o.length&&(a(o),n=!0))},ignoreCollapsed:s})},this.getComponentTreeIndex=(e,t)=>{y({treeData:this.state.components,getNodeKey:e=>{let{node:t}=e;return t.id},callback:a=>{a.node.id===e&&t(a.treeIndex)},ignoreCollapsed:!1})},this.arrangeMoveDependingComponents=(e,t,a)=>{const{y:s}=this.state;let n=[];for(let o of a){let e=c()("#".concat(o)).parents(".s-e__w-i__group_master-component");e.length>0&&n.push(e[0])}if(n.filter(e=>n[0].getAttribute("id")===e.getAttribute("id")).length===a.length){let o=n[0].getAttribute("id");s.all("[data-main-master-component-id='".concat(o,"']")).each(s=>{let n=[];for(let e of a)n.push(s.one("[data-main-master-component-id='".concat(e,"']")).getAttribute("id"));n.length>0&&this.arrangeMove(e,t,n)})}},this.arrangeMove=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{currentBlock:n,y:o,components:i}=e.state;let r=[];if(!n.isLayout&&!e.oneOfCurrentIsMasterDependingComponent(!0)||s.length>0){let l=[],c=n.group_ids.concat(n.json.map(e=>{let{id:t}=e;return t})),p=n.group_ids;s.length>0&&(c=s,p=[],n.group_ids.forEach(e=>{o.all("[data-main-master-component-id='".concat(e,"']")).each(e=>{p.push(e.getAttribute("id"))})})),o.all("[data-component-id]").each(e=>{let a=e.component;a&&c.indexOf(a.id)>-1&&(t>0?l.unshift(a):l.push(a))});let d=0,h=0;l.forEach((s,n)=>{if(-1===p.indexOf(s.group_id)){let n=[];if(s.group_id){const i=o.one("#".concat(s.group_id));if(i){const o=i.component;for(const i of Object.keys(o.children)){let l=o.children[i];e.getComponentTreeIndex(l.id,i=>{n.push(i),n.length===Object.keys(o.children).length&&e.getComponentTreeIndex(s.id,e=>{let o;a?o=t>0?n[n.length-1]-h:n[0]+h:(o=n.indexOf(e)+t,o=n[o]),o&&o>-1&&r.push({oldIndex:e,newIndex:o,withFlat:!0,component:s})})})}}h++}if(!s.group_id){let e,n=Object.keys(i),o=n.indexOf(s.id);e=a?t>0?n.length-1-d:0+d:o+t,i[n[e]]&&r.push({oldIndex:o,newIndex:e,withFlat:!1,component:s}),d++}}}),r.length>0&&e.sortComponents(r,()=>{0===s.length&&e.arrangeMoveDependingComponents(t,a,c)},r[0].component)}},this.removeDuplicates=(e,t)=>e.filter((e,a,s)=>s.map(e=>e[t]).indexOf(e[t])===a),this.removeFromCurrentBlock=e=>{if(this.state.currentBlock.json[0]){let t=[...this.state.currentBlock.json],a=this.state.currentBlock.group_ids,s=this.state.currentBlock.inner_groups;for(let n of e){const e=t.indexOf(n);if(n.group_id){const e=a.indexOf(n.group_id),t=s.indexOf(n.group_id);e>-1&&a.splice(e,1),t>-1&&s.splice(t,1)}const o=a.indexOf(n.id),i=s.indexOf(n.id);o>-1&&a.splice(o,1),i>-1&&s.splice(i,1),e>-1&&t.splice(e,1)}this.setState({currentBlock:Object.assign(this.state.currentBlock,{group_ids:a,inner_groups:s})}),t.length>0?this.setState({currentBlock:Object.assign(this.state.currentBlock,{json:t,group_ids:a,inner_groups:s})}):(this.setLayoutAsCurrentBlock(!0,!0),window.setTransformator(this.state.page,{currentBlockJSON:this.state.page}))}},this.resetCurrentBlock=()=>{let e,{page:t,currentBlock:a,y:s}=this.state;if(Array.isArray(a.json)){e=[];for(let t of a.json)if(s.one("#".concat(t.id))){const{component:a}=s.one("#".concat(t.id));a&&e.push(a)}}else e=t;this.setState({currentBlock:Object.assign(a,{json:e})})},this.getGroupsIdsForOpen=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const{one:s}=e.state.y,n=s("#".concat(t));if(n){let t=n.component;t.groupOpen||a.push(t.id),t.group_id&&e.getGroupsIdsForOpen(t.group_id,a)}return a},this.wasASave=!1,this.makeSnapshotToVersionsHistory=()=>{const{user:e,match:t}=this.props,{jwt:s}=e,n={identifier:"v-"+(0,a(86).v4)(),comment:{seconds:parseInt((new Date-this.versionsStartDate)/1e3)}};this.wasASave&&(this.wasASave=!1,d.a.defaults.headers.common.Authorization="Bearer ".concat(s),d.a.post("/pages/".concat(t.params.pageId,"/versions"),n,{headers:{"Content-Type":"application/json"}}))},this.startIntervalForVersionsHistory=()=>{this.versionsStartDate=new Date,this.makeSnapshotToVersionsHistory(),this.versionsHistoryInterval=setInterval(this.makeSnapshotToVersionsHistory,9e5)},this.destroyIntervalForVersionsHistory=()=>{clearInterval(this.versionsHistoryInterval)},this.openGroupsRecursive=e=>{const t=this.getGroupsIdsForOpen(e),a=t.map(e=>({id:e})),s=t.map(()=>({groupOpen:!0,expanded:!0}));a.length>0&&this.handleChangeComponentsProperties(a,s,!1)},this.setCurrentBlock=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=a.target.className.length>0&&(a.target.className.indexOf("section-editor__artboard")>-1||a.target.className.indexOf("section-editor__filter")>-1),i=a.target.className.length>0&&a.target.className.indexOf("section-editor__space")>-1;let r="";if(e.state.currentBlock.json[0]&&1===e.state.currentBlock.json.length&&"text"===e.state.currentBlock.json[0].slug&&(e.state.currentBlock.json[0].blocked&&(t.slug&&t.id)!==e.state.currentBlock.json[0].id||!t.slug||o)&&(r=window.CKEDITOR.instances[Object.keys(window.CKEDITOR.instances)[0]],r&&e.state.currentBlock.json[0].blocked)){let t=c()("<div />");t.html(r.getData()),t&&t.find("style")&&(t.find("style").remove(),t=t[0].innerHTML);const a=JSON.parse(JSON.stringify(e.state.currentBlock.json[0]));if(0===t.length||"<br>"===t||"<p><br></p>"===t)e.removeComponentFromPage([a]);else{if(window.newComponents[a.id]){const t=CSS.escape(a.id),s=document.querySelector("#".concat(t)).offsetHeight+a.height_unit,n=document.querySelector("#".concat(t)).offsetWidth+a.width_unit;e.handleChangeComponent(a,{width:n,height:s},!0)}delete window.newComponents[e.state.currentBlock.json[0].id];const s={data:Object.assign(e.state.currentBlock.json[0].data,{content:t})};e.handleChangeComponentProperties(e.state.currentBlock.json[0],s,!0,()=>{})}}if(!(e.state.currentBlock.json[0]&&1===e.state.currentBlock.json.length&&["text","slider","button","map"].indexOf(e.state.currentBlock.json[0].slug)>-1&&(e.state.currentBlock.json[0].blocked&&(t.slug&&t.id)!==e.state.currentBlock.json[0].id||!Array.isArray(t)&&!t.slug||o)&&(e.handleChangeComponentProperties(e.state.currentBlock.json[0],{blocked:!1},!1),"text"!==t.slug))){if(e.state.chooseBlockMode)a.group_ids&&a.group_ids.length>0?e.handleChooseBlock(a.group_ids[0]):e.handleChooseBlock(t.id);else{if(o);else if(i)e.capture({changedComponents:[],prevChangedComponents:[]},"CHANGE_STYLES"),e.setState({currentBlock:{json:void 0,isLayout:!1,group_ids:[]}},()=>{});else if(Array.isArray(t))if(window.settingsPanelToTop&&window.settingsPanelToTop(),a.shiftKey){let s=t;e.state.currentBlock.json[0]&&(s=e.state.currentBlock.json.concat(t));const{group_ids:n}=e.state.currentBlock;a.group_ids.forEach(e=>{-1===n.indexOf(e)&&n.push(e)}),e.capture({changedComponents:[],prevChangedComponents:[]},"CHANGE_STYLES"),e.setState({currentBlock:Object.assign(e.state.currentBlock,{json:e.removeDuplicates(s,"id"),isLayout:o,group_ids:m()(n),inner_groups:m()(a.inner_groups)})},()=>{})}else{var l;window.frameHovered&&e.openGroupsRecursive(null===(l=t[0])||void 0===l?void 0:l.group_id),e.capture({changedComponents:[],prevChangedComponents:[]},"CHANGE_STYLES"),e.setState({currentBlock:Object.assign(e.state.currentBlock,{json:t,isLayout:o,group_ids:m()(a.group_ids),inner_groups:[]})},()=>{window.setTransformator(t[0]?t[0]:t,{currentBlockJSON:e.state.currentBlock.json})})}else if(a.shiftKey&&Array.isArray(e.state.currentBlock.json)){if(t.lock&&!a.fromLayers)return;n?e.state.currentBlock.json.indexOf(t)>-1||(t=e.state.y.one("#".concat(t.id)).component,t=[...e.state.currentBlock.json,t],e.capture({changedComponents:[],prevChangedComponents:[]},"CHANGE_STYLES"),e.setState({currentBlock:Object.assign(e.state.currentBlock,{json:t,isLayout:o})},()=>{})):e.state.currentBlock.json.indexOf(t)>-1&&!s?e.removeFromCurrentBlock([t]):(e.capture({changedComponents:[],prevChangedComponents:[]},"CHANGE_STYLES"),e.setState({currentBlock:Object.assign(e.state.currentBlock,{json:[...e.state.currentBlock.json,t],isLayout:o})},()=>{}))}else window.settingsPanelToTop&&window.settingsPanelToTop(),e.state.y.one("#".concat(t.id))&&(t=e.state.y.one("#".concat(t.id)).component),e.capture({changedComponents:[],prevChangedComponents:[]},"CHANGE_STYLES"),(window.metaPressed&&t.group_id&&!a.onInsert||window.frameHovered)&&(e.openGroupsRecursive(t.group_id),window.hoveredTarget&&document.querySelector("[data-layer-id='".concat(window.hoveredTarget.id,"']"))&&document.querySelector("[data-layer-id='".concat(window.hoveredTarget.id,"']")).scrollIntoView()),e.setState({currentBlock:Object.assign(e.state.currentBlock,{json:[t],isLayout:o,group_ids:[],inner_groups:[]})});a.shiftKey||setTimeout(e.handleAllGroupsClose,200)}Array.isArray(t)?t.length>0&&window.setTransformator(t[0],{currentBlockJSON:e.state.currentBlock.json}):window.setTransformator(t,{currentBlockJSON:e.state.currentBlock.json})}},this.getGroups=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[];if(t)for(const s of Object.keys(t)){const n=t[s];dr(n.slug)&&(a.push(n.id),a=a.concat(e.getGroups(n.children)))}return a},this.setCurrentGroup=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Array.isArray(t)||(t=[t]);let o=[],i=[],r=[];for(let l of t)if(l){if(!document.getElementById("".concat(l.id)))continue;if(l.lock&&!s)continue;o=o.concat(hr(l)),i=i.concat(e.state.currentBlock.inner_groups||[]);let t=e.searchTree({children:e.state.components},l.id).children;r=r.concat(e.state.currentBlock.group_ids),a?(r.push(l.id),i=i.concat(e.getGroups(t)),r=r.concat(i),e.forceInnerGroups=m()(e.forceInnerGroups.concat(i))):(i=[],r=[l.id],i=i.concat(e.getGroups(t)),r=r.concat(i),e.forceInnerGroups=m()(i));let n=e.forceInnerGroups.indexOf(l.id);n>-1&&e.forceInnerGroups.splice(n,1)}r=Array.from(new Set(r)),e.setCurrentBlock(o,{inner_groups:m()(i),group_ids:r,target:{className:"no"},onInsert:n,shiftKey:a},!1)},this.keepRatio=()=>{const{currentBlock:e}=this.state;if(e.json[0]&&1===e.json.length)return"icon"===e.json[0].slug||e.json[0].keep_ratio},this.getTextHeight=(e,t)=>{const a=document.getElementById("".concat(e.id)),s=document.createElement("div");s.innerHTML=a.innerHTML,document.body.appendChild(s);const{fontSize:n,lineHeight:o,fontWeight:i,fontFamily:r}=a.style;return Object.assign(s.style,{"font-size":n,"line-height":o,"font-weight":i,"font-family":r,display:"table",width:t,"word-break":"break-word"}),s.style.zIndex=-999999999,s.querySelector("[data-content]").style.display="block",s.querySelector("[data-content]").offsetHeight+"px"},this.toggleAutolayout=()=>{const{currentDevice:e}=this.state,t={res375:335,res640:600}[e.name];let{components:a}=this.state,s=this.componentsTreeToFlat(a),n=[],o=[];s.sort((e,t)=>parseFloat(e.node.styles.desktop.top)-parseFloat(t.node.styles.desktop.top)),s=s.filter(e=>"group"!==e.node.slug);for(let c of s){let a={};if(n.push(c.node),"%"!==c.node.width_unit){var i,r,l;if("button"!==c.node.slug&&parseFloat(null===(i=c.node.styles)||void 0===i?void 0:i[e.name].width)>t)a.height=t*(parseFloat(null===(r=c.node.styles)||void 0===r?void 0:r[e.name].height)/parseFloat(null===(l=c.node.styles)||void 0===l?void 0:l[e.name].width))+"px",a.width="".concat(t,"px");"text"===c.node.slug&&(a.height=this.getTextHeight(c.node,"335px"))}o.push(a)}this.handleChangeComponentsStyles(n,o,!0,!1,()=>{let t=0;for(let l of s){var a,i,r;let c=s[t-1]?parseFloat(null===(a=s[t-1].node.styles)||void 0===a?void 0:a[e.name].top)+parseFloat(null===(i=s[t-1].node.styles)||void 0===i?void 0:i[e.name].height)+20+"px":null===(r=s[t].node.styles)||void 0===r?void 0:r[e.name].top;if("%"!==l.node.width_unit){0===t&&(c="20px");let a={left:"20px",top:c};l.node.styles[e.name].top=c,n.push(l.node),o.push(a)}t++}n.length>0&&this.handleChangeComponentsStyles(n,o)})},this.selectMainMasterComponent=e=>{const t=this.searchTree({children:this.state.components},e);t&&this.setCurrentGroup(t)},this.artboardMounted=e=>{this.setState({artboardMounted:e})},this.showSaveStatusTooltip=()=>{let e=document.querySelector('[data-for="save-status"]');e.dispatchEvent(new MouseEvent("mouseout",{view:window,bubbles:!0,cancelable:!0})),setTimeout(()=>{e.dispatchEvent(new MouseEvent("mouseenter",{view:window,bubbles:!0,cancelable:!0})),setTimeout(()=>{e.dispatchEvent(new MouseEvent("mouseleave",{view:window,bubbles:!0,cancelable:!0}))},2e3)})},this.handleSetComponentsFromVersion=(e,t)=>{this.setState({components:e,page:t})},this.handleToggleVersionHistory=()=>{this.state.versionHistoryMode||!window.onbeforeunload?(this.setLayoutAsCurrentBlock(),this.setState({versionHistoryMode:!this.state.versionHistoryMode})):this.showSaveStatusTooltip()}}rebuildComponents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this.setState(e=>{let t=this.componentsTreeToFlat(e.components).map(e=>{let{node:t}=e;return t});return{components:this.componentsFlatToTree(t)}},e)}componentDidMount(){var e=this;window.snap=this.makeSnapshotToVersionsHistory,window.changeSiteFonts=this.handleChangeFonts,window.updateSite=this.props.updateSiteRequest,window.WORKSPACE_WIDTH=1200,window.currentZoom=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST?50:100,window.positionX=0,window.positionY=0,window.addUploadFile=this.addUploadFile,window.removeUploadFile=this.removeUploadFile,window.getPageColors=this.getPageColors,window.handleChangeComponentsStyles=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e.handleChangeComponentsStyles.call(e,...a)},window.handleChangeComponentsProperties=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e.handleChangeComponentsProperties.call(e,...a)},this.props.fetchFontsRequest({offset:0,limit:99999}),this.props.fetchComponentsRequest(),this.noScroll(),document.body.classList.toggle("section-editor__body"),window.history.scrollRestoration="manual",window.addEventListener("scroll",this.noScroll),document.addEventListener("keydown",this.onKeyDownChooseBlockMode),window.addEventListener("blur",this.onBlurEditor),this.init(),window.editorMounted=!0,this.viewMode&&(this.pageUpdateInterval=setInterval(()=>{this.viewModeUpdateComponents()},5e3)),this.trackEdit(),this.startIntervalForVersionsHistory(),this.state.fonts&&0!==this.state.fonts.length||this.fetchFontsIfMissing()}componentDidUpdate(e,t){var a;t.fonts!==this.state.fonts&&0===(null===(a=this.state.fonts)||void 0===a?void 0:a.length)&&(console.warn("Fonts disappeared unexpectedly. Attempting to restore..."),this.fetchFontsIfMissing())}componentWillReceiveProps(e){e.match.params.pageId!==this.props.match.params.pageId&&(window.artboardMounted=!1,this.componentWillUnmount(),this.componentDidMount())}componentWillMount(){const{t:e}=this.props;window.newComponents={},window.newDrawComponents={},Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST||Object(qt.n)()||(v.a.push("/account/sites"),N.b.error(e("app.editor.settingspanel.confirmemail.message"),e("app.editor.settingspanel.confirmemail.title"),5e3,()=>{},void 0,!0,e("app.editor.settingspanel.confirmemail.close"),e("app.editor.settingspanel.confirmemail.button"),"resendEmailConfirmation"))}componentWillUnmount(){document.title="Siter \u2013 free website builder. Build creative website",document.body.classList.remove("section-editor__body"),document.body.style.overflow="scroll",this.state.ComponentHelper&&this.state.ComponentHelper.destroyAltShortcut(),this.undoRedoShortcutUnsubscribe(),window.removeEventListener("scroll",this.noScroll),window.editorMounted=!1,clearInterval(this.pageUpdateInterval),clearTimeout(this.trackEditTimeout),this.destroyIntervalForVersionsHistory(),document.removeEventListener("keydown",this.onKeyDownChooseBlockMode)}handleChangeComponentsStyles(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{},o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.handleAddDependingComponentsStyles(e,t,o);let{currentDevice:r,currentBlock:l}=this.state,c=0,p=[],d=[];s||(this.componentsPrevForChange=this.componentsPrevForChange.concat(JSON.parse(JSON.stringify(e)))),this.setState(a=>{let n=Object.assign({},a.components);for(let l of e){this.validateStyles(t[c]);let e=this.searchTree({children:n},l.id);if(e){var o;try{if(t[c].hasOwnProperty("left")&&(t[c].left=parseInt(t[c].left)+"px"),t[c].hasOwnProperty("top")&&(t[c].top=parseInt(t[c].top)+"px"),"undefined"!==typeof t[c].width&&t[c].hasOwnProperty("width")){var i=t[c].width;"string"===typeof i?t[c].width=i:"number"===typeof i?t[c].width=parseInt(i)+l.width_unit:console.log("Unexpected data type for width:",i)}t[c].hasOwnProperty("height")&&null!=t[c].height&&(t[c].height=parseInt(t[c].height)+"px")}catch{console.error("Failed rounding dimmensions")}e.styles[r.name]=Object.assign(null===(o=e.styles)||void 0===o?void 0:o[r.name],t[c]),"image"===e.slug&&-1===e.data.image.indexOf("noimage")&&e.image_data&&e.image_data.indexOf("base64")>-1&&(e.image_data=""),t[c].hasOwnProperty("visibility")&&""===t[c].visibility&&delete e.styles[this.state.currentDevice.name].visibility,p.push(e)}s||this.componentsForChange.push(e||l),d.push(e||l),c++}return{components:n}},()=>{1===p.length&&this.updateSavedStyles(p[0]),setTimeout(()=>{l.json[0]&&window.setTransformator(l.json[0])}),this.resetCurrentBlock(),n(),s||(this.componentsPrevForChange=this.removeDuplicates(this.componentsPrevForChange.reverse(),"id").reverse(),this.componentsPrevForChange=this.componentsPrevForChange.filter(e=>{let{id:t}=e;return null!==document.getElementById(t)}),this.componentsForChange=this.removeDuplicates(this.componentsForChange.concat(p).reverse(),"id").reverse(),this.componentsForChange=this.componentsForChange.filter(e=>{let{id:t}=e;return null!==document.getElementById(t)}));const e=this.removeDuplicates(d.concat(p).reverse(),"id").reverse().filter(e=>{let{id:t}=e;return null!==document.getElementById(t)});s||(this.capture({changedComponents:this.componentsForChange,prevChangedComponents:this.componentsPrevForChange},"CHANGE_STYLES"),setTimeout(()=>{this.componentsForChange=[],this.componentsPrevForChange=[]})),a&&e.length>0&&this.handleSaveComponents(e,()=>{},void 0,void 0,void 0,i,"styles")})}handleChangeComponentsProperties(e,t){var a,s;let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:()=>{},p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9];e=e.slice(0),(null===(a=(t=t.slice(0))[0])||void 0===a||null===(s=a.data)||void 0===s?void 0:s.effects)&&this.setState(e=>({isAnimationsReady:e.isAnimationsReady+1})),l||i||this.handleAddDependingComponentsProperties(e,t);let h=[],m=0,u=[],g=[],_=JSON.parse(JSON.stringify(e)),f=[];this.setState(a=>{let s=Object.assign({},a.components);for(let n of e){let e=this.searchTree({children:s},n.id);e&&(Object.assign(e,t[m]),"%"===e.width_unit||"%"===e.height_unit||"%"===e.top_unit||"%"===e.left_unit?e.container="window":e.container="grid",dr(e.slug)&&0===e.data.stored_components.length||u.push(e),g.push(e)),m++}return{components:s}},()=>{let a=Object.assign({},this.state.components);1===g.length&&this.updateSavedProps(g[0]);for(let t of e){let e=this.searchTree({children:a},t.id);e&&(dr(e.slug)&&0===e.data.stored_components.length?this.searchTree({children:this.state.components},e.id)&&f.push(e):dr(e.slug)&&e.children&&0===Object.keys(e.children).length&&this.searchTree({children:this.state.components},e.id)&&f.push(e))}f.length>0&&!i&&this.removeComponentFromPage(f,!0,void 0,void 0,l),u[0]&&!dr(u[0].slug)&&window.setTransformator(u[0]),t[0]&&!t[0].hasOwnProperty("state")&&this.resetCurrentBlock(),i||(0===g.length&&_.length>0&&(g=e.map((e,a)=>Object.assign({},e,t[a]))),this.capture({changedComponents:g,prevChangedComponents:_},"CHANGE_PROPS")),c(),n?(u.length>0||h.length>0)&&this.handleSaveComponents(u,o,h,r,void 0,p,void 0,d):o()})}render(){const{t:e}=this.props,{page:t,CKEReady:a,layoutEditor:s,shortcuts:o,ComponentHelper:i,artboardMounted:r,devices:l,currentDevice:c,currentBlock:p,chooseBlockMode:d,components:h,y:m,saving:u}=this.state;var g,_,f,v,w,C,y,b;return s&&t&&t.id===this.props.match.params.pageId?n.a.createElement("div",{className:"section-editor ".concat(d&&"section-editor_choose")},n.a.createElement("div",{style:{display:"none"},onClick:this.undo,id:"siter-undo"}),n.a.createElement("div",{style:{display:"none"},onClick:this.redo,id:"siter-redo"}),n.a.createElement("div",{style:{display:"none"},onClick:this.handleCreateMasterComponent,id:"create-master-component"}),n.a.createElement("div",{style:{position:"absolute",top:0,left:0,visibility:"hidden"},id:"text-buffer"}),n.a.createElement(ue,{handleToggleVersionHistory:this.handleToggleVersionHistory,handleToggleShortcuts:this.handleToggleShortcuts,addComponentsFromJSON:this.addComponentsFromJSON,handleSaveComponents:this.handleSaveComponents,handleChangePage:this.handleChangePage,openAddComponents:this.openAddComponents,addComponentsOpened:this.state.addComponentsOpened,componentsLength:h.length,layoutEditor:s,currentDevice:c,pageId:this.props.match.params.pageId,siteId:this.props.match.params.siteId,pagePath:t.path,pageName:t.name,pageUpdatedAt:t.updated_at,changeZoom:this.changeZoom,changeDevice:this.changeDevice,devices:l,handleChangeZoom:this.handleChangeZoomFromPanel,saving:u,updateTopPanel:this.state.updateTopPanel,setLayoutAsCurrentBlock:this.setLayoutAsCurrentBlock,subscriptionInfo:null===(g=this.props)||void 0===g||null===(_=g.site)||void 0===_?void 0:_.subscription}),d&&n.a.createElement("div",{className:"header-wrapper__editor header-wrapper_visible header-wrapper_fixed"},n.a.createElement("header",{className:"header-editor"},n.a.createElement("span",{className:"header-wrapper_visible-title"},e("app.editor.choosetoscroll")),n.a.createElement("button",{className:"button fr button_white header-menu__right-button",onClick:this.handleChooseBlockMode},e("app.editor.choosetoscrollcancel")))),this.state.versionHistoryMode&&n.a.createElement(be,{components:h,page:this.state.page,handleSetComponentsFromVersion:this.handleSetComponentsFromVersion,pageId:this.props.match.params.pageId,handleToggleVersionHistory:this.handleToggleVersionHistory}),n.a.createElement(Da,{versionHistoryMode:this.state.versionHistoryMode,y:m,devices:l,artboardMounted:this.artboardMounted,handleCreateAutolayout:this.handleCreateAutolayout,handleRemoveAutolayout:this.handleRemoveAutolayout,toggleLayout:this.toggleLayout,layers:this.state.layers,updatePageRulers:this.updatePageRulers,selectMainMasterComponent:this.selectMainMasterComponent,handleDetachMasterDepending:this.handleDetachMasterDepending,getComponentPath:this.getComponentPath,CKEReady:a,getGroupRect:this.getGroupRect,getSelectedTreeNodes:this.getSelectedTreeNodes,addComponentsToPageAsTreeNode:this.addComponentsToPageAsTreeNode,componentsWithState:cr,setComponents:this.setComponents,capture:this.capture,searchTree:this.searchTree,componentsFlatToTree:this.componentsFlatToTree,textStyles:this.state.textStyles,buttonStyles:this.state.buttonStyles,buttonProps:this.state.buttonProps,rebuildComponents:this.rebuildComponents,getComponentTreeInfo:this.getComponentTreeInfo,getComponentsTreeInfo:this.getComponentsTreeInfo,getRootGroupIds:this.getRootGroupIds,chooseBlockMode:d,getComponentsInGroup:hr,oneOfCurrentIsMasterDependingComponent:this.oneOfCurrentIsMasterDependingComponent,allCurrentIsMasterDependingComponent:this.allCurrentIsMasterDependingComponent,isMasterDependingComponentItem:this.isMasterDependingComponentItem,handleGroupComponents:this.handleGroupComponents,handleUnGroupComponents:this.handleUnGroupComponents,handleCreateMasterComponent:this.handleCreateMasterComponent,currentBlocksIsOneGroup:this.currentBlocksIsOneGroup,handleSaveComponents:this.handleSaveComponents,removeFromCurrentBlock:this.removeFromCurrentBlock,setCurrentGroup:this.setCurrentGroup,arrangeMove:this.arrangeMove,toggleVisible:this.toggleVisible,currentDrawComponent:this.state.currentDrawComponent,clearDrawComponent:this.clearDrawComponent,removeComponentsRequest:this.removeComponentsRequest,changeZoom:this.changeZoom,handleChangeZoomFromPanel:this.handleChangeZoomFromPanel,drawMode:this.state.drawMode,toggleDrawMode:this.toggleDrawMode,handleChangeX:this.handleChangeX,handleChangeY:this.handleChangeY,keepRatio:this.keepRatio(),handleChangeLock:this.handleChangeLock,setLayoutAsCurrentBlock:this.setLayoutAsCurrentBlock,addComponentsToPage:this.addComponentsToPage,currentBlock:p,currentBlockIsLayout:p.isLayout,currentBlockJSON:p.json,handleChangeComponentsProperties:this.handleChangeComponentsProperties,handleChangeZoom:this.handleChangeZoom,showWindow:this.state.showWindow,layoutEditor:s,ComponentHelper:i,page:this.state.page,pageBackgroundCss:this.state.page.fills_css,pageStyles:null===(f=this.state.page.styles)||void 0===f?void 0:f[c.name],pageHeight:null===(v=this.state.page.styles)||void 0===v||null===(w=v[c.name])||void 0===w?void 0:w.height,installedFonts:this.getInstalledFonts(),currentDevice:c,removeComponentFromPage:this.removeComponentFromPage,setCurrentBlock:this.setCurrentBlock,showLayout:this.state.showLayout,handleChangeComponentProperties:this.handleChangeComponentProperties,components:h,handleChangeComponent:this.handleChangeComponent,handleChangeComponentsStyles:this.handleChangeComponentsStyles,handleChangePage:this.handleChangePage}),r&&n.a.createElement(hs,{_updateBlockSelectorProp:this.state._updateBlockSelectorProp,versionHistoryMode:this.state.versionHistoryMode,openGroupsRecursive:this.openGroupsRecursive,removeComponentsRequest:this.removeComponentsRequest,handleCreateAutolayout:this.handleCreateAutolayout,handleRemoveAutolayout:this.handleRemoveAutolayout,y:m,devices:l,ComponentHelper:this.state.ComponentHelper,componentsTreeToFlat:this.componentsTreeToFlat,addComponentsToPageAsTreeNode:this.addComponentsToPageAsTreeNode,handleDetachMasterDepending:this.handleDetachMasterDepending,componentsFlatToTree:this.componentsFlatToTree,oneOfCurrentIsMasterDependingComponent:this.oneOfCurrentIsMasterDependingComponent,allCurrentIsMasterDependingComponent:this.allCurrentIsMasterDependingComponent,addComponentToPageAsTreeNodeAboveSelectedNode:this.addComponentToPageAsTreeNodeAboveSelectedNode,isMasterDependingComponentItem:this.isMasterDependingComponentItem,handleChangePage:this.handleChangePage,installedFonts:this.getInstalledFonts(),searchTree:this.searchTree,getSelectedTreeNodes:this.getSelectedTreeNodes,resetCurrentBlock:this.resetCurrentBlock,removeComponentFromPage:this.removeComponentFromPage,getComponentsInGroup:hr,handleSaveComponents:this.handleSaveComponents,handleGroupComponents:this.handleGroupComponents,handleUnGroupComponents:this.handleUnGroupComponents,currentBlockIsLayout:p.isLayout,currentBlockJSON:p.json,currentBlocksIsOneGroup:this.currentBlocksIsOneGroup,arrangeMove:this.arrangeMove,setComponents:this.setComponents,page:this.state.page,toggleVisible:this.toggleVisible,handleChangeLock:this.handleChangeLock,layers:this.state.layers,handleToggleLayers:this.handleToggleLayers,setLayoutAsCurrentBlock:this.setLayoutAsCurrentBlock,handleChangeComponentProperties:this.handleChangeComponentProperties,handleChangeComponentsProperties:this.handleChangeComponentsProperties,handleChangeComponent:this.handleChangeComponent,setCurrentBlock:this.setCurrentBlock,setCurrentGroup:this.setCurrentGroup,removeFromCurrentBlock:this.removeFromCurrentBlock,currentBlock:p,components:h,handleCreateMasterComponent:this.handleCreateMasterComponent,currentDevice:c,pageId:this.props.match.params.pageId,siteId:this.props.match.params.siteId,systemComponents:this.props.systemComponents,addComponentsToPage:this.addComponentsToPage,createPageComponent:this.createPageComponent,currentDrawComponent:this.state.currentDrawComponent,toggleDrawMode:this.toggleDrawMode,getRootGroupIds:this.getRootGroupIds,capture:this.capture}),r&&n.a.createElement(tr,{_updateBlockSelectorProp:this.state._updateBlockSelectorProp,_updateSettingPanelProp:this.state._updateSettingPanelProp,page:t,handleCreateAutolayout:this.handleCreateAutolayout,handleCreateFrameWithoutLayoutChange:this.handleCreateFrameWithoutLayoutChange,handleRemoveFrameWithoutLayoutChange:this.handleRemoveFrameWithoutLayoutChange,handleRemoveAutolayout:this.handleRemoveAutolayout,getRootGroupIds:this.getRootGroupIds,toggleAutolayout:this.toggleAutolayout,componentsWithState:cr,handleRemovePresetFromPageAndComponents:this.handleRemovePresetFromPageAndComponents,oneOfCurrentIsMasterDependingComponent:this.oneOfCurrentIsMasterDependingComponent,isMasterDependingComponentItem:this.isMasterDependingComponentItem,y:m,handleChangeComponentsStyles:this.handleChangeComponentsStyles,handleChangeComponentsProperties:this.handleChangeComponentsProperties,searchTree:this.searchTree,changeDevice:this.changeDevice,devices:this.state.devices,handleChangeLock:this.handleChangeLock,getPageColors:this.getPageColors,handleInheritDevice:this.handleInheritDevice,toggleLayout:this.toggleLayout,showLayout:this.state.showLayout,handleChangeComponent:this.handleChangeComponent,getComponentsInGroup:hr,toggleWindow:this.toggleWindow,showWindow:this.state.showWindow,choosedBlock:this.state.choosedBlock,handleChooseBlockMode:this.handleChooseBlockMode,chooseBlockMode:d,keepRatio:this.keepRatio(),handleKeepRatio:this.handleKeepRatio,ComponentHelper:this.state.ComponentHelper,sortComponents:this.sortComponents,components:h,currentBlock:p,currentBlockJSON:this.state.currentBlock.json,group_ids:this.state.currentBlock.group_ids,getGroups:this.getGroups,currentBlockIsLayout:p.isLayout,handleChangeComponentProperties:this.handleChangeComponentProperties,isLayout:p.isLayout,layoutEditor:s,currentDevice:c,pageId:this.state.page.id,fonts:this.props.fonts,installedFonts:this.getInstalledFonts(),setCurrentBlock:this.setCurrentBlock,handleChangePage:this.handleChangePage,pageHeight:(null===(C=this.state.page.styles)||void 0===C||null===(y=C[c.name])||void 0===y?void 0:y.height)||0,styles:p.json[0]&&(null===(b=p.json[0].styles)||void 0===b?void 0:b[c.name]),isAnimationsReady:this.state.isAnimationsReady}),n.a.createElement(lr,{removeUploadFileFromState:this.removeUploadFileFromState,uploadFiles:this.state.uploadFiles}),o&&n.a.createElement(xe,{close:this.handleToggleShortcuts}),!a&&n.a.createElement(nr,null)):n.a.createElement(nr,null)}}const ur={fetchFontsRequest:L.a,updatePageRequest:A.g,fetchComponentsRequest:O.a,fetchSiteRequest:F.c,updateSiteRequest:F.g,createPageComponentRequest:B.a,updatePresets:D.a};t.a=Object(o.b)(e=>({user:e.sessions,fonts:e.fonts,site:e.site,systemComponents:e.components,presets:e.presets}),ur)(Object(j.a)()(mr))},236:function(e,t,a){e.exports=a.p+"static/media/page-icon.4f16bbf1.svg"},237:function(e,t,a){e.exports=a.p+"static/media/page-element2.220cf1ed.svg"},238:function(e,t,a){e.exports=a.p+"static/media/page-phone.e5b041ea.svg"},239:function(e,t,a){e.exports=a.p+"static/media/page-email.d45ff3c2.svg"},240:function(e,t,a){e.exports=a.p+"static/media/page-popupelement.02ee6b80.svg"},241:function(e,t,a){e.exports=a.p+"static/media/page-closepopup.1178589c.svg"},243:function(e,t,a){e.exports=a.p+"static/media/lock-icon.72286419.svg"},244:function(e,t,a){e.exports=a.p+"static/media/card.f22ce359.svg"},245:function(e,t,a){e.exports=a.p+"static/media/sectigo-trust-seal.80d552f3.jpg"},30:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var s=a(172);a(171);const n=[[0,1,0],[.5,.5,1],[1,1,1]],o=[[.5,1,.5],[.5,.5,1],[1,1,1]],i=[[.5,1,.5],[.5,.5,1],[1,1,1]];function r(e,t){const a=s.a(e);let r;return"GRADIENT_LINEAR"===t&&(r=s.b(a,n)),"GRADIENT_RADIAL"===t&&(r=s.b(a,o)),"GRADIENT_ANGULAR"===t&&(r=s.b(a,i)),[{x:r[0][0],y:r[1][0]},{x:r[0][1],y:r[1][1]},{x:r[0][2],y:r[1][2]}]}function l(e,t){const a=e,r=[[a[0].x,a[1].x,a[2].x],[a[0].y,a[1].y,a[2].y],[1,1,1]];let l;"GRADIENT_LINEAR"===t&&(l=n),"GRADIENT_RADIAL"===t&&(l=o),"GRADIENT_ANGULAR"===t&&(l=i);const c=s.b(l,s.a(r));return[c[0],c[1]]}const c=(e,t)=>{let{width:a,height:s}=t,n="",o=0,i="";if(e=JSON.parse(JSON.stringify(e)),Array.isArray(e)){const t={relativeTransform:[[1,0,0],[0,1,0]],size:{x:a||100,y:s||100}};for(let a of e)a.type.indexOf("GRADIENT")>-1&&(a.gradientTransform.length<3&&a.gradientTransform.push([0,0,1]),a.gradientHandlePositions=r(a.gradientTransform,a.type)),a.type.indexOf("GRADIENT_LINEAR")>-1&&(n+=h(a,t)),a.type.indexOf("GRADIENT_RADIAL")>-1&&(n+=u(a)),a.type.indexOf("GRADIENT_ANGULAR")>-1&&(n+=g(a,t)),"SOLID"===a.type&&(i=d(a.color,a.opacity),n+="linear-gradient(to right, ".concat(i,", ").concat(i,")")),o<e.length-1&&(n+=", "),o++}return n};function p(e,t){return parseFloat(e.toFixed(t))}function d(e,t){return"rgba("+String(p(255*e.r,0))+", "+String(p(255*e.g,0))+", "+String(p(255*e.b,0))+", "+String(p(t,2))+")"}function h(e,t){let a=t.size.x,s=t.size.y,n=e.gradientHandlePositions,o=a*n[1].x-a*n[0].x,i=s*n[1].y-s*n[0].y,r=Math.atan(i/o)*(180/Math.PI).toFixed(4),l=Math.hypot(o,i),c=r,p="";Math.round(i)<0&&(p+="BT"),Math.round(i)>0&&(p+="TB"),0==Math.round(i)&&(p+="H"),Math.round(o)<0&&(p+="RL"),Math.round(o)>0&&(p+="LR"),0==Math.round(o)&&(p+="V"),"BTLR"!==p&&"HLR"!==p&&"TBLR"!==p||(c+=90),"TBV"===p&&(c=Math.abs(c)+90),"BTRL"!==p&&"TBRL"!==p&&"HRL"!==p||(c-=90),"BTV"===p&&(c=Math.abs(c)-90);let h="linear-gradient("+c+"deg,",m=Math.abs(r),u=0;if(0!=r){var g=Math.tan((90-m)*Math.PI/180)*(s/2),_=a/2-g;u=2*(Math.sin((90-m)*Math.PI/180)*_+Math.hypot(g,s/2))}0==r&&(u=a);let f=u/100,v=0;{let e,t,o=a*n[0].x,i=s*n[0].y;"BTRL"===p||"BTV"===p||"HRL"===p?(e=o,t=i):"TBLR"===p||"TBV"===p||"HLR"===p?(e=a-o,t=s-i):"TBRL"===p?(e=o,t=s-i):"BTLR"===p&&(e=a-o,t=i);let r=90-Math.abs(Math.atan(e/t)*(180/Math.PI))-m,l=Math.hypot(e,t)*Math.cos(r*(Math.PI/180));v=(u-l)/f}return e.gradientStops.forEach(t=>{h+=d(t.color,e.opacity*t.color.a)+" "+(t.position*l/f+v)+"%, "}),h=h.slice(0,-2),h+=")",h}function m(e){return"".concat(parseFloat((100*e).toFixed(4)),"%")}function u(e){const t=Math.abs(e.gradientHandlePositions[1].x-e.gradientHandlePositions[2].x),a=Math.abs(e.gradientHandlePositions[1].y-e.gradientHandlePositions[2].y);let s="".concat(m(t)," ").concat(m(a));return"radial-gradient(".concat(s," at ").concat(m(e.gradientHandlePositions[0].x)," ").concat(m(e.gradientHandlePositions[0].y),", ").concat(function(e){return e.gradientStops?e.gradientStops.map(t=>"".concat(d(t.color,e.opacity*t.color.a)," ").concat(m(t.position))).join(", "):""}(e),")")}function g(e,t){let{size:a}=t,s=a.x,n=a.y,o=s*e.gradientHandlePositions[1].x-s*e.gradientHandlePositions[0].x,i=n*e.gradientHandlePositions[1].y-n*e.gradientHandlePositions[0].y,r=Math.atan(i/o)*(180/Math.PI).toFixed(4),l="";return Math.round(i)<0&&(l+="BT"),Math.round(i)>0&&(l+="TB"),0==Math.round(i)&&(l+="H"),Math.round(o)<0&&(l+="RL"),Math.round(o)>0&&(l+="LR"),0==Math.round(o)&&(l+="V"),"BTLR"!==l&&"HLR"!==l&&"TBLR"!==l||(r+=90),"TBV"===l&&(r=Math.abs(r)+90),"BTRL"!==l&&"TBRL"!==l&&"HRL"!==l||(r-=90),"BTV"===l&&(r=Math.abs(r)-90),"conic-gradient(from ".concat(r,"deg at ").concat((c=e.gradientHandlePositions[0],c?"".concat(m(c.x)," ").concat(m(c.y)):"0% 0%"),", ").concat(function(e,t){return e?[...e].map((e,a)=>{let s=Math.round(360*e.position*100)/100;return"".concat(d(e.color,t.opacity*e.color.a)," ").concat(s,"deg")}).join(", "):""}(e.gradientStops,e),")");var c}},32:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"e",(function(){return p})),a.d(t,"f",(function(){return d}));var s=a(51);const n=Object(s.a)("FETCH_PAGE_REQUEST",(e,t)=>[e,t]),o=Object(s.a)("FETCH_PAGE_SUCCESS",e=>e),i=Object(s.a)("CREATE_PAGE_REQUEST",(e,t,a)=>[e,t,a]),r=Object(s.a)("CREATE_PAGE_SUCCESS",e=>e),l=Object(s.a)("UPDATE_PAGE_REQUEST",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return[e,t,a]})),c=Object(s.a)("UPDATE_PAGE_SUCCESS",e=>e),p=Object(s.a)("REMOVE_PAGE_REQUEST",(e,t)=>[e,t]),d=Object(s.a)("REMOVE_PAGE_SUCCESS",e=>e)},323:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var s=l(a(55)),n=l(a(56)),o=l(a(57)),i=a(0),r=l(i);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(a){(0,s.default)(this,t);var o=(0,n.default)(this,e.call(this,a));return o.changeListener=o.changeListener.bind(o),o.state={value:a.value,config:a.config||{},onChange:a.onChange},o}return(0,o.default)(t,e),t.prototype.componentDidMount=function(){var e=this;if(window.CKEDITOR){if(a(404),window.CKEDITOR.plugins.setLang("font","en",{fontSize:{label:"Size",voiceLabel:"Font Size",panelTitle:"Font Size"},common:{optionDefault:"Default"},label:"Font",panelTitle:"Font Name",voiceLabel:"Font"}),this.instance=window.CKEDITOR.inline(this.divRef,this.state.config,this.state.value),this.instance.on("instanceReady",(function(t){t.editor.setData(e.state.value),"readOnly"in e.state.config&&e.instance.setReadOnly(e.state.config.readOnly)})),this.instance.on("change",this.changeListener),document.getElementById("ck_instruments")){var t=new window.CKEDITOR.dom.element(document.getElementById("ck_instruments"));this.instance.focusManager.add(t,1)}if(document.getElementById("ck_instruments_size")){var s=new window.CKEDITOR.dom.element(document.getElementById("ck_instruments_size"));this.instance.focusManager.add(s,1)}}else console.error("CKEditor not found")},t.prototype.componentWillReceiveProps=function(e){this.instance&&("ready"===this.instance.status&&(this.state.value!==e.value&&this.instance.setData(e.value),e.config&&this.state.config!==e.config&&"readOnly"in e.config&&this.instance.setReadOnly(e.config.readOnly)),this.setState({value:e.value,config:e.config||{},onChange:e.onChange}))},t.prototype.componentWillUnmount=function(){this.instance.removeListener("change",this.changeListener),this.instance.destroy()},t.prototype.changeListener=function(){this.state.value=this.instance.getData(),this.handleChange()},t.prototype.handleChange=function(){this.state.onChange(this.state.value)},t.prototype.render=function(){var e=this;return r.default.createElement("div",{"data-content":!0,ref:function(t){return e.divRef=t}})},t}(i.Component);t.default=c,e.exports=t.default},326:function(e,t,a){e.exports=a.p+"static/media/trash.b911c5c7.svg"},328:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABjmSURBVHgB7Z0JnFXFlca/eg1iAwIqII4I4hY1GcfExMSYyYALdrOoGAH3BBBXRCBoFDEhcca4JHFPfmrUwbgQMYoGGwGNRs1oEk1CjFuMC7gBooIQkKZ5Nd857zYS5DXQ7y5V99Wf3+13H3Q391Wdr+rUqapTBoFYsH3RBh3QC4ZXETvzr3rqZdGNf9eF9515deH7jiigHV+35vva6Mc/5ves4s+t5usKvl/Kaxm/Zynfv8fXt/n6Jv/9TdRgAdpjvpmOtQhUjEGg1dijsD0acS1v96OR7srSbIc0sCqU13j3F4pprJmJJQi0ijYItJ5GtubAIby6p9qUlIS2N6+uaNJnCAJoJQUEAlVMEECgqgkCCFQ1QQCBqiYIIFDVBAEEqpoggEBVEwQQqGqCAAJVTRBAoKoJAghUNUEAgaomCCBQ1QQBBKoapwVgAWMHYlfr6r6FgjxiYGNo3dVjN9tXl2s7i7MCoOFviwG4kSU5CwPR10kRFMOGoo2hdTUI/8WvM1GLS+xg9IGjOCkA2x9fpXE9wttRvPZkiU5FHQY7J4LQA3wKraN6HMn6u5lv9+K7Mby/jQ3aoXAQ5wTAbnM0atDAgvs8PjH4nfmkdzgngtADfJo6HMVSuYZ3u0Z/Y6iKr/G6x9bhNDiGMwKwQ1FrB+BqFte1vDpv5FtkM/n1bF36OTsmqHLs4ejHmvkxoEkBNqQz6+9qO4jX0HXJADLHCQHYI/BvWIF7eDuGV0sby3uygN1xh4ILtA723IPZc09lrbTk77djrzlG6toexjp3gMwFQN9wbzRhLgtuwGY+T091hwbqZvRsCS6QQuM/mCVxBzbe8m9IQeu6DeZq3WdMpgJgAXyVbehc3u6DLaMjf246fcovIZAprMP9adDSe2+zRT9oWOdFPKw2kCGZCMDuj7b09+tYANP5die0ji58+jkSXcjMHapiF0jj/IPYC5casG3RGoy6QdNpC4OQEakLgN1lO3THcby9LSqASpBMa/exQz0iExFUqQukZT2QPn8RM9Ba4//kl4kNTKOYTkAGpN8DFHAEi+9K3nVDPMhM4/UyJgjRoeSJJrkO5s1PgdhmeTtQTDexJzgJKZOqAPgBh7HgbuDtdoiXnfh7b2ZPcHSqIqgyF0jLlr0tjXUqWu+6lkNCo9fSpT1WvYSUSE0AHLAO5cstqLTLLI8kpr06VRFUkQu0zviB2xG/8TfTWXuWIo63+2ArpEAqAqB/N4DFJ8bfAUlitWJ+wv/t0OAOxUfk80vY+Xog8cVt23I+4XLsgv5IgcQFQOM/kIq+kUWY1qrAXqyx/8XhGJK4CKrABYpa/qN583Mk1/JvSFdeN9Fr6IuESVQAtj/2qjDU2TokulTDKFMdjkpUBDl3gbTsBtP4QdcS6I106cH//Ze0of9AgiQmALb8O3G2716kbfyf0IEFeF2i7lCOe4Co5T8Ua3VtTzZ1aBgwb4t7GDxJTHyJCIDG317CWkDGU93SE4g7NDAhdyinPYCWFV1ILbv0W/4NH2Z3XrfYI7ZwpnkziV0AWnhFDmIsHRAXKIngFxRBKoOqXFCPw2gZcUxUxoNBPzThSjslfnuNvwcYiDP4dTQf2qXWsT1FcDfjy19BoEXoc3+ZL3ez9pKN2G0ZsqfgZDyNcYiZWAVAA+vPB/0hb1OJ4W4hnViMs2UNUmzuUI7GANH+68M5bptTZj9GthiOBgy+T4EejBiJTQD00Xbnb5sCMTR3kWf7Fbv4b8QigpyMAdYLdUrQwt36k1B6G84W9+fgOCZiEQBb/k700SayAA+E+7TndY2MCcJk2bq1PYfxRrYxtof77MMQt+wqq0EMxNMDFNVf/Dx8wWBHjVLVY5itpAw8d4GiDezfYKjzVmcGvJuDnMW8Kp7QbCwCMLPxLh/qW7z9PXzBYGddlTpQRdC6nsBjF2id8RvdxuiP8QPP8eFHm5lYgBiIbQxgHsSLfLBxvP4Kf5Ce4AoaQl01uUP6Wes0LOyL21PC4k1+PdnMwguIiVijQHywp/kiqS+ehi8Y9ORXWUo9tBpEoC4fXT9+0pvUFfSH5+j1DzYN+AtiJPZ5ABVBE0bw1p+eoGQIt+ZdBNGqzmG8vVJdQH94js87nG7PPMRMIkshzBy8RNdCdvfMhz/IZNnVdA3q8yiCyOev480VXrX84vYUcJK62AmQ2GI48xB7gCInVpDMgyeC0RWIN0fRodyIIFrbIxuSJF1hT/jDS4xQ9U+i5W8m0eXQFMHLnLjoB/9EcCtdhQHIC+zV6D/f6pnP/xKvfupNJEjiG2LMA1jEnmAI/HKHavnM0+zh+E94jq3D12RdPXyK9oAhziYM4YB3IRImlS2R2hMAg3kl1pXFjtFcpA2Ss8ZHdyjK2yNbUWeluBsvDuax8RmcdMvfTGqb4qnm5/giEQi/RCArIwdiuE8iiAa8w2hI93hl/BZPseU/VsePKZFqWhSK4O/8gCfyg74Bf6jl88qM8QAfRBCFOqXlvwpwJwvzZjCPzzw+rZa/mdQTY/ED/o0je3GHYp3QSJgevG5kq3q8zaDMNpdohnd4tIG9B3xBWn5OoLKBTH0pTSaVqSIAKwr4HXxBUvhJ7vtBOM7FnmCd21PQ9DP+GL+0/BYjsjB+IbPWTN2hIsbDr55gB1bW5a65Q9F6/oGaGMwnt0dcYYMToyBJJmReiZrivKC5Qg+CPyziNQFb4f/QqC1XbBs0tpD3WINfYUMi+zAu92xV5zw1/gfVG8iMzP1Zqv+PfBnJ1uDP8IcdILOqjZrlOssylAbsOHXNfDJ+y15/NYZlbfyCO914vR6SMXMTR+y4xj9RmmDKshyXA8mkDEkEi9c1zj8bz8MBnBrM2cOwB9rqvtTPIZA/LI3e4Ggd/zmCe9GMenTjU/0GQQR542+cAzqEEcDFcAjnYtpmFgd2bXTt0KsI5IXXsIYtv2PGLzg5qWMewD80LavBswj4jQQ3LH3+uXgFDuL01L7mGlqLaSzA/RHwD4sn6faMdNX4BffXtshZsha/5u1uCPiDxZ9oXbK84Rk4jLPrWprRrXAFDArukFc84YPxC/4s8a1nDyDrXCy+joC7SMtfxHDG+f8BD/Bqo4cdhC+wgG8MYwJneVWCF0ltYE8C512g9TEz2bo04VTe/hbI//lcnvEsw9cDfTJ+wcvMBxwY70rzl32uX0TABZ5lfQznHI53czf+5rasw2dQw+iQxR4IZIehr1+DQZy7yWxJcyV45QKtj64hL6IePu0xzh+ygb3OV+MXvE/+ZA/HdmyBHoYf6dmLvJby+og912qWfqP+rdUTddrxvRxO0QV+NEzz+AkOMY/gfXhMPk44KY0JHuKtC+7QWl6y1FcyG0gW479jDeazpBegM9430/Xfy6IHP7yPrqhFT36mXfhXewK6VFzOy/0sXBCHuD3S8nvo829IftL/DVBDuZ1G88VUDuiz/GOwjHeywOtl3svGnidpvs/QJViOBNCjQtfgS7yVZFcSANgr2quczoF2pc/8jOR9zXIbY5zkKgmsHYw+unYIOADJIcYtqTsaaA6PoiP+wFZ9FTKAvUUtHaovoC0O49sjIYIAtkYSWA07/5b9zyiGOl9DTshfFuRBdIOKunboM4ifZ2gGE2nuvzeP4WM4hO3LKHwHCt/qxvh4w8Ml45elKKfS7fFp6+omyedJ5yUR3M5bcRfi+oxF/pEMBnfBYWw9TuYnvgFx9QTNLT8wIW/GL3gbBm0Jzhi/IutRePsY4poxNliIFTrQdpsmjYi9g7iQsc1ajMyj8Qu5FIDAlvoNfjrJOySD0zhE8Kh5Eh/CccxcNf64jqh6mYPuE80cvI6c0ka+MILy73yJ5dhJp5Couxz+bNAbpVQmraUxGlf4wkxeR6MSN8hgJb9ezwH2brSP/O3FKOIdScLbJnr7A8gxCnlERgBWJ5laj8USTvo8CV+weIJfP6goV1CRESaDy5FXCuoqDi4JwHDQaBMKn7lApcPgAieyHqFr4UvIoAFvY6AeKdp6AZTmUvJrE7aUdaQ0BijqjGOgHEU8a4w/y6+jZw076FrCYGdGC9sXojw86cwk+kohm8zFFVHEHxBoiRqO7PYosKB8Oi82G9ZqJMkvjIfPnDZt0bPAOJBPx2amj8UyRv+dSeW32XwZL/HZVyBQHoudC/IFgZZ4wXi4/dJMYd9udDVqoBxWegC/ThNJH7+NKNXztryDYWIRgE+HJ2eBF+k9NooN+VU3QVdxgbZHoDxFrw743pA3ECiPwbYFfumMQHlq8BZ8pYYTYoHyWHSRHqArAuUxeA/+sgSBlugiY4BtEShPrcebvmvwAQLlsagVAXRCoDyr9BwwPzHJ7E3ODQZtZQzgz7myWfAu1sBXFmE1Ai2xlfQAbREoi3nWYwE85da+ZQdRATQhUBbN0+MrQ/O74y8milJAjQiUZxXawVd8fvZ0aJQwqL9dfBrUerwppE0Y322CxsK6/JSBjbNSc3X6yWqPnz0d1ogLFEJlLVHweKlITVjmsgmWiwCcT/WRKU0er5a1YaXvJvhQxgBLEShPweP9EkX0QqA8tP3QA2wK63HCgEJIdrAJPhABLESgPFYzLvtJEXsjUJ4CFkoUKCyZbYmCx0ZkPBZvGli8U2AFv4lAeSz62Hr/FgzaozQE2huB8hSwQNKiBAG0jCyF8O841tV6SIi/yzjSoIi3pAcI+0Y3jX8CKOjZCIGWsHitgJmaTjtMhrWEj8ZkgwA2wXLMwtuFKOdNSJ/REhb72r7+rAmSnJd85s8i0BIvi+03p0eXA99WIo8YtOFn26/C/KfdaP5yhoIf6QbXYl/2Wl0rSuclWeUM5vE1r8vl5din0gEZpgFTkEP04Lj2GM+K3BeV0YUGdQh8EYDBoTTcyrJ9GD1e5F6swk9dOxAwTnK7YUKNvxYTeHsZr21QGZIrf7Dd3/3dc7qBx2IIKj8VQUK/32MDcqaWZU7JpQCiI0NH0gQmI75TIvdAd+wP11mFz8U4eVcSAcsyryLInQDsgWz3O+ActoI/QuUt//rI0uIh1vWjZYs4VtJ9ID46aVnW4tt5FEG+Toovtfxi/N9DvMbfTCN/92yW2u0cGj5m5mAxHMAeil785F9nczaMb/vzin8rZOm84AvYw/yYY4LcDIxzI4BowHsKb+VgtySMf73/jH8MlvB6kncNehpLL7xobkxne6mORbrRzbGc7S1gAGSizvBvkj/TazkjTOdxlvnneRFBLgQQGf9E3k5C0sb/aZpYiktpjO/yep7vX+Hrn3k9R+fhdTOdJlMBOqj9CH14K6HN/SBjEcMYv8GOktsSSN0tkUnTSxg0/1EeRJAPAdRhLD/JVdHJhi4hcyuv0lAlw/SbNOXF7C3k+NJllEUj35cSV63FVjRuab07abbuAlvz0sElsphtd8Cxze2lHnAcw+fXwHO8F4Ct12jPTchxSNdRipTBaDMLt8BjvBWA+sE74AzeXolg/Fkhk2XjsQg/8zWDnpeGo8bfHefy9ioE488SKfur2BBN9GGScGN4ZzxRBGQ0JCSXszCup0gdTEIPjPZRBF4Z0Hot/wV88o4IuMRyjgn+mwP768xMfxZWeiMANf4ejEFbXIzQ8rvKChWBR5NlXrhAUct/Godc5yMYv8t01PVXtTjdl2UTzhtTtLnjbBr/5OD2eIOcUH8Zo0OXuR4dcroH0Ja/yEmuYPy+IXX1A/ba57s+MHZWAJHPfzpb/wuD8XuJzMufJ3XosgicdIGiSa7v8FauYPx+IwPjy7EYl7roDrnZA+xAn1+60GD8eUAGxt+nOzQWDuJcD2DrcQaf6nqEaE/ekCV0Z5lZ+Bkcwhkji3z+sSykK+CL8ZdWRWb7rC48w+Yjz3ouFuIaV9whJ1ygyPgviLYx+lKZss7/cSDTWc+VLK0/wR+M1vEOuNCVgXHmAogmuc5kwZwHf1jL550D6NbLFcgOOcVeImWPwS8mSp27IIJMBRBFeyaxXfgfvq0kcVWaiPFP53Umn/sNZE0RS9CIY/g8DwCV7T5LkQ5a591xru2fbb1nJoB1xg9NyuWL8QsNjGucZR5ywPgjzCN4n0IYwdtfwi8RTEINxmXZE2QigHVuD3Rlpz+Iq7EVRpjp+ACOYWbrM0mD8hD8EsEF6IYxWYkgdQFol9ed/r5vbo+hi9EOx5gZbG0dxTRgPmtUXLNp8EkEBVxMm5ichQhSFYAdyvazLcap6n1yeyweZPs6wmXjb8bMxAK+yETiTPiD9AQXUQQX2X1oIymSmgDU+FdqtMcv4wce5SBzpHnKPbenHOZBfMj2fyTL+jfwB5nNmIDeODtNEaQiADX+FZismyX8Mv4ZNKRjdJDpGTomKDA6JBme/aGDLpvoTXcoJRGk0wP8k8ouJar1ye25D4swLBpceon2BCsxHP6JYDJ2wbeRAokLwA7QRVCXwKe1PeI6FDDK11Qf66NbEw1O4Wd6BP4gtnKJred4MWESE4B0YTR+8fcldYlPyxvuZ0x9qLaeOUE/SxHDtFeDR+kMDa6kCCYl6Q4lIgB94N74Lvxq+aWlvIvXCJ/dnnLoZ1qlA+NfwyckXN4H37W7J5DxGgkIQI2/j+bqHA9/aKJhzOIzX5inln9D6A4tFdeOn3UufMLSlvbE2CREEKsA1rX8liN5oD38QFyCaZySHxPF0HONCrywbmDsizsktjSFIjjfHhRv9u/YBKDqFONnKwp/jF9al5l85rHVYPzNqAjkCCngTvglgvNo/hPi7AliEYA+0J7euT3CwyyBkXl2e8phpmOZJhwAZ7l9EkGBItgD58Qlgnh6gL20W5J8nb60/Gs1ImIY569C42/GzMJbLIcxLIc7PDoPWGzsBOyOHREDsQiA7sMShtkkg4Mf58nK2vlV1dnyb4iKYDXOgYR//UB6rh8yZDEfMRDbGMA8xBbV4gagovPJk0ciIDLJJRGRgGIeplG142RZEbPhNrKn+E4+7f3GxGNn8YZBDS7l16fgKrKTq12Mbk/BcbFvAWYGG4RtNDp0N1zF4mmZFzBPsf+OiVgFYBqwEGvwLd66F1ER4++I47Si46KYr9QtOjDugONZVtPgHgsYqv4m3e23ESOxT4SZuXiFZjEKpdME3UA2sLfDqZWe2FgNaBmtwem8nQV3kONZR9H4X0HMJLIUgi7Gw3y5OPPIgtUZ3l/xUx4ba8vfTI5coPXRMcFW2hNMd6IOaUtmttpU7CS3GrRBc/zIQrgisqBUcHewNRuVWLQnZy7Q+miDsYahbZPpUuoiLfSqyJYSITEBGDHBxbpJe5pmL0uTkvHLlsDJ2poFWoWWXQecyspsQNpY/XMXR5WTTIKRxUT3A+h6+iYWIHAP0qK55Ze1PRLjTpKcukDrowPj9nSHJDqUpjtkOEO9FqclvScj8Q0xZo5mL5sQJW5Kg/sY7Tkn7mjBRsmxC7Q+0bKJ0bSWqamIQDbvGJwc2U6ipLIlUlviGkxE0pEFWdJcivYEtydmWIcf0fQvomHen6gIJPdSMb0lKqllhdAQVlGTYSWxFr0pmuQ6PpFoT0BhJOZduiVn02puS0QEhr13DYamuSEp1bxAmk6wDU7i7ROIl3slYhGMP3lUBDWa22k64qI04J2GRt2TsQQpknpmOPMAFmE1hkTZlSvHMkLBSEWI9qQH61AOxT49pu2VMpKaytdzOYn6DlImk9ygUZ6doZrCr7IQ6V3YDsdl5vNXQRSoHDomaIsTeHs7Wo/MzF9H1/U7iUfsypBZdmgtwNfxTYrgGrRuQ8adOAAnmjv4e7KiSqJA5dCeoIF1CPwCW04jS+8S9t4TzH2cMcqITE/zNi+g0b6A8ahjyLKgh+JtvZk/+iDb3jPMlIxmmZuRHiDbJ8gctgBFuwxnoTM68e2Rm/ljK1ly40wDbkLGZH5CjMzycXAs54LJArpFLX6z1dQl4jYdrz1I1lR5D9CM+Z2OCU6G9Mqbjg4t4Pccy/rL3PgFZ45JZWtwJz3CQ1g4Gz/zqmT8U2l0pzlh/IF/QeukDQfGpsx+gtJY73EGQPrxe53JTeTUOcEMsT3PAVF/bDjtXrqfQQfpIqeMv4oHwRtDxwTLdCn1jA3+aTXL6hYKZBADIK/BIZw7KFtz8LfBKSgdnbQgWtIsLf9Ycy9j0C4RXKBPoe7QMrpDzRvtrUb8xnGe5hwViGNkOgguhxSUHYpLOVR6nG8PZrjtJy4WXmDjiAjsQTiDA2OZ/b+PvfZf4SjOt2D0MUySy2ErwQ5CL1bwH3nbHdnwHv//A1w6sM83nHOBNsRV41eCC+Q9zgsgEEiSIIBAVRMEEKhqggACVU0QQKCqCQIIVDVBAIGqJgggUNUEAQSqmiCAQFUTBBCoaoIAAlVNEECgqgkCCFQ1Tm6I8YaVWIT2OJF3vVHErmxO9oZFL77vAdkjYGIrX9kS+h5/97v8nXL81Iu8ZGvhfHyMhQi0mrCePSHsUNRgNbrSdEUIXSmQ7fVVzrm1FEaBl0Vb/WaDNfx32fQvhr4SYuwGH/Dfl/C7FqMdloTjnZLh/wHd7vFGBBZwhQAAAABJRU5ErkJggg=="},404:function(e,t){!function(){function e(t,a,s){var n=a.pop();if(n){if(s)return e(t,a,n.equals(s)?null:s);var o=n.clone();t.insertNode(o),t.moveToPosition(o,window.CKEDITOR.POSITION_AFTER_START),e(t,a)}}window.CKEDITOR.plugins.add("font",{requires:"richcombo",lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",init:function(t){var a=t.config;!function(t,a,s,n,o,i,r,l){for(var c=t.config,p=new window.CKEDITOR.style(r),d=o.split(";"),h=[],m={},u=0;u<d.length;u++){var g=d[u];if(g){g=g.split("/");var _={},f=d[u]=g[0];_[s]=h[u]=g[1]||f,m[f]=new window.CKEDITOR.style(r,_),m[f]._.definition.name=f}else d.splice(u--,1)}t.ui.addRichCombo(a,{label:n.label,title:n.panelTitle,toolbar:"styles,"+l,defaultValue:"cke-default",allowedContent:p,requiredContent:p,contentTransformations:[[{element:"font",check:"span",left:function(e){return!!e.attributes.size||!!e.attributes.align||!!e.attributes.face},right:function(e){e.name="span",e.attributes.size&&(e.styles["font-size"]=["","x-small","small","medium","large","x-large","xx-large","48px"][e.attributes.size],delete e.attributes.size),e.attributes.align&&(e.styles["text-align"]=e.attributes.align,delete e.attributes.align),e.attributes.face&&(e.styles["font-family"]=e.attributes.face,delete e.attributes.face)}}]],panel:{css:[window.CKEDITOR.skin.getPath("editor")].concat(c.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){var e;this.startGroup(n.panelTitle),this.add(this.defaultValue,"Default","Default");for(var t=0;t<d.length;t++)e=d[t],this.add(e,m[e].buildPreview(),e)},onClick:function(a){t.focus(),t.fire("saveSnapshot");var s,n,o,i,r,l,c,p,d=this.getValue(),h=m[a];if(d&&a!==d)if(s=m[d],(n=t.getSelection().getRanges()[0]).collapsed){if(i=(o=t.elementPath()).contains((function(e){return s.checkElementRemovable(e)}))){if(r=n.checkBoundaryOfElement(i,window.CKEDITOR.START),l=n.checkBoundaryOfElement(i,window.CKEDITOR.END),r&&l){for(p=n.createBookmark();c=i.getFirst();)c.insertBefore(i);i.remove(),n.moveToBookmark(p)}else r||l?(n.moveToPosition(i,r?window.CKEDITOR.POSITION_BEFORE_START:window.CKEDITOR.POSITION_AFTER_END),e(n,o.elements.slice(),i)):(n.splitElement(i),n.moveToPosition(i,window.CKEDITOR.POSITION_AFTER_END),e(n,o.elements.slice(),i));t.getSelection().selectRanges([n])}}else t.removeStyle(s);a===this.defaultValue?s&&t.removeStyle(s):t.applyStyle(h),t.fire("saveSnapshot")},onRender:function(){t.on("selectionChange",(function(e){for(var a,s=this.getValue(),n=e.data.path.elements,o=0;o<n.length;o++)for(var r in a=n[o],m)if(m[r].checkElementMatch(a,!0,t))return void(r!==s&&this.setValue(r));this.setValue("",i)}),this)},refresh:function(){t.activeFilter.check(p)||this.setState(window.CKEDITOR.TRISTATE_DISABLED)}})}(t,"FontSize","size",t.lang.font.fontSize,a.fontSize_sizes,a.fontSize_defaultLabel,a.fontSize_style,40)}})}(),window.CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",window.CKEDITOR.config.font_defaultLabel="",window.CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},window.CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",window.CKEDITOR.config.fontSize_defaultLabel="",window.CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]}},459:function(e,t,a){e.exports=a.p+"static/media/sparkles_popup_icon.e52450d1.png"},460:function(e,t,a){e.exports=a.p+"static/media/locked_popup_icon.a46b0608.png"},461:function(e,t,a){e.exports=a.p+"static/media/download_gif.96ad787a.png"},463:function(e,t,a){e.exports=a.p+"static/media/editor-logo.2d762252.svg"},464:function(e,t,a){e.exports=a.p+"static/media/hamburger.fa5844b6.svg"},473:function(e,t,a){const s=a(4);Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(55)),o=c(a(56)),i=c(a(57)),r=a(0),l=c(r);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(a){(0,n.default)(this,t);var s=(0,o.default)(this,e.call(this,a));return s.changeListener=s.changeListener.bind(s),s.state={value:a.value,config:a.config||{},onChange:a.onChange},s}return(0,i.default)(t,e),t.prototype.componentDidMount=function(){var e=this;window.CKEDITOR?(a(404),window.CKEDITOR.plugins.setLang("font","en",{fontSize:{label:"Size",voiceLabel:"Font Size",panelTitle:"Font Size"},common:{optionDefault:"Default"},label:"Font",panelTitle:"Font Name",voiceLabel:"Font"}),window.ckcontainer=this.divRef,this.instance=window.CKEDITOR.replace(this.divRef,this.state.config,this.state.value),this.instance.on("instanceReady",(function(t){t.editor.setData(e.state.value),"readOnly"in e.state.config&&e.instance.setReadOnly(e.state.config.readOnly)})),this.instance.on("change",this.changeListener)):console.error("CKEditor not found")},t.prototype.componentWillReceiveProps=function(e){if(this.instance){if("ready"===this.instance.status){if(this.state.value!==e.value){this.instance.editable().setHtml(e.value);let t=new Event("siter.textdataupdated");document.dispatchEvent(t)}e.config&&this.state.config!==e.config&&"readOnly"in e.config&&this.instance.setReadOnly(e.config.readOnly)}this.setState({value:e.value,config:e.config||{},onChange:e.onChange})}},t.prototype.componentWillUnmount=function(){this.instance.removeListener("change",this.changeListener),this.instance.destroy()},t.prototype.changeListener=function(){let e=this.instance.getData();if(e.indexOf('style id="component"')>-1){let t=s("<div />");t.html(e),t&&t.find("style")&&(t.find("style").remove(),e=t[0].innerHTML)}this.state.value=e,this.handleChange()},t.prototype.handleChange=function(){this.state.onChange(this.state.value)},t.prototype.render=function(){var e=this;return l.default.createElement("div",{"data-content":!0,ref:function(t){return e.divRef=t}})},t}(r.Component);t.default=p,e.exports=t.default},474:function(e){e.exports=JSON.parse("{\"icon\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'><g opacity='0.8' clip-path='url(#clip0)'><path d='M12.5 5.5C12.5 8.3 8.49999 11.3333 6.49999 12.5C4.49999 11.3333 0.499939 8.3 0.499939 5.5C0.499939 3 1.81244 1.5 3.49994 1.5C5.34369 1.5 6.49994 2.5 6.49994 2.5C6.49994 2.5 7.49999 1.5 9.49999 1.5C11.1874 1.5 12.4999 3 12.5 5.5Z' stroke='#333333' stroke-linejoin='round'/></g><defs><clipPath id='clip0'><rect width='13' height='13' fill='white'/></clipPath></defs></svg>\",\"form\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <g opacity='0.8'> <rect x='0.5' y='1.5' width='12' height='2' rx='1' stroke='#444444'/> <rect x='0.5' y='5.5' width='12' height='2' rx='1' stroke='#444444'/> <rect x='0.5' y='9.5' width='12' height='2' rx='1' fill='#444444' stroke='#444444'/> </g> </svg>\",\"button\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <g opacity='0.8' clipPath='url(#clip0)'> <rect x='0.499939' y='2.5' width='12' height='8' rx='4' stroke='#333333'/> <rect opacity='0.8' x='3.99994' y='5' width='5' height='3' fill='#9A9A9A'/> </g> <defs> <clipPath id='clip0'> <rect width='13' height='13' fill='white'/> </clipPath> </defs> </svg>\",\"code\":\" <svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <g opacity='0.8' clipPath='url(#clip0)'> <path d='M3.49994 2.5L0.499939 6.5L3.49994 10.5M9.49994 2.5L12.4999 6.5L9.49994 10.5' stroke='#333333' stroke-linecap='round' stroke-linejoin='round'/> </g> <defs> <clipPath id='clip0'> <rect width='13' height='13' fill='white'/> </clipPath> </defs> </svg>\",\"map\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <g opacity='0.8' clipPath='url(#clip0)'> <path d='M4.30492 0.597508L0.776332 2.3618C0.60694 2.4465 0.499939 2.61963 0.499939 2.80902V12.5L4.32438 11.0658C4.43757 11.0234 4.56231 11.0234 4.6755 11.0658L8.29579 12.4234C8.42597 12.4723 8.5706 12.4647 8.69495 12.4025L12.2235 10.6382C12.3929 10.5535 12.4999 10.3804 12.4999 10.191V0.5L8.6755 1.93416C8.56231 1.97661 8.43757 1.97661 8.32438 1.93416L4.70409 0.576557C4.57391 0.527739 4.42928 0.53533 4.30492 0.597508Z' stroke='#333333' stroke-linejoin='round'/> <path d='M4.49994 0.5V11M8.49994 2V12.5' stroke='#333333'/> </g> <defs> <clipPath id='clip0'> <rect width='13' height='13' fill='white'/> </clipPath> </defs> </svg>\",\"rectangle\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <path opacity='0.8' d='M11.9999 0.5C12.2761 0.5 12.4999 0.723858 12.4999 1V12C12.4999 12.2761 12.2761 12.5 11.9999 12.5H0.999939C0.723796 12.5 0.499939 12.2761 0.499939 12V1C0.499939 0.723858 0.723797 0.5 0.999939 0.5H11.9999Z' stroke='#333333'/> </svg>\",\"slider\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <g opacity='0.8' clipPath='url(#clip0)'> <path d='M0.499939 1.83333C0.499939 1.08973 1.09163 0.5 1.80549 0.5H11.1944C11.9083 0.5 12.4999 1.08973 12.4999 1.83333V9.16667C12.4999 9.91027 11.9083 10.5 11.1944 10.5H1.80549C1.09163 10.5 0.499939 9.91027 0.499939 9.16667V1.83333Z' stroke='#333333'/> <path d='M7.23217 5.31775L7.55037 5.63595L7.23217 5.31775ZM5.18174 6.73176L4.86354 7.04996L5.49994 7.68636L5.81814 7.36816L5.18174 6.73176ZM10.7677 5.31776L10.4495 5.63596L10.7677 5.31776ZM11.6817 6.8682L11.9999 7.1864L12.6363 6.55L12.3181 6.23181L11.6817 6.8682ZM2.24606 7.0116L2.53415 7.3573L2.24606 7.0116ZM0.711852 7.70436L0.366156 7.99245L0.942329 8.68384L1.28803 8.39575L0.711852 7.70436ZM5.68174 7.8682L5.99994 8.1864L6.63633 7.55L6.31814 7.2318L5.68174 7.8682ZM5.61431 7.16437L5.29611 7.48257L5.29611 7.48257L5.61431 7.16437ZM6.91398 4.99955L5.18174 6.73176L5.81814 7.36816L7.55037 5.63595L6.91398 4.99955ZM10.4495 5.63596L11.6817 6.8682L12.3181 6.23181L11.0859 4.99956L10.4495 5.63596ZM1.95797 6.66591L0.711852 7.70436L1.28803 8.39575L2.53415 7.3573L1.95797 6.66591ZM6.31814 7.2318L5.9325 6.84617L5.29611 7.48257L5.68174 7.8682L6.31814 7.2318ZM2.53415 7.3573C3.34866 6.67852 4.54638 6.73284 5.29611 7.48257L5.9325 6.84617C4.85363 5.7673 3.13008 5.68912 1.95797 6.66591L2.53415 7.3573ZM7.55037 5.63595C8.35094 4.83538 9.64893 4.83539 10.4495 5.63596L11.0859 4.99956C9.93385 3.84752 8.06602 3.84751 6.91398 4.99955L7.55037 5.63595Z' fill='#333333'/> <path d='M6.99994 12.5C6.99994 12.7761 6.77608 13 6.49994 13C6.2238 13 5.99994 12.7761 5.99994 12.5C5.99994 12.2239 6.2238 12 6.49994 12C6.77608 12 6.99994 12.2239 6.99994 12.5Z' fill='#333333'/> <path d='M8.99994 12.5C8.99994 12.7761 8.77608 13 8.49994 13C8.2238 13 7.99994 12.7761 7.99994 12.5C7.99994 12.2239 8.2238 12 8.49994 12C8.77608 12 8.99994 12.2239 8.99994 12.5Z' fill='#333333'/> <path d='M4.99994 12.5C4.99994 12.7761 4.77608 13 4.49994 13C4.2238 13 3.99994 12.7761 3.99994 12.5C3.99994 12.2239 4.2238 12 4.49994 12C4.77608 12 4.99994 12.2239 4.99994 12.5Z' fill='#333333'/> </g> <defs> <clipPath id='clip0'> <rect width='13' height='13' fill='white'/> </clipPath> </defs> </svg>\",\"text\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <g opacity='0.8' clipPath='url(#clip0)'> <path d='M11.9999 1.5V1H10.9999V1.5H11.9999ZM10.9999 11.5V12H11.9999V11.5H10.9999ZM10.9999 1.5V11.5H11.9999V1.5H10.9999ZM10.1581 12.9743C11.0291 12.684 11.9708 12.684 12.8418 12.9743L13.1581 12.0257C12.0818 11.6669 10.9181 11.6669 9.84183 12.0257L10.1581 12.9743ZM9.84183 0.974342C10.9181 1.33311 12.0818 1.33311 13.1581 0.974342L12.8418 0.0256583C11.9708 0.316003 11.0291 0.316003 10.1581 0.0256583L9.84183 0.974342Z' fill='#333333'/> <path d='M0.0430332 10.2969C-0.0691189 10.5493 0.0445276 10.8448 0.29687 10.9569C0.549212 11.0691 0.844693 10.9554 0.956845 10.7031L0.0430332 10.2969ZM4.49994 1.5L4.95684 1.29693C4.87659 1.11637 4.69753 1 4.49994 1C4.30234 1 4.12328 1.11637 4.04303 1.29693L4.49994 1.5ZM8.04303 10.7031C8.15519 10.9554 8.45067 11.0691 8.70301 10.9569C8.95535 10.8448 9.069 10.5493 8.95684 10.2969L8.04303 10.7031ZM4.04303 1.70307L8.04303 10.7031L8.95684 10.2969L4.95684 1.29693L4.04303 1.70307ZM0.956845 10.7031L4.95684 1.70307L4.04303 1.29693L0.0430332 10.2969L0.956845 10.7031ZM1.99994 8H6.99994V7H1.99994V8Z' fill='#333333'/> </g> <defs> <clipPath id='clip0'> <rect width='13' height='13' fill='white'/> </clipPath> </defs> </svg>\",\"video\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <g opacity='0.8'> <path d='M0.499939 6.50001C0.499939 3.1863 3.18624 0.500005 6.49996 0.500011C9.81365 0.500016 12.4999 3.1863 12.5 6.5C12.5 9.8137 9.81366 12.5 6.49995 12.5C3.18624 12.5 0.499939 9.81371 0.499939 6.50001Z' stroke='#333333'/> <path d='M9.12219 5.88555C9.54873 6.18412 9.54873 6.81582 9.12219 7.1144L6.18004 9.17392C5.68295 9.52189 4.99994 9.16627 4.99994 8.5595L4.99994 4.44048C4.99994 3.83372 5.68295 3.4781 6.18003 3.82606L9.12219 5.88555Z' fill='#333333'/> </g> </svg>\",\"image\":\"<svg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'> <g opacity='0.8' clipPath='url(#clip0)'> <path d='M0.499939 2.16667C0.499939 1.15696 1.16594 0.5 1.80549 0.5H11.1944C11.8339 0.5 12.4999 1.15696 12.4999 2.16667V10.8333C12.4999 11.843 11.8339 12.5 11.1944 12.5H1.80549C1.16594 12.5 0.499939 11.843 0.499939 10.8333V2.16667Z' stroke='#333333'/> <path d='M7.23217 6.31779L7.55037 6.63599L7.23217 6.31779ZM5.18174 7.73181L4.86354 8.05L5.49994 8.6864L5.81814 8.36821L5.18174 7.73181ZM10.7677 6.31781L10.4495 6.636L10.7677 6.31781ZM11.6817 7.86825L11.9999 8.18644L12.6363 7.55005L12.3181 7.23185L11.6817 7.86825ZM2.24606 8.01165L2.53415 8.35734L2.24606 8.01165ZM0.711852 8.70441L0.366156 8.99249L0.942329 9.68389L1.28803 9.3958L0.711852 8.70441ZM5.68174 8.86825L5.99994 9.18644L6.63633 8.55005L6.31814 8.23185L5.68174 8.86825ZM5.61431 8.16442L5.29611 8.48261L5.29611 8.48261L5.61431 8.16442ZM6.91398 5.99959L5.18174 7.73181L5.81814 8.36821L7.55037 6.63599L6.91398 5.99959ZM10.4495 6.636L11.6817 7.86825L12.3181 7.23185L11.0859 5.99961L10.4495 6.636ZM1.95797 7.66595L0.711852 8.70441L1.28803 9.3958L2.53415 8.35734L1.95797 7.66595ZM6.31814 8.23185L5.9325 7.84622L5.29611 8.48261L5.68174 8.86825L6.31814 8.23185ZM2.53415 8.35734C3.34866 7.67856 4.54638 7.73289 5.29611 8.48261L5.9325 7.84622C4.85363 6.76734 3.13008 6.68917 1.95797 7.66595L2.53415 8.35734ZM7.55037 6.63599C8.35094 5.83543 9.64893 5.83543 10.4495 6.636L11.0859 5.99961C9.93385 4.84757 8.06602 4.84756 6.91398 5.99959L7.55037 6.63599Z' fill='#333333'/> <circle cx='3.99994' cy='4' r='1' fill='#9A9A9A'/> </g> <defs> <clipPath id='clip0'> <rect width='13' height='13' fill='white'/> </clipPath> </defs> </svg>\"}")},476:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();var n=a(888),o=a(901),i=a(0),r=a(86).v4,l=!(!document||!window),c=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s.state=s.initialState(e),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"clean",value:function(){if(this.state.id&&l){var e=document.getElementById(this.state.id);if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)}}},{key:"parse",value:function(e){var t=(e||{}).html;if(t&&"string"===typeof t)return function e(t){return t.tagName&&"script"===t.tagName?(t.childNodes||[]).map((function(e){return e.value})):o((t.childNodes||[]).map(e))}(n.parseFragment(t))}},{key:"initialState",value:function(e){return{id:(this.state||{}).id||r(),scripts:this.parse(e)}}},{key:"shouldComponentUpdate",value:function(e){return this.props.html!==e.html}},{key:"componentWillReceiveProps",value:function(e){this.props.html!==e.html&&(this.clean(),this.setState(this.initialState(e)))}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){((this.state||{}).scripts||[]).map((function(e){return new Function("require",e)})).forEach((function(e){return e()}))}},{key:"render",value:function(){return"string"!==typeof this.props.html?null:i.createElement("div",{id:this.state.id,className:this.props.className,dangerouslySetInnerHTML:{__html:this.props.html}})}}]),t}(i.Component);t.default=c},479:function(e,t,a){e.exports=a.p+"static/media/fontsize-icon.8fb6f6de.svg"},480:function(e,t,a){e.exports=a.p+"static/media/lineheight-icon.da5de4c4.svg"},481:function(e,t,a){e.exports=a.p+"static/media/letterspacing-icon.eeb28a28.svg"},482:function(e,t,a){e.exports=a.p+"static/media/textindent-icon.1298bf90.svg"},486:function(e,t){var a={init:function(){for(var e,t,s,n=0;n<a.names.length;n++)e="#"+a.names[n][0],t=a.rgb(e),s=a.hsl(e),a.names[n].push(t[0],t[1],t[2],s[0],s[1],s[2])},name:function(e){if((e=e.toUpperCase()).length<3||e.length>7)return["#000000","Invalid Color: "+e,"#000000","",!1];e.length%3==0&&(e="#"+e),4==e.length&&(e="#"+e.substr(1,1)+e.substr(1,1)+e.substr(2,1)+e.substr(2,1)+e.substr(3,1)+e.substr(3,1));for(var t=a.rgb(e),s=t[0],n=t[1],o=t[2],i=a.hsl(e),r=i[0],l=i[1],c=i[2],p=0,d=-1,h=-1,m=0;m<a.names.length;m++){if(e=="#"+a.names[m][0])return["#"+a.names[m][0],a.names[m][1],a.shadergb(a.names[m][2]),a.names[m][2],!0];p=Math.pow(s-a.names[m][3],2)+Math.pow(n-a.names[m][4],2)+Math.pow(o-a.names[m][5],2)+2*(Math.abs(Math.pow(r-a.names[m][6],2))+Math.pow(l-a.names[m][7],2)+Math.abs(Math.pow(c-a.names[m][8],2))),(h<0||h>p)&&(h=p,d=m)}return d<0?["#000000","Invalid Color: "+e,"#000000","",!1]:["#"+a.names[d][0],a.names[d][1],a.shadergb(a.names[d][2]),a.names[d][2],!1]},hsl:function(e){var t,a,s,n,o,i,r=[parseInt("0x"+e.substring(1,3))/255,parseInt("0x"+e.substring(3,5))/255,parseInt("0x"+e.substring(5,7))/255],l=r[0],c=r[1],p=r[2];return t=Math.min(l,Math.min(c,p)),s=(a=Math.max(l,Math.max(c,p)))-t,o=0,(i=(t+a)/2)>0&&i<1&&(o=s/(i<.5?2*i:2-2*i)),n=0,s>0&&(a==l&&a!=c&&(n+=(c-p)/s),a==c&&a!=p&&(n+=2+(p-l)/s),a==p&&a!=l&&(n+=4+(l-c)/s),n/=6),[parseInt(255*n),parseInt(255*o),parseInt(255*i)]},rgb:function(e){return[parseInt("0x"+e.substring(1,3)),parseInt("0x"+e.substring(3,5)),parseInt("0x"+e.substring(5,7))]},shadergb:function(e){for(var t=0;t<a.shades.length;t++)if(e==a.shades[t][1])return"#"+a.shades[t][0];return"#000000"},shades:[["FF0000","Red"],["FFA500","Orange"],["FFFF00","Yellow"],["008000","Green"],["0000FF","Blue"],["EE82EE","Violet"],["A52A2A","Brown"],["000000","Black"],["808080","Grey"],["FFFFFF","White"]],names:[["35312C","Acadia","Brown"],["75AA94","Acapulco","Green"],["C0E8D5","Aero Blue","Green"],["745085","Affair","Violet"],["905E26","Afghan Tan","Yellow"],["5D8AA8","Air Force Blue","Blue"],["BEB29A","Akaroa","Yellow"],["F2F0E6","Alabaster","Grey"],["E1DACB","Albescent White","Yellow"],["954E2C","Alert Tan","Orange"],["F0F8FF","Alice Blue","Blue"],["E32636","Alizarin","Red"],["1F6A7D","Allports","Blue"],["EED9C4","Almond","Yellow"],["9A8678","Almond Frost","Brown"],["AD8A3B","Alpine","Yellow"],["CDC6C5","Alto","Grey"],["848789","Aluminium","Grey"],["E52B50","Amaranth","Red"],["387B54","Amazon","Green"],["FFBF00","Amber","Yellow"],["8A7D72","Americano","Brown"],["9966CC","Amethyst","Violet"],["95879C","Amethyst Smoke","Violet"],["F5E6EA","Amour","Violet"],["7D9D72","Amulet","Green"],["8CCEEA","Anakiwa","Blue"],["6C461F","Antique Brass","Orange"],["FAEBD7","Antique White","White"],["C68E3F","Anzac","Yellow"],["D3A95C","Apache","Yellow"],["66B348","Apple","Green"],["A95249","Apple Blossom","Red"],["DEEADC","Apple Green","Green"],["FBCEB1","Apricot","Orange"],["F7F0DB","Apricot White","Yellow"],["00FFFF","Aqua","Blue"],["D9DDD5","Aqua Haze","Grey"],["E8F3E8","Aqua Spring","Green"],["DBE4DC","Aqua Squeeze","Grey"],["7FFFD4","Aquamarine","Blue"],["274A5D","Arapawa","Blue"],["484A46","Armadillo","Grey"],["4B5320","Army green","Green"],["827A67","Arrowtown","Yellow"],["3B444B","Arsenic","Grey"],["BEBAA7","Ash","Green"],["7BA05B","Asparagus","Green"],["EDD5A6","Astra","Yellow"],["376F89","Astral","Blue"],["445172","Astronaut","Blue"],["214559","Astronaut Blue","Blue"],["DCDDDD","Athens Grey","Grey"],["D5CBB2","Aths Special","Yellow"],["9CD03B","Atlantis","Green"],["2B797A","Atoll","Green"],["3D4B52","Atomic","Blue"],["FF9966","Atomic Tangerine","Orange"],["9E6759","Au Chico","Brown"],["372528","Aubergine","Brown"],["712F2C","Auburn","Brown"],["EFF8AA","Australian Mint","Green"],["95986B","Avocado","Green"],["63775A","Axolotl","Green"],["F9C0C4","Azalea","Red"],["293432","Aztec","Green"],["F0FFFF","Azure","Blue"],["6FFFFF","Baby Blue","Blue"],["25597F","Bahama Blue","Blue"],["A9C01C","Bahia","Green"],["5C3317","Baker's Chocolate","Brown"],["849CA9","Bali Hai","Blue"],["3C3D3E","Baltic Sea","Grey"],["FBE7B2","Banana Mania","Yellow"],["878466","Bandicoot","Green"],["D2C61F","Barberry","Green"],["B6935C","Barley Corn","Yellow"],["F7E5B7","Barley White","Yellow"],["452E39","Barossa","Violet"],["2C2C32","Bastille","Blue"],["51574F","Battleship Grey","Grey"],["7BB18D","Bay Leaf","Green"],["353E64","Bay Of Many","Blue"],["8F7777","Bazaar","Brown"],["EBB9B3","Beauty Bush","Red"],["926F5B","Beaver","Brown"],["E9D7AB","Beeswax","Yellow"],["F5F5DC","Beige","Brown"],["86D2C1","Bermuda","Green"],["6F8C9F","Bermuda Grey","Blue"],["BCBFA8","Beryl Green","Green"],["F4EFE0","Bianca","Yellow"],["334046","Big Stone","Blue"],["3E8027","Bilbao","Green"],["AE99D2","Biloba Flower","Violet"],["3F3726","Birch","Yellow"],["D0C117","Bird Flower","Green"],["2F3C53","Biscay","Blue"],["486C7A","Bismark","Blue"],["B5AC94","Bison Hide","Yellow"],["FFE4C4","Bisque","Brown"],["3D2B1F","Bistre","Brown"],["88896C","Bitter","Green"],["D2DB32","Bitter Lemon","Green"],["FE6F5E","Bittersweet","Orange"],["E7D2C8","Bizarre","Orange"],["000000","Black","Black"],["232E26","Black Bean","Green"],["2C3227","Black Forest","Green"],["E0DED7","Black Haze","Grey"],["332C22","Black Magic","Brown"],["383740","Black Marlin","Blue"],["1E272C","Black Pearl","Blue"],["2C2D3C","Black Rock","Blue"],["532934","Black Rose","Red"],["24252B","Black Russian","Grey"],["E5E6DF","Black Squeeze","Grey"],["E5E4DB","Black White","Grey"],["43182F","Blackberry","Violet"],["2E183B","Blackcurrant","Violet"],["D9D0C1","Blanc","Yellow"],["FFEBCD","Blanched Almond","Brown"],["EBE1CE","Bleach White","Yellow"],["A3E3ED","Blizzard Blue","Blue"],["DFB1B6","Blossom","Red"],["0000FF","Blue","Blue"],["62777E","Blue Bayoux","Blue"],["9999CC","Blue Bell","Blue"],["E3D6E9","Blue Chalk","Violet"],["262B2F","Blue Charcoal","Blue"],["408F90","Blue Chill","Green"],["4B2D72","Blue Diamond","Violet"],["35514F","Blue Dianne","Green"],["4B3C8E","Blue Gem","Violet"],["BDBACE","Blue Haze","Violet"],["00626F","Blue Lagoon","Green"],["6A5BB1","Blue Marguerite","Violet"],["D8F0D2","Blue Romance","Green"],["78857A","Blue Smoke","Green"],["166461","Blue Stone","Green"],["8A2BE2","Blue Violet","Violet"],["1E3442","Blue Whale","Blue"],["3C4354","Blue Zodiac","Blue"],["305C71","Blumine","Blue"],["B55067","Blush","Red"],["2A2725","Bokara Grey","Grey"],["79443B","Bole","Brown"],["AEAEAD","Bombay","Grey"],["DFD7D2","Bon Jour","Grey"],["0095B6","Bondi Blue","Blue"],["DBC2AB","Bone","Orange"],["4C1C24","Bordeaux","Red"],["4C3D4E","Bossanova","Violet"],["438EAC","Boston Blue","Blue"],["92ACB4","Botticelli","Blue"],["254636","Bottle Green","Green"],["7C817C","Boulder","Grey"],["A78199","Bouquet","Violet"],["AF6C3E","Bourbon","Orange"],["5B3D27","Bracken","Brown"],["DCB68A","Brandy","Orange"],["C07C40","Brandy Punch","Orange"],["B6857A","Brandy Rose","Red"],["B5A642","Brass","Yellow"],["517B78","Breaker Bay","Green"],["C62D42","Brick Red","Red"],["F8EBDD","Bridal Heath","Orange"],["FAE6DF","Bridesmaid","Orange"],["66FF00","Bright Green","Green"],["57595D","Bright Grey","Grey"],["922A31","Bright Red","Red"],["ECBD2C","Bright Sun","Yellow"],["08E8DE","Bright Turquoise","Blue"],["FF55A3","Brilliant Rose","Red"],["FB607F","Brink Pink","Red"],["004225","British Racing Green","Green"],["A79781","Bronco","Brown"],["CD7F32","Bronze","Brown"],["584C25","Bronze Olive","Yellow"],["434C28","Bronzetone","Yellow"],["EECC24","Broom","Yellow"],["A52A2A","Brown","Brown"],["53331E","Brown Bramble","Brown"],["594537","Brown Derby","Brown"],["3C241B","Brown Pod","Brown"],["E6F2EA","Bubbles","Green"],["6E5150","Buccaneer","Red"],["A5A88F","Bud","Green"],["BC9B1B","Buddha Gold","Yellow"],["F0DC82","Buff","Yellow"],["482427","Bulgarian Rose","Red"],["75442B","Bull Shot","Orange"],["292C2F","Bunker","Grey"],["2B3449","Bunting","Blue"],["800020","Burgundy","Red"],["DEB887","Burly Wood","Brown"],["234537","Burnham","Green"],["D08363","Burning Sand","Orange"],["582124","Burnt Crimson","Red"],["FF7034","Burnt Orange","Orange"],["E97451","Burnt Sienna","Brown"],["8A3324","Burnt Umber","Brown"],["DA9429","Buttercup","Yellow"],["9D702E","Buttered Rum","Yellow"],["68578C","Butterfly Bush","Violet"],["F6E0A4","Buttermilk","Yellow"],["F1EBDA","Buttery White","Yellow"],["4A2E32","Cab Sav","Red"],["CD526C","Cabaret","Red"],["4C5544","Cabbage Pont","Green"],["5B6F55","Cactus","Green"],["5F9EA0","Cadet Blue","Blue"],["984961","Cadillac","Red"],["6A4928","Cafe Royale","Brown"],["D5B185","Calico","Brown"],["E98C3A","California","Orange"],["3D7188","Calypso","Blue"],["206937","Camarone","Green"],["803A4B","Camelot","Red"],["CCA483","Cameo","Brown"],["4F4D32","Camouflage","Yellow"],["78866B","Camouflage Green","Green"],["D08A9B","Can Can","Red"],["FFFF99","Canary","Yellow"],["8E5164","Cannon Pink","Red"],["4E5552","Cape Cod","Grey"],["FEE0A5","Cape Honey","Yellow"],["75482F","Cape Palliser","Orange"],["AFC182","Caper","Green"],["592720","Caput Mortuum","Brown"],["FFD59A","Caramel","Yellow"],["EBE5D5","Cararra","Green"],["1B3427","Cardin Green","Green"],["C41E3A","Cardinal","Red"],["C99AA0","Careys Pink","Red"],["00CC99","Caribbean Green","Green"],["E68095","Carissma","Red"],["F5F9CB","Carla","Green"],["960018","Carmine","Red"],["5B3A24","Carnaby Tan","Brown"],["FFA6C9","Carnation Pink","Red"],["F8DBE0","Carousel Pink","Red"],["ED9121","Carrot Orange","Orange"],["F0B253","Casablanca","Yellow"],["3F545A","Casal","Blue"],["8CA8A0","Cascade","Green"],["D1B399","Cashmere","Brown"],["AAB5B8","Casper","Blue"],["44232F","Castro","Red"],["273C5A","Catalina Blue","Blue"],["E0E4DC","Catskill White","Grey"],["E0B8B1","Cavern Pink","Red"],["9271A7","Ce Soir","Violet"],["463430","Cedar","Brown"],["ACE1AF","Celadon","Green"],["B4C04C","Celery","Green"],["D2D2C0","Celeste","Green"],["3A4E5F","Cello","Blue"],["2B3F36","Celtic","Green"],["857158","Cement","Brown"],["DE3163","Cerise","Violet"],["007BA7","Cerulean","Blue"],["2A52BE","Cerulean Blue","Blue"],["FDE9E0","Chablis","Red"],["5A6E41","Chalet Green","Green"],["DFC281","Chalky","Yellow"],["475877","Chambray","Blue"],["E8CD9A","Chamois","Yellow"],["EED9B6","Champagne","Yellow"],["EDB8C7","Chantilly","Red"],["394043","Charade","Blue"],["464646","Charcoal","Grey"],["F8EADF","Chardon","Orange"],["FFC878","Chardonnay","Yellow"],["A4DCE6","Charlotte","Blue"],["D0748B","Charm","Red"],["7FFF00","Chartreuse","Green"],["DFFF00","Chartreuse Yellow","Yellow"],["419F59","Chateau Green","Green"],["B3ABB6","Chatelle","Violet"],["2C5971","Chathams Blue","Blue"],["88A95B","Chelsea Cucumber","Green"],["95532F","Chelsea Gem","Orange"],["DEC371","Chenin","Yellow"],["F5CD82","Cherokee","Yellow"],["372D52","Cherry Pie","Violet"],["F5D7DC","Cherub","Red"],["B94E48","Chestnut","Brown"],["666FB4","Chetwode Blue","Blue"],["5B5D56","Chicago","Grey"],["F0F5BB","Chiffon","Green"],["D05E34","Chilean Fire","Orange"],["F9F7DE","Chilean Heath","Green"],["FBF3D3","China Ivory","Green"],["B8AD8A","Chino","Yellow"],["9DD3A8","Chinook","Green"],["D2691E","Chocolate","Brown"],["382161","Christalle","Violet"],["71A91D","Christi","Green"],["BF652E","Christine","Orange"],["CAC7B7","Chrome White","Green"],["7D4E38","Cigar","Brown"],["242A2E","Cinder","Grey"],["FBD7CC","Cinderella","Red"],["E34234","Cinnabar","Red"],["5D3B2E","Cioccolato","Brown"],["8E9A21","Citron","Green"],["9FB70A","Citrus","Green"],["D2B3A9","Clam Shell","Orange"],["6E2233","Claret","Red"],["F4C8DB","Classic Rose","Violet"],["897E59","Clay Creek","Yellow"],["DFEFEA","Clear Day","Green"],["463623","Clinker","Brown"],["C2BCB1","Cloud","Yellow"],["353E4F","Cloud Burst","Blue"],["B0A99F","Cloudy","Brown"],["47562F","Clover","Green"],["0047AB","Cobalt","Blue"],["4F3835","Cocoa Bean","Red"],["35281E","Cocoa Brown","Brown"],["E1DABB","Coconut Cream","Green"],["2D3032","Cod Grey","Grey"],["726751","Coffee","Yellow"],["362D26","Coffee Bean","Brown"],["9A463D","Cognac","Red"],["3C2F23","Cola","Brown"],["9D8ABF","Cold Purple","Violet"],["CAB5B2","Cold Turkey","Red"],["9BDDFF","Columbia Blue","Blue"],["636373","Comet","Blue"],["4C785C","Como","Green"],["A0B1AE","Conch","Green"],["827F79","Concord","Grey"],["D2D1CD","Concrete","Grey"],["DDCB46","Confetti","Green"],["654D49","Congo Brown","Brown"],["B1DD52","Conifer","Green"],["C16F68","Contessa","Red"],["DA8A67","Copper","Red"],["77422C","Copper Canyon","Orange"],["996666","Copper Rose","Violet"],["95524C","Copper Rust","Red"],["FF7F50","Coral","Orange"],["F5D0C9","Coral Candy","Red"],["FF4040","Coral Red","Red"],["AB6E67","Coral Tree","Red"],["404D49","Corduroy","Green"],["BBB58D","Coriander","Green"],["5A4C42","Cork","Brown"],["FBEC5D","Corn","Yellow"],["F8F3C4","Corn Field","Green"],["42426F","Corn Flower Blue","Blue"],["8D702A","Corn Harvest","Yellow"],["FFF8DC","Corn Silk","Yellow"],["93CCEA","Cornflower","Blue"],["6495ED","Cornflower Blue","Blue"],["E9BA81","Corvette","Orange"],["794D60","Cosmic","Violet"],["E1F8E7","Cosmic Latte","White"],["FCD5CF","Cosmos","Red"],["625D2A","Costa Del Sol","Green"],["FFB7D5","Cotton Candy","Red"],["BFBAAF","Cotton Seed","Yellow"],["1B4B35","County Green","Green"],["443736","Cowboy","Brown"],["87382F","Crab Apple","Red"],["A65648","Crail","Red"],["DB5079","Cranberry","Red"],["4D3E3C","Crater Brown","Brown"],["FFFDD0","Cream","White"],["FFE39B","Cream Brulee","Yellow"],["EEC051","Cream Can","Yellow"],["393227","Creole","Brown"],["77712B","Crete","Green"],["DC143C","Crimson","Red"],["706950","Crocodile","Yellow"],["763C33","Crown Of Thorns","Red"],["B4E2D5","Cruise","Green"],["165B31","Crusoe","Green"],["F38653","Crusta","Orange"],["784430","Cumin","Orange"],["F5F4C1","Cumulus","Green"],["F5B2C5","Cupid","Red"],["3D85B8","Curious Blue","Blue"],["5C8173","Cutty Sark","Green"],["0F4645","Cyprus","Green"],["EDD2A4","Dairy Cream","Yellow"],["5B3E90","Daisy Bush","Violet"],["664A2D","Dallas","Brown"],["FED85D","Dandelion","Yellow"],["5B89C0","Danube","Blue"],["00008B","Dark Blue","Blue"],["654321","Dark Brown","Brown"],["08457E","Dark Cerulean","Blue"],["986960","Dark Chestnut","Red"],["CD5B45","Dark Coral","Orange"],["008B8B","Dark Cyan","Green"],["B8860B","Dark Goldenrod","Yellow"],["A9A9A9","Dark Gray","Grey"],["013220","Dark Green","Green"],["4A766E","Dark Green Copper","Green"],["BDB76B","Dark Khaki","Yellow"],["8B008B","Dark Magenta","Violet"],["556B2F","Dark Olive Green","Green"],["FF8C00","Dark Orange","Orange"],["9932CC","Dark Orchid","Violet"],["03C03C","Dark Pastel Green","Green"],["E75480","Dark Pink","Red"],["871F78","Dark Purple","Violet"],["8B0000","Dark Red","Red"],["45362B","Dark Rum","Brown"],["E9967A","Dark Salmon","Orange"],["8FBC8F","Dark Sea Green","Green"],["465352","Dark Slate","Green"],["483D8B","Dark Slate Blue","Blue"],["2F4F4F","Dark Slate Grey","Grey"],["177245","Dark Spring Green","Green"],["97694F","Dark Tan","Brown"],["FFA812","Dark Tangerine","Orange"],["00CED1","Dark Turquoise","Blue"],["9400D3","Dark Violet","Violet"],["855E42","Dark Wood","Brown"],["788878","Davy's Grey","Grey"],["9F9D91","Dawn","Green"],["E6D6CD","Dawn Pink","Orange"],["85CA87","De York","Green"],["CCCF82","Deco","Green"],["E36F8A","Deep Blush","Red"],["51412D","Deep Bronze","Brown"],["DA3287","Deep Cerise","Violet"],["193925","Deep Fir","Green"],["343467","Deep Koamaru","Violet"],["9955BB","Deep Lilac","Violet"],["CC00CC","Deep Magenta","Violet"],["FF1493","Deep Pink","Red"],["167E65","Deep Sea","Green"],["00BFFF","Deep Sky Blue","Blue"],["19443C","Deep Teal","Green"],["B5998E","Del Rio","Brown"],["486531","Dell","Green"],["999B95","Delta","Grey"],["8272A4","Deluge","Violet"],["1560BD","Denim","Blue"],["F9E4C6","Derby","Yellow"],["A15F3B","Desert","Orange"],["EDC9AF","Desert Sand","Brown"],["EDE7E0","Desert Storm","Grey"],["E7F2E9","Dew","Green"],["322C2B","Diesel","Grey"],["696969","Dim Gray","Grey"],["607C47","Dingley","Green"],["892D4F","Disco","Red"],["CD8431","Dixie","Yellow"],["1E90FF","Dodger Blue","Blue"],["F5F171","Dolly","Green"],["6A6873","Dolphin","Violet"],["6C5B4C","Domino","Brown"],["5A4F51","Don Juan","Brown"],["816E5C","Donkey Brown","Brown"],["6E5F56","Dorado","Brown"],["E4CF99","Double Colonial White","Yellow"],["E9DCBE","Double Pearl Lusta","Yellow"],["D2C3A3","Double Spanish White","Yellow"],["777672","Dove Grey","Grey"],["6FD2BE","Downy","Green"],["FBEB9B","Drover","Yellow"],["514F4A","Dune","Grey"],["E5CAC0","Dust Storm","Orange"],["AC9B9B","Dusty Grey","Grey"],["F0DFBB","Dutch White","Yellow"],["B0AC94","Eagle","Green"],["B8A722","Earls Green","Green"],["FBF2DB","Early Dawn","Yellow"],["47526E","East Bay","Blue"],["AA8CBC","East Side","Violet"],["00879F","Eastern Blue","Blue"],["E6D8D4","Ebb","Red"],["313337","Ebony","Grey"],["323438","Ebony Clay","Grey"],["A4AFCD","Echo Blue","Blue"],["3F3939","Eclipse","Grey"],["C2B280","Ecru","Brown"],["D6D1C0","Ecru White","Green"],["C96138","Ecstasy","Orange"],["266255","Eden","Green"],["C1D8C5","Edgewater","Green"],["97A49A","Edward","Green"],["F9E4C5","Egg Sour","Yellow"],["990066","Eggplant","Violet"],["1034A6","Egyptian Blue","Blue"],["39392C","El Paso","Green"],["8F4E45","El Salva","Red"],["7DF9FF","Electric Blue","Blue"],["6600FF","Electric Indigo","Violet"],["CCFF00","Electric Lime","Green"],["BF00FF","Electric Purple","Violet"],["243640","Elephant","Blue"],["1B8A6B","Elf Green","Green"],["297B76","Elm","Green"],["50C878","Emerald","Green"],["6E3974","Eminence","Violet"],["50494A","Emperor","Grey"],["7C7173","Empress","Grey"],["29598B","Endeavour","Blue"],["F5D752","Energy Yellow","Yellow"],["274234","English Holly","Green"],["8BA58F","Envy","Green"],["DAB160","Equator","Yellow"],["4E312D","Espresso","Red"],["2D2F28","Eternity","Green"],["329760","Eucalyptus","Green"],["CDA59C","Eunry","Red"],["26604F","Evening Sea","Green"],["264334","Everglade","Green"],["F3E5DC","Fair Pink","Orange"],["6E5A5B","Falcon","Brown"],["C19A6B","Fallow","Brown"],["801818","Falu Red","Red"],["F2E6DD","Fantasy","Orange"],["625665","Fedora","Violet"],["A5D785","Feijoa","Green"],["4D5D53","Feldgrau","Grey"],["D19275","Feldspar","Red"],["63B76C","Fern","Green"],["4F7942","Fern Green","Green"],["876A68","Ferra","Brown"],["EACC4A","Festival","Yellow"],["DBE0D0","Feta","Green"],["B1592F","Fiery Orange","Orange"],["636F22","Fiji Green","Green"],["75785A","Finch","Green"],["61755B","Finlandia","Green"],["694554","Finn","Violet"],["4B5A62","Fiord","Blue"],["8F3F2A","Fire","Orange"],["B22222","Fire Brick","Red"],["E09842","Fire Bush","Yellow"],["CE1620","Fire Engine Red","Red"],["314643","Firefly","Green"],["BE5C48","Flame Pea","Orange"],["86282E","Flame Red","Red"],["EA8645","Flamenco","Orange"],["E1634F","Flamingo","Orange"],["EEDC82","Flax","Yellow"],["716E61","Flint","Green"],["7A2E4D","Flirt","Red"],["FFFAF0","Floral White","White"],["D0EAE8","Foam","Green"],["D5C7E8","Fog","Violet"],["A7A69D","Foggy Grey","Grey"],["228B22","Forest Green","Green"],["FDEFDB","Forget Me Not","Yellow"],["65ADB2","Fountain Blue","Blue"],["FFD7A0","Frangipani","Yellow"],["029D74","Free Speech Aquamarine","Green"],["4156C5","Free Speech Blue","Blue"],["09F911","Free Speech Green","Green"],["E35BD8","Free Speech Magenta","Red"],["C00000","Free Speech Red","Red"],["BFBDC1","French Grey","Grey"],["DEB7D9","French Lilac","Violet"],["A4D2E0","French Pass","Blue"],["F64A8A","French Rose","Red"],["86837A","Friar Grey","Grey"],["B4E1BB","Fringy Flower","Green"],["E56D75","Froly","Red"],["E1E4C5","Frost","Green"],["E2F2E4","Frosted Mint","Green"],["DBE5D2","Frostee","Green"],["4BA351","Fruit Salad","Green"],["C154C1","Fuchsia","Violet"],["FF77FF","Fuchsia Pink","Red"],["C2D62E","Fuego","Green"],["D19033","Fuel Yellow","Yellow"],["335083","Fun Blue","Blue"],["15633D","Fun Green","Green"],["3C3B3C","Fuscous Grey","Grey"],["C45655","Fuzzy Wuzzy Brown","Brown"],["2C4641","Gable Green","Green"],["DCDCDC","Gainsboro","White"],["DCD7D1","Gallery","Grey"],["D8A723","Galliano","Yellow"],["E49B0F","Gamboge","Yellow"],["C5832E","Geebung","Yellow"],["31796D","Genoa","Green"],["E77B75","Geraldine","Red"],["CBD0CF","Geyser","Grey"],["C0BFC7","Ghost","Blue"],["F8F8FF","Ghost White","White"],["564786","Gigas","Violet"],["B9AD61","Gimblet","Green"],["D9DFCD","Gin","Green"],["F8EACA","Gin Fizz","Yellow"],["EBD4AE","Givry","Yellow"],["78B1BF","Glacier","Blue"],["5F8151","Glade Green","Green"],["786E4C","Go Ben","Yellow"],["34533D","Goblin","Green"],["FFD700","Gold","Yellow"],["D56C30","Gold Drop","Orange"],["E2B227","Gold Tips","Yellow"],["CA8136","Golden Bell","Orange"],["996515","Golden Brown","Brown"],["F1CC2B","Golden Dream","Yellow"],["EBDE31","Golden Fizz","Green"],["F9D77E","Golden Glow","Yellow"],["FCC200","Golden Poppy","Yellow"],["EACE6A","Golden Sand","Yellow"],["FFC152","Golden Tainoi","Yellow"],["FFDF00","Golden Yellow","Yellow"],["DBDB70","Goldenrod","Yellow"],["373332","Gondola","Grey"],["29332B","Gordons Green","Green"],["FDE336","Gorse","Green"],["399F86","Gossamer","Green"],["9FD385","Gossip","Green"],["698890","Gothic","Blue"],["51559B","Governor Bay","Blue"],["CAB8A2","Grain Brown","Yellow"],["FFCD73","Grandis","Yellow"],["8B8265","Granite Green","Yellow"],["C5E7CD","Granny Apple","Green"],["7B948C","Granny Smith","Green"],["9DE093","Granny Smith Apple","Green"],["413D4B","Grape","Violet"],["383428","Graphite","Yellow"],["4A4B46","Gravel","Grey"],["008000","Green","Green"],["3E6334","Green House","Green"],["393D2A","Green Kelp","Green"],["526B2D","Green Leaf","Green"],["BFC298","Green Mist","Green"],["266242","Green Pea","Green"],["9CA664","Green Smoke","Green"],["A9AF99","Green Spring","Green"],["23414E","Green Vogue","Blue"],["2C2D24","Green Waterloo","Green"],["DEDDCB","Green White","Green"],["ADFF2F","Green Yellow","Green"],["C14D36","Grenadier","Orange"],["808080","Grey","Grey"],["9FA3A7","Grey Chateau","Grey"],["BDBAAE","Grey Nickel","Green"],["D1D3CC","Grey Nurse","Grey"],["A19A7F","Grey Olive","Yellow"],["9391A0","Grey Suit","Blue"],["465945","Grey-Asparagus","Green"],["952E31","Guardsman Red","Red"],["343F5C","Gulf Blue","Blue"],["74B2A8","Gulf Stream","Green"],["A4ADB0","Gull Grey","Grey"],["ACC9B2","Gum Leaf","Green"],["718F8A","Gumbo","Green"],["484753","Gun Powder","Violet"],["2C3539","Gunmetal","Blue"],["7A7C76","Gunsmoke","Grey"],["989171","Gurkha","Green"],["9E8022","Hacienda","Yellow"],["633528","Hairy Heath","Brown"],["2C2A35","Haiti","Violet"],["EDE7C8","Half And Half","Green"],["558F93","Half Baked","Blue"],["F2E5BF","Half Colonial White","Yellow"],["FBF0D6","Half Dutch White","Yellow"],["F1EAD7","Half Pearl Lusta","Yellow"],["E6DBC7","Half Spanish White","Yellow"],["E8D4A2","Hampton","Yellow"],["5218FA","Han Purple","Violet"],["3FFF00","Harlequin","Green"],["C93413","Harley Davidson Orange","Orange"],["CBCEC0","Harp","Green"],["EAB76A","Harvest Gold","Yellow"],["3B2B2C","Havana","Brown"],["5784C1","Havelock Blue","Blue"],["99522B","Hawaiian Tan","Orange"],["D2DAED","Hawkes Blue","Blue"],["4F2A2C","Heath","Red"],["AEBBC1","Heather","Blue"],["948C7E","Heathered Grey","Brown"],["46473E","Heavy Metal","Grey"],["DF73FF","Heliotrope","Violet"],["69684B","Hemlock","Yellow"],["987D73","Hemp","Brown"],["928C3C","Highball","Green"],["7A9461","Highland","Green"],["A7A07E","Hillary","Green"],["736330","Himalaya","Yellow"],["DFF1D6","Hint Of Green","Green"],["F5EFEB","Hint Of Red","Grey"],["F6F5D7","Hint Of Yellow","Green"],["49889A","Hippie Blue","Blue"],["608A5A","Hippie Green","Green"],["AB495C","Hippie Pink","Red"],["A1A9A8","Hit Grey","Grey"],["FDA470","Hit Pink","Orange"],["BB8E34","Hokey Pokey","Yellow"],["647D86","Hoki","Blue"],["25342B","Holly","Green"],["F400A1","Hollywood Cerise","Red"],["5C3C6D","Honey Flower","Violet"],["F0FFF0","Honeydew","White"],["E8ED69","Honeysuckle","Green"],["CD6D93","Hopbush","Violet"],["648894","Horizon","Blue"],["6D562C","Horses Neck","Yellow"],["815B28","Hot Curry","Yellow"],["FF00CC","Hot Magenta","Red"],["FF69B4","Hot Pink","Red"],["4E2E53","Hot Purple","Violet"],["A7752C","Hot Toddy","Yellow"],["CEEFE4","Humming Bird","Green"],["355E3B","Hunter Green","Green"],["8B7E77","Hurricane","Brown"],["B2994B","Husk","Yellow"],["AFE3D6","Ice Cold","Green"],["CAE1D9","Iceberg","Green"],["EF95AE","Illusion","Red"],["B0E313","Inch Worm","Green"],["CD5C5C","Indian Red","Red"],["4F301F","Indian Tan","Brown"],["4B0082","Indigo","Violet"],["9C5B34","Indochine","Orange"],["002FA7","International Klein Blue","Blue"],["FF4F00","International Orange","Orange"],["03B4C8","Iris Blue","Blue"],["62422B","Irish Coffee","Brown"],["CBCDCD","Iron","Grey"],["706E66","Ironside Grey","Grey"],["865040","Ironstone","Brown"],["009900","Islamic Green","Green"],["F8EDDB","Island Spice","Yellow"],["FFFFF0","Ivory","White"],["3D325D","Jacarta","Violet"],["413628","Jacko Bean","Brown"],["3D3F7D","Jacksons Purple","Violet"],["00A86B","Jade","Green"],["E27945","Jaffa","Orange"],["CAE7E2","Jagged Ice","Green"],["3F2E4C","Jagger","Violet"],["29292F","Jaguar","Blue"],["674834","Jambalaya","Brown"],["2F7532","Japanese Laurel","Green"],["CE7259","Japonica","Orange"],["259797","Java","Green"],["5F2C2F","Jazz","Red"],["A50B5E","Jazzberry Jam","Red"],["44798E","Jelly Bean","Blue"],["BBD0C9","Jet Stream","Green"],["136843","Jewel","Green"],["463D3E","Jon","Grey"],["EEF293","Jonquil","Green"],["7AAAE0","Jordy Blue","Blue"],["5D5346","Judge Grey","Brown"],["878785","Jumbo","Grey"],["29AB87","Jungle Green","Green"],["B0C4C4","Jungle Mist","Green"],["74918E","Juniper","Green"],["DCBFAC","Just Right","Orange"],["6C5E53","Kabul","Brown"],["245336","Kaitoke Green","Green"],["C5C3B0","Kangaroo","Green"],["2D2D24","Karaka","Green"],["FEDCC1","Karry","Orange"],["576D8E","Kashmir Blue","Blue"],["4CBB17","Kelly Green","Green"],["4D503C","Kelp","Green"],["6C322E","Kenyan Copper","Red"],["5FB69C","Keppel","Green"],["F0E68C","Khaki","Yellow"],["BFC0AB","Kidnapper","Green"],["3A3532","Kilamanjaro","Grey"],["49764F","Killarney","Green"],["695D87","Kimberly","Violet"],["583580","Kingfisher Daisy","Violet"],["E093AB","Kobi","Red"],["7B785A","Kokoda","Green"],["804E2C","Korma","Orange"],["FEB552","Koromiko","Yellow"],["F9D054","Kournikova","Yellow"],["428929","La Palma","Green"],["BAC00E","La Rioja","Green"],["C6DA36","Las Palmas","Green"],["C6A95E","Laser","Yellow"],["FFFF66","Laser Lemon","Yellow"],["6E8D71","Laurel","Green"],["E6E6FA","Lavender","Violet"],["CCCCFF","Lavender Blue","Blue"],["FFF0F5","Lavender Blush","Violet"],["BDBBD7","Lavender Grey","Grey"],["FBAED2","Lavender Pink","Red"],["FBA0E3","Lavender Rose","Red"],["7CFC00","Lawn Green","Green"],["906A54","Leather","Brown"],["FDE910","Lemon","Yellow"],["FFFACD","Lemon Chiffon","Yellow"],["968428","Lemon Ginger","Yellow"],["999A86","Lemon Grass","Green"],["2E3749","Licorice","Blue"],["ADD8E6","Light Blue","Blue"],["F08080","Light Coral","Orange"],["E0FFFF","Light Cyan","Blue"],["EEDD82","Light Goldenrod","Yellow"],["FAFAD2","Light Goldenrod Yellow","Yellow"],["90EE90","Light Green","Green"],["D3D3D3","Light Grey","Grey"],["FFB6C1","Light Pink","Red"],["FFA07A","Light Salmon","Orange"],["20B2AA","Light Sea Green","Green"],["87CEFA","Light Sky Blue","Blue"],["8470FF","Light Slate Blue","Blue"],["778899","Light Slate Grey","Grey"],["B0C4DE","Light Steel Blue","Blue"],["856363","Light Wood","Brown"],["FFFFE0","Light Yellow","Yellow"],["F7A233","Lightning Yellow","Yellow"],["C8A2C8","Lilac","Violet"],["9470C4","Lilac Bush","Violet"],["C19FB3","Lily","Violet"],["E9EEEB","Lily White","Grey"],["7AAC21","Lima","Green"],["00FF00","Lime","Green"],["32CD32","Lime Green","Green"],["5F9727","Limeade","Green"],["89AC27","Limerick","Green"],["FAF0E6","Linen","White"],["C7CDD8","Link Water","Blue"],["962C54","Lipstick","Red"],["534B4F","Liver","Brown"],["312A29","Livid Brown","Brown"],["DBD9C2","Loafer","Green"],["B3BBB7","Loblolly","Green"],["489084","Lochinvar","Green"],["316EA0","Lochmara","Blue"],["A2A580","Locust","Green"],["393E2E","Log Cabin","Green"],["9D9CB4","Logan","Blue"],["B9ACBB","Lola","Violet"],["AE94AB","London Hue","Violet"],["522426","Lonestar","Red"],["8B504B","Lotus","Brown"],["4C3347","Loulou","Violet"],["AB9A1C","Lucky","Green"],["292D4F","Lucky Point","Blue"],["4E5541","Lunar Green","Green"],["782E2C","Lusty","Red"],["AB8D3F","Luxor Gold","Yellow"],["697D89","Lynch","Blue"],["CBE8E8","Mabel","Blue"],["FFB97B","Macaroni And Cheese","Orange"],["B7E3A8","Madang","Green"],["2D3C54","Madison","Blue"],["473E23","Madras","Brown"],["FF00FF","Magenta","Violet"],["AAF0D1","Magic Mint","Green"],["F8F4FF","Magnolia","White"],["CA3435","Mahogany","Brown"],["A56531","Mai Tai","Orange"],["2A2922","Maire","Yellow"],["E3B982","Maize","Yellow"],["695F50","Makara","Brown"],["505555","Mako","Grey"],["0BDA51","Malachite","Green"],["97976F","Malachite Green","Green"],["66B7E1","Malibu","Blue"],["3A4531","Mallard","Green"],["A59784","Malta","Brown"],["766D7C","Mamba","Violet"],["8D90A1","Manatee","Blue"],["B57B2E","Mandalay","Yellow"],["8E2323","Mandarian Orange","Orange"],["CD525B","Mandy","Red"],["F5B799","Mandys Pink","Orange"],["E77200","Mango Tango","Orange"],["E2AF80","Manhattan","Orange"],["7FC15C","Mantis","Green"],["96A793","Mantle","Green"],["E4DB55","Manz","Green"],["352235","Mardi Gras","Violet"],["B88A3D","Marigold","Yellow"],["42639F","Mariner","Blue"],["800000","Maroon","Brown"],["2B2E26","Marshland","Green"],["B7A8A3","Martini","Brown"],["3C3748","Martinique","Violet"],["EBC881","Marzipan","Yellow"],["57534B","Masala","Brown"],["365C7D","Matisse","Blue"],["8E4D45","Matrix","Red"],["524B4B","Matterhorn","Grey"],["E0B0FF","Mauve","Violet"],["915F6D","Mauve Taupe","Red"],["F091A9","Mauvelous","Red"],["C8B1C0","Maverick","Violet"],["73C2FB","Maya Blue","Blue"],["8C6338","McKenzie","Orange"],["66CDAA","Medium Aquamarine","Blue"],["0000CD","Medium Blue","Blue"],["AF4035","Medium Carmine","Red"],["EAEAAE","Medium Goldenrod","Yellow"],["BA55D3","Medium Orchid","Violet"],["9370DB","Medium Purple","Violet"],["3CB371","Medium Sea Green","Green"],["7B68EE","Medium Slate Blue","Blue"],["00FA9A","Medium Spring Green","Green"],["48D1CC","Medium Turquoise","Blue"],["C71585","Medium Violet Red","Red"],["A68064","Medium Wood","Brown"],["E0B7C2","Melanie","Red"],["342931","Melanzane","Violet"],["FEBAAD","Melon","Red"],["C3B9DD","Melrose","Violet"],["D5D2D1","Mercury","Grey"],["E1DBD0","Merino","Yellow"],["4F4E48","Merlin","Grey"],["73343A","Merlot","Red"],["554A3C","Metallic Bronze","Red"],["6E3D34","Metallic Copper","Red"],["D4AF37","Metallic Gold","Yellow"],["BB7431","Meteor","Orange"],["4A3B6A","Meteorite","Violet"],["9B3D3D","Mexican Red","Red"],["666A6D","Mid Grey","Grey"],["21303E","Midnight","Blue"],["191970","Midnight Blue","Blue"],["21263A","Midnight Express","Blue"],["242E28","Midnight Moss","Green"],["3F3623","Mikado","Brown"],["F6F493","Milan","Green"],["9E3332","Milano Red","Red"],["F3E5C0","Milk Punch","Yellow"],["DCD9CD","Milk White","Grey"],["595648","Millbrook","Brown"],["F5F5CC","Mimosa","Green"],["DAEA6F","Mindaro","Green"],["373E41","Mine Shaft","Blue"],["506355","Mineral Green","Green"],["407577","Ming","Green"],["3E3267","Minsk","Violet"],["F5FFFA","Mint Cream","White"],["98FF98","Mint Green","Green"],["E0D8A7","Mint Julep","Green"],["C6EADD","Mint Tulip","Green"],["373F43","Mirage","Blue"],["A5A9B2","Mischka","Blue"],["BAB9A9","Mist Grey","Grey"],["FFE4E1","Misty Rose","Violet"],["605A67","Mobster","Violet"],["582F2B","Moccaccino","Red"],["FFE4B5","Moccasin","Yellow"],["6F372D","Mocha","Red"],["97463C","Mojo","Red"],["FF9889","Mona Lisa","Red"],["6B252C","Monarch","Red"],["554D42","Mondo","Brown"],["A58B6F","Mongoose","Brown"],["7A7679","Monsoon","Grey"],["393B3C","Montana","Grey"],["7AC5B4","Monte Carlo","Green"],["8378C7","Moody Blue","Violet"],["F5F3CE","Moon Glow","Green"],["CECDB8","Moon Mist","Green"],["C0B2D7","Moon Raker","Violet"],["F0C420","Moon Yellow","Yellow"],["9ED1D3","Morning Glory","Blue"],["442D21","Morocco Brown","Brown"],["565051","Mortar","Grey"],["005F5B","Mosque","Green"],["ADDFAD","Moss Green","Green"],["1AB385","Mountain Meadow","Green"],["A09F9C","Mountain Mist","Grey"],["997A8D","Mountbatten Pink","Violet"],["A9844F","Muddy Waters","Yellow"],["9E7E53","Muesli","Brown"],["C54B8C","Mulberry","Violet"],["884F40","Mule Fawn","Brown"],["524D5B","Mulled Wine","Violet"],["FFDB58","Mustard","Yellow"],["D68B80","My Pink","Red"],["FDAE45","My Sin","Yellow"],["21421E","Myrtle","Green"],["D8DDDA","Mystic","Grey"],["4E5D4E","Nandor","Green"],["A39A87","Napa","Yellow"],["E9E6DC","Narvik","Green"],["FFDEAD","Navajo White","Brown"],["000080","Navy","Blue"],["0066CC","Navy Blue","Blue"],["B8C6BE","Nebula","Green"],["EEC7A2","Negroni","Orange"],["4D4DFF","Neon Blue","Blue"],["FF9933","Neon Carrot","Orange"],["FF6EC7","Neon Pink","Violet"],["93AAB9","Nepal","Blue"],["77A8AB","Neptune","Green"],["252525","Nero","Grey"],["AAA583","Neutral Green","Green"],["666F6F","Nevada","Grey"],["6D3B24","New Amber","Orange"],["00009C","New Midnight Blue","Blue"],["E4C385","New Orleans","Yellow"],["EBC79E","New Tan","Brown"],["DD8374","New York Pink","Red"],["29A98B","Niagara","Green"],["332E2E","Night Rider","Grey"],["A23D54","Night Shadz","Red"],["253F4E","Nile Blue","Blue"],["A99D9D","Nobel","Grey"],["A19986","Nomad","Yellow"],["1D393C","Nordic","Blue"],["A4B88F","Norway","Green"],["BC9229","Nugget","Yellow"],["7E4A3B","Nutmeg","Brown"],["FCEDC5","Oasis","Yellow"],["008F70","Observatory","Green"],["4CA973","Ocean Green","Green"],["CC7722","Ochre","Brown"],["DFF0E2","Off Green","Green"],["FAF3DC","Off Yellow","Yellow"],["313330","Oil","Grey"],["8A3335","Old Brick","Red"],["73503B","Old Copper","Red"],["CFB53B","Old Gold","Yellow"],["FDF5E6","Old Lace","White"],["796878","Old Lavender","Violet"],["C02E4C","Old Rose","Red"],["808000","Olive","Green"],["6B8E23","Olive Drab","Green"],["B5B35C","Olive Green","Green"],["888064","Olive Haze","Yellow"],["747028","Olivetone","Green"],["9AB973","Olivine","Orange"],["C2E6EC","Onahau","Blue"],["48412B","Onion","Yellow"],["A8C3BC","Opal","Green"],["987E7E","Opium","Brown"],["395555","Oracle","Green"],["FFA500","Orange","Orange"],["FFA000","Orange Peel","Orange"],["FF4500","Orange Red","Orange"],["A85335","Orange Roughy","Orange"],["EAE3CD","Orange White","Yellow"],["DA70D6","Orchid","Violet"],["F1EBD9","Orchid White","Yellow"],["255B77","Orient","Blue"],["C28E88","Oriental Pink","Red"],["D2D3B3","Orinoco","Green"],["818988","Oslo Grey","Grey"],["D3DBCB","Ottoman","Green"],["2D383A","Outer Space","Grey"],["FF6037","Outrageous Orange","Orange"],["28353A","Oxford Blue","Blue"],["6D9A78","Oxley","Green"],["D1EAEA","Oyster Bay","Blue"],["D4B5B0","Oyster Pink","Red"],["864B36","Paarl","Orange"],["7A715C","Pablo","Yellow"],["009DC4","Pacific Blue","Blue"],["4F4037","Paco","Brown"],["7EB394","Padua","Green"],["682860","Palatinate Purple","Violet"],["987654","Pale Brown","Brown"],["DDADAF","Pale Chestnut","Red"],["ABCDEF","Pale Cornflower Blue","Blue"],["EEE8AA","Pale Goldenrod","Yellow"],["98FB98","Pale Green","Green"],["BDCAA8","Pale Leaf","Green"],["F984E5","Pale Magenta","Violet"],["9C8D72","Pale Oyster","Brown"],["FADADD","Pale Pink","Red"],["F9F59F","Pale Prim","Green"],["EFD6DA","Pale Rose","Red"],["636D70","Pale Sky","Blue"],["C3BEBB","Pale Slate","Grey"],["BC987E","Pale Taupe","Grey"],["AFEEEE","Pale Turquoise","Blue"],["DB7093","Pale Violet Red","Red"],["20392C","Palm Green","Green"],["36482F","Palm Leaf","Green"],["EAE4DC","Pampas","Grey"],["EBF7E4","Panache","Green"],["DFB992","Pancho","Orange"],["544F3A","Panda","Yellow"],["FFEFD5","Papaya Whip","Yellow"],["7C2D37","Paprika","Red"],["488084","Paradiso","Green"],["D0C8B0","Parchment","Yellow"],["FBEB50","Paris Daisy","Green"],["312760","Paris M","Violet"],["BFCDC0","Paris White","Green"],["305D35","Parsley","Green"],["77DD77","Pastel Green","Green"],["639283","Patina","Green"],["D3E5EF","Pattens Blue","Blue"],["2A2551","Paua","Violet"],["BAAB87","Pavlova","Yellow"],["404048","Payne's Grey","Grey"],["FFCBA4","Peach","Orange"],["FFDAB9","Peach Puff","Yellow"],["FFCC99","Peach-Orange","Orange"],["FADFAD","Peach-Yellow","Yellow"],["7A4434","Peanut","Brown"],["D1E231","Pear","Yellow"],["DED1C6","Pearl Bush","Orange"],["EAE0C8","Pearl Lusta","Yellow"],["766D52","Peat","Yellow"],["2599B2","Pelorous","Blue"],["D7E7D0","Peppermint","Green"],["ACB9E8","Perano","Blue"],["C2A9DB","Perfume","Violet"],["ACB6B2","Periglacial Blue","Green"],["C3CDE6","Periwinkle","Blue"],["1C39BB","Persian Blue","Blue"],["00A693","Persian Green","Green"],["32127A","Persian Indigo","Violet"],["F77FBE","Persian Pink","Red"],["683332","Persian Plum","Red"],["CC3333","Persian Red","Red"],["FE28A2","Persian Rose","Red"],["EC5800","Persimmon","Red"],["CD853F","Peru","Brown"],["733D1F","Peru Tan","Orange"],["7A7229","Pesto","Yellow"],["DA9790","Petite Orchid","Red"],["91A092","Pewter","Green"],["826663","Pharlap","Brown"],["F8EA97","Picasso","Green"],["5BA0D0","Picton Blue","Blue"],["FDD7E4","Pig Pink","Red"],["00A550","Pigment Green","Green"],["756556","Pine Cone","Brown"],["BDC07E","Pine Glade","Green"],["01796F","Pine Green","Green"],["2A2F23","Pine Tree","Green"],["FFC0CB","Pink","Red"],["FF66FF","Pink Flamingo","Red"],["D8B4B6","Pink Flare","Red"],["F6CCD7","Pink Lace","Red"],["F3D7B6","Pink Lady","Orange"],["BFB3B2","Pink Swan","Grey"],["9D5432","Piper","Orange"],["F5E6C4","Pipi","Yellow"],["FCDBD2","Pippin","Red"],["BA782A","Pirate Gold","Yellow"],["BBCDA5","Pixie Green","Green"],["E57F3D","Pizazz","Orange"],["BF8D3C","Pizza","Yellow"],["3E594C","Plantation","Green"],["DDA0DD","Plum","Violet"],["651C26","Pohutukawa","Red"],["E5F2E7","Polar","Green"],["8AA7CC","Polo Blue","Blue"],["6A1F44","Pompadour","Violet"],["DDDCDB","Porcelain","Grey"],["DF9D5B","Porsche","Orange"],["3B436C","Port Gore","Blue"],["F4F09B","Portafino","Green"],["8B98D8","Portage","Blue"],["F0D555","Portica","Yellow"],["EFDCD4","Pot Pourri","Orange"],["845C40","Potters Clay","Brown"],["B0E0E6","Powder Blue","Blue"],["883C32","Prairie Sand","Red"],["CAB4D4","Prelude","Violet"],["E2CDD5","Prim","Violet"],["E4DE8E","Primrose","Green"],["F8F6DF","Promenade","Green"],["F6E3DA","Provincial Pink","Orange"],["003366","Prussian Blue","Blue"],["DD00FF","Psychedelic Purple","Violet"],["CC8899","Puce","Red"],["6E3326","Pueblo","Orange"],["59BAA3","Puerto Rico","Green"],["BAC0B4","Pumice","Green"],["FF7518","Pumpkin","Orange"],["534931","Punga","Yellow"],["800080","Purple","Violet"],["652DC1","Purple Heart","Violet"],["9678B6","Purple Mountain's Majesty","Violet"],["50404D","Purple Taupe","Grey"],["CDAE70","Putty","Yellow"],["F2EDDD","Quarter Pearl Lusta","Green"],["EBE2D2","Quarter Spanish White","Yellow"],["D9D9F3","Quartz","White"],["C3988B","Quicksand","Brown"],["CBC9C0","Quill Grey","Grey"],["6A5445","Quincy","Brown"],["232F2C","Racing Green","Green"],["FF355E","Radical Red","Red"],["DCC6A0","Raffia","Yellow"],["667028","Rain Forest","Green"],["B3C1B1","Rainee","Green"],["FCAE60","Rajah","Orange"],["2B2E25","Rangoon Green","Green"],["6F747B","Raven","Blue"],["D27D46","Raw Sienna","Brown"],["734A12","Raw Umber","Brown"],["FF33CC","Razzle Dazzle Rose","Red"],["E30B5C","Razzmatazz","Red"],["453430","Rebel","Brown"],["FF0000","Red","Red"],["701F28","Red Berry","Red"],["CB6F4A","Red Damask","Orange"],["662A2C","Red Devil","Red"],["FF3F34","Red Orange","Orange"],["5D1F1E","Red Oxide","Red"],["7D4138","Red Robin","Red"],["AD522E","Red Stage","Orange"],["BB3385","Medium Red Violet","Violet"],["5B342E","Redwood","Red"],["D1EF9F","Reef","Green"],["A98D36","Reef Gold","Yellow"],["203F58","Regal Blue","Blue"],["798488","Regent Grey","Blue"],["A0CDD9","Regent St Blue","Blue"],["F6DEDA","Remy","Red"],["B26E33","Reno Sand","Orange"],["323F75","Resolution Blue","Blue"],["37363F","Revolver","Violet"],["3D4653","Rhino","Blue"],["EFECDE","Rice Cake","Green"],["EFF5D1","Rice Flower","Green"],["5959AB","Rich Blue","Blue"],["A15226","Rich Gold","Orange"],["B7C61A","Rio Grande","Green"],["89D9C8","Riptide","Green"],["556061","River Bed","Blue"],["DDAD56","Rob Roy","Yellow"],["00CCCC","Robin's Egg Blue","Blue"],["5A4D41","Rock","Brown"],["93A2BA","Rock Blue","Blue"],["9D442D","Rock Spray","Orange"],["C7A384","Rodeo Dust","Brown"],["6D7876","Rolling Stone","Green"],["D8625B","Roman","Red"],["7D6757","Roman Coffee","Brown"],["F4F0E6","Romance","Grey"],["FFC69E","Romantic","Orange"],["EAB852","Ronchi","Yellow"],["A14743","Roof Terracotta","Red"],["8E593C","Rope","Orange"],["D3A194","Rose","Red"],["FEAB9A","Rose Bud","Red"],["8A2D52","Rose Bud Cherry","Red"],["AC512D","Rose Of Sharon","Orange"],["905D5D","Rose Taupe","Violet"],["FBEEE8","Rose White","Red"],["BC8F8F","Rosy Brown","Brown"],["B69642","Roti","Yellow"],["A94064","Rouge","Red"],["4169E1","Royal Blue","Blue"],["B54B73","Royal Heath","Red"],["6B3FA0","Royal Purple","Violet"],["E0115F","Ruby","Red"],["716675","Rum","Violet"],["F1EDD4","Rum Swizzle","Green"],["80461B","Russet","Brown"],["7D655C","Russett","Brown"],["B7410E","Rust","Red"],["3A181A","Rustic Red","Red"],["8D5F2C","Rusty Nail","Orange"],["5D4E46","Saddle","Brown"],["8B4513","Saddle Brown","Brown"],["FF6600","Safety Orange","Orange"],["F4C430","Saffron","Yellow"],["989F7A","Sage","Green"],["B79826","Sahara","Yellow"],["A5CEEC","Sail","Blue"],["177B4D","Salem","Green"],["FA8072","Salmon","Red"],["FFD67B","Salomie","Yellow"],["696268","Salt Box","Violet"],["EEF3E5","Saltpan","Grey"],["3B2E25","Sambuca","Brown"],["2C6E31","San Felix","Green"],["445761","San Juan","Blue"],["4E6C9D","San Marino","Blue"],["867665","Sand Dune","Brown"],["A3876A","Sandal","Brown"],["AF937D","Sandrift","Brown"],["786D5F","Sandstone","Brown"],["DECB81","Sandwisp","Yellow"],["FEDBB7","Sandy Beach","Orange"],["F4A460","Sandy Brown","Brown"],["92000A","Sangria","Red"],["6C3736","Sanguine Brown","Red"],["9998A7","Santas Grey","Blue"],["A96A50","Sante Fe","Orange"],["E1D5A6","Sapling","Yellow"],["082567","Sapphire","Blue"],["555B2C","Saratoga","Green"],["F4EAE4","Sauvignon","Red"],["F5DEC4","Sazerac","Orange"],["6F63A0","Scampi","Violet"],["ADD9D1","Scandal","Green"],["FF2400","Scarlet","Red"],["4A2D57","Scarlet Gum","Violet"],["7E2530","Scarlett","Red"],["6B6A6C","Scarpa Flow","Grey"],["87876F","Schist","Green"],["FFD800","School Bus Yellow","Yellow"],["8D8478","Schooner","Brown"],["308EA0","Scooter","Blue"],["6A6466","Scorpion","Grey"],["EEE7C8","Scotch Mist","Yellow"],["66FF66","Screamin' Green","Green"],["3D4031","Scrub","Green"],["EF9548","Sea Buckthorn","Orange"],["DFDDD6","Sea Fog","Grey"],["2E8B57","Sea Green","Green"],["C2D5C4","Sea Mist","Green"],["8AAEA4","Sea Nymph","Green"],["DB817E","Sea Pink","Red"],["77B7D0","Seagull","Blue"],["321414","Seal Brown","Brown"],["69326E","Seance","Violet"],["FFF5EE","Seashell","White"],["37412A","Seaweed","Green"],["E6DFE7","Selago","Violet"],["FFBA00","Selective Yellow","Yellow"],["6B4226","Semi-Sweet Chocolate","Brown"],["9E5B40","Sepia","Brown"],["FCE9D7","Serenade","Orange"],["837050","Shadow","Green"],["9AC0B6","Shadow Green","Green"],["9F9B9D","Shady Lady","Grey"],["609AB8","Shakespeare","Blue"],["F8F6A8","Shalimar","Green"],["33CC99","Shamrock","Green"],["009E60","Shamrock Green","Green"],["34363A","Shark","Grey"],["00494E","Sherpa Blue","Green"],["1B4636","Sherwood Green","Green"],["E6B2A6","Shilo","Red"],["745937","Shingle Fawn","Brown"],["7988AB","Ship Cove","Blue"],["4E4E4C","Ship Grey","Grey"],["842833","Shiraz","Red"],["E899BE","Shocking","Violet"],["FC0FC0","Shocking Pink","Red"],["61666B","Shuttle Grey","Grey"],["686B50","Siam","Green"],["E9D9A9","Sidecar","Yellow"],["A0522D","Sienna","Brown"],["BBADA1","Silk","Brown"],["C0C0C0","Silver","Grey"],["ACAEA9","Silver Chalice","Grey"],["BEBDB6","Silver Sand","Grey"],["67BE90","Silver Tree","Green"],["A6D5D0","Sinbad","Green"],["69293B","Siren","Red"],["68766E","Sirocco","Green"],["C5BAA0","Sisal","Yellow"],["9DB4AA","Skeptic","Green"],["87CEEB","Sky Blue","Blue"],["6A5ACD","Slate Blue","Blue"],["708090","Slate Grey","Grey"],["42342B","Slugger","Brown"],["003399","Smalt","Blue"],["496267","Smalt Blue","Blue"],["BB5F34","Smoke Tree","Orange"],["605D6B","Smoky","Violet"],["FFFAFA","Snow","White"],["E3E3DC","Snow Drift","Grey"],["EAF7C9","Snow Flurry","Green"],["D6F0CD","Snowy Mint","Green"],["E4D7E5","Snuff","Violet"],["ECE5DA","Soapstone","Grey"],["CFBEA5","Soft Amber","Yellow"],["EEDFDE","Soft Peach","Red"],["85494C","Solid Pink","Red"],["EADAC2","Solitaire","Yellow"],["E9ECF1","Solitude","Blue"],["DD6B38","Sorbus","Orange"],["9D7F61","Sorrell Brown","Brown"],["C9B59A","Sour Dough","Brown"],["6F634B","Soya Bean","Brown"],["4B433B","Space Shuttle","Brown"],["7B8976","Spanish Green","Green"],["DED1B7","Spanish White","Yellow"],["375D4F","Spectra","Green"],["6C4F3F","Spice","Brown"],["8B5F4D","Spicy Mix","Brown"],["FF1CAE","Spicy Pink","Red"],["B3C4D8","Spindle","Blue"],["F1D79E","Splash","Yellow"],["7ECDDD","Spray","Blue"],["A7FC00","Spring Bud","Green"],["00FF7F","Spring Green","Green"],["A3BD9C","Spring Rain","Green"],["F1F1C6","Spring Sun","Green"],["E9E1D9","Spring Wood","Grey"],["B8CA9D","Sprout","Green"],["A2A1AC","Spun Pearl","Blue"],["8F7D6B","Squirrel","Brown"],["325482","St Tropaz","Blue"],["858885","Stack","Grey"],["A0A197","Star Dust","Grey"],["D2C6B6","Stark White","Yellow"],["E3DD39","Starship","Green"],["4682B4","Steel Blue","Blue"],["43464B","Steel Grey","Grey"],["833D3E","Stiletto","Red"],["807661","Stonewall","Yellow"],["65645F","Storm Dust","Grey"],["747880","Storm Grey","Blue"],["DABE82","Straw","Yellow"],["946A81","Strikemaster","Violet"],["406356","Stromboli","Green"],["724AA1","Studio","Violet"],["8C9C9C","Submarine","Blue"],["EEEFDF","Sugar Cane","Green"],["C6EA80","Sulu","Green"],["8FB69C","Summer Green","Green"],["38B0DE","Summer Sky","Blue"],["EF8E38","Sun","Orange"],["C4AA4D","Sundance","Yellow"],["F8AFA9","Sundown","Red"],["DAC01A","Sunflower","Yellow"],["C76155","Sunglo","Red"],["FFCC33","Sunglow","Orange"],["C0514A","Sunset","Red"],["FE4C40","Sunset Orange","Orange"],["FA9D49","Sunshade","Orange"],["FFB437","Supernova","Yellow"],["B8D4BB","Surf","Green"],["C3D6BD","Surf Crest","Green"],["007B77","Surfie Green","Green"],["7C9F2F","Sushi","Green"],["8B8685","Suva Grey","Grey"],["252F2F","Swamp","Green"],["DAE6DD","Swans Down","Grey"],["F9E176","Sweet Corn","Yellow"],["EE918D","Sweet Pink","Red"],["D7CEC5","Swirl","Grey"],["DBD0CA","Swiss Coffee","Grey"],["F6AE78","Tacao","Orange"],["D2B960","Tacha","Yellow"],["DC722A","Tahiti Gold","Orange"],["D8CC9B","Tahuna Sands","Yellow"],["853534","Tall Poppy","Red"],["A39977","Tallow","Yellow"],["752B2F","Tamarillo","Red"],["D2B48C","Tan","Brown"],["B8B5A1","Tana","Green"],["1E2F3C","Tangaroa","Blue"],["F28500","Tangerine","Orange"],["FFCC00","Tangerine Yellow","Yellow"],["D46F31","Tango","Orange"],["7C7C72","Tapa","Green"],["B37084","Tapestry","Red"],["DEF1DD","Tara","Green"],["253C48","Tarawera","Blue"],["BAC0B3","Tasman","Grey"],["483C32","Taupe","Grey"],["8B8589","Taupe Grey","Grey"],["643A48","Tawny Port","Red"],["496569","Tax Break","Blue"],["2B4B40","Te Papa Green","Green"],["BFB5A2","Tea","Yellow"],["D0F0C0","Tea Green","Green"],["F883C2","Tea Rose","Orange"],["AB8953","Teak","Yellow"],["008080","Teal","Blue"],["254855","Teal Blue","Blue"],["3C2126","Temptress","Brown"],["CD5700","Tenne (Tawny)","Orange"],["F4D0A4","Tequila","Yellow"],["E2725B","Terra Cotta","Red"],["ECE67E","Texas","Green"],["FCB057","Texas Rose","Orange"],["B1948F","Thatch","Brown"],["544E31","Thatch Green","Yellow"],["D8BFD8","Thistle","Violet"],["4D4D4B","Thunder","Grey"],["923830","Thunderbird","Red"],["97422D","Tia Maria","Orange"],["B9C3BE","Tiara","Grey"],["184343","Tiber","Green"],["FC80A5","Tickle Me Pink","Red"],["F0F590","Tidal","Green"],["BEB4AB","Tide","Brown"],["324336","Timber Green","Green"],["D9D6CF","Timberwolf","Grey"],["DDD6E1","Titan White","Violet"],["9F715F","Toast","Brown"],["6D5843","Tobacco Brown","Brown"],["44362D","Tobago","Brown"],["3E2631","Toledo","Violet"],["2D2541","Tolopea","Violet"],["4F6348","Tom Thumb","Green"],["FF6347","Tomato","Red"],["E79E88","Tonys Pink","Orange"],["817C87","Topaz","Violet"],["FD0E35","Torch Red","Red"],["353D75","Torea Bay","Blue"],["374E88","Tory Blue","Blue"],["744042","Tosca","Red"],["9CACA5","Tower Grey","Green"],["6DAFA7","Tradewind","Green"],["DDEDE9","Tranquil","Blue"],["E2DDC7","Travertine","Green"],["E2813B","Tree Poppy","Orange"],["7E8424","Trendy Green","Green"],["805D80","Trendy Pink","Violet"],["C54F33","Trinidad","Orange"],["AEC9EB","Tropical Blue","Blue"],["00755E","Tropical Rain Forest","Green"],["4C5356","Trout","Grey"],["8E72C7","True V","Violet"],["454642","Tuatara","Grey"],["F9D3BE","Tuft Bush","Orange"],["E3AC3D","Tulip Tree","Yellow"],["DEA681","Tumbleweed","Brown"],["46494E","Tuna","Grey"],["585452","Tundora","Grey"],["F5CC23","Turbo","Yellow"],["A56E75","Turkish Rose","Red"],["AE9041","Turmeric","Yellow"],["40E0D0","Turquoise","Blue"],["6CDAE7","Turquoise Blue","Blue"],["363E1D","Turtle Green","Green"],["AD6242","Tuscany","Orange"],["E3E5B1","Tusk","Green"],["BF914B","Tussock","Yellow"],["F8E4E3","Tutu","Red"],["DAC0CD","Twilight","Violet"],["F4F6EC","Twilight Blue","Grey"],["C19156","Twine","Yellow"],["66023C","Tyrian Purple","Violet"],["FF6FFF","Ultra Pink","Red"],["120A8F","Ultramarine","Blue"],["D4574E","Valencia","Red"],["382C38","Valentino","Violet"],["2A2B41","Valhalla","Violet"],["523936","Van Cleef","Brown"],["CCB69B","Vanilla","Brown"],["EBD2D1","Vanilla Ice","Red"],["FDEFD3","Varden","Yellow"],["C80815","Venetian Red","Red"],["2C5778","Venice Blue","Blue"],["8B7D82","Venus","Violet"],["62603E","Verdigris","Grey"],["48531A","Verdun Green","Green"],["FF4D00","Vermilion","Red"],["5C4033","Very Dark Brown","Brown"],["CDCDCD","Very Light Grey","Grey"],["A85533","Vesuvius","Orange"],["564985","Victoria","Violet"],["5F9228","Vida Loca","Green"],["4DB1C8","Viking","Blue"],["955264","Vin Rouge","Red"],["C58F9D","Viola","Red"],["2E2249","Violent Violet","Violet"],["EE82EE","Violet","Violet"],["9F5F9F","Violet Blue","Violet"],["F7468A","Violet Red","Red"],["40826D","Viridian","Blue"],["4B5F56","Viridian Green","Green"],["F9E496","Vis Vis","Yellow"],["97D5B3","Vista Blue","Green"],["E3DFD9","Vista White","Grey"],["FF9980","Vivid Tangerine","Orange"],["803790","Vivid Violet","Violet"],["4E2728","Volcano","Red"],["443240","Voodoo","Violet"],["36383C","Vulcan","Grey"],["D4BBB1","Wafer","Orange"],["5B6E91","Waikawa Grey","Blue"],["4C4E31","Waiouru","Green"],["E4E2DC","Wan White","Grey"],["849137","Wasabi","Green"],["B6ECDE","Water Leaf","Green"],["006E4E","Watercourse","Green"],["D6CA3D","Wattle","Green"],["F2CDBB","Watusi","Orange"],["EEB39E","Wax Flower","Orange"],["FDD7D8","We Peep","Red"],["4C6B88","Wedgewood","Blue"],["8E3537","Well Read","Red"],["5C512F","West Coast","Yellow"],["E5823A","West Side","Orange"],["D4CFC5","Westar","Grey"],["F1919A","Wewak","Red"],["F5DEB3","Wheat","Brown"],["DFD7BD","Wheatfield","Yellow"],["D29062","Whiskey","Orange"],["D4915D","Whiskey Sour","Orange"],["EFE6E6","Whisper","Grey"],["FFFFFF","White","White"],["D7EEE4","White Ice","Green"],["E7E5E8","White Lilac","Blue"],["EEE7DC","White Linen","Grey"],["F8F6D8","White Nectar","Green"],["DAD6CC","White Pointer","Grey"],["D4CFB4","White Rock","Green"],["F5F5F5","White Smoke","White"],["7A89B8","Wild Blue Yonder","Blue"],["E3D474","Wild Rice","Green"],["E7E4DE","Wild Sand","Grey"],["FF3399","Wild Strawberry","Red"],["FD5B78","Wild Watermelon","Red"],["BECA60","Wild Willow","Green"],["53736F","William","Green"],["DFE6CF","Willow Brook","Green"],["69755C","Willow Grove","Green"],["462C77","Windsor","Violet"],["522C35","Wine Berry","Red"],["D0C383","Winter Hazel","Yellow"],["F9E8E2","Wisp Pink","Red"],["C9A0DC","Wisteria","Violet"],["A29ECD","Wistful","Blue"],["FBF073","Witch Haze","Green"],["302621","Wood Bark","Brown"],["463629","Woodburn","Brown"],["626746","Woodland","Green"],["45402B","Woodrush","Yellow"],["2B3230","Woodsmoke","Grey"],["554545","Woody Brown","Brown"],["75876E","Xanadu","Green"],["FFFF00","Yellow","Yellow"],["9ACD32","Yellow Green","Green"],["73633E","Yellow Metal","Yellow"],["FFAE42","Yellow Orange","Orange"],["F49F35","Yellow Sea","Yellow"],["FFC5BB","Your Pink","Red"],["826A21","Yukon Gold","Yellow"],["C7B882","Yuma","Yellow"],["6B5A5A","Zambezi","Brown"],["B2C6B1","Zanah","Green"],["C6723B","Zest","Orange"],["3B3C38","Zeus","Grey"],["81A6AA","Ziggurat","Blue"],["EBC2AF","Zinnwaldite","Brown"],["DEE3E3","Zircon","Grey"],["DDC283","Zombie","Yellow"],["A29589","Zorba","Brown"],["17462E","Zuccini","Green"],["CDD5D5","Zumthor","Grey"]]};t.ntc=a},487:function(e,t,a){e.exports=a.p+"static/media/padlock-unlock.e82aca4a.svg"},488:function(e,t,a){e.exports=a.p+"static/media/padlock-lock.2e66377e.svg"},491:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABGdBTUEAALGPC/xhBQAAFwNJREFUeAHtnelTHEeah1+guZobcYhTgBC65TF2eOwvM/+sv/of8JfdidndmY2wvZatEyGEAYE4xCWOBnFsvoWQOuSGroas6qrMJyMqKLqysjKf961fZVVeFd//8OOxECAAAS8JVHpZagoNAQgEBBAAHAECHhNAADw2PkWHAAKAD0DAYwIIgMfGp+gQQADwAQh4TAAB8Nj4FB0CCAA+AAGPCSAAHhufokMAAcAHIOAxAQTAY+NTdAggAPgABDwmgAB4bHyKDgEEAB+AgMcEEACPjU/RIYAA4AMQ8JgAAuCx8Sk6BBAAfAACHhNAADw2PkWHAAKAD0DAYwIIgMfGp+gQQADwAQh4TAAB8Nj4FB0CCAA+AAGPCSAAHhufokMAAcAHIOAxAQTAY+NTdAggAPgABDwmgAB4bHyKDgEEAB+AgMcEEACPjU/RIYAA4AMQ8JgAAuCx8Sk6BBAAfAACHhNAADw2PkWHAAKAD0DAYwIIgMfGp+gQQADwAQh4TAAB8Nj4FB0CCAA+AAGPCSAAHhufokMAAcAHIOAxAQTAY+NTdAggAPgABDwmgAB4bHyKDgEEAB+AgMcEEACPjU/RIZABgZsEKisrpbGh3mzZk7/ZrGSzdZKpqpJMxmz6t/rE/AfvD+Tg8FAODsxm/u7s5GRre0e2dnZP/pr9o6NjN0F5XioEwBEHqKiokLbWZulob5XO9haz3yKVlRWhSldTUy01Uv0xbrtJJz/ozb+2viHLq+uy8nZd1jbeyfExgpDPKK37CEBaLfch351X2qS/t0t6ujuCp3oUxVEhuWKERTcZlaCWsLC4IrPzS0YQ1qK4JGnGRAABiAm0zcvU19XJ8GBPcOPX1dbaTDpUWvr6MNDbHWy53J7MLSzJq5kF2c3lQp1PpOQQQACSY4uiOWnM1svoyEBw42mVPwmhrq5WRocH5PpQv6kRLMrk1Gzw7SAJeSMPxQkgAMUZlT1GQ3293LoxJH09nWXPy1kZUEEa7LsqA2abNzWCpy+mZWeXGsFZvJLyOwKQFEsUyIe+e48OD8qYeerrV/00BK2X9PWcfJOYmJqRyVeztCAk2HAIQEKNox/3HtwZlQZT7U9jUMG6NTpkvlN0y+9PJ2V5hY+FSbQjApAwq2hV+u7YiIwM9SUsZxfLjn63+O6r+/Jy+rU8mZii+fBiGCM7CwGIDG3pCWfr6+TrL25La0tT6Scn/IzrRtDa25rl54dP+TaQIFul48UyQcCiykp3R7v8/btxJ2/+U2ZtRti0jN0dbac/8bfMBBCAMhtAL69t6t+M35XqD11zE5ClyLKgZfxm/F5Q5sguQsKhCfAKEBpVNBFHTfv5nZsj0SSe0FT1O8eX929KremCPDk9l9Bc+pEtagBltPOdsWHvbv583Cp8yoBQPgIIQJnY65Nfe9D5HpSBsiCUhwACUAbu+s7vW7X/PMzKQpkQ4ieAAMTMXL/2/+XeWMxXTf7llAmtA/HbCQGIkbm2848/uCVJGcgTY9GLXkqZjD+4LcqIEB8BBCAm1urgX5lOPj409V0UqbJRRgjkRQmWfh4CUDqzC52h3Xu1IwzhfALKSFkR4iGAAMTAWQf2uNK3PwZcAStlRoieAAIQMWMd0nvfjOojlEZAmYWd07C0lImdTwAByKcRwb62c+uIOEJpBILZj+gnURq0C8RGAC4ALewpOpPP2Mhg2OjE+4yAslOGhOgIIADRsQ2m8UrLTD4RYrhw0sGkIjeGLnw+JxYngAAUZ3ShGFqFTfIcfhcqVBlO6jXzIPIKFR14BCAitjp7L+HyBHSOQVhenuNZKSAAZ5G5xO86bz992y8B8LNTlaUyJdgngADYZxos2kFvNntglaUuhEKwTwABsM9U+s202AS7BGBql+dpagjAKQlLfztMDzZdLYdgl4AyVbYEuwQQALs8zbs/T3/LSD8mB9uPKKztIADWUEowik1X6SVEQ0DZ8m3FLlsEwCLPttbmyJbotpjN1CalqxIrY4I9AgiAPZbS0d5iMTWSKkQAxoWoXPw3BODi7P50Zmd7659+4we7BGBslycCYImn9ltva6UGYAnnmckoY8ZXnImn5AMIQMnICp/Q2FDP+PXCaKz+qnMEKGuCHQIIgB2OximzllIimWIEYF2MUPjjCEB4VufG5Kl0Lh6rBxkdaA8nAmCJZWOWGoAllEWToQZQFFHoCAhAaFTnR8xmGa12PiF7R2FtjyUCYImldlIhxEMA1vY4IwCWWGYyCIAllEWTgXVRRKEjIAChUZ0fkafS+XxsHoW1PZoIgCWWGbOsFSEeArC2xxkBsMeSlCCQOgIIgCWTHbw/sJQSyRQjAOtihMIfRwDCszo35sHh4bnHOWiPAKztsUQALLE8OEAALKEsmgysiyIKHQEBCI3q/Ig8lc7nY/MorO3RRAAssdzZyVlKiWSKEYB1MULhjyMA4VmdG3NrZ+fc4xy0R2BrG9a2aCIAlkhube9aSolkihHY2oF1MUZhjyMAYUkVicdTqQggi4dhbQ8mAmCJpdYAjo6OLaVGMmcRUMbUts6iU/rvCEDpzAqecXR0JGvrGwWP8aM9AspYWRPsEEAA7HAMUlleRQAs4iyY1PLqesHf+fFiBBCAi3EreNYKzlmQi80fVxBZmzgFAbCIc219U+ikYhHoZ0kpW2VMsEcAAbDHUo6Pj2VhccViiiSVT0DZKmOCPQIIgD2WQUpz80uWUyS5UwKwPSVh7y8CYI9lkNLy2zXJ7e1ZTpXkcrk9UbYEuwQQALs8g9R4UtmHOrdAzco+VeEjYBRQX80s8K5qEay+9ytTgn0C1ADsM5XdXE5m5xcjSNnPJJWlMiXYJ4AA2GcapDg5NRtRyv4lC8vobI4ARMRWR6y9XliOKHV/klWGjP6Lzt4IQHRs5dmLafqtX4Kv9vlXhoToCCAA0bGV7d1dmeBV4MKElZ0yJERHAAGIjm2Q8uSrGdlmAouSKSszZUeIlgACEC3fYI6A355MRnwV95JXZsyvEL1dEYDoGQc92KamX8dwJTcuoazo9RePLRGAeDjLk4kpWd94F9PV0nsZZfTYsCLEQwABiIezHJnebD89fCrvWULsTOLKRhkx4u9MRNYPIADWkZ6d4M5uTn757RkOXgCR3vTKRhkR4iOAAMTHOrjS4sqq/PpoIuarJv9yykTZEOIlgADEyzu4mvZtf/Kc99xT9MqCsROnNOL9iwDEy/vj1San50w7N+MFlIGyIJSHAAJQHu7BVZ9MvPK6JqBPfmVAKB+BTPkuzZWVgD799vffyxf3xqSiosILKPrBT9/5qfaX39wIQPltIDPmm8CeEYHxB7ekutptk2hTn37t54NfAhzPZIFXgGTYIbgh/vGvX5zuLKSdfLSM3PwJcToEIDmG0JxoG/h//e+v4mK3YS3TP03ZaOdPls+5Xd9MFutQudEeg4+evwyekg/ujEpDtj7UeUmNpJN5/G4G9tC3P5kWQgCSaZfghvmP//5JRocHZWxkQCor0/W2ppN5TEzNBE2djOpLqJOZbCEAybVNMBx24uUf8tosNnLrxpD09XQmOLefsqbTeOlMPkzm8YlJUvcQgKRaJi9feiP9/NtTeT45LaOmNjDQ2524JkNt2tNmPZ3Akzn88oyX8F0EIOEGys+e3ljafj4xOSNDgz3S39sldbW1+VFi39cVe3TRDp23n6m7Y8d/6QtWfP/Dj6y2eGmM5Uug80qb9Pd1SU9Xh2SqqmLJiK7Sqwt1zppXkxWW64qFeVQXoQYQFdmY0tWv67r9WjEhba3N0tHeKp3tLWa/xXw4tNOzUD/ira1vyPLquqysbgRLdDNmPyYDR3wZBCBiwHElrzfk6tpGsE28ND28TKtBY0O92bInf7NZyWbrpLoqI1WZyqC2kPnQ6/DA9M7Tp/rBgdnM352dnGxt7wTv8sHf7V2mN4/LkDFfBwGIGXhcl9NmuM1328EW1zW5TvoIpKtxOX18yTEEEk0AAUi0ecgcBKIlgABEy5fUIZBoAghAos1D5iAQLQEEIFq+pA6BRBNAABJtHjIHgWgJIADR8iV1CCSaAAKQaPOQOQhESwABiJYvqUMg0QQQgESbh8xBIFoCCEC0fEkdAokmgAAk2jxkDgLREkAAouVL6hBINAEEINHmIXMQiJYAAhAtX1KHQKIJMB9ATObRufsazAQdDfV1wd+s+Zutq5VMxkzQUXUyQUdVpkqqUjb9d6n4dJ6CYOKRo0M5OjiS92YCktzunmzncrJtJh7ZNoujbJvJSHbNXIOE6AkgABEw1om4mpsbpb2tRdpbms3fZqk3NzvhZKaimppKqZHqTzhamj7tf9jb29s3sxttyuqGznK0KeubW8I0ZH/CdOkfEIBLIzxJQFf21fn4eq92BBN01tTkObila/iUTG1tjfQoS7Np2DfTlr1ZfisLb5ZleWVNdAUlwuUJIACXZNjS1CjD13rlqpmVt8bxlX0viepSpyvbQbMegm76CrGwvCLTZirytfXNS6Xr+8kIwAU8QJ/2Pd0dMjLYG1TzL5AEp1yCQMZ8Kxno6Q42XXF4aua1zJvViKgVlA6VdQFKYKbv9gN9V+Xm6DXe6UvgFkfUvf19mXg5K9Oz83wrKAE4NYCQsK52XZE7N4alsTEb8gyixUmgtqZG7t++LiPmdeypWZdw3nwrIBQngAAUYaRz6//l7hhV/SKcknJYl1P/+ovbsjbULw8fTzAtehHDIADnABo1TqSr8qZtae5ziuTNoTbTtPj378bluVld+YVZsJQmxMKmRwAKcNGn/pf3bgZLbRU4zE8pIaAfa2+NDgXNsr88eibv3u2kJOfxZZOuwJ+x1nf9v307zs3/GZc0/9tiOmX97a/jpo9GZ5qLEUneEYA8rGMjg/LNl3dN99x4VtnNuzS7ERPQ7tb6beC2eaUjfCLAK4BhoavofnX/9sdeZ5/wsOcagRtG5JtM562fHz6Rw8Mj14pXcnm8rwHoB76/jt/j5i/ZddJ7wtXOdvnW2FxrBb4HrwmoA3w7flc6r7T57gfelf+KGbfx3Vf3g2XSvSt8XoG9FQB98utToIObP88d/NrV0Zrffn3f65qAtwLw5f2bok8Bgt8E2lub5asHt72F4KUA3Lx+TfpoEvLW6T8vuDb93h4b/vxnL/73TgC0LVgH8xAgkE/gxvCA9Pd25f/kxb5XAtBQf9LDzwvLUsiSCXxhxnxoL1CfglcC8OX9Ma8/+Pjk2Bcpq87HqF3Addi3L8EbAbg+1MeIPl+8+hLlbDMfBa+b1wFfghcC0GiGiN42Y/kJEAhDQAcQ+fIq4IUA6BdehvSGcX3iKAHtGn5nbMQLGM4LgI4L1/n7CBAohYA2DWofAdeD8wJwx9P2XdcdN47y+eA7TguAztNPb784bhU3r6FdhTs73B4n4rQADJtpuwkQuAyB4QG3fchZAdCVZfQ9jgCByxDoNj6k6zq6GpwVgGv9V0XnhCNA4DIE1IPUl1wNzgrAoFnAgwABGwQG+rttJJPINJwUAF28Q5ffJkDABoFsXZ00ObogjJMC0O34l1sbTk0apRHo7mgv7YSUxHZUANw0Vkp8yslsdiEA6bCrdvltZ6afdBgrRblsb29xsju5czWAJjOeu5Kv/ym6tdKRVfWppgb3FoZ1TwCaGtLhUeQydQSamhCAxButuREBSLyRUppBF33LuRpAIwKQ0tsr+dl20becE4C6murkexI5TCUBF33LOQHIZFjuMJV3Vwoy7aJvOScA1azsm4JbKZ1ZrK52b9Vo5wTARZVO5+3iXq4zVe7VLp0TAJ3PjQCBKAi46FvOCcD79wdR2J40ISAu+pZzArC39x5XhUAkBFz0LecEYGNrKxLjkygENh30LecE4O3qBp4KgUgIrKy551vOCcD84rIcHR1F4gAk6i8B9an5N8vOAXBOAPRDzcLiW+cMRYHKS2Bh6S0fActrgvBXn329GD4yMSEQgoCrPuVcDUBtufR2VZZX1kKYlSgQKE5g+e2aLK2sFo+YwhhOCoDa4dfHL+Tg4DCFJiHLSSKgPvTw0YskZclqXpwVgN1cTh4/n7IKi8T8I/B4Ykp2jC+5GpwVADXYH3MLMjvP9wBXnTfqcqnv/DG7EPVlypq+0wKgZP/v9+cyPTtfVshcPH0E1GfUd1wPzguAGvC3J5MyOT3nui0pnyUC6ivqMz4E98Y3nmG1J+Z7wPbOrty7eV2qqrzQvTNI8PNZBA4Pj+TR85fOV/vzy++NAGih9X3u7eq6jD+4Ja3NTfkc2PecwPrmO/nlt2eytb3rFQnvHoVq4H/++1d5MTUjx16ZmsIWIqA+oL6gPuHbza88vKoBnDrA8fGxPH0xLYvLq0FtgIVET8n49XdnNxc89VfXN/0qeF5pvasB5JVd1PD/+T8/01SYD8WTfW3iU9v7fPOrqb2sAeT7uPb00uaehcUVuXfrOsuK58NxcF+f+o+evZQ3ZnAPAQH46APqEEtm/MDoUL/cGBmkpeAjGTd29Av/i1czMvlqjuHieSb1vgaQxyJwjAnzQUirh3dvjkjv1c78w+ynlICO49du4bu5vZSWILpsIwAF2Kqj/PTwqVwxzYb3zWtBMwuOFqCU/J82323L76a6r02/hMIEEIDCXIJf1XH+YT4UDQ32ys3r16SGZcfOoZWcQ/v77+X5yxmZnnlNU28RsyAARQBpO/GrmXmZef1Grg30BN8I6mpri5zF4XIQyO3tBV2+tcOXvvMTihNAAIozCmKoQ01Nv5bpP+ZloO+qjI70S0N9fciziRYlAf2y/+LVrMzOvZEj08eDEJ4AAhCeVRBTHUyHGc+Yra+3S8aGB6WxMVtiKkS3QWBra8f04puVuTdLop27CKUTQABKZxacoe42N78UbD3dHXLdNB+2tzZfMDVOK4WAdt55+cecLLxZKeU04hYggAAUgFLqT9qJSLfGhnoZ7O+RgZ4uqa2tKTUZ4p9DYG9vX2YXloJvMfrkJ9ghUPH9Dz9Sd7LD8mMqFRUV0t3ZHohBd0eb6P+E0glotX7RdM7S1y0dt0E1v3SGxc6gBlCM0AWOq6Nqz0LdamtqZMB8K9CagdYQCMUJ6Kg8bXXRDln65CdERwABiI5tkPLe/n7QNKWzzKgAXO28Il2mdnClrYWawQf2KpirZtktfcq/WX7r5bDciN3wzOQRgDPR2D+gT7bJ7blAEKozGek0rwf6qtB9pV1qaqvtXzDBKe6bVZwXzfoNetPrGg7vD1jWvRzmQgDKQd1cUx1e+6ifrjfX1tIkXR3t0tbWJK1NTc71Otw3S7atb27K2vo7WTI3/drGuzKR57L5BBCAfBpl3NcbIv+m0E5GrS2N0mKEQcWhpblRMlVVZcxh+EsfHB7KxuZWUJ4NU671jS3Z3vVrqq3wtMobEwEoL/8zr643jG6v81akbTIdjnQuQ+14VF9XG8xdkK2vlXJ1Tdautzu7uuWCkXbbpnluzcyt945mujPtmrQDCEDSLHJOfvTGKnRzVZpmxvr6umDLfhCGuroaqaqsCuY1yJhZkCtN7UFrEDoj8sl28r9eTp/Yh8F2FPSh1/+PzHZguj9rF+jDo0PJ5faDG33HjJTc1RvebHS7PcdYKTmEAKTEUOdlU29EnfJcNwIESiHg9ZyApYAiLgRcJIAAuGhVygSBkAQQgJCgiAYBFwkgAC5alTJBICQBBCAkKKJBwEUCCICLVqVMEAhJAAEICYpoEHCRAALgolUpEwRCEkAAQoIiGgRcJIAAuGhVygSBkAQQgJCgiAYBFwkgAC5alTJBICQBBCAkKKJBwEUCCICLVqVMEAhJAAEICYpoEHCRAALgolUpEwRCEkAAQoIiGgRcJIAAuGhVygSBkAQQgJCgiAYBFwn8P52pwVAkMkCfAAAAAElFTkSuQmCC"},492:function(e,t,a){e.exports=a.p+"static/media/ga-logo.390da035.png"},493:function(e,t,a){e.exports=a.p+"static/media/mailchimp-logo.95d92d69.png"},494:function(e,t,a){e.exports=a.p+"static/media/slack-logo.21a03bee.png"},495:function(e,t,a){e.exports=a.p+"static/media/yandexmetrica-logo.66c097b0.png"},496:function(e,t,a){e.exports=a.p+"static/media/yandexmoney-logo.49172757.png"},497:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__),jquery__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),jquery__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__),liquidjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(498),liquidjs__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(liquidjs__WEBPACK_IMPORTED_MODULE_4__),webfontloader__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(191),webfontloader__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(webfontloader__WEBPACK_IMPORTED_MODULE_5__),_Editor_EditorPage_EditorHelpers_FillsToCss__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(30),_history__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(15),_Editor_EditorPage_EditorPage__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(225),_libs_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6);const engine=new liquidjs__WEBPACK_IMPORTED_MODULE_4___default.a,componentSlugs=["button","code","form","group","frame","icon","image","map","rectangle","slider","text","video"];let componentsLiquid={};for(const e of componentSlugs){const t=__webpack_require__(966)("./".concat(e,"/html.js"));let a={default:""};try{a=__webpack_require__(979)("./".concat(e,"/css.js"))}catch{}componentsLiquid[e]={html:t.default,css:a.default}}const params=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});String.prototype.dasherize=function(){return this.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())};class PagePreview extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){var _this;super(...arguments),_this=this,this.state={loading:!0},this.replaceLinks=e=>{let t=window.pages.map(e=>({id:e.id,path:e.path,home:e.id===this.props.site.home_page_id})),a=jquery__WEBPACK_IMPORTED_MODULE_3___default()("<div>"+e+"</div>");return a.find("a,.str-group__inner-link[href]").each((e,a)=>{const s=a.getAttribute("href");if(s&&"/"===s[0]){const e=s.split("/")[1];let n=t.find(t=>t.path===e);""===e&&(n=t.find(e=>e.home)),n&&a.setAttribute("href","/account/".concat(n.id,"/preview"))}}),a.html()},this.skipGenerate=e=>!1,this.searchTree=(e,t)=>{var a,s=this;return Object.keys(e).some((function(n){return n===t?(a=e[n],!0):"object"===typeof e[n]&&null!==e[n]?!!(a=s.searchTree(e[n],t)):void 0})),a},this.search=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_this.preview_component_params;return _this.searchTree({children:a},e)},this.oneOfParentsIsFrame=e=>{let t,a=!1;return e.group_id&&(t=this.search(e.group_id),t&&("frame"===t.slug&&(a=!0),a||(a=this.oneOfParentsIsFrame(t)))),a},this.pageScreens=[],this.generateBaseCSS=(e,t,a,s)=>{this.getCurrentDevice();this.pageScreens.sort((e,t)=>t.width-e.width);let n={};for(const d of this.pageScreens)n[d.name]=d.width;const{container:o,slug:i}=e;let r="",l={};t||(t=[e.slug,e.id].join("_"));for(const d of Object.keys(e.styles)){const a=e.styles[d];l[d]||(l[d]={}),l[d][t]=a}const c=Object.keys(n);for(const d of c){const t=c.indexOf(d),a=n[d],s=this.pageScreens[0];if(this.skipGenerate(d))continue;let h=l[d];if(h){s.width!==a&&c[t-1]&&(r+="@media (max-width: ".concat(n[c[t-1]]-1,"px) {"));for(const t of Object.keys(h)){const n=h[t]||{},l=Object.keys(n).map(e=>{const t=n[e];return-1===e.indexOf("_hover")&&""!==t&&null!==t&&"object"!==typeof t&&"".concat(e.dasherize(),": ").concat(t,";")}).filter(e=>e).join("");r+=".".concat(t," { ").concat(l," }");const c=this.oneOfParentsIsFrame(e);if("group"===i){let s=Object(_Editor_EditorPage_EditorPage__WEBPACK_IMPORTED_MODULE_8__.b)(e,void 0,void 0,!0),n=Object(_libs_helpers__WEBPACK_IMPORTED_MODULE_9__.k)(s,{name:d,width:a});c&&(e.styles[d].width=n.offsetWidth+"px",e.styles[d].height=n.offsetHeight+"px",r+=".".concat(t," {\n              width: ").concat(n.offsetWidth,"px;\n              height: ").concat(n.offsetHeight,"px;\n            }"))}if("frame"===i&&e.styles[d]){const{xSizingMode:a,ySizingMode:s}=e.data;if("auto"===a||"auto"===s){let n;const o=Object.keys(e.children);if("row"===e.styles[d].flexDirection){let t=-parseFloat(e.styles[d].gap);for(const a of o){var p;(null===(p=e.children[a])||void 0===p?void 0:p.styles[d])&&e.styles[d]&&(t+=parseFloat(e.children[a].styles[d].width)+parseFloat(e.styles[d].gap))}n={width:t,height:Math.max(...o.map(t=>{var a,s;return parseFloat(null===(a=e.children[t])||void 0===a||null===(s=a.styles[d])||void 0===s?void 0:s.height)}))}}else{let t=-parseFloat(e.styles[d].gap);for(const a of o)e.children[a].styles[d]&&(t+=parseFloat(e.children[a].styles[d].height)+parseFloat(e.styles[d].gap));n={height:t,width:Math.max(...Object.keys(e.children).map(t=>e.children[t].styles[d]&&parseFloat(e.children[t].styles[d].width)))}}const i=e.styles[d].padding;let l=0,c=0,h=0,m=0;if(i){const e=i.split(" ");e.length>1&&([l,c,h,m]=e,m||(m=c),h||(h=l))}"auto"===a&&(r+=".".concat(t," {\n                width: ").concat(n.width+parseFloat(m)+parseFloat(c),"px;\n              }")),"auto"===s&&l&&(r+=".".concat(t," {\n                height: ").concat(n.height+parseFloat(l)+parseFloat(h),"px;\n              }"))}}if("group"!==i&&!c){this.pageScreens.find(e=>e.name===d);if("grid"===o){const e="50% - ".concat(a/2,"px + ").concat(n.left);r+=".".concat(t," {\n              left: -moz-calc(").concat(e,");\n              left: -webkit-calc(").concat(e,");\n              left: -o-calc(").concat(e,");\n              left: calc(").concat(e,")\n            }")}}let m=Object.keys(n).map(e=>{const t=n[e];return e.indexOf("_hover")>-1&&(e=e.replace("_hover",""),""!==t&&null!==t&&"object"!==typeof t)&&"".concat(e.dasherize(),": ").concat(t).concat("text"===i?"!important":"",";")}).filter(e=>e).join("");m&&(r+="text"===i?".".concat(t,"_hover, .").concat(t,":hover * { ").concat(m," }"):"video"===i?".".concat(t,"_hover .strw-video__preview-image__play-icon__svg, .").concat(t,":hover .strw-video__preview-image__play-icon__svg { ").concat(m," }"):".".concat(t,"_hover, .").concat(t,":hover { ").concat(m," }")),s.width!==a&&(r+="}")}}}return r},this.generateUrlForIframe=e=>function(t,a,s){var n=function(e){e.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);var t="youtube";return RegExp.$3.indexOf("youtu")>-1?t="youtube":RegExp.$3.indexOf("vimeo")>-1&&(t="vimeo"),{type:t,id:RegExp.$6}}(t);return"youtube"===n.type?"//www.youtube.com/embed/".concat(n.id,"?controls=").concat(+e.controls,"&mute=").concat(+e.mute,"&loop=").concat(+e.loop,"&autoplay=").concat(+e.autoplay,"&playlist=").concat(n.id):"vimeo"===n.type?"//player.vimeo.com/video/".concat(n.id,"?controls=").concat(+e.controls,"&mute=").concat(+e.mute,"&loop=").concat(+e.loop,"&autoplay=").concat(+e.autoplay):void 0}(e.video),this.generateUrlForVideoSlides=e=>{for(let t of e.data.images)"video"===t.type&&(t.video_url_generated=this.generateUrlForIframe(t))},this.addGradientCoordsForIcon=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;for(let s of e)if(s.type.indexOf("GRADIENT")>-1){s.gradientTransform.length<3&&s.gradientTransform.push([0,0,1]);let e=Object(_Editor_EditorPage_EditorHelpers_FillsToCss__WEBPACK_IMPORTED_MODULE_6__.d)(s.gradientTransform,s.type);if("GRADIENT_LINEAR"===s.type&&(s.coordsString='x1="'.concat(100*e[0].x,'%" x2="').concat(100*e[1].x,'%" y1="').concat(100*e[0].y,'%" y2="').concat(100*e[1].y,'%"')),"GRADIENT_RADIAL"===s.type){let n=t*e[1].x-t*e[0].x,o=a*e[1].y-a*e[0].y,i=Math.hypot(n,o);s.coordsString='cx="'.concat(100*e[0].x,'%" r="').concat(i,'%" cy="').concat(100*e[0].y,'%"')}}},this.effects={},this.getCurrentDevice=()=>{const e=this.pageScreens.sort((e,t)=>e.width-t.width);let t=e[0],a=0;for(const n of e){var s;window.innerWidth>n.width&&window.innerWidth<((null===(s=e[a+1])||void 0===s?void 0:s.width)||1/0)&&(t=n),a++}return t},this.jsonStructureToContent=(e,t)=>{const a=Object.keys(e);let s="",n="";const o=i=>{var r;let l=e[Object.keys(e)[i]];const c=this.getCurrentDevice();var p,d,h;(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.effects)&&((null===l||void 0===l||null===(p=l.data)||void 0===p||null===(d=p.effects[c.name])||void 0===d?void 0:d.length)>0&&(this.effects[l.id]={effects:l.data.effects[c.name],current:null===(h=l.styles)||void 0===h?void 0:h[c.name]}));!l.slug&&l.children&&(l.slug="group",l.styles={desktop:{left:0,top:0,width:0,height:0}},l.data={stored_components:Object.keys(l.children)});let m={tabIndex:i,effect_nil:!l.data.effect,video_url_generated:l.data.video?this.generateUrlForIframe(l.data):void 0,meta:{id:l.id,slug:l.slug,name:l.name,container:l.container,width_unit:l.width_unit,autolayout:l.autolayout,xSizingMode:l.data.xSizingMode,ySizingMode:l.data.ySizingMode,hover:Array.isArray(l.data.fills_hover)&&l.data.fills_hover.length>0}};if(l.data.ariaLabel||(l.data.ariaLabel=""),"slider"===l.slug&&this.generateUrlForVideoSlides(l),"icon"===l.slug){const e=parseFloat(l.styles.desktop.width),t=parseFloat(l.styles.desktop.height);this.addGradientCoordsForIcon(l.data.fills,e,t),this.addGradientCoordsForIcon(l.data.fills_hover,e,t)}const u=()=>{Object.assign(m,l.data),engine.parseAndRender(componentsLiquid[l.slug].html,m).then(r=>{s+=r,engine.parseAndRender(componentsLiquid[l.slug].css,m).then(r=>{r&&(n+=r),n+=this.generateBaseCSS(l,void 0,i,Object.keys(e).length),i===a.length-1?t(s+"<style>"+n+"</style>"):(i++,o(i))})})};l.children&&Object.keys(l.children).length>0?this.jsonStructureToContent(l.children,e=>{m.html=e,u()},i):u()};o(0)},this.generateCSSForBreaks=e=>{let t="";for(const a of this.pageScreens)e.name!==a.name?t+=".nl-".concat(a.name,' {\n          content: " ";\n          display: none;\n        }'):t+=".nl-".concat(a.name," {\n          display: inline;\n          content: normal;\n        }");return t},this.generateCSSTextBreaks=()=>{this.pageScreens.sort((e,t)=>t.width-e.width);let e={};for(const s of this.pageScreens)e[s.name]=s.width;const t=Object.keys(e);let a="";for(const s of t){const n=t.indexOf(s),o=e[s],i=this.pageScreens[0].width!==o&&t[n-1];i&&(a+="@media (max-width: ".concat(e[t[n-1]]-1,"px) {")),a+=this.generateCSSForBreaks(this.pageScreens.find(e=>e.name===t[n])),i&&(a+="}")}return a},this.pageToCss=(e,t,a)=>{const s=__webpack_require__(989),n=this.generateBaseCSS(t,["page",t.id].join("_")),o=this.getInstalledFontsCSS(t.site_fonts),i=this.generateCSSTextBreaks();engine.parseAndRender(s.default,t).then(t=>{e+="<style>".concat(o).concat(n).concat(i).concat(t,"</style>"),a(e)})},this.getHtml=e=>{axios__WEBPACK_IMPORTED_MODULE_2___default.a.defaults.headers.common.Authorization="Bearer ".concat(params.token||this.props.user.jwt),axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/pages/".concat(this.props.match.params.pageId,"/preview")).then(e).catch(e=>{_history__WEBPACK_IMPORTED_MODULE_7__.a.push("/?r="+document.location.pathname)})},this.getPage=e=>{axios__WEBPACK_IMPORTED_MODULE_2___default.a.defaults.headers.common.Authorization="Bearer ".concat(params.token||this.props.user.jwt),axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/pages/".concat(this.props.match.params.pageId,"/editor")).then(e).catch(e=>{_history__WEBPACK_IMPORTED_MODULE_7__.a.push("/?r="+document.location.pathname)})},this.pageWrapper=(e,t)=>{const a=t.match(/<head[^>]*>[\s\S]*<\/head>/gi),s=t.match(/<body[^>]*>[\s\S]*<\/body>/gi),n=jquery__WEBPACK_IMPORTED_MODULE_3___default()("<div>".concat(s,"</div>"));return n.find(".page-content__inner").html(e),{head:a,body:n.html()}},this.connectGoogleFonts=e=>{if(!e||0===e.length)return;let t=[...e].filter(e=>"google"===e.status||960===e.id).map(e=>"".concat(e.family,":100,200,300,400,500,600,700,800"));t.length>0&&webfontloader__WEBPACK_IMPORTED_MODULE_5___default.a?webfontloader__WEBPACK_IMPORTED_MODULE_5___default.a.load({google:{families:t},active:function(e){document.body.classList.add("siter-ready")}}):document.body.classList.add("siter-ready")},this.getInstalledFontsCSS=e=>{let t="",a=e.filter(e=>"installed"===e.status);for(let s of a)t+='\n@font-face {\n          font-family: "'.concat(s.family,'";\n          src: ').concat(s.formats?s.formats.map((e,t)=>'url("'.concat(s.urls[t],'") format("').concat("otf"===e?"opentype":"ttf"===e?"truetype":e,'")').concat(t===s.formats.length-1?";":"")):'url("'.concat(s.url,'") format("').concat("otf"===s.format?"opentype":"ttf"===s.format?"truetype":s.format,'");'),"\n          font-weight: ").concat(s.weight,";\n          font-style: ").concat(s.style,";\n        }\n      ");return t},this.addEffectsJSON=e=>e+="<script>const siterEffects = "+JSON.stringify(this.effects)+"<\/script>",this.renderPage=page=>{const{preview_component_params:preview_component_params,preview_template:preview_template,screens:screens}=page;this.pageScreens=screens,window.pageScreens=screens,this.setState({loading:!1},()=>{const cb=content=>{eval(jquery__WEBPACK_IMPORTED_MODULE_3___default()("<div>"+preview_template+"</div>").find("#variables").html()),content=this.replaceLinks(content),this.pageToCss(content,page,e=>{e=this.addEffectsJSON(e);const t=this.pageWrapper(e,preview_template);document.write("<!DOCTYPE html><html><head>".concat(t.head,"</head><body>").concat(t.body,"</body></html>")),this.connectGoogleFonts(page.site_fonts),document.close()})};this.preview_component_params=preview_component_params,Object.keys(preview_component_params).length>0?this.jsonStructureToContent(preview_component_params,cb):cb("")})}}componentWillMount(){this.getPage(e=>{let{data:t}=e;this.renderPage(t.page)})}render(){const{loading:e}=this.state;return e?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"ta-center"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"text-input__loading--line text-input__loading--line_center",style:{height:25,width:500}})):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null)}}const mapStateToProps=e=>({site:e.site,user:e.sessions}),mapDispatchToProps={};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.b)(mapStateToProps,mapDispatchToProps)(PagePreview)},500:function(e,t,a){e.exports=a.p+"static/media/restriction-image.05587def.png"},530:function(e,t,a){e.exports=a(996)},6:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"u",(function(){return o})),a.d(t,"p",(function(){return i})),a.d(t,"o",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"v",(function(){return p})),a.d(t,"l",(function(){return d})),a.d(t,"m",(function(){return h})),a.d(t,"i",(function(){return m})),a.d(t,"q",(function(){return u})),a.d(t,"w",(function(){return g})),a.d(t,"r",(function(){return _})),a.d(t,"s",(function(){return f})),a.d(t,"t",(function(){return v})),a.d(t,"k",(function(){return w})),a.d(t,"c",(function(){return C})),a.d(t,"d",(function(){return y})),a.d(t,"j",(function(){return b})),a.d(t,"n",(function(){return E})),a.d(t,"f",(function(){return k})),a.d(t,"g",(function(){return S})),a.d(t,"e",(function(){return x}));var s=a(225);const n={text:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.00001 5.09258L1.92849 15.2714L0.0715332 14.5286L5.07153 2.02861H6.92849L11.9285 14.5286L10.0715 15.2714L6.00001 5.09258Z" fill="#7F7F7F"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2 11C2 10.4477 2.44772 10 3 10H9C9.55228 10 10 10.4477 10 11C10 11.5523 9.55228 12 9 12H3C2.44772 12 2 11.5523 2 11Z" fill="#7F7F7F"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M18 2H12V0H18V2Z" fill="#7F7F7F"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M14 16V2H16V16H14Z" fill="#7F7F7F"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M18 18H12V16H18V18Z" fill="#7F7F7F"/> </svg>',rectangle:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 2C0 0.895431 0.895431 0 2 0H16C17.1046 0 18 0.895431 18 2V16C18 17.1046 17.1046 18 16 18H2C0.895431 18 0 17.1046 0 16V2ZM16 2H2V16H16V2Z" fill="#808080"/></svg>',image:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 3.5C0 2.11929 1.11929 1 2.5 1H15.5C16.8807 1 18 2.11929 18 3.5V14.5C18 15.8807 16.8807 17 15.5 17H2.5C1.11929 17 0 15.8807 0 14.5V3.5ZM2.5 3C2.22386 3 2 3.22386 2 3.5V14.5C2 14.7761 2.22386 15 2.5 15H15.5C15.7761 15 16 14.7761 16 14.5V3.5C16 3.22386 15.7761 3 15.5 3H2.5Z" fill="#808080"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.0188 10.1309L11.2139 7.46835C11.8939 6.90164 12.8645 6.84662 13.6041 7.33238L18 10.22V14.5C18 15.8807 16.8807 16 15.5 16H2.5C2 16 0.5 15.8807 0.5 14.5L0 12.4606L4.26791 9.12544C4.99174 8.56016 6.00805 8.55976 6.73194 9.12532L8.0188 10.1309ZM5.50062 10.7013L5.49938 10.7013L2 13.4359V15H16V11.2992L12.5062 9.00407C12.5025 9.00166 12.4977 9.00193 12.4943 9.00475L9.5 11.5L9.69667 11.6967C9.77337 11.7734 9.83302 11.8597 9.8761 11.9513C10.041 12.3022 9.96316 12.7314 9.66978 13C9.62931 13.0371 9.58474 13.0711 9.53614 13.1014C9.21421 13.3022 8.80105 13.2804 8.50206 13.0468L5.50062 10.7013Z" fill="#808080"/><path d="M8.25 6C8.25 6.69036 7.69036 7.25 7 7.25C6.30964 7.25 5.75 6.69036 5.75 6C5.75 5.30964 6.30964 4.75 7 4.75C7.69036 4.75 8.25 5.30964 8.25 6Z" fill="#808080"/></svg>',icon:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.99541 3.9524C2.41189 4.55677 2 5.49625 2 6.8125C2 8.45927 3.17886 10.2086 4.8121 11.7898C6.37318 13.3012 8.14733 14.4658 9 14.9882C9.85266 14.4658 11.6268 13.3012 13.1879 11.7898C14.8211 10.2086 16 8.45927 16 6.8125C16 5.49625 15.5881 4.55677 15.0046 3.9524C14.4205 3.34742 13.5901 3 12.6 3C11.5313 3 10.5419 3.81033 10.0197 4.35556C9.46812 4.93152 8.53188 4.93152 7.98029 4.35556C7.45813 3.81033 6.46875 3 5.4 3C4.40995 3 3.57951 3.34742 2.99541 3.9524ZM1.55659 2.56323C2.55649 1.52758 3.92605 1 5.4 1C6.98203 1 8.26593 1.90182 9 2.56096C9.73407 1.90182 11.018 1 12.6 1C14.0739 1 15.4435 1.52758 16.4434 2.56323C17.4439 3.59948 18 5.06625 18 6.8125C18 9.32796 16.2775 11.5824 14.579 13.2268C12.8362 14.9141 10.8836 16.1824 9.99629 16.7232C9.38131 17.0981 8.61869 17.0981 8.00371 16.7232C7.11636 16.1824 5.16383 14.9141 3.42096 13.2268C1.72248 11.5824 0 9.32796 0 6.8125C0 5.06625 0.556106 3.59948 1.55659 2.56323Z" fill="#7F7F7F"/></svg>',button:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 5H6C3.79086 5 2 6.79086 2 9C2 11.2091 3.79086 13 6 13H12C14.2091 13 16 11.2091 16 9C16 6.79086 14.2091 5 12 5ZM6 3C2.68629 3 0 5.68629 0 9C0 12.3137 2.68629 15 6 15H12C15.3137 15 18 12.3137 18 9C18 5.68629 15.3137 3 12 3H6Z" fill="#808080"/><path opacity="0.5" d="M5 8H13V10H5V8Z" fill="#808080"/></svg>',video:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16ZM9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z" fill="#808080"/><path d="M11.7064 8.44722C12.1171 8.7013 12.1171 9.29872 11.7064 9.55279L7.99192 11.8505C7.55889 12.1184 6.99997 11.8069 6.99997 11.2977L6.99997 6.7023C6.99997 6.19311 7.55889 5.88165 7.99192 6.14951L11.7064 8.44722Z" fill="#808080"/></svg>',map:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 14V2H7V14H5Z" fill="#808080"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11 16V4H13V16H11Z" fill="#808080"/><path d="M4.58785 1.84729L1.4855 3.7087C1.1843 3.88942 1 4.21493 1 4.56619V15.2338C1 16.0111 1.84797 16.4912 2.5145 16.0913L5.52928 14.2824C5.82246 14.1065 6.18519 14.0926 6.49099 14.2455L10.527 16.2635C11.4444 16.7222 12.5326 16.6804 13.4122 16.1527L16.5145 14.2913C16.8157 14.1106 17 13.7851 17 13.4338V2.76619C17 1.9889 16.152 1.50878 15.4855 1.9087L12.4707 3.71757C12.1775 3.89348 11.8148 3.90741 11.509 3.7545L7.47298 1.73649C6.55556 1.27778 5.46738 1.31957 4.58785 1.84729Z" stroke="#808080" stroke-width="2"/></svg>',code:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.225 2.2C6.66683 2.53137 6.75637 3.15817 6.425 3.6L2.375 9L6.425 14.4C6.75637 14.8418 6.66683 15.4686 6.225 15.8C5.78317 16.1314 5.15637 16.0418 4.825 15.6L0.325 9.6C0.0583333 9.24444 0.0583333 8.75555 0.325 8.4L4.825 2.4C5.15637 1.95817 5.78317 1.86863 6.225 2.2Z" fill="#808080"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.775 2.2C12.2168 1.86863 12.8436 1.95817 13.175 2.4L17.675 8.4C17.9417 8.75555 17.9417 9.24444 17.675 9.6L13.175 15.6C12.8436 16.0418 12.2168 16.1314 11.775 15.8C11.3332 15.4686 11.2436 14.8418 11.575 14.4L15.625 9L11.575 3.6C11.2436 3.15817 11.3332 2.53137 11.775 2.2Z" fill="#808080"/></svg>',slider:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="16" height="13" rx="2" stroke="#808080" stroke-width="2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.0188 8.13092L11.2139 5.46835C11.8939 4.90164 12.8645 4.84662 13.6041 5.33238L18 8.22003V12.5C18 13.8807 16.8807 14 15.5 14H2.5C2 14 0.5 13.8807 0.5 12.5L0 10.4606L4.26791 7.12544C4.99174 6.56016 6.00805 6.55976 6.73194 7.12532L8.0188 8.13092ZM5.50062 8.70134L5.49938 8.70134L2 11.4359V13H16V9.29915L12.5062 7.00407C12.5025 7.00166 12.4977 7.00193 12.4943 7.00475L9.5 9.5L9.69667 9.69667C9.77337 9.77337 9.83302 9.85968 9.8761 9.95133C10.041 10.3022 9.96316 10.7314 9.66978 11C9.62931 11.0371 9.58474 11.0711 9.53614 11.1014C9.21421 11.3022 8.80105 11.2804 8.50206 11.0468L5.50062 8.70134Z" fill="#808080"/><path d="M10 17C10 17.5523 9.55228 18 9 18C8.44772 18 8 17.5523 8 17C8 16.4477 8.44772 16 9 16C9.55228 16 10 16.4477 10 17Z" fill="#808080"/><path opacity="0.5" d="M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z" fill="#808080"/><path opacity="0.5" d="M16 17C16 17.5523 15.5523 18 15 18C14.4477 18 14 17.5523 14 17C14 16.4477 14.4477 16 15 16C15.5523 16 16 16.4477 16 17Z" fill="#808080"/><path opacity="0.5" d="M7 17C7 17.5523 6.55228 18 6 18C5.44772 18 5 17.5523 5 17C5 16.4477 5.44772 16 6 16C6.55228 16 7 16.4477 7 17Z" fill="#808080"/><path opacity="0.5" d="M4 17C4 17.5523 3.55228 18 3 18C2.44772 18 2 17.5523 2 17C2 16.4477 2.44772 16 3 16C3.55228 16 4 16.4477 4 17Z" fill="#808080"/></svg>',form:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.9 8.5C0.9 7.61635 1.61635 6.9 2.5 6.9H15.5C16.3836 6.9 17.1 7.61635 17.1 8.5C17.1 9.38365 16.3836 10.1 15.5 10.1H2.5C1.61635 10.1 0.9 9.38365 0.9 8.5Z" stroke="#808080" stroke-width="1.8"/><path d="M0 14.5C0 13.1193 1.11929 12 2.5 12H15.5C16.8807 12 18 13.1193 18 14.5C18 15.8807 16.8807 17 15.5 17H2.5C1.11929 17 0 15.8807 0 14.5Z" fill="#808080"/><path d="M0.9 2.5C0.9 1.61635 1.61635 0.9 2.5 0.9H15.5C16.3836 0.9 17.1 1.61635 17.1 2.5C17.1 3.38365 16.3836 4.1 15.5 4.1H2.5C1.61635 4.1 0.9 3.38365 0.9 2.5Z" stroke="#808080" stroke-width="1.8"/></svg>'},o=e=>{if(e){let t=document.createElement("div");return t.innerHTML=e,(t.innerText+"").replace(/(<([^>]+)>)/gi,"")}},i=()=>/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!==typeof window.safari&&window.safari.pushNotification).toString(),r=()=>navigator.userAgent.toLowerCase().includes("firefox"),l=(e,t,a)=>{const{positionX:s,positionY:n}=window,o=(parseInt(window.WORKSPACE_WIDTH,10)-a.width)/2,{width:i,height:r,x:l,y:c}=t,p=Math.round((l-s)/window.currentZoom*100-o-i/2),d=Math.round((c-n)/window.currentZoom*100-r/2);return e.left=p+"px",e.top=d+"px",e},c=e=>"rectangle"===e.slug?e.data.color_name:"text"===e.slug?o(e.data.content):"button"===e.slug?o(e.data.value):"map"===e.slug?e.data.address:"icon"===e.slug?e.data.icon_name:"image"===e.slug?e.data.image_name:"video"===e.slug||"code"===e.slug||"form"===e.slug?e.data.name:"slider"===e.slug?e.data.name||"Slider":void 0,p=e=>{let t=(e=[...e]).filter(e=>{let{node:t}=e;return Object(s.c)(t.slug)}),a=[];for(let s of e){let e=s.path.slice(0,-1);for(let n of t)e.indexOf(n.node.id)>-1&&a.push(s)}for(const s of a){let t=e.indexOf(s);t>-1&&e.splice(t,1)}return e},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="https://fonts.googleapis.com/css?family=",a=[...e].filter(e=>"google"===e.status||960===e.id),s=a.map(e=>"".concat(e.family,":100,200,300,400,500,600,700,800"));for(var n=0;n<s.length;n++)t+=s[n].replace(" ","+")+(n!==s.length-1?"|":"");return 0===s.length?" ":t},h=e=>{let t=Array.from(e.style).reduce((t,a)=>(t[a]=e.style.getPropertyValue(a),t),{});return delete t.position,delete t.top,delete t.left,delete t.display,Object.keys(t).forEach(e=>{Number.isInteger(parseInt(e))&&delete t[e]}),t},m=()=>{if(Object.keys(window.CKEDITOR.instances).length>0)return window.CKEDITOR.instances[Object.keys(window.CKEDITOR.instances)[0]]},u=e=>{if(e.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1)var t="youtube";else if(RegExp.$3.indexOf("vimeo")>-1)t="vimeo";return{type:t,id:RegExp.$6}},g=(e,t)=>{let a="";return"url"===t&&(a="(https?://(?:www.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].[^s]{2,}|www.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].[^s]{2,}|https?://(?:www.|(?!www))[a-zA-Z0-9]+.[^s]{2,}|www.[a-zA-Z0-9]+.[^s]{2,})"),"name"===t?/^[A-z0-9\[\] -]+$/.test(e):"email"===t?/^\w+([\+.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,7})+$/.test(e):"number"===t?/^\d+$/.test(e):!e||!a||(a=a.replace("/","//"),new RegExp(a).test(e))},_=(e,t)=>{if("string"===typeof e&&e.indexOf("%")>-1){const{width:a}=t,s=document.getElementsByClassName("section-editor__space")[0];s?s[0].offsetWidth:window.innerWidth;return"".concat(Math.round(parseInt(e,10)/100*(window.WORKSPACE_WIDTH||window.innerWidth)),"px")}return e},f=e=>{if("string"===typeof e&&e.indexOf("%")>-1){const t=document.getElementsByClassName("section-editor__layout")[0].offsetHeight;return Math.round(parseInt(e,10)/100*t)}return e},v=(e,t)=>{let a=window.WORKSPACE_WIDTH;return t.width<1200&&(a=t.width),"string"===typeof e&&e.indexOf("%")>-1?"".concat(Math.round(parseInt(e,10)/100*a),"px"):e},w=(e,t)=>{let a;if(Array.isArray(e)){const s=e.map(e=>{var a,s;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])&&parseFloat(_(parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].left,10)+e.left_unit,t),10)+0}),n=e.map(e=>{var a,s,n;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])&&parseFloat(_(parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].left,10)+e.left_unit,t),10)+0+parseFloat(v(null===(n=e.styles)||void 0===n?void 0:n[t.name].width,t),10)}),o=e.map(e=>{var a,s;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])&&parseFloat(f(parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].top,10)+e.top_unit),10)}),i=e.map(e=>{var a,s,n;return(null===(a=e.styles)||void 0===a?void 0:a[t.name])&&parseFloat(f(parseFloat(null===(s=e.styles)||void 0===s?void 0:s[t.name].top,10)+e.top_unit),10)+parseFloat((e=>{if("string"===typeof e&&e.indexOf("%")>-1){const t=document.getElementsByClassName("section-editor__layout")[0].offsetHeight;return Math.round(parseInt(e,10)/100*t)}return e})(null===(n=e.styles)||void 0===n?void 0:n[t.name].height),10)}),r=Math.min(...s),l=Math.max(...n),c=Math.min(...o);a={offsetWidth:l-r,offsetHeight:Math.max(...i)-c,offsetLeft:r,offsetTop:c}}return a},C=(e,t,a)=>{const s=e.componentsInGroup.map(e=>{var t;return parseInt(_(parseInt(null===(t=e.styles)||void 0===t?void 0:t[a.name].left,10)+e.left_unit,a),10)}),n=Math.min(...s),o=e.componentsInGroup.map(e=>{var t;return parseInt(f(parseInt(null===(t=e.styles)||void 0===t?void 0:t[a.name].top,10)+e.top_unit),10)}),i=Math.min(...o);let r=[];return e.componentsInGroup.forEach(e=>{var s;let o={};const l=null===(s=e.styles)||void 0===s?void 0:s[a.name];if(t.hasOwnProperty("left")){const a=parseInt(l.left,10)+(parseInt(t.left,10)-n);o.left=a+e.left_unit}if(t.hasOwnProperty("top")){const a=parseInt(l.top,10)+(parseInt(t.top,10)-i);o.top=a+e.top_unit}r.push(o)}),r},y=(e,t,a)=>{let s,n,o=[],i=[];for(const p of e.componentsInGroup)s=document.querySelector("#"+CSS.escape(p.id)),s&&(n=getComputedStyle(s),o.push(parseFloat(n.left)),i.push(parseFloat(n.top)));let r=Math.min(...o),l=Math.min(...i),c=[];return e.componentsInGroup.forEach(e=>{let a={};const s=document.querySelector("#"+CSS.escape(e.id));if(s){const n=getComputedStyle(s);if(t.hasOwnProperty("left")){const t=parseFloat(n.left)-r;a.left=t+e.left_unit}if(t.hasOwnProperty("top")){const t=parseFloat(n.top)-l;a.top=t+e.top_unit}c.push(a)}}),c},b=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";const o=w(e,t),i=e.find(e=>"window"===e.container),r={componentsInGroup:e,commonComponents:!0,container:i?"window":"grid",id:n,styles:{[t.name]:{left:"".concat(o.offsetLeft,"px"),width:"".concat(o.offsetWidth,"px"),height:"".concat(o.offsetHeight,"px"),top:"".concat(o.offsetTop,"px")}}};if(1===a.length){const e=s.one("#".concat(a[0])).component;e&&e.group_id&&(r.group_id=e.group_id)}return r},E=()=>{if(window.location.href.includes("localhost")){return JSON.parse(JSON.parse(localStorage.getItem("persist:primary")).sessions).email_confirmed=!0}if(localStorage.getItem("persist:primary")){const e=JSON.parse(JSON.parse(localStorage.getItem("persist:primary")).sessions);if(e)return e.email_confirmed}return!0},k=e=>e.charAt(0).toUpperCase()+e.slice(1),S={VALUE_CREATED:"created",VALUE_UPDATED:"updated",VALUE_DELETED:"deleted",VALUE_UNCHANGED:"unchanged",map:function(e,t){if(this.isFunction(e)||this.isFunction(t))throw"Invalid argument. Function given, object expected.";if(this.isValue(e)||this.isValue(t))return{mapper_type:this.compareValues(e,t),mapper_data:void 0===e?t:e};var a={};for(var s in e)if(!this.isFunction(e[s])){var n=void 0;void 0!==t[s]&&(n=t[s]),a[s]=this.map(e[s],n)}for(var s in t)this.isFunction(t[s])||void 0!==a[s]||(a[s]=this.map(void 0,t[s]));return a},compareValues:function(e,t){return e===t||this.isDate(e)&&this.isDate(t)&&e.getTime()===t.getTime()?this.VALUE_UNCHANGED:void 0===e?this.VALUE_CREATED:void 0===t?this.VALUE_DELETED:this.VALUE_UPDATED},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isDate:function(e){return"[object Date]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isValue:function(e){return!this.isObject(e)&&!this.isArray(e)}},x=e=>{let{components:t,ComponentHelper:a,currentDevice:s,nextDeviceIndex:n,devices:o,y:i}=e,r=[];for(let h of t)"frame"===h.slug&&(r=r.concat(a.getComponentsInGroup(h)));for(let h of r){const e=t.find(e=>e.id===h.id),a=t.indexOf(e);a>-1&&t.splice(a,1)}let l=a.getCommonRectByComponentsProps(t,o[n]);const c=(l.left+l.width/2)/s.width,p=o[n].width*c-l.width/2;for(const h of t)if(h.newDevice){var d;delete h.newDevice;let e={left:"".concat(parseFloat(null===(d=h.styles)||void 0===d?void 0:d[s.name].left)+(p-l.left),"px")};h.lock||"%"===h.width_unit||"group"===h.slug||Object.assign(h.styles[o[n].name],e)}}},76:function(e,t,a){var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var i=a(941),r=a(0),l=a(1),c="undefined"!==typeof window?a(942):null,p=a(947),d=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this;if(this.props.isOpen&&i(c)){var a=p(this.props,Object.keys(t.defaultProps));c(a,(function(t){e.props.callback&&e.props.callback(t)}))}return null}}]),t}(r.Component);d.displayName="SweetAlert",d.propTypes={isOpen:l.bool.isRequired,type:l.oneOf(["warning","error","success","info"]),text:l.string,title:l.string,allowEscKey:l.bool,customClass:l.string,allowOutSideClick:l.bool,showCancelButton:l.bool,showConfirmButton:l.bool,confirmButtonText:l.string,confirmButtonColor:l.string,cancelButtonText:l.string,closeOnConfirm:l.bool,closeOnCancel:l.bool,imageUrl:l.string,imageSize:l.string,timer:l.number,html:l.bool,animation:l.bool,inputType:l.string,inputPlaceholder:l.string,inputValue:l.string,callback:l.func},d.defaultProps={type:"warning",text:"Are you sure you want to do this?",title:"Are you sure?",allowEscKey:!0,customClass:null,allowOutSideClick:!1,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Confirm",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",closeOnConfirm:!0,closeOnCancel:!0,imageUrl:null,imageSize:"80x80",timer:null,html:!1,animation:!0,inputType:"text",inputPlaceholder:null,inputValue:null},e.exports=d},78:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));var s=a(51);const n=Object(s.a)("CREATE_PAGE_COMPONENT_REQUEST",(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return[e,t,a]})),o=Object(s.a)("CREATE_PAGE_COMPONENT_SUCCESS",e=>e)},862:function(e,t){},948:function(e,t,a){var s={"./alipay.svg":[997,3],"./american-express.svg":[998,4],"./diners-club.svg":[999,5],"./discover.svg":[1e3,6],"./elo.svg":[1001,7],"./hipercard.svg":[1002,8],"./jcb.svg":[1003,9],"./maestro-old.svg":[1004,10],"./maestro.svg":[1005,11],"./mastercard-old.svg":[1006,12],"./mastercard.svg":[1007,13],"./paypal.svg":[1008,14],"./unionpay.svg":[1009,15],"./verve.svg":[1010,16],"./visa.svg":[1011,17]};function n(e){if(!a.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return a.e(t[1]).then((function(){return a.t(n,7)}))}n.keys=function(){return Object.keys(s)},n.id=948,e.exports=n},966:function(e,t,a){var s={"./button/html.js":967,"./code/html.js":968,"./form/html.js":969,"./frame/html.js":970,"./group/html.js":971,"./icon/html.js":972,"./image/html.js":973,"./map/html.js":974,"./rectangle/html.js":975,"./slider/html.js":976,"./text/html.js":977,"./video/html.js":978};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=o,e.exports=n,n.id=966},967:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.hover %}h{%endif%} {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-analytics="{{analytics}}" data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" href="{{href}}" contenteditable="false" spellcheck="false" class="page-content__component {{meta.slug}}_{{meta.id}}">\n<div class="str-button__inner">\n  <svg style="{%if with_icon == false or icon_svg == "" %}display:none;{% endif %}margin-right: {{icon_margin_right}};margin-top: {{icon_margin_top}};width: {{icon_width}};" class="material-icons material-icons_svg material-icons_svg_top" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">{{icon_svg}}</svg>\n  {%if with_icon == true and icon_id != ""%}<i style="margin-right:{{icon_margin_right}}; font-size: {{icon_width}}; margin-top:{{icon_margin_top}}" class="str-button__inner-icon material-icons {{icon_id}}"></i><style>.material-icons.{{icon_id}}:before {content: \'{{icon_id}}\';}</style>{%endif%}{%if value != ""%}<span class="str-button__inner-value">{{value}}</span>{%endif%}\n</div>\n  <a class="str-image__inner-link" data-popup-position="{{popup_position}}" data-overlay-color="{{overlay_color}}" data-close-click-outside="{{close_click_outside}}" data-type="{{effect}}" href="{{href}}" {%if target_blank%}\n  target="_blank"{%endif%} title="{{ariaLabel | strip_html | strip_newlines}}" aria-label="{{ariaLabel | strip_html | strip_newlines}}" aria-disabled="false" aria-pressed="false"></a>\n</div>'},968:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" class="page-content__component {{meta.slug}}_{{meta.id}}">\n  {{content}}\n</div>'},969:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-analytics="{{analytics}}" data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" contenteditable="false" spellcheck="false" class="page-content__component strwf__form strwf_{{form_theme}} {{meta.slug}}_{{meta.id}}">\n<form {% if useRedirect %} data-target-blank="{{target_blank}}" data-popup-position="{{popup_position}}" data-overlay-color="{{overlay_color}}" data-close-click-outside="{{close_click_outside}}" data-type="{{effect}}" data-redirecturl="{{redirectUrl}}"{% endif %} novalidate data-id="{{meta.id}}" class="strwf_{{form_type}}">\n{% for field in form_fields %}<div class="strwf__input-wrapper {% if form_type == \'horizontal\' %} strwf__input-inline strwf__input-wrapper_{{forloop.length | plus: 1}}{% endif %}">\n{% if "text, tel, email, name" contains field.type %}<input class="strwf__input" data-type="{{field.type}}" type="{{field.type}}" name="{{field.name}}" placeholder="{{field.placeholder}}" {% if field.required %}required{% endif %}>\n<span class="error-text">\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e</span>\n{% elsif "phone" contains field.type%}\n<input class="strwf__input" data-type="{{field.type}}" type="number" name="{{field.name}}" placeholder="{{field.placeholder}}" {% if field.required %}required{% endif %}>\n{% elsif "number" contains field.type%}\n<input class="strwf__input" data-type="{{field.type}}" type="{{field.type}}" value="1" name="{{field.name}}" placeholder="{{field.placeholder}}" {% if field.required %}required{% endif %}>\n<span class="error-text">\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e</span>\n<div class="strwf__input-number__arrows">\n<svg class="strwf__input-number__up" width="11" height="6" viewBox="0 0 11 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M1 5L5.5 1L10 5" stroke="black"/>\n</svg>\n<svg class="strwf__input-number__down" width="11" height="6" viewBox="0 0 11 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M1 1L5.5 5L10 1" stroke="black"/>\n</svg>\n</div>\n{% elsif "radio" contains field.type %}\n{% for option in field.options %}<div class="strwf__radio-wrapper">\n<input class="strwf__radio" id="strwf-{{field.type}}-{{forloop.index}}" value="{{option}}" type="{{field.type}}" name="{{field.name}}">\n<label class="strwf__radio-label" for="strwf-{{field.type}}-{{forloop.index}}">{{option}}</label>\n</div>\n{% endfor %}\n{% elsif "checkbox" contains field.type %}\n{% for option in field.options %}\n<div class="strwf__radio-wrapper">\n<input class="strwf__radio" id="strwf-{{field.type}}-{{forloop.index}}" value="{{option}}" type="{{field.type}}" name="{{field.name}}" {% if field.required %}required{% endif %}>\n<label class="strwf__radio-label" for="strwf-{{field.type}}-{{forloop.index}}">{{option}}</label>\n</div>\n{% endfor %}\n{% elsif field.type == \'textarea\' %}\n<textarea class="strwf__input strwf__input_textarea" name="{{field.name}}" placeholder="{{field.placeholder}}" {% if field.required %}required{% endif %}></textarea>\n<span class="error-text">\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e</span>\n{% elsif field.type == \'select\' %}\n<select class="strwf__input strwf__input_select" name="{{field.name}}" {% if field.required %}required{% endif %}>\n{% for option in field.options %}\n<option value="{{option.value}}">{{option.title}}</option>\n{% endfor %}\n<option value="" disabled selected>{{field.placeholder}}</option>\n</select><span class="error-text">\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e</span>{% endif %}</div>{% else %}\u0423 \u0444\u043e\u0440\u043c\u044b \u043d\u0435\u0442 \u043f\u043e\u043b\u0435\u0439!{% endfor %}<div class="strwf__button-wrapper strwf__form-button__wrapper {% if form_type == \'horizontal\' %} strwf__input-inline strwf__input-wrapper_{{form_fields.size | plus: 1}} {% endif %}">\n<button type="submit" aria-label="{{button_value}}" aria-disabled="false" aria-pressed="false" class="strwf_button strwf_form-button"><svg style="{%if button_with_icon == false or button_icon_svg == "" %}display:none;{% endif %}margin-right: {{button_icon_margin_right}};margin-top: {{button_icon_margin_top}};width: {{button_icon_width}};" class="material-icons material-icons_svg material-icons_svg_top" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">{{button_icon_svg}}</svg>{%if button_with_icon == true and icon_id != ""%}<i style="margin-right:{{button_icon_margin_right}}; font-size: {{button_icon_width}}; margin-top:{{button_icon_margin_top}}" class="str-button__inner-icon material-icons {{button_icon_id}}"></i><style>.material-icons.{{button_icon_id}}:before {content: \'{{button_icon_id}}\';}</style>{%endif%}<span class="str-button__inner-value">{{button_value}}</span>\n</button>\n</div>\n</form>\n</div>'},970:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} id="{{meta.id}}" class="frame_{{meta.id}} page-content__component-group page-content__component-frame {%if meta.autolayout %}autolayout{%endif%}" data-type="frame" {%if use_image %} style="background-image:url(\'{{image}}\');"{%endif%}>\n  <div class="strw-shape"></div>\n  {% if effect_nil or effect == \'none\' %}\n      {{html}}\n  {% else %}\n      {{html}}<div title="{{ariaLabel | strip_html | strip_newlines}}" aria-label="{{ariaLabel | strip_html | strip_newlines}}" class="str-group__inner-link" data-type="{{effect}}" data-popup-position="{{popup_position}}" data-overlay-color="{{overlay_color}}" data-close-click-outside="{{close_click_outside}}" href="{{href}}"{% if target_blank %} target="_blank"{%endif%}></div>\n  {%endif%}\n</div>'},971:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} id="{{meta.id}}" class="group_{{meta.id}} page-content__component-group" data-type="group">\n  {% if effect_nil or effect == \'none\' %}\n      {{html}}\n  {% else %}\n      <div title="{{ariaLabel | strip_html | strip_newlines}}" aria-label="{{ariaLabel | strip_html | strip_newlines}}" class="str-group__inner-link" data-type="{{effect}}" data-popup-position="{{popup_position}}" data-overlay-color="{{overlay_color}}" data-close-click-outside="close_click_outside" href="{{href}}"{% if target_blank %} target="_blank"{%endif%}>{{html}}</div>\n  {%endif%}\n</div>'},972:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.hover %}h{%endif%} {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" class="page-content__component {{meta.slug}}_{{meta.id}}">\n  {% if effect != "none" %}\n    <a title="{{ariaLabel | strip_html | strip_newlines}}" aria-label="{{ariaLabel | strip_html | strip_newlines}}" class="str-image__inner-link" data-type="{{effect}}" data-popup-position="{{popup_position}}" data-overlay-color="{{overlay_color}}" data-close-click-outside="{{close_click_outside}}" href="{{href}}"{%if target_blank%}\n    target="_blank"{%endif%}></a>\n  {%endif%}\n  <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">\n    {% if icon_svg != \'none\' %}\n      {% for fill in fills %}\n      {{icon_svg}}\n      {% endfor %}\n      <g id="gradient">\n        <defs>\n          {% for fill in fills %}\n            {% if fill.type == \'SOLID\' %}\n              <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="gradient-{{meta.id}}-{{forloop.index0}}">\n                <stop offset="0%" stop-color="rgba({{fill.color.r | times: 255}}, {{fill.color.g | times: 255}}, {{fill.color.b | times: 255}}, {{fill.opacity}})"></stop>\n                <stop offset="100%" stop-color="rgba({{fill.color.r | times: 255}}, {{fill.color.g | times: 255}}, {{fill.color.b | times: 255}}, {{fill.opacity}})"></stop>\n              </linearGradient>\n            {% elsif fill.type == \'GRADIENT_LINEAR\' %}\n              <linearGradient {{fill.coordsString}} id="gradient-{{meta.id}}-{{forloop.index0}}">\n                {% for stop in fill.gradientStops %}\n                  <stop offset="{{stop.position | times: 100}}%" stop-color="rgba({{stop.color.r | times: 255}}, {{stop.color.g | times: 255}}, {{stop.color.b | times: 255}}, {{fill.opacity | times: stop.color.a}})"></stop>\n                {% endfor %}\n              </linearGradient>\n            {% elsif fill.type == \'GRADIENT_RADIAL\' %}\n              <radialGradient {{fill.coordsString}} id="gradient-{{meta.id}}-{{forloop.index0}}">\n                {% for stop in fill.gradientStops %}\n                  <stop offset="{{stop.position | times: 100}}%" stop-color="rgba({{stop.color.r | times: 255}}, {{stop.color.g | times: 255}}, {{stop.color.b | times: 255}}, {{fill.opacity | times: stop.color.a}})"></stop>\n                {% endfor %}\n              </radialGradient>\n            {% endif %}\n          {% endfor %}\n        </defs>\n      </g>\n      <g id="gradient-hover">\n        <defs>\n          {% for fill in fills_hover %}\n            {% if fill.type == \'SOLID\' %}\n              <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="gradient-hover-{{meta.id}}-{{forloop.index0}}">\n                <stop offset="0%" stop-color="rgba({{fill.color.r | times: 255}}, {{fill.color.g | times: 255}}, {{fill.color.b | times: 255}}, {{fill.opacity}})"></stop>\n                <stop offset="100%" stop-color="rgba({{fill.color.r | times: 255}}, {{fill.color.g | times: 255}}, {{fill.color.b | times: 255}}, {{fill.opacity}})"></stop>\n              </linearGradient>\n            {% elsif fill.type == \'GRADIENT_LINEAR\' %}\n              <linearGradient {{fill.coordsString}} id="gradient-hover-{{meta.id}}-{{forloop.index0}}">\n                {% for stop in fill.gradientStops %}\n                  <stop offset="{{stop.position | times: 100}}%" stop-color="rgba({{stop.color.r | times: 255}}, {{stop.color.g | times: 255}}, {{stop.color.b | times: 255}}, {{fill.opacity | times: stop.color.a}})"></stop>\n                {% endfor %}\n              </linearGradient>\n            {% elsif fill.type == \'GRADIENT_RADIAL\' %}\n              <radialGradient {{fill.coordsString}} id="gradient-{{meta.id}}-{{forloop.index0}}">\n                {% for stop in fill.gradientStops %}\n                  <stop offset="{{stop.position | times: 100}}%" stop-color="rgba({{stop.color.r | times: 255}}, {{stop.color.g | times: 255}}, {{stop.color.b | times: 255}}, {{fill.opacity | times: stop.color.a}})"></stop>\n                {% endfor %}\n              </radialGradient>\n            {% endif %}\n          {% endfor %}\n        </defs>\n      </g>\n    {% endif %}\n  </svg>\n  {% if icon_svg == \'none\' %}\n  <i class="str-image__inner-icon material-icons {{icon_id}}"></i>\n  <style>.material-icons.{{icon_id}}:before {content: \'{{icon_id}}\';}</style>\n  {% endif %}\n</div>'},973:function(e,t,a){"use strict";a.r(t),t.default='<div title="{{alt}}" {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-unit="{{meta.width_unit}}" data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" class="page-content__component {{meta.slug}}_{{meta.id}}" data-bg="image" style="background-image:url(\'{{image}}\');">\n  <img class="str-img" src="{{image}}" alt="{{alt}}" style="opacity: 0" />\n  <div class="strw-shape"></div>\n  {% if effect != "none" %}\n    <a title="{{ariaLabel | strip_html | strip_newlines}}" aria-label="{{ariaLabel | strip_html | strip_newlines}}" class="str-image__inner-link" data-popup-position="{{popup_position}}" data-overlay-color="{{overlay_color}}" data-close-click-outside="{{close_click_outside}}" data-type="{{effect}}" href="{{href}}"{%if target_blank%}\n    target="_blank"{%endif%}></a>\n  {%endif%}\n</div>'},974:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-unit="{{meta.width_unit}}" data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" class="page-content__component {{meta.slug}}_{{meta.id}}">\n  <div class="strw__map-wrapper" style="width: 100%; height: 100%;">\n    <div id="map_{{meta.id}}"\n        data-zoom="{{zoom}}"\n        data-lat="{{lat}}"\n        data-lng="{{lng}}"\n        data-address="{{address}}"\n        data-mode="{{mode}}"\n        data-travelMode="{{travel_mode}}"\n        data-controls="{{controls}}"\n        data-markers=\'{{markers | to_json}}\'\n        data-mapStyles=\'{{map_styles}}\'\n        data-zoomOnScroll="{{zoom_on_scroll}}"\n        data-directionOrigin="{{direction_origin}}"\n        data-directionDestination="{{direction_destination}}"\n        class="strw__map" style="width: 100%; height: 100%;"></div>\n  </div>\n</div>'},975:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.hover %}h{%endif%} {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-unit="{{meta.width_unit}}" class="page-content__component {{meta.slug}}_{{meta.id}}" data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" {%if use_image %} style="background-image:url(\'{{image}}\');"{%endif%}>\n  <div class="strw-shape"></div>\n  {% if effect != "none" %}\n    <a title="{{ariaLabel | strip_html | strip_newlines}}" aria-label="{{ariaLabel | strip_html | strip_newlines}}" class="str-image__inner-link" data-popup-position="{{popup_position}}" data-overlay-color="{{overlay_color}}" data-close-click-outside="{{close_click_outside}}" data-type="{{effect}}" href="{{href}}"{%if target_blank%}\n    target="_blank"{%endif%}></a>\n  {%endif%}\n</div>'},976:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-unit="{{meta.width_unit}}" class="page-content__component {{meta.slug}}_{{meta.id}} strw-slider" data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" data-autoplay="{{autoplay}}" data-delay="{{autoplay_delay}}" data-disable-on-interaction="{{disable_on_interaction}}" data-allow-touchmove="{{allow_touch_move}}">\n  <span id="swiper-pagination-bullet" style="display:none">\n    {%if dots_icon_svg != ""%}<svg style="width: {{dots_icon_width}};" class="material-icons material-icons_svg" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">{{dots_icon_svg}}</svg>{%endif%}\n    {%if dots_icon_id != ""%}<i style="font-size: {{dots_icon_width}}" class="str-button__inner-icon material-icons {{dots_icon_id}}"></i><style>.material-icons.{{dots_icon_id}}:before {content: \'{{dots_icon_id}}\';}</style>{%endif%}\n  </span>\n  <div class="swiper-container swiper-container__mode-{{mode}} swiper-container__arrows-{{arrows_position}} swiper-container__dots-{{dots_position}} swiper-container-horizontal">\n    <div class="swiper-wrapper">\n      {% for slide in images %}\n        {% if slide.disabled == false %}\n          {% if slide.type == \'image\' %}\n            <div class="swiper-slide swiper-slide-{{forloop.index0}}">\n              <div class="str-slider__slide" style="background-image: url(\'{{slide.image}}\');"></div>\n            </div>\n          {% endif %}\n          {% if slide.type == \'video\' %}\n            <div class="swiper-slide swiper-slide-{{forloop.index0}}">\n              <div data-video-type="{{slide.video_type}}" class="strw-video swiper-slide__video" style="background-image:url(\'{{slide.video_thumbnail}}\');" data-autoplay="{{slide.autoplay}}" data-mode="{{slide.video_mode}}">\n                <div class="video">\n                  {% if slide.video_type == \'youtube\' %}\n                    <iframe src="{{slide.video_url_generated}}" frameborder="0" allowfullscreen="allowfullscreen" class="str-section__video" width="100%" height="100%"></iframe>\n                  {% endif %}\n                  {% if slide.video_type == \'file\' %}\n                    <video {% if slide.autoplay %}autoplay="true"{%endif%} {% if slide.controls %}controls{%endif%} {% if slide.mute %}muted="muted"{%endif%} {% if slide.loop %}loop="true"{% endif %} class="siter-video__file" width="100%" height="100%">\n                      <source src="{{slide.video_file_url}}" type="video/mp4">\n                    </video>\n                  {% endif %}\n                </div>\n                {% if slide.video == \'\' or slide.video_thumbnail != \'\' %}\n                  <div class="strw-video__preview-image">\n                    {% if slide.video_mode == \'newtab\' %}\n                      <a href="{{slide.video}}" class="video-link_color-inherit" target="_blank">\n                    {%endif%}\n                      <div class="strw-video__preview-image__play-icon">\n                        <svg class="strw-video__preview-image__play-icon__svg" class="material-icons material-icons_svg" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">{{slide.icon_svg}}</svg>\n                        {%if slide.icon_id != ""%}<i class="strw-video__preview-image__play-icon__svg material-icons {{slide.icon_id}}"></i><style>.material-icons.{{slide.icon_id}}:before {content: \'{{slide.icon_id}}\';}</style>{%endif%}\n                      </div>\n                    {% if slide.video_mode == \'newtab\' %}\n                      </a>\n                    {%endif%}\n                  </div>\n                {%endif%}\n              </div>\n            </div>\n          {% endif %}\n        {% endif %}\n      {% endfor %}\n    </div>\n    <div class="swiper-pagination"></div>\n    <div class="swiper-button-prev">\n      {%if arrows_icon_svg != ""%}<svg style="width: {{arrows_icon_width}};" class="material-icons material-icons_svg" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">{{arrows_icon_svg}}</svg>{%endif%}\n      {%if arrows_icon_id != ""%}<i style="font-size: {{arrows_icon_width}}" class="str-button__inner-icon material-icons {{arrows_icon_id}}"></i><style>.material-icons.{{arrows_icon_id}}:before {content: \'{{arrows_icon_id}}\';}</style>{%endif%}\n    </div>\n    <div class="swiper-button-next">\n      {%if arrows_icon_svg != ""%}<svg style="width: {{arrows_icon_width}};" class="material-icons material-icons_svg" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">{{arrows_icon_svg}}</svg>{%endif%}\n      {%if arrows_icon_id != ""%}<i style="font-size: {{arrows_icon_width}}" class="str-button__inner-icon material-icons {{arrows_icon_id}}"></i><style>.material-icons.{{arrows_icon_id}}:before {content: \'{{arrows_icon_id}}\';}</style>{%endif%}\n    </div>\n  </div>\n</div>'},977:function(e,t,a){"use strict";a.r(t),t.default="<div {% if meta.hover %}h{%endif%} {% if meta.xSizingMode == 'fill'%}xfill=\"true\"{%endif%} {% if meta.ySizingMode == 'fill'%}yfill=\"true\"{%endif%} class=\"page-content__component {{meta.slug}}_{{meta.id}}\" data-container=\"{{meta.container}}\" id=\"{{meta.id}}\" data-type=\"{{meta.slug}}\"><div data-wysiwyg=\"true\">{% if seo_attribute == 'h1' %}<h1>{% endif%}{% if seo_attribute == 'p' %}<p>{% endif%}{% if seo_attribute == 'h2' %}<h2>{% endif%}{% if seo_attribute == 'h3' %}<h3>{% endif%}{% if seo_attribute == 'h4' %}<h4>{% endif%}{% if seo_attribute == 'h5' %}<h5>{% endif%}{% if seo_attribute == 'h6' %}<h6>{% endif%}{{content}}{% if seo_attribute == 'p' %}</p>{% endif%}{% if seo_attribute == 'h6' %}</h6>{% endif%}{% if seo_attribute == 'h5' %}</h5>{% endif%}{% if seo_attribute == 'h4' %}</h4>{% endif%}{% if seo_attribute == 'h3' %}</h3>{% endif%}{% if seo_attribute == 'h2' %}</h2>{% endif%}{% if seo_attribute == 'h1' %}</h1>{% endif%}</div></div>"},978:function(e,t,a){"use strict";a.r(t),t.default='<div {% if meta.xSizingMode == \'fill\'%}xfill="true"{%endif%} {% if meta.ySizingMode == \'fill\'%}yfill="true"{%endif%} data-video-type="{{type}}" data-unit="{{meta.width_unit}}" data-container="{{meta.container}}" id="{{meta.id}}" data-type="{{meta.slug}}" class="page-content__component {{meta.slug}}_{{meta.id}} strw-video" style="background-image:url(\'{{thumbnail}}\');" data-autoplay="{{autoplay}}" data-mode="{{mode}}">\n  <div class="video">\n    {% if type == \'youtube\' %}<iframe src="{{video_url_generated}}" frameborder="0" allowfullscreen="allowfullscreen" class="str-section__video" width="100%" height="100%"></iframe>{% endif %}\n    {% if type == \'file\' %}\n      <video {% if autoplay %}autoplay="true" playsinline{%endif%} {% if controls %}controls{%endif%} {% if mute %}muted="muted"{%endif%} {% if loop %}loop="true"{% endif %} class="siter-video__file" width="100%" height="100%">\n        <source src="{{video_url}}" type="video/mp4">\n      </video>\n    {% endif %}\n  </div>\n  {% if video == \'\' or thumbnail != \'\' %}\n    <div class="strw-video__preview-image">\n      {% if mode == \'newtab\' %}\n        <a href="{% if type == \'file\' %}{{video_url}}{% else %}{{video}}{% endif %}" class="video-link_color-inherit" target="_blank">\n      {%endif%}\n        <div class="strw-video__preview-image__play-icon">\n          <svg class="strw-video__preview-image__play-icon__svg" class="material-icons material-icons_svg" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="100%" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-inline="false">{{icon_svg}}</svg>\n          {%if icon_id != ""%}<i class="strw-video__preview-image__play-icon__svg material-icons {{icon_id}}"></i><style>.material-icons.{{icon_id}}:before {content: \'{{icon_id}}\';}</style>{%endif%}\n        </div>\n      {% if mode == \'newtab\' %}\n        </a>\n      {%endif%}\n    </div>\n  {%endif%}\n</div>'},979:function(e,t,a){var s={"./button/css.js":980,"./form/css.js":981,"./frame/css.js":982,"./icon/css.js":983,"./image/css.js":984,"./rectangle/css.js":985,"./slider/css.js":986,"./text/css.js":987,"./video/css.js":988};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=o,e.exports=n,n.id=979},980:function(e,t,a){"use strict";a.r(t),t.default='.{{meta.slug}}_{{meta.id}}:before {\n  background-image: -webkit-{{fills_css}};\n  background-image:    -moz-{{fills_css}};\n  background-image:     -ms-{{fills_css}};\n  background-image:      -o-{{fills_css}};\n  background-image:         {{fills_css}};\n  opacity: 1;\n}\n\n.{{meta.slug}}_{{meta.id}} .str-button__inner-value {\n  text-decoration: inherit;\n}\n\n.{{meta.slug}}_{{meta.id}} .str-button__inner {\n  text-decoration: inherit;\n}\n\n.{{meta.slug}}_{{meta.id}}:after {\n  background-image: -webkit-{{fills_hover_css}};\n  background-image:    -moz-{{fills_hover_css}};\n  background-image:     -ms-{{fills_hover_css}};\n  background-image:      -o-{{fills_hover_css}};\n  background-image:         {{fills_hover_css}};\n}\n\n.{{meta.slug}}_{{meta.id}}:hover:after {\n  opacity: 1;\n}\n\n{%if fills_hover_css and fills_hover_css != "" %}\n/*.{{meta.slug}}_{{meta.id}}:hover:before {\n  opacity: 0;\n}*/\n{% endif %}\n\n.{{meta.slug}}_{{meta.id}} {\n  {%if text_align == "top" %}\n    align-items: flex-start !important;\n  {%endif%}\n  {%if text_align == "bottom" %}\n    align-items: flex-end !important;\n  {%endif%}\n}'},981:function(e,t,a){"use strict";a.r(t),t.default=".strwf__form.{{meta.slug}}_{{meta.id}} .strwf__input {\n  font-family: {{form_fields_styles.fontFamily}};\n  font-weight: {{form_fields_styles.fontWeight}};\n  font-size: {{form_fields_styles.fontSize}};\n  width: {{form_fields_styles.width}};\n  border: {{form_fields_styles.border}};\n  border-radius: {{form_fields_styles.borderRadius}};\n  color: {{form_fields_styles.color}};\n  text-align: {{form_fields_styles.textAlign}};\n  text-shadow: {{form_fields_styles.textShadow}};\n  box-shadow: {{form_fields_styles.boxShadow}};\n  letter-spacing: {{form_fields_styles.letterSpacing}};\n  {%if form_fields_styles.textDecoration %}text-decoration: {{form_fields_styles.textDecoration}};{%endif%}\n  {%if form_fields_styles.fontStyle %}font-style: {{form_fields_styles.fontStyle}};{%endif%}\n\n  background-image: -webkit-{{fields_fills_css}};\n  background-image:    -moz-{{fields_fills_css}};\n  background-image:     -ms-{{fields_fills_css}};\n  background-image:      -o-{{fields_fills_css}};\n  background-image:         {{fields_fills_css}};\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf__input:hover {\n  opacity: 1;\n  background-image: -webkit-{{fields_fills_hover_css}};\n  background-image:    -moz-{{fields_fills_hover_css}};\n  background-image:     -ms-{{fields_fills_hover_css}};\n  background-image:      -o-{{fields_fills_hover_css}};\n  background-image:         {{fields_fills_hover_css}};\n\n  font-family: {{form_fields_styles.fontFamily_hover}};\n  font-size: {{form_fields_styles.fontSize_hover}};\n  border: {{form_fields_styles.border_hover}};\n  color: {{form_fields_styles.color_hover}};\n  text-align: {{form_fields_styles.textAlign_hover}};\n  text-shadow: {{form_fields_styles.textShadow_hover}};\n  box-shadow: {{form_fields_styles.boxShadow_hover}};\n  letter-spacing: {{form_fields_styles.letterSpacing_hover}};\n  font-weight: {{form_fields_styles.fontWeight_hover}};\n  {%if form_fields_styles.textDecoration_hover %} text-decoration: {{form_fields_styles.textDecoration_hover}};{%endif%}\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf__input.strwf__input_select {\n  background: url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills.size > 0 %}, -webkit-{{fields_fills_css}}{%endif%};\n  background:    url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills.size > 0 %}, -moz-{{fields_fills_css}}{%endif%};\n  background:     url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills.size > 0 %}, -ms-{{fields_fills_css}}{%endif%};\n  background:      url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills.size > 0 %}, -o-{{fields_fills_css}}{%endif%};\n  background:         url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills.size > 0 %}, {{fields_fills_css}}{%endif%};\n  text-align-last: {{form_fields_styles.textAlign}};\n  {%if form_fields_styles.textDecoration %}text-decoration: {{form_fields_styles.textDecoration}};{%endif%}\n  {%if form_fields_styles.fontStyle %}font-style: {{form_fields_styles.fontStyle}};{%endif%}\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf__input.strwf__input_select:hover {\n  background: url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color_hover}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills_hover.size > 0 %}, -webkit-{{fields_fills_hover_css}}{%endif%};\n  background:    url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color_hover}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills_hover.size > 0 %}, -moz-{{fields_fills_hover_css}}{%endif%};\n  background:     url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color_hover}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills_hover.size > 0 %}, -ms-{{fields_fills_hover_css}}{%endif%};\n  background:      url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color_hover}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills_hover.size > 0 %}, -o-{{fields_fills_hover_css}}{%endif%};\n  background:         url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color_hover}}'/%3E%3C/svg%3E%0A\") no-repeat right 16px center{% if fields_fills_hover.size > 0 %}, {{fields_fills_hover_css}}{%endif%};\n  text-align-last: {{form_fields_styles.textAlign_hover}};\n  {%if form_fields_styles.textDecoration_hover %} text-decoration: {{form_fields_styles.textDecoration_hover}};{%endif%}\n}\n\n.strwf_underline.strwf__form.{{meta.slug}}_{{meta.id}} .strwf__input.strwf__input_select {\n  background: url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 0 center{% if fields_fills.size > 0 %}, -webkit-{{fields_fills_css}}{%endif%};\n  background:    url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 0 center{% if fields_fills.size > 0 %}, -moz-{{fields_fills_css}}{%endif%};\n  background:     url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 0 center{% if fields_fills.size > 0 %}, -ms-{{fields_fills_css}}{%endif%};\n  background:      url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 0 center{% if fields_fills.size > 0 %}, -o-{{fields_fills_css}}{%endif%};\n  background:         url(\"data:image/svg+xml,%3Csvg width='11' height='6' viewBox='0 0 11 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5.5 5L10 1' stroke='{{form_fields_styles.color}}'/%3E%3C/svg%3E%0A\") no-repeat right 0 center{% if fields_fills.size > 0 %}, {{fields_fills_css}}{%endif%};\n  text-align-last: left;\n  {%if form_fields_styles.textDecoration %}text-decoration: {{form_fields_styles.textDecoration}};{%endif%}\n  {%if form_fields_styles.fontStyle %}font-style: {{form_fields_styles.fontStyle}};{%endif%}\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_button {\n  display: inline-flex;\n  background-image: -webkit-{{button_fills_css}};\n  background-image:    -moz-{{button_fills_css}};\n  background-image:     -ms-{{button_fills_css}};\n  background-image:      -o-{{button_fills_css}};\n  background-image:         {{button_fills_css}};\n\n  /*background-color: {{button_styles.backgroundColor}};*/\n  border-radius: {{button_styles.borderRadius}};\n  border: {{button_styles.border}};\n  color: {{button_styles.color}};\n  font-size: {{button_styles.fontSize}};\n\n  {%if button_styles.textAlign == \"left\" %}\n    justify-content: flex-start;\n  {%endif%}\n\n  {%if button_styles.textAlign == \"center\" %}\n    justify-content: center;\n  {%endif%}\n\n  {%if button_styles.textAlign == \"right\" %}\n    justify-content: flex-end;\n  {%endif%}\n\n  {%if button_styles.textAlign == \"justify\" %}\n    justify-content: center;\n  {%endif%}\n\n  width: {{button_styles.width}};\n  font-family: {{button_styles.fontFamily}};\n  letter-spacing: {{button_styles.letterSpacing}};\n  font-weight: {{button_styles.fontWeight}};\n\n  {%if button_text_align == \"top\" %}\n    align-items: flex-start;\n  {%endif%}\n  {%if button_text_align == \"bottom\" %}\n    align-items: flex-end;\n  {%endif%}\n  {%if button_text_align == \"center\" %}\n    align-items: center;\n  {%endif%}\n\n  {%if button_styles.textShadow %}text-shadow: {{button_styles.textShadow}};{%endif%}\n  {%if button_styles.boxShadow %}box-shadow: {{button_styles.boxShadow}};{%endif%}\n  {%if button_styles.textDecoration %}text-decoration: {{button_styles.textDecoration}};{%endif%}\n  {%if button_styles.fontStyle %}font-style: {{button_styles.fontStyle}};{%endif%}\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_button:hover {\n  opacity: 1;\n  background-image: -webkit-{{button_fills_hover_css}};\n  background-image:    -moz-{{button_fills_hover_css}};\n  background-image:     -ms-{{button_fills_hover_css}};\n  background-image:      -o-{{button_fills_hover_css}};\n  background-image:         {{button_fills_hover_css}};\n\n  border-radius: {{button_styles.borderRadius_hover}};\n  border: {{button_styles.border_hover}};\n  color: {{button_styles.color_hover}};\n  font-size: {{button_styles.fontSize_hover}};\n  {%if button_styles.textAlign_hover == \"left\" %}\n    justify-content: flex-start;\n  {%endif%}\n\n  {%if button_styles.textAlign_hover == \"center\" %}\n    justify-content: center;\n  {%endif%}\n\n  {%if button_styles.textAlign_hover == \"right\" %}\n    justify-content: flex-end;\n  {%endif%}\n\n  {%if button_styles.textAlign_hover == \"justify\" %}\n    justify-content: center;\n  {%endif%}\n  font-family: {{button_styles.fontFamily_hover}};\n  letter-spacing: {{button_styles.letterSpacing_hover}};\n  font-weight: {{button_styles.fontWeight_hover}};\n  {%if button_styles.textShadow_hover %}text-shadow: {{button_styles.textShadow_hover}};{%endif%}\n  {%if button_styles.boxShadow_hover %}box-shadow: {{button_styles.boxShadow_hover}};{%endif%}\n\n  {%if form_fields_styles.textDecoration_hover %}text-decoration: {{form_fields_styles.textDecoration_hover}};{%endif%}\n}\n\n{% assign form_fields_size = form_fields | size | plus: 1.0%}\n{% assign form_fields_margin_number = form_fields_margin | replace: 'px', '' | plus: 0%}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__input-wrapper {\n  margin-bottom: 0;\n\n  height: {{ 100 | divided_by: form_fields_size}}%;\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__input-wrapper input {\n  height: {{100 | minus: form_fields_margin_number}}%;\n}\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__input-wrapper textarea {\n  height: {{100 | minus: form_fields_margin_number}}%;\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__input-wrapper select {\n  height: {{100 | minus: form_fields_margin_number}}%;\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__form-button__wrapper {\n  {% assign first = 100 | divided_by: form_fields_size %}\n  {% assign second = form_fields_margin_number | divided_by: form_fields_size %}\n\n  height: {{first | minus: second}}%;\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper {\n  margin-bottom: 0;\n\n  width: {{ 100 | divided_by: form_fields_size}}%;\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper input {\n  width: {{100 | minus: form_fields_margin_number}}%;\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper textarea {\n  width: {{100 | minus: form_fields_margin_number}}%;\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper select {\n  width: {{100 | minus: form_fields_margin_number}}%;\n}\n\n.strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__form-button__wrapper {\n  {% assign first = 100 | divided_by: form_fields_size %}\n  {% assign second = form_fields_margin_number | divided_by: form_fields_size %}\n\n  {% if customWidth %}\n    flex-grow: 0;\n    flex-shrink:0;\n    flex-basis:{{button_styles.width}};\n  {% else %}\n    width: {{first | minus: second}}%;\n  {% endif %}\n}\n\n@media (max-width: 479px) {\n  {% assign form_fields_size = form_fields | size | plus: 1.0%}\n  {% assign form_fields_margin_mobile_number = form_fields_margin_mobile | replace: 'px', '' | plus: 0%}\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__input-wrapper {\n    margin-bottom: 0;\n\n    height: {{ 100 | divided_by: form_fields_size}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__input-wrapper input {\n    height: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__input-wrapper textarea {\n    height: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__input-wrapper select {\n    height: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_vertical .strwf__form-button__wrapper {\n    {% assign first = 100 | divided_by: form_fields_size %}\n    {% assign second = form_fields_margin_mobile_number | divided_by: form_fields_size %}\n\n    height: {{first | minus: second}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper {\n    margin-bottom: 0;\n\n    width: {{ 100 | divided_by: form_fields_size}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper input {\n    width: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper textarea {\n    width: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper select {\n    width: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__form-button__wrapper {\n    {% assign first = 100 | divided_by: form_fields_size %}\n    {% assign second = form_fields_margin_mobile_number | divided_by: form_fields_size %}\n\n    {% if customWidth %}\n      flex-grow: 0;\n      flex-shrink:0;\n      flex-basis:{{button_styles.width}};\n    {% else %}\n      width: {{first | minus: second}}%;\n    {% endif %}\n  }\n}\n\n{%if mobile_only_vertical %}\n@media (max-width: 479px) {\n  {% assign form_fields_margin_mobile_number = form_fields_margin_mobile | replace: 'px', '' | plus: 0%}\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper {\n    margin-bottom: 0;\n\n    height: {{ 100 | divided_by: form_fields_size}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper input {\n    height: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper textarea {\n    height: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__input-wrapper select {\n    height: {{100 | minus: form_fields_margin_mobile_number}}%;\n  }\n\n  .strwf__form.{{meta.slug}}_{{meta.id}} .strwf_horizontal .strwf__form-button__wrapper {\n    {% assign first = 100 | divided_by: form_fields_size %}\n    {% assign second = form_fields_margin_mobile_number | divided_by: form_fields_size %}\n\n    height: {{first | minus: second}}%;\n  }\n\n  .strwf_horizontal {\n    display: flex !important;\n    flex-direction: column !important;\n    width: 100% !important;\n    height: 100% !important;\n    justify-content: stretch !important;\n    align-items: stretch !important;\n  }\n\n  .strwf_horizontal .strwf__input-wrapper {\n    width: 100% !important;\n  }\n\n  .strwf_horizontal .strwf__input-wrapper input {\n    width: 100% !important;\n  }\n\n  .strwf_horizontal .strwf__input-wrapper textarea {\n    width: 100% !important;\n  }\n\n  .strwf_horizontal .strwf__form-button__wrapper {\n    width: 100% !important;\n  }\n}\n{% endif %}"},982:function(e,t,a){"use strict";a.r(t),t.default="\n\t.frame_{{meta.id}}.autolayout > .page-content__component {\n    position: relative !important;\n    flex: none;\n    flex-grow: 0;\n    top: auto !important;\n    left: auto !important;\n\t}\n    \n\t.page-content__component-frame.autolayout .page-content__component-group {\n    position: relative !important;\n    flex: none;\n    flex-grow: 0;\n    top: 0 !important;\n    left: 0 !important;\n\t}\n\n\t.frame_{{meta.id}}.autolayout {\n\t  display: flex;\n\t}\n\n  .{{meta.slug}}_{{meta.id}} > .strw-shape {\n    content: '';\n    position: absolute;\n    top:0;\n    left: 0;\n    right:0;\n    bottom:0;\n    background-image: -webkit-{{fills_css}};\n    background-image:    -moz-{{fills_css}};\n    background-image:     -ms-{{fills_css}};\n    background-image:      -o-{{fills_css}};\n    background-image:         {{fills_css}};\n    border-radius: inherit;\n  }    \n\n  .autolayout .autolayout  {\n    overflow: hidden !important; \n  }\n"},983:function(e,t,a){"use strict";a.r(t),t.default="{% if icon_svg == \"none\" %}.{{meta.slug}}_{{meta.id}} svg {  \n  display:none;\n}{% endif %}\n\n\n.{{meta.slug}}_{{meta.id}} svg, i {\n  filter: {{box_shadow}};\n}\n\n.{{meta.slug}}_{{meta.id}} i {\n  background: {{fills_css}};\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n{% capture colored_ %}x{{colored}}{% endcapture %}\n\n{% if colored_ == 'xfalse' or colored_ == 'x' %}\n  {% for fill in fills %}\n    .{{meta.slug}}_{{meta.id}} svg svg:nth-child({{fills.size | minus: forloop.index0}}) path { fill: url(#gradient-{{meta.id}}-{{forloop.index0}}); }\n    .{{meta.slug}}_{{meta.id}} svg.material-icons path:nth-child({{fills.size | minus: forloop.index0}}) { fill: url(#gradient-{{meta.id}}-{{forloop.index0}}); }\n  {% endfor %}\n{% endif %}\n\n{%if fills_hover_css != \"\" %}\n.{{meta.slug}}_{{meta.id}}:hover i {\n  background: {{fills_hover_css}};\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n.{{meta.slug}}_{{meta.id}}:hover #gradient stop { \n  stop-color: transparent !important; \n}\n{{colored_}}\n{% if colored_ == 'xfalse' or colored_ == 'x' %}\n  {% for fill in fills_hover %}\n    .{{meta.slug}}_{{meta.id}}:hover svg svg:nth-child({{fills.size | minus: forloop.index0}}) path { fill: url(#gradient-hover-{{meta.id}}-{{forloop.index0}}); }\n  {% endfor %}\n{% endif %}\n{% endif %}"},984:function(e,t,a){"use strict";a.r(t),t.default=".{{meta.slug}}_{{meta.id}}:before {\n  content: '';\n  position: absolute;\n  top:0;\n  left: 0;\n  right:0;\n  bottom:0;\n\n  background-image: -webkit-{{fills_css}};\n  background-image:    -moz-{{fills_css}};\n  background-image:     -ms-{{fills_css}};\n  background-image:      -o-{{fills_css}};\n  background-image:         {{fills_css}};\n}\n\n.{{meta.slug}}_{{meta.id}} .str-img {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n"},985:function(e,t,a){"use strict";a.r(t),t.default=".{{meta.slug}}_{{meta.id}} .strw-shape {\n  content: '';\n  position: absolute;\n  top:0;\n  left: 0;\n  right:0;\n  bottom:0;\n  background-image: -webkit-{{fills_css}};\n  background-image:    -moz-{{fills_css}};\n  background-image:     -ms-{{fills_css}};\n  background-image:      -o-{{fills_css}};\n  background-image:         {{fills_css}};\n}\n\n.{{meta.slug}}_{{meta.id}}:hover .strw-shape, .{{meta.slug}}_{{meta.id}}_hover .strw-shape {\n  {% if fills_hover_css != '' %}\n    opacity: 1;\n    background-image: -webkit-{{fills_hover_css}};\n    background-image:    -moz-{{fills_hover_css}};\n    background-image:     -ms-{{fills_hover_css}};\n    background-image:      -o-{{fills_hover_css}};\n    background-image:         {{fills_hover_css}};\n  {% endif %}\n}"},986:function(e,t,a){"use strict";a.r(t),t.default=".{{meta.slug}}_{{meta.id}} {\n  background: {{background}};\n}\n.{{meta.slug}}_{{meta.id}} .swiper-pagination-bullet {\n  color: {{dots}};\n}\n.{{meta.slug}}_{{meta.id}} .swiper-pagination-bullet:hover {\n  color: {{dots_hover}};\n}\n.{{meta.slug}}_{{meta.id}} .swiper-pagination-bullet-active {\n  color: {{dots_active}};\n}\n.{{meta.slug}}_{{meta.id}} .swiper-container__mode-classic.swiper-container__dots-in .swiper-pagination {\n  background-color: {{dots_bg}};\n}\n\n.{{meta.slug}}_{{meta.id}} .swiper-button-prev, .{{meta.slug}}_{{meta.id}} .swiper-button-next {\n  color: {{arrows}};\n}\n\n.{{meta.slug}}_{{meta.id}} .swiper-button-prev:hover {\n  color: {{arrows_hover}};\n}\n\n.{{meta.slug}}_{{meta.id}} .swiper-button-next:hover {\n  color: {{arrows_hover}};\n}\n\n.{{meta.slug}}_{{meta.id}} .swiper-pagination {\n  transform: translate(-50%, {{dots_margin_top}}) !important;\n}\n\n{% assign margin = arrows_margin | replace: \"px\", \"\" | plus: 0 | divided_by: -1 %}\n\n.{{meta.slug}}_{{meta.id}} .swiper-button-next {\n  transform: scale({{arrows_icon_scale}}) rotate(180deg) translateX({{margin}}px);\n}\n\n.{{meta.slug}}_{{meta.id}} .swiper-button-prev {\n  transform: scale({{arrows_icon_scale}}) translateX({{-margin}}px);\n}\n\n{% for slide in images %}\n  .{{meta.slug}}_{{meta.id}} .swiper-slide-{{forloop.index0}} svg {\n    width: {{slide.icon_width}};\n    color: {{slide.icon_color}}\n  }\n\n  .{{meta.slug}}_{{meta.id}} .swiper-slide-{{forloop.index0}}  i {\n    font-size: {{slide.icon_width}};\n    color: {{slide.icon_color}}\n  }\n\n  .{{meta.slug}}_{{meta.id}} .swiper-slide-{{forloop.index0}} .strw-video__preview-image:before {\n    background-image: -webkit-linear-gradient({{slide.bg_color_angle}}, {{slide.bg_color_stop}}, {{slide.bg_color_start}});\n    background-image:    -moz-linear-gradient({{slide.bg_color_angle}}, {{slide.bg_color_stop}}, {{slide.bg_color_start}});\n    background-image:     -ms-linear-gradient({{slide.bg_color_angle}}, {{slide.bg_color_stop}}, {{slide.bg_color_start}});\n    background-image:      -o-linear-gradient({{slide.bg_color_angle}}, {{slide.bg_color_stop}}, {{slide.bg_color_start}});\n    background-image:         linear-gradient({{slide.bg_color_angle}}, {{slide.bg_color_stop}}, {{slide.bg_color_start}});\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='{{slide.bg_color_start}}', endColorstr='{{slide.bg_color_stop}}');\n  }\n{% endfor %}"},987:function(e,t,a){"use strict";a.r(t),t.default=".{{meta.slug}}_{{meta.id}} [data-wysiwyg=\"true\"] {\n  display: table-cell;\n  vertical-align: {{align}}\n}\n\n{% for fill in fills limit:1 %}\n  {%assign fillsfirst = fill%}\n{% endfor %}\n\n.{{meta.slug}}_{{meta.id}} {\n  {% if fills and fills.size == 1 and fillsfirst.type == 'SOLID' %}\n  color: rgba({{fillsfirst.color.r | times: 255}}, {{fillsfirst.color.g | times: 255}}, {{fillsfirst.color.b | times: 255}}, {{fillsfirst.opacity}});\n  {%else%}\n  background: {{fills_css}};\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  text-shadow: 0px 0px #00000000;\n  {% endif %}\n}\n\n{% if hanging_lists %}\n.{{meta.slug}}_{{meta.id}} ul, .{{meta.slug}}_{{meta.id}} ol {\n  list-style-position: outside;\n}\n{% endif %}\n\n{% for fill in fills_hover limit:1 %}\n  {%assign fillsfirsthover = fill%}\n{% endfor %}\n\n{%if fills_hover_css != \"\" %}\n.{{meta.slug}}_{{meta.id}}:hover {\n  {% if fills_hover and fills_hover.size == 1 and fillsfirsthover.type == 'SOLID' %}\n  color: rgba({{fillsfirsthover.color.r | times: 255}}, {{fillsfirsthover.color.g | times: 255}}, {{fillsfirsthover.color.b | times: 255}}, {{fillsfirsthover.opacity}});\n  background: none; \n  -webkit-text-fill-color: unset !important; \n  -webkit-background-clip:initial;\n  {%else%}\n  background: {{fills_hover_css}};\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  {% endif %}\n}\n{% endif %}"},988:function(e,t,a){"use strict";a.r(t),t.default=".{{meta.slug}}_{{meta.id}} svg {\n  width: {{icon_width}};\n}\n\n.{{meta.slug}}_{{meta.id}}:hover svg {\n  {%if icon_width_hover %} width: {{icon_width_hover}}; {% endif %}\n}\n\n.{{meta.slug}}_{{meta.id}} i {\n  font-size: {{icon_width}};\n}\n\n.{{meta.slug}}_{{meta.id}}:hover i {\n  {%if icon_width_hover %}width: {{icon_width_hover}};{% endif %}\n}\n\n.{{meta.slug}}_{{meta.id}} .strw-video__preview-image:before {\n  background-image: -webkit-linear-gradient({{overlay.bg_color_angle}}, {{overlay.bg_color_stop}}, {{overlay.bg_color_start}});\n  background-image:    -moz-linear-gradient({{overlay.bg_color_angle}}, {{overlay.bg_color_stop}}, {{overlay.bg_color_start}});\n  background-image:     -ms-linear-gradient({{overlay.bg_color_angle}}, {{overlay.bg_color_stop}}, {{overlay.bg_color_start}});\n  background-image:      -o-linear-gradient({{overlay.bg_color_angle}}, {{overlay.bg_color_stop}}, {{overlay.bg_color_start}});\n  background-image:         linear-gradient({{overlay.bg_color_angle}}, {{overlay.bg_color_stop}}, {{overlay.bg_color_start}});\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='{{overlay.bg_color_start}}', endColorstr='{{overlay.bg_color_stop}}');\n}"},989:function(e,t,a){"use strict";a.r(t),t.default="body {\n  background-image: -webkit-{{fills_css}};\n  background-image:    -moz-{{fills_css}};\n  background-image:     -ms-{{fills_css}};\n  background-image:      -o-{{fills_css}};\n  background-image:         {{fills_css}};\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: top center;\n}\n\n.page_{{id}} {\n  background-repeat: no-repeat;\n  background-position: top center;\n  background-size: cover;\n}"},992:function(e,t,a){},996:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(27),i=a.n(o),r=a(5),l=a.n(r),c=a(1023),p=a(1025),d=a(1024),h=a(2),m=a(446),u=a(156),g=a(445),_=a(224),f=a(444),v=a(447),w=a(320),C=a.n(w),y=a(14),b=a(51);const E=Object(b.a)("FETCH_USER_REQUEST",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};return[e]})),k=Object(b.a)("FETCH_USER_SUCCESS",e=>e),S=Object(b.a)("CREATE_USER_REQUEST",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return[e,t,a]})),x=Object(b.a)("CREATE_USER_SUCCESS",e=>e),N=Object(b.a)("UPDATE_USER_REQUEST",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return[e,t,a]})),B=Object(b.a)("UPDATE_USER_SUCCESS",e=>e),F=Object(b.a)("RESET_USER_REQUEST",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return[e,t,a]})),A=Object(b.a)("RESET_USER_SUCCESS",e=>e);var L=a(15),O=a(347),D=a(10),M=a.n(D),P=a(53),I=a(1027);const T=Object(b.a)("FETCH_NOTIFICATIONS_REQUEST"),R=Object(b.a)("FETCH_NOTIFICATIONS_SUCCESS",e=>e);class j extends s.Component{constructor(){super(...arguments),this.state={publishButtonDisabled:!1,showNotifications:!1,searchOpened:!1,searchResults:[],showPagesDropdown:!1},this.handleSearch=e=>{let t=e.target.value;const a=[];if(t.length<3)return this.setState({searchResults:[]}),!0;t=t.toLowerCase();this.props.sites.forEach(e=>{-1!==JSON.stringify(e).toLowerCase().search(t)&&a.push({name:e.name,type:"site",public_url:e.full_subdomain,url:"/account/sites/".concat(e.id,"/pages")}),e.pages.forEach(s=>{-1!==JSON.stringify(s).toLowerCase().search(t)&&a.push({name:s.name,type:"page",public_url:"".concat(e.full_subdomain,"/").concat(s.path),url:"/account/sites/".concat(e.id,"/pages/").concat(s.id,"/editor")})})}),this.setState({searchResults:a})},this.handleShowNotifications=e=>{e.preventDefault(),this.setState({showNotifications:!this.state.showNotifications}),this.state.showNotifications||this.readNotifications(),this.state.showNotifications||setTimeout(()=>{document.getElementsByClassName("modal-closed")[0].classList.add("modal-open")})},this.readNotifications=()=>{let e=0;const t=this.notificationsUnreadCount().length;this.props.notifications.forEach(a=>{a.read||(l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),l.a.post("/notifications/read?id[]=".concat(a.id)).then(a=>{e++,t===e&&this.props.fetchNotificationsRequest()}))})},this.notificationsUnreadCount=()=>this.props.notifications.filter(e=>!e.read),this.notificationsUnreadExist=()=>this.notificationsUnreadCount().length>0,this.goToSite=e=>{e.preventDefault(),L.a.push("/account/sites/".concat(this.props.site.id,"/pages"))},this.siteActive=(e,t)=>!(t.pathname.indexOf("pages/")>-1)&&e,this.projects=()=>n.a.createElement("div",{className:"header__projects-list"},this.props.sites.filter(e=>!e.deleted).map((e,t)=>{let{name:a,id:s,favicon:o}=e;return n.a.createElement("a",{key:t,href:"/account/sites/".concat(s,"/pages"),className:"header__projects-list__item "+(this.props.site.id===s&&" header__projects-list__item_active")},n.a.createElement("div",{className:"header__projects-list__item-icon"},n.a.createElement("img",{src:o.url,alt:a})),n.a.createElement("span",{className:"header__projects-list__item-name"},a),n.a.createElement("svg",{className:"header__projects-list__item-current__icon",width:"11",height:"9",viewBox:"0 0 11 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.70711 4.29289C1.31658 3.90237 0.683417 3.90237 0.292893 4.29289C-0.0976311 4.68342 -0.0976311 5.31658 0.292893 5.70711L1.70711 4.29289ZM3.67579 7.67579L4.3829 6.96868H4.3829L3.67579 7.67579ZM5.1893 7.56005L4.38289 6.96868V6.96868L5.1893 7.56005ZM10.8064 1.59136C11.133 1.146 11.0367 0.520196 10.5914 0.193595C10.146 -0.133006 9.5202 -0.0367289 9.19359 0.408636L10.8064 1.59136ZM0.292893 5.70711L2.96868 8.3829L4.3829 6.96868L1.70711 4.29289L0.292893 5.70711ZM5.99571 8.15141L10.8064 1.59136L9.19359 0.408636L4.38289 6.96868L5.99571 8.15141ZM2.96868 8.3829C3.83543 9.24965 5.27083 9.13988 5.99571 8.15141L4.38289 6.96868L4.3829 6.96868L2.96868 8.3829Z",fill:"#3E87F8"})))})),this.handleLogout=()=>{localStorage.removeItem("persist:primary"),document.location.reload()},this.closeTooltip=()=>{this.refs.tooltip.close()},this.options=()=>n.a.createElement("div",{className:"dashboard__item-page__footer-name__more-options-wrapper"},n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/profile/general/userinfo",className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.sites.avatarmenu.profile")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/profile/general/password",className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.sites.avatarmenu.password")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/profile/general/privacy",className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.sites.avatarmenu.privacy")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/profile/billing/subscriptions",className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.sites.avatarmenu.billing")),n.a.createElement("div",{onClick:this.handleLogout,className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.sites.avatarmenu.signout"))),this.openPlansModal=e=>(L.a.push("/account/profile/billing/checkout"),e.preventDefault(),!1)}componentDidMount(){}getFlagEmoji(e){if("en"===e)return"\ud83c\uddfa\ud83c\uddf8";const t=e.toUpperCase().split("").map(e=>127397+e.charCodeAt());return String.fromCodePoint(...t)}render(){const e=L.a.location.pathname.indexOf("/account/profile")>-1,t=L.a.location.pathname.indexOf("/account/sites/create")>-1,a=L.a.location.pathname.indexOf("/team/accepted/invite")>-1,s=L.a.location.pathname.indexOf("/account/sites/".concat(this.props.site.id))>-1,o=L.a.location.pathname.indexOf("/account/sites/".concat(this.props.site.id,"/pages/create"))>-1,i=L.a.location.pathname.indexOf("/account/sites/".concat(this.props.site.id,"/pages/").concat(this.props.page.id))>-1,r=L.a.location.pathname.indexOf("/account/sites/".concat(this.props.site.id,"/pages/").concat(this.props.page.id,"/editor"))>-1||L.a.location.pathname.indexOf("/account/admin/pages/".concat(this.props.page.id,"/editor"))>-1,l=M()("header-wrapper",{"header-wrapper_fixed":r}),{site:c,user:p,t:d}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:l},n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"section"},n.a.createElement("div",{className:"col span_4_of_12"},n.a.createElement(O.a,{className:"header-menu__logo",to:"/account/sites"},"siter.io"),n.a.createElement("div",{className:"header-links noselect"},(s||t||e)&&!o&&!i&&!a&&n.a.createElement(O.a,{to:"/account/sites",className:"header-links__item"},n.a.createElement("svg",{className:"va-middle header-links__item-icon",width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M4.8889 9.1708L0.581726 4.86363L4.8889 0.556458L5.71987 1.37819L2.83457 4.26349H10.0824V5.46377H2.83457L5.71987 8.34446L4.8889 9.1708Z",fill:"#333333"})),n.a.createElement("span",{className:"va-middle"},d("app.sites.backto")," ",n.a.createElement("b",null,d("app.sites.sites")))),(i||o)&&n.a.createElement(O.a,{to:"/account/sites/".concat(c.id,"/pages"),className:"header-links__item"},n.a.createElement("svg",{className:"va-middle header-links__item-icon",width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M4.8889 9.1708L0.581726 4.86363L4.8889 0.556458L5.71987 1.37819L2.83457 4.26349H10.0824V5.46377H2.83457L5.71987 8.34446L4.8889 9.1708Z",fill:"#333333"})),n.a.createElement("span",{className:"va-middle"},d("app.sites.backto")," ",n.a.createElement("b",null,d("app.sites.pages")))),a&&n.a.createElement(O.a,{to:"/account/sites/".concat(c.id,"/team/accepted"),className:"header-links__item"},n.a.createElement("svg",{className:"va-middle header-links__item-icon",width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M4.8889 9.1708L0.581726 4.86363L4.8889 0.556458L5.71987 1.37819L2.83457 4.26349H10.0824V5.46377H2.83457L5.71987 8.34446L4.8889 9.1708Z",fill:"#333333"})),n.a.createElement("span",{className:"va-middle"},d("app.sites.backto")," ",n.a.createElement("b",null,d("app.sites.team")))))),n.a.createElement("div",{className:"col span_4_of_12 ta-center"},s&&c?n.a.createElement("div",{className:"header-current__project custom-tooltip cp"},n.a.createElement(P.a,{arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"bottomRight",trigger:["click"],transitionName:"rc-tooltip-zoom",overlayClassName:"custom-tooltip__projects custom-tooltip_shadow",overlay:this.projects()},n.a.createElement("div",{className:"header-current__project-wrapper"},n.a.createElement("div",{className:"header-current__project-fav"},n.a.createElement("img",{src:c.favicon.url,alt:c.name})),n.a.createElement("span",{className:"header-current__project-name"},c.name),n.a.createElement("svg",{className:"header-current__project-arrow",width:"10",height:"5",viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M0.832182 0.126295C0.625791 -0.0571637 0.309754 -0.0385733 0.126295 0.167818C-0.0571637 0.374209 -0.0385733 0.690246 0.167818 0.873705L0.832182 0.126295ZM5 4.5L4.66782 4.8737C4.85726 5.0421 5.14274 5.0421 5.33218 4.8737L5 4.5ZM9.83218 0.873705C10.0386 0.690246 10.0572 0.374209 9.8737 0.167818C9.69025 -0.0385733 9.37421 -0.0571637 9.16782 0.126295L9.83218 0.873705ZM0.167818 0.873705L4.66782 4.8737L5.33218 4.1263L0.832182 0.126295L0.167818 0.873705ZM5.33218 4.8737L9.83218 0.873705L9.16782 0.126295L4.66782 4.1263L5.33218 4.8737Z",fill:"black"})))))):s||i||t||e?n.a.createElement("span",null,"\xa0"):n.a.createElement("div",{className:"header-logo"},n.a.createElement(O.a,{to:"/account/sites"},n.a.createElement("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#clip0)"},n.a.createElement("path",{d:"M4.63204 20.7862C2.71723 19.4975 1.75982 18.8532 1.76001 17.9602C1.7602 17.0673 2.71788 16.4233 4.63323 15.1353L5.07798 14.8363C8.88461 12.2766 10.7879 10.9967 12.9621 10.9961C15.1362 10.9954 17.0404 12.2742 20.8487 14.8317L21.3142 15.1443C23.2337 16.4333 24.1935 17.0779 24.1934 17.9718C24.1933 18.8658 23.2334 19.5101 21.3136 20.7988L15.1234 24.9542C14.0844 25.6516 13.5649 26.0003 12.9718 26C12.3788 25.9997 11.8597 25.6504 10.8216 24.9517L4.63204 20.7862Z",fill:"url(#paint0_linear)"}),n.a.createElement("path",{d:"M2.45762 10.9107L11.5843 24.3575C11.6073 24.3913 11.6298 24.4245 11.6519 24.4571C12.2635 25.3573 12.5865 25.8106 13.0886 25.9018C13.5902 25.9929 14.0695 25.686 14.9928 25.0656C15.0269 25.0427 15.0615 25.0194 15.0968 24.9957L22.6795 19.8968C22.7326 19.8611 22.7847 19.8261 22.8357 19.7917C24.0818 18.9529 24.71 18.5084 24.8444 17.855C24.9842 17.1749 24.5378 16.5173 23.645 15.2022L15.0626 2.55955C14.0793 1.11106 13.5876 0.386813 12.8079 0.244862C12.0281 0.102911 11.2842 0.602246 9.79653 1.6009L3.50646 5.82325C2.04214 6.80621 1.30998 7.29771 1.158 8.03484C1.00603 8.77194 1.48994 9.48493 2.45762 10.9107Z",fill:"url(#paint1_linear)"}),n.a.createElement("path",{d:"M2.45762 10.9106C1.48994 9.48486 1.00603 8.77187 1.158 8.03477C1.30998 7.29764 3.50646 5.82318 3.50646 5.82318C3.50646 5.82318 7.9367 7.47977 12.1127 10.0989L12.2324 10.0183C12.5788 9.785 12.752 9.66832 12.9499 9.66826C13.1478 9.66819 13.3211 9.78474 13.6676 10.0179L23.0699 16.3431C24.1872 17.0947 24.7459 17.4706 24.7458 17.9915C24.7458 18.0703 24.733 18.1457 24.7075 18.2196C24.4399 18.6977 23.8375 19.1173 22.8357 19.7916L15.1263 24.9757C15.1165 24.9823 15.1067 24.989 15.0968 24.9956L14.9928 25.0655C14.0695 25.6859 13.5902 25.9929 13.0886 25.9017C13.0258 25.8903 12.9658 25.8732 12.9078 25.8504C12.5013 25.6902 12.1871 25.2447 11.6519 24.457L2.45762 10.9106Z",fill:"url(#paint2_linear)"}),n.a.createElement("path",{d:"M11.7327 15.3358L4.83114 10.8247L3.21895 9.76729C1.91592 8.91264 1.26441 8.48529 1.26173 7.88684C1.25982 7.46161 1.58637 7.12013 2.24041 6.64771L11.5012 0.485852C12.0636 0.16249 12.4969 0.000611188 12.9647 1.72694e-06C13.4415 -0.000619573 13.883 0.166403 14.4623 0.500844L22.5789 5.8696C23.6698 6.63621 24.2149 7.16726 24.2139 7.8391C24.2126 8.73678 23.237 9.38051 21.2858 10.668L19.7749 11.6649L14.2475 15.2994C13.7295 15.6143 13.363 15.7719 12.9633 15.7724C12.5778 15.7729 12.2229 15.6273 11.7327 15.3358Z",fill:"url(#paint3_linear)"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.42766 6.5622L11.1992 0.694546C11.848 0.317638 12.3209 0.156221 12.8079 0.244862C13.5336 0.376974 14.0097 1.01345 14.8649 2.26872L20.7857 10.9905L19.7493 11.678L14.2451 15.3166C13.7293 15.6319 13.3644 15.7896 12.9663 15.7901C12.5824 15.7906 12.229 15.6449 11.741 15.3531L4.86848 10.8369L3.26306 9.77828L3.26296 9.77821C1.9655 8.92263 1.31677 8.49484 1.3141 7.89571C1.31322 7.69991 1.38154 7.52184 1.51895 7.34061C1.73025 7.09474 2.03047 6.84825 2.42766 6.5622Z",fill:"url(#paint4_linear)"})),n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"paint0_linear",x1:"0.952715",y1:"18.1871",x2:"12.8853",y2:"26.4482",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#F5BBCA"}),n.a.createElement("stop",{offset:"1",stopColor:"#E87FF1"})),n.a.createElement("linearGradient",{id:"paint1_linear",x1:"5.80568",y1:"4.72274",x2:"23.7901",y2:"19.4854",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#3516A7"}),n.a.createElement("stop",{offset:"1",stopColor:"#5068D8"})),n.a.createElement("linearGradient",{id:"paint2_linear",x1:"0.952931",y1:"8.70408",x2:"12.492",y2:"26.1491",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#4122A3",stopOpacity:"0"}),n.a.createElement("stop",{offset:"0.663965",stopColor:"#6163E1",stopOpacity:"0"}),n.a.createElement("stop",{offset:"1",stopColor:"#E69FFF"})),n.a.createElement("linearGradient",{id:"paint3_linear",x1:"12.7378",y1:"1.81139e-07",x2:"20.4837",y2:"11.124",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#5592F4"}),n.a.createElement("stop",{offset:"1",stopColor:"#9EEEFF"})),n.a.createElement("linearGradient",{id:"paint4_linear",x1:"0.798737",y1:"7.90784",x2:"20.3009",y2:"11.2923",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#1A6BE8"}),n.a.createElement("stop",{offset:"1",stopColor:"#4D93FF"})),n.a.createElement("clipPath",{id:"clip0"},n.a.createElement("path",{d:"M0 0H26V26H0V0Z",fill:"white"}))))))),n.a.createElement("div",{className:"col span_4_of_12 ta-right"},n.a.createElement("div",{className:"header-menu__user"},n.a.createElement("div",{className:"header-menu__user-link cp"},n.a.createElement(O.a,{to:"/account/profile/general/userinfo",className:"header-menu__user-name"},p.username),n.a.createElement(P.a,{ref:"tooltip",arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"bottomRight",align:{offset:[11,10]},trigger:["click"],transitionName:"rc-tooltip-zoom",overlayClassName:"custom-tooltip_profile custom-tooltip custom-tooltip_178 custom-tooltip_shadow",overlay:this.options()},n.a.createElement("div",{className:"header-menu__user-avatar-wrapper"},n.a.createElement("div",{className:"header-menu__user-avatar cp"},n.a.createElement("img",{alt:p.username,className:"header-menu__user-avatar__img",src:p.avatar_url})),n.a.createElement("svg",{className:"cp header-menu__user-menu__icon",width:"11",height:"5",viewBox:"0 0 11 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M1.49262 0.125954C1.28604 -0.0572928 0.970028 -0.0383772 0.786781 0.168203C0.603535 0.374783 0.62245 0.6908 0.829031 0.874046L1.49262 0.125954ZM5.67017 4.5L5.33837 4.87405C5.52769 5.04198 5.81264 5.04198 6.00196 4.87405L5.67017 4.5ZM10.5113 0.874046C10.7179 0.6908 10.7368 0.374783 10.5536 0.168203C10.3703 -0.0383772 10.0543 -0.0572928 9.84771 0.125954L10.5113 0.874046ZM0.829031 0.874046L5.33837 4.87405L6.00196 4.12595L1.49262 0.125954L0.829031 0.874046ZM6.00196 4.87405L10.5113 0.874046L9.84771 0.125954L5.33837 4.12595L6.00196 4.87405Z",fill:"black"})))))))))))))}}const G={fetchNotificationsRequest:T};var H=Object(h.b)(e=>({user:e.sessions,site:e.site,page:e.page,sites:e.sites,notifications:e.notifications}),G)(Object(I.a)()(j)),U=a(235);class Z extends s.Component{constructor(){super(...arguments),this.state={showMoreIcon:!1,copied:!1},this.onCopy=()=>{document.getElementById("copy-input").value="Copied!",setTimeout(()=>{document.getElementById("copy-input").value="info@siter.io"},1e3)},this.options=n.a.createElement("div",{className:"slides-dropdown bottom center padding-1 show","data-dropdown-id":"contacts","data-dropdown-position":"bottom"},n.a.createElement("form",{className:"slides-form"},n.a.createElement("input",{onFocus:e=>e.target.select(),id:"copy-input",onChange:()=>{},className:"slides-small pair crop slides-green noBorder copyTextInput",value:"info@siter.io"}),n.a.createElement(U.CopyToClipboard,{text:"info@siter.io",onCopy:this.onCopy},n.a.createElement("div",{className:"slides-button slides-green slides-small crop copytoclipboard pair flat","data-clipboard-target":"#contactemail",style:{width:70}},"Copy")),n.a.createElement("a",{className:"slides-button wide slides-blue slides-small opaque crop mt10",href:"mailto:info@siter.io"},"Open in Email Client \u2197"))),this.onPopupVisibleChange=()=>{this.setState({showMoreIcon:!this.state.showMoreIcon})},this.handleToggleBeacon=e=>{e.preventDefault();const{showBeacon:t}=this.state;t?window.Beacon("close"):window.Beacon("open"),this.setState({showBeacon:!t})}}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"footer"},n.a.createElement("div",{className:"footer-left"},n.a.createElement("span",{className:"footer-company"},n.a.createElement("span",{className:"hideForPhone"},e("app.footer.madeby")," "),n.a.createElement("a",{href:"https://designmodo.com",target:"_blank",className:"underline footer-company__link",rel:"noopener noreferrer"},"Designmodo"))),n.a.createElement("div",{className:"footer-center"}),n.a.createElement("div",{className:"footer-right"},n.a.createElement("ul",{className:"footer-menu"},n.a.createElement("li",{className:"margin-left-phablet-0 margin-right-phablet-0"},n.a.createElement("a",{onClick:this.handleToggleBeacon,href:"https://help.siter.io/",rel:"noopener noreferrer",className:"dropdownTrigger","data-dropdown-id":"contacts",target:"_blank"},e("app.footer.contactus"))),n.a.createElement("li",{className:"margin-left-phablet-0 margin-right-phablet-0"},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://siter.io/terms"},e("app.footer.terms"))),n.a.createElement("li",{className:"margin-left-phablet-0 margin-right-phablet-0"},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://siter.io/privacy"},e("app.footer.privacy"))),n.a.createElement("li",{className:"margin-left-phablet-0 margin-right-phablet-0 -hideForPhone"},n.a.createElement("a",{href:"https://twitter.com/getsiter",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 42 43",width:"50px",height:"50px"},n.a.createElement("path",{d:"M 11 4 C 7.134 4 4 7.134 4 11 L 4 39 C 4 42.866 7.134 46 11 46 L 39 46 C 42.866 46 46 42.866 46 39 L 46 11 C 46 7.134 42.866 4 39 4 L 11 4 z M 13.085938 13 L 21.023438 13 L 26.660156 21.009766 L 33.5 13 L 36 13 L 27.789062 22.613281 L 37.914062 37 L 29.978516 37 L 23.4375 27.707031 L 15.5 37 L 13 37 L 22.308594 26.103516 L 13.085938 13 z M 16.914062 15 L 31.021484 35 L 34.085938 35 L 19.978516 15 L 16.914062 15 z"})))),n.a.createElement("li",{className:"margin-left-phablet-0 margin-right-phablet-0 -hideForPhone"},n.a.createElement("a",{href:"https://www.facebook.com/siterio",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("svg",{id:"facebook",viewBox:"0 0 24 24"},n.a.createElement("path",{d:"M24 1.3v21.3c0 .7-.6 1.3-1.3 1.3h-6.1v-9.3h3.1l.5-3.6h-3.6v-2.2c0-1.1.3-1.8 1.8-1.8h1.9v-3.2c-.3 0-1.5-.1-2.8-.1-2.8 0-4.7 1.7-4.7 4.8v2.7h-3.1v3.6h3.1v9.2h-11.5c-.7 0-1.3-.6-1.3-1.3v-21.4c0-.7.6-1.3 1.3-1.3h21.3c.8 0 1.4.6 1.4 1.3z"})))))))}}var z=Object(h.b)(e=>({}),{})(Object(I.a)()(Z));var V=e=>{let{location:t}=e;return n.a.createElement("div",{className:"siter-no__match"},n.a.createElement("span",{className:"siter-no__match-title"},"404"),n.a.createElement("div",{className:"siter-no__match-description"},"Something\u2019s missing."),n.a.createElement("div",{className:"siter-no__match-hint"},"This page is missing or you assembled the link incorrectly."))},W=a(453),q=a.n(W),K=a(6);class Y extends s.Component{constructor(){super(...arguments),this.state={toggled:!1},this.errorText="",this.time=(new Date).getTime(),this.setErrorText=e=>{let{requiredInvalid:t,regexpInvalid:a}=e;const{t:s}=this.props;this.errorText=s("app.formerrors.notvaliderror"),this.props.equals&&this.props.value!==this.props.equals&&(this.errorText=s("app.formerrors.passwordnotmatch")),a&&(this.errorText="".concat(s("app.formerrors.validwithtype")," ").concat(this.props.datatype,".")),t&&(this.errorText=s("app.formerrors.requirederror"))},this.invalid=()=>{const{value:e,datatype:t,submitted:a,required:s}=this.props,{toggled:n}=this.state;if(n||a){const a=s&&!e||!Object(K.w)(e,t)||this.props.equals&&this.props.value!==this.props.equals;return this.setErrorText({requiredInvalid:s&&!e,regexpInvalid:!Object(K.w)(e,t)}),a}return!1},this.classNames=()=>M()(this.props.className||"input",{input_error:this.invalid()}),this.labelClasses=()=>M()("label",{label_required:this.props.required}),this.onBlur=()=>{this.state.toggled||this.setState({toggled:!0})}}render(){const{label:e,labelComponent:t}=this.props;return n.a.createElement("div",{className:"input-wrapper ta-left"},n.a.createElement("label",{className:this.labelClasses(),htmlFor:this.time+"label"},e,t),n.a.createElement("input",Object.assign({id:this.time+"label",type:"text",className:this.classNames(),onBlur:this.onBlur},q()(this.props,["submitted","equals","i18n","t","tReady","labelComponent"]))),this.invalid()&&n.a.createElement("span",{className:"input_error-message"},this.errorText))}}var J=Object(h.b)(e=>({}),{})(Object(I.a)()(Y));class X extends s.Component{constructor(){super(...arguments),this.state={username:this.props.sessions.username,email:this.props.sessions.email,vatNumber:this.props.sessions.vat_number,pp_agreement:!0,alertOpened:!1,saving:!1},this.handleChangeUsername=e=>{this.setState({username:e.target.value})},this.handleChangeEmail=e=>{this.setState({email:e.target.value})},this.handleSave=()=>{const{email:e,username:t}=this.state,{t:a}=this.props;e&&Object(K.w)(e,"email")&&t&&(this.setState({saving:!0}),this.props.updateUserRequest(this.state,()=>{this.setState({saving:!1}),y.b.success(a("app.account.profile.savetitle"),"OK",5e3)},()=>{this.setState({saving:!1})}))},this.handleChangePassword=e=>{this.setState({password:e.target.value})},this.handleChangeAgreement=e=>{this.setState({pp_agreement:e.target.checked})},this.handleChangeVatNumber=e=>{this.setState({vatNumber:e.target.value})},this.uploaded=()=>{this.props.fetchUserRequest(()=>{this.t=(new Date).getTime()})},this._handleImageChange=e=>{const t=this;e.preventDefault();const a=new FileReader,s=e.target.files[0];a.onloadend=()=>{const e=new Image;e.onload=function(){t.uploadImage(s,!1,e)},e.src=a.result},a.readAsDataURL(s),this.setState({loading:!0,progress:.2})},this.t=(new Date).getTime()}uploadImage(e){let t=arguments.length>2?arguments[2]:void 0;const a=this;return this.setState({loading:!0}),new Promise((s,n)=>{const o=new FormData;o.append("avatar",e),o.append("pp_agreement",!0);const i=new XMLHttpRequest;i.open("put","".concat(l.a.defaults.baseURL,"/users/").concat(this.props.user.id),!0),i.setRequestHeader("Authorization","Bearer ".concat(this.props.user.jwt)),i.onload=function(){200===this.status?(a.uploaded(JSON.parse(this.response),t),a.setState({loading:!1})):(n(this.statusText),a.setState({loading:!1}))},i.send(o)})}render(){const{loading:e,saving:t,email:a,username:s,vatNumber:o}=this.state,{t:i}=this.props;return n.a.createElement("div",{className:"settings-general__container"},n.a.createElement("div",{className:"title"},i("app.account.profile.title")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("label",{htmlFor:"uploadFile",className:"label label_500"},i("app.account.profile.avatar")),n.a.createElement("div",{className:"settings-favicon__uploader"},n.a.createElement("input",{disabled:e,id:"uploadFile",className:"hidden",name:"file",type:"file",onChange:this._handleImageChange}),n.a.createElement("div",{className:"settings-favicon__uploader-avatar",width:"100%",style:{backgroundImage:"url(".concat(this.props.user.avatar_url,"?t=").concat(this.t)},alt:i("app.account.profile.avatar")}),n.a.createElement("label",{htmlFor:"uploadFile",className:"settings-favicon__uploader-status"},i(e?"app.account.profile.uploading":"app.account.profile.uploadlabel"))),n.a.createElement("div",{className:"input-wrapper__hint input-wrapper__hint_mt12"},i("app.account.profile.uploaddesc"))),n.a.createElement(J,{tabIndex:"1",value:s,onChange:this.handleChangeUsername,id:"login",placeholder:i("app.account.profile.usernameplaceholder"),label:i("app.account.profile.usernamelabel"),type:"text",name:"login",datatype:"text",submitted:t,required:!0}),n.a.createElement(J,{tabIndex:"1",value:a,onChange:this.handleChangeEmail,id:"login",placeholder:i("app.account.profile.emailplaceholder"),label:i("app.account.profile.emaillabel"),type:"text",name:"login",datatype:"email",submitted:t,required:!0}),n.a.createElement(J,{tabIndex:"1",value:o,onChange:this.handleChangeVatNumber,id:"vat_number",placeholder:i("app.account.profile.vatnumberplaceholder"),label:i("app.account.profile.vatnumberlabel"),type:"text",name:"vat_number",datatype:"text",submitted:t,required:!1}),n.a.createElement("button",{disabled:t,className:"button button_green dashboard-create__site-button mt40",onClick:this.handleSave},i("app.account.profile.savebutton")))}}const Q={updateUserRequest:N,fetchUserRequest:E};var $=Object(h.b)(e=>({sessions:e.sessions,user:e.sessions}),Q)(Object(I.a)()(X));class ee extends s.Component{constructor(){super(...arguments),this.state={password:"",password_confirmation:"",pp_agreement:!0,submitted:!1},this.handleChangePassword=e=>{this.setState({password:e.target.value})},this.handleChangePasswordConfirmation=e=>{this.setState({password_confirmation:e.target.value})},this.handleSavePassword=()=>{const{t:e}=this.props;this.setState({submitted:!0}),this.validPasswords()&&(this.setState({loading:!0}),this.props.updateUserRequest(this.state,()=>{y.b.success(e("app.account.password.savetitle"),"OK",5e3),this.setState({loading:!1})},()=>{this.setState({loading:!1})}))},this.validPasswords=()=>{const{password:e,password_confirmation:t}=this.state;return e&&e===t}}render(){const{t:e}=this.props,{loading:t,password:a,password_confirmation:s,submitted:o}=this.state;return n.a.createElement("div",{className:"settings-general__container"},n.a.createElement("div",{className:"title"},e("app.account.password.title")),n.a.createElement(J,{tabIndex:"1",value:a,onChange:this.handleChangePassword,id:"user_password",placeholder:e("app.account.password.placeholder"),label:e("app.account.password.label"),type:"password",name:"user_password",datatype:"password",submitted:o,required:!0}),n.a.createElement(J,{tabIndex:"1",value:s,onChange:this.handleChangePasswordConfirmation,id:"user_password",placeholder:e("app.account.password.retryplaceholder"),label:e("app.account.password.retrylabel"),type:"password",name:"user_password",equals:a,datatype:"password",submitted:o,required:!0}),n.a.createElement("button",{disabled:t,className:"button button_green dashboard-create__site-button",onClick:this.handleSavePassword},e("app.account.password.savebutton")))}}const te={updateUserRequest:N,fetchUserRequest:E};var ae=Object(h.b)(e=>({sessions:e.sessions,user:e.sessions}),te)(Object(I.a)()(ee)),se=a(76),ne=a.n(se);class oe extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={type:"export",pp_agreement:!0,alertOpened:!1,alertExportOpened:!1},this.makeRequest=()=>{"delete"===this.state.type&&this.deleteAccount(),"export"===this.state.type&&this.handleExport()},this.handleChangeType=e=>{this.setState({type:e})},this.handleExport=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;if(e.setState({alertExportOpened:!0}),a){const t="/user/export.csv?password=".concat(s);l.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.sessions.jwt),l.a.post(t,{responseType:"blob"}).then(e=>{let{data:t}=e;const a=window.URL.createObjectURL(new Blob([t])),s=document.createElement("a");s.href=a,s.setAttribute("download","user.csv"),document.body.appendChild(s),s.click(),s.remove()})}},this.deleteAccount=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;const{t:n}=e.props;e.setState({alertOpened:!0}),a&&(l.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.sessions.jwt),l.a.delete("/user?password=".concat(s)).then(e=>{localStorage.removeItem("persist:primary"),document.location.reload(),y.b.success(n("app.account.privacy.deleteaccount.success"),"OK",5e3)}))},this.handleCallbackAlert=e=>{this.setState({alertOpened:!1}),e&&this.deleteAccount(void 0,!0,e)},this.handleCallbackExportAlert=e=>{this.setState({alertExportOpened:!1}),e&&this.handleExport(void 0,!0,e)}}render(){const{loading:e}=this.state,{t:t}=this.props;return n.a.createElement("div",{className:"settings-general__container_560"},n.a.createElement(ne.a,{isOpen:this.state.alertOpened,type:"input",title:t("app.account.privacy.deleteaccount.title"),text:t("app.account.privacy.deleteaccount.text"),confirmButtonText:t("app.account.privacy.deleteaccount.confirmbutton"),cancelButtonText:t("app.account.privacy.deleteaccount.cancelbutton"),inputPlaceholder:t("app.account.privacy.deleteaccount.placeholder"),inputType:"password",callback:this.handleCallbackAlert}),n.a.createElement(ne.a,{isOpen:this.state.alertExportOpened,type:"input",title:t("app.account.privacy.export.title"),text:t("app.account.privacy.export.text"),confirmButtonText:t("app.account.privacy.export.confirmbutton"),cancelButtonText:t("app.account.privacy.export.cancelbutton"),inputPlaceholder:t("app.account.privacy.export.placeholder"),inputType:"password",callback:this.handleCallbackExportAlert,customClass:"sweet-alert_green-button"}),n.a.createElement("div",{className:"title"},t("app.account.privacy.title")),n.a.createElement("div",null,n.a.createElement("div",{className:"radio-wrapper ms-radio"},n.a.createElement("div",null,n.a.createElement("input",{checked:"export"===this.state.type,id:"export",type:"radio",value:"export",name:"ms-target",className:"radio",onChange:this.handleChangeType.bind(null,"export")}),n.a.createElement("label",{htmlFor:"export",className:"radio-label-wrapper"},n.a.createElement("div",{className:"radio-label radio-label_small fl"}),n.a.createElement("span",{className:"label-text"},t("app.account.privacy.exportlabel")))))),n.a.createElement("div",null,n.a.createElement("div",{className:"radio-wrapper ms-radio"},n.a.createElement("div",null,n.a.createElement("input",{checked:"delete"===this.state.type,id:"delete",type:"radio",value:"delete",name:"ms-target",className:"radio",onChange:this.handleChangeType.bind(null,"delete")}),n.a.createElement("label",{htmlFor:"delete",className:"radio-label-wrapper"},n.a.createElement("div",{className:"radio-label radio-label_small fl"}),n.a.createElement("span",{className:"label-text"},t("app.account.privacy.eraselabel")))))),n.a.createElement("div",{className:"dashboard-create__site-notify dashboard-create__site-notify_red mt20"},"\u2600 ",t("app.account.privacy.notify")),n.a.createElement("button",{disabled:e,className:"button button_green dashboard-create__site-button mt40",onClick:this.makeRequest},t("app.account.privacy.makebutton")))}}const ie={updateUserRequest:N,fetchUserRequest:E};var re=Object(h.b)(e=>({sessions:e.sessions,user:e.sessions}),ie)(Object(I.a)()(oe));class le extends s.Component{componentDidMount(){document.title="".concat(this.props.t("app.titles.profile")," - Siter.io")}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"dashboard__settings"},n.a.createElement("div",{className:"dashboard__settings-col-1"},n.a.createElement("div",{className:"dashboard__settings-menu"},n.a.createElement(O.a,{to:"/account/profile/general/userinfo",className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},e("app.account.leftmenu.profile")),n.a.createElement(O.a,{to:"/account/profile/general/password",className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},e("app.account.leftmenu.password")),n.a.createElement(O.a,{to:"/account/profile/general/privacy",className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},e("app.account.leftmenu.privacy")))),n.a.createElement("div",{className:"dashboard__settings-col-2"},n.a.createElement(_.a,{exact:!0,component:$,path:"/account/profile/general/userinfo"}),n.a.createElement(_.a,{exact:!0,component:ae,path:"/account/profile/general/password"}),n.a.createElement(_.a,{exact:!0,component:re,path:"/account/profile/general/privacy"})))}}var ce=Object(h.b)(e=>({}),{})(Object(I.a)()(le));const pe=["alipay","american-express","diners-club","discover","elo","hipercard","jcb","maestro-old","maestro","mastercard-old","mastercard","paypal","unionpay","verve","visa"];class de extends s.Component{constructor(){super(...arguments),this.state={image_url:""},this.init=()=>{let e=this.props.brand?this.props.brand.toLowerCase():"";e=e.replace(/ /g,"-"),pe.indexOf(e)>-1&&a(948)("./".concat(e,".svg")).then(e=>{this.setState({image_url:e.default})})}}componentWillMount(){this.init()}render(){const{image_url:e}=this.state;return n.a.createElement("div",{className:"billing-table__card-icon",style:{backgroundImage:"url(".concat(e,")")}})}}var he=Object(h.b)(e=>({sessions:e.sessions}),{})(de),me=a(73),ue=a.n(me);class ge extends s.Component{constructor(){super(...arguments),this.state={charges:[],loading:!0},this.getCharges=e=>{l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),l.a.get("/billing/charges").then(e=>{let{data:t}=e;this.setState({charges:t.sort((function(e,t){return new Date(t.purchased_at)-new Date(e.purchased_at)})),loading:!1})})}}componentWillMount(){this.getCharges(()=>{this.setState({loading:!1})})}render(){const{loading:e,charges:t}=this.state,{t:a}=this.props;return n.a.createElement("div",null,n.a.createElement("div",{className:"title"},a("app.billing.paymenthistory.title")),e&&n.a.createElement("div",{className:"text-input__loading--line",style:{width:"100%",height:27,marginBottom:28,marginTop:70}}),!e&&0===t.length&&n.a.createElement("div",{className:"billing-payment__method-block__description"},a("app.billing.paymenthistory.nocharges")),!e&&t.length>0&&n.a.createElement("table",{className:"billing-table ft14"},n.a.createElement("tbody",null,t.map((e,t)=>n.a.createElement("tr",null,n.a.createElement("td",{className:"va-middle"},n.a.createElement(he,{brand:e.payment_method.brand}),n.a.createElement("span",{className:"va-middle"},n.a.createElement("span",{className:"billing-table__card-dots"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\xa0"),n.a.createElement("span",{className:"va-middle inline-wrapper"},e.payment_method.last4))),n.a.createElement("td",{className:"va-middle text-gray"},e.status),n.a.createElement("td",{className:"va-middle text-gray ta-right"},"$",e.price_cents),n.a.createElement("td",{className:"va-middle text-gray ta-right"},n.a.createElement(ue.a,{format:"MM/DD/YY",date:e.purchased_at})),n.a.createElement("td",{className:"va-middle ta-right"},n.a.createElement("a",{rel:"noopener noreferrer",className:"link link_black link_underline",href:e.receipt_pdf,target:"_blank"},a("app.billing.paymenthistory.download"))))))))}}var _e=Object(h.b)(e=>({user:e.sessions}),{})(Object(I.a)()(ge)),fe=a(38),ve=a.n(fe);class we extends s.Component{constructor(){super(...arguments),this.state={loading:!0,cancelSubscriptionAlert:!1,reactivateSubscriptionAlert:!1,subscriptions:[],plans:!1},this.getSubscriptions=()=>{const{user:e}=this.props;this.setState({loading:!0}),l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),l.a.get("/billing/subscriptions").then(e=>{let{data:t}=e;this.setState({subscriptions:t,loading:!1})})},this.userPaid=()=>{const{user:e}=this.props;return e.subscription&&"active"===e.subscription.status&&-1===e.subscription.plan.identifier.indexOf("free")},this.getMinNextPaymentDate=()=>{const{subscriptions:e}=this.state;let t=ve()(),a=[];for(const s of e)a.push(s.current_period_end);return a.sort((function(e,t){return new Date(t)-new Date(e)})),a[0]||t},this.cancelSubscription=()=>{const{user:e}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),l.a.delete("/billing/subscriptions/".concat(e.subscription.identifier)).then(e=>{let{data:t}=e;this.props.fetchUserRequest()})},this.reactivateSubscription=()=>{const{user:e}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),l.a.put("/billing/subscriptions/".concat(e.subscription.identifier,"/resume")).then(()=>{this.props.fetchUserRequest()})},this.handleCancelSubscription=()=>{this.setState({cancelSubscriptionAlert:!0})},this.handleReactivateSubscription=()=>{this.setState({reactivateSubscriptionAlert:!0})},this.handleCallbackAlert=e=>{e&&this.cancelSubscription(),this.setState({cancelSubscriptionAlert:!1})},this.handleReactivateSubscriptionAlertCallback=e=>{e&&this.reactivateSubscription(),this.setState({reactivateSubscriptionAlert:!1})},this.handleOpenPlans=()=>{this.setState({buttonUpgradeDisabled:!0}),this.props.fetchUserRequest(e=>{if(!e.email_confirmed)return y.b.error("Please confirm your email address to complete registration","Email confirmation",5e5,()=>{},void 0,!0,"Close","Resend link","resendEmailConfirmation"),this.setState({buttonUpgradeDisabled:!1}),!1;L.a.push("/account/profile/billing/checkout")})},this.getPlans=e=>{const{user:t}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.get("/billing/plans").then(e)},this.createSubscription=()=>{this.setState({creatingSubscription:!0}),this.getPlans(e=>{let{data:t}=e;const{user:a}=this.props;let s=t.find(e=>"free_monthly"===e.identifier);l.a.defaults.headers.common.Authorization="Bearer ".concat(a.jwt),l.a.post("/billing/subscriptions",{plan_id:s.stripe_plan_id}).then(()=>{this.setState({creatingSubscription:!1}),window.location.reload()}).catch(()=>{this.setState({creatingSubscription:!1})})})},this.getCancelAlertDescription=()=>{var e,t;const{t:a,user:s}=this.props;return"".concat(a("app.billing.subscriptions.editsubscription.cancelsubscriptionalert.descriptiona")," ").concat(null===(e=s.subscription)||void 0===e?void 0:e.plan.name," ").concat(a("app.billing.subscriptions.editsubscription.cancelsubscriptionalert.descriptionb"),". ").concat(a("app.billing.subscriptions.editsubscription.cancelsubscriptionalert.descriptiond")," ").concat(ve()(null===(t=s.subscription)||void 0===t?void 0:t.current_period_end).format("DD MMM YYYY"),". ").concat(a("app.billing.subscriptions.editsubscription.cancelsubscriptionalert.descriptionc"),".")},this.getReactivateAlertDescription=()=>{var e;const{t:t,user:a}=this.props,s=ve()(null===(e=a.subscription)||void 0===e?void 0:e.current_period_end).format("DD MMMM YYYY");return"".concat(t("app.billing.subscriptions.editsubscription.reactivatesubscriptionalert.descriptiona")," ").concat(s," ").concat(t("app.billing.subscriptions.editsubscription.reactivatesubscriptionalert.descriptionb"))}}componentWillMount(){this.getSubscriptions()}render(){var e,t,a;const{t:s,user:o}=this.props,{payment_method:i}=this.props.user,{loading:r,cancelSubscriptionAlert:l,reactivateSubscriptionAlert:c,creatingSubscription:p,buttonUpgradeDisabled:d}=this.state,h=s("app.billing.subscriptions.projectwebsite"),m=s("app.billing.subscriptions.projectwebsites"),u=null===o||void 0===o||null===(e=o.subscription)||void 0===e||null===(t=e.plan)||void 0===t?void 0:t.limitation,g="".concat(null===u||void 0===u?void 0:u.sites_count," ").concat(1===(null===u||void 0===u?void 0:u.sites_count)?h:m);return n.a.createElement("div",null,n.a.createElement("div",{className:"title"},s("app.billing.subscriptions.title")),r&&n.a.createElement("div",{className:"text-input__loading--line",style:{width:497,height:122,marginBottom:0}}),n.a.createElement(ne.a,{isOpen:l,type:"warning",title:s("app.billing.subscriptions.editsubscription.cancelsubscriptionalert.title"),text:this.getCancelAlertDescription(),confirmButtonText:s("app.billing.subscriptions.editsubscription.cancelsubscriptionalert.yesbutton"),cancelButtonText:s("app.billing.subscriptions.editsubscription.cancelsubscriptionalert.cancelbutton"),callback:this.handleCallbackAlert}),n.a.createElement(ne.a,{isOpen:c,type:"success",title:s("app.billing.subscriptions.editsubscription.reactivatesubscriptionalert.title"),text:this.getReactivateAlertDescription(),confirmButtonText:s("app.billing.subscriptions.editsubscription.reactivatesubscriptionalert.yesbutton"),cancelButtonText:s("app.billing.subscriptions.editsubscription.reactivatesubscriptionalert.cancelbutton"),callback:this.handleReactivateSubscriptionAlertCallback}),!r&&o.subscription&&n.a.createElement("div",{className:"billing-current__subscription cp",onClick:this.handleOpenPlans},n.a.createElement("div",{className:"billing-current__subscription-title"},o.subscription.plan.name," (",o.subscription.plan.price.symbol,o.subscription.plan.price.cents,"/","monthly"===o.subscription.plan.interval?"mo":"year",")"),n.a.createElement("div",{className:"billing-current__subscription-description"},o.subscription.plan.identifier.indexOf("free")>-1?"".concat(s("app.billing.subscriptions.unlimited")," ").concat(m,", 10 ").concat(s("app.billing.subscriptions.webpages"),", ").concat(s("app.billing.subscriptions.unlimteammates"),", ").concat(s("app.billing.subscriptions.privatewebsite"),"."):"",o.subscription.plan.identifier.indexOf("solo")>-1?"".concat(g,", 10 ").concat(s("app.billing.subscriptions.webpages"),", ").concat(o.subscription.plan.limitation.collaborations_count," ").concat(s("app.billing.subscriptions.teammates"),", ").concat(s("app.billing.subscriptions.publicprivatewebsites"),"."):"",o.subscription.plan.identifier.indexOf("plus")>-1?"".concat(g,", 50 ").concat(s("app.billing.subscriptions.webpages"),", ").concat(o.subscription.plan.limitation.collaborations_count," ").concat(s("app.billing.subscriptions.teammates"),", ").concat(s("app.billing.subscriptions.publicprivatewebsites"),"."):"",o.subscription.plan.identifier.indexOf("pro")>-1?"".concat(g,", ").concat(s("app.billing.subscriptions.unlimited")," ").concat(s("app.billing.subscriptions.webpages"),", ").concat(o.subscription.plan.limitation.collaborations_count," ").concat(s("app.billing.subscriptions.teammates"),", ").concat(s("app.billing.subscriptions.publicprivatewebsites"),"."):"",o.subscription.cancel_at?n.a.createElement("div",null,s("app.billing.subscriptions.cancelat"),"\xa0",n.a.createElement(ue.a,{format:"MM/DD/YY",date:o.subscription.cancel_at})):""),n.a.createElement("svg",{className:"billing-current__subscription-icon",width:"10",height:"20",viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M0.626294 18.6678C0.442834 18.8742 0.461424 19.1902 0.667814 19.3737C0.874204 19.5572 1.19025 19.5386 1.3737 19.3322L0.626294 18.6678ZM9 10L9.3737 10.3322C9.5421 10.1427 9.5421 9.8573 9.3737 9.6678L9 10ZM1.3737 0.667801C1.19025 0.461401 0.874204 0.442801 0.667814 0.626301C0.461424 0.809801 0.442834 1.1258 0.626294 1.3322L1.3737 0.667801ZM1.3737 19.3322L9.3737 10.3322L8.6263 9.6678L0.626294 18.6678L1.3737 19.3322ZM9.3737 9.6678L1.3737 0.667801L0.626294 1.3322L8.6263 10.3322L9.3737 9.6678Z",fill:"black"})))),!r&&!o.subscription&&n.a.createElement("div",{className:"billing-payment__method-block__description"},s("app.billing.subscriptions.nosubscriptions")),o.subscription?n.a.createElement("button",{className:"button button_green settings-general__container-billing-col-table__button",onClick:this.handleOpenPlans,disabled:d},s("app.billing.subscriptions.upgradeplanbutton")):n.a.createElement("button",{disabled:p,className:"button button_green settings-general__container-billing-col-table__button",onClick:this.createSubscription},s("app.billing.subscriptions.createsubscriptionbutton")),this.userPaid()&&!o.subscription.cancel_at&&n.a.createElement("button",{className:"button button_transparent settings-general__container-billing-col-table__button",style:{marginLeft:12},onClick:this.handleCancelSubscription},s("app.billing.subscriptions.cancelsubscriptionbutton")),this.userPaid()&&o.subscription.cancel_at&&n.a.createElement("button",{className:"button button_transparent settings-general__container-billing-col-table__button",style:{marginLeft:12},onClick:this.handleReactivateSubscription},s("app.billing.subscriptions.reactivatesubscriptionbutton")),n.a.createElement("div",{className:"title title-mt54"},s("app.billing.subscriptions.pmtitle")),i?n.a.createElement("div",{className:"billing-graytext"},s("app.billing.subscriptions.pmdesc")," (",n.a.createElement("span",{className:"billing-table__card-dots"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022")," ",n.a.createElement("span",{className:"va-middle"},i.last4),").",n.a.createElement("br",null),s("app.billing.subscriptions.nextpayment"),"\xa0",n.a.createElement(ue.a,{className:"capitalize",format:"MMMM DD, Y",date:null===(a=o.subscription)||void 0===a?void 0:a.current_period_end}),".",n.a.createElement("br",null),n.a.createElement(O.a,{className:"link link_underline",to:"/account/profile/billing/payment-method"},s("app.billing.subscriptions.updatemethodlink"))):n.a.createElement("div",{className:"billing-graytext"},s("app.billing.subscriptions.nopm"),n.a.createElement("br",null),n.a.createElement(O.a,{className:"link link_underline",to:"/account/profile/billing/payment-method"},s("app.billing.subscriptions.updatemethodlink"))))}}const Ce={fetchUserRequest:E};var ye=Object(h.b)(e=>({sessions:e.sessions,user:e.sessions}),Ce)(Object(I.a)()(we));class be extends s.Component{constructor(){super(...arguments),this.state={tooltipActive:!1,addOpen:!1},this.handleMakeDefault=()=>{this.refs.tooltip.close(),this.props.setPaymentDefault(this.props.item)},this.handleRemovePaymentMethod=()=>{this.refs.tooltip.close(),this.props.removePaymentMethod(this.props.item)},this.options=()=>{const{itemDefault:e}=this.props;return n.a.createElement("div",{className:"tooltip-popup"},!e&&n.a.createElement("div",{onClick:this.handleMakeDefault,className:"tooltip-item"},"Make Default"),n.a.createElement("div",{onClick:this.handleRemovePaymentMethod,className:"tooltip-item"},"Remove Card"))},this.onVisibleChange=e=>{this.setState({tooltipActive:e})}}render(){const{tooltipActive:e}=this.state,{item:t,itemDefault:a}=this.props;return n.a.createElement("tr",null,n.a.createElement("td",{className:"va-middle"},t.brand&&n.a.createElement(he,{brand:t.brand}),n.a.createElement("span",{className:"va-middle"},n.a.createElement("span",{className:"billing-table__card-dots"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022")," ",n.a.createElement("span",{className:"va-middle inline-wrapper"},t.last4)),a&&n.a.createElement("span",{className:"tag-blue"},"default")),n.a.createElement("td",{className:"va-middle text-gray"},"Valid until ",(t.exp_month<10?"0":"")+t.exp_month,"/",t.exp_year),n.a.createElement("td",{className:"va-middle ta-right"},n.a.createElement(P.a,{ref:"tooltip",arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"bottomRight",trigger:["click"],overlayClassName:"custom-tooltip_150",overlay:this.options(),transitionName:"rc-tooltip-zoom",onVisibleChange:this.onVisibleChange},n.a.createElement("div",{className:"billing-table__tooltip-caller billing-table__tooltip-caller_2 ".concat(e?"billing-table__tooltip-caller_active":"")},n.a.createElement("svg",{className:"cp",width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M2 12C0.9 12 -1.35505e-07 12.9 -8.74228e-08 14C-3.93402e-08 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12ZM2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6C0.9 6 -3.97774e-07 6.9 -3.49691e-07 8C-3.01609e-07 9.1 0.9 10 2 10ZM2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 3.93402e-08 2 8.74228e-08C0.899999 1.35505e-07 -6.60042e-07 0.9 -6.11959e-07 2C-5.63877e-07 3.1 0.9 4 2 4Z",fill:"#828282"}))))))}}var Ee=Object(h.b)(e=>({sessions:e.sessions,user:e.sessions}),{})(be);class ke extends s.Component{constructor(){super(...arguments),this.state={loading:!0,paymentMethods:[],alertOpened:!1},this.getPaymentMethods=e=>{const{user:t}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.get("/billing/payment_methods").then(t=>{let{data:a}=t;this.setState({paymentMethods:a},e)})},this.setPaymentDefault=e=>{let{identifier:t}=e;const{user:a}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(a.jwt),l.a.patch("/billing/payment_methods/".concat(t)).then(e=>{let{data:a}=e,s=this.state.paymentMethods.slice(0),n=s.find(e=>e.identifier===t);for(let t of s)t.default=!1;n.default=!0,this.props.fetchUserRequest(),this.setState({paymentMethods:s})})},this.removePaymentMethod=e=>{this.setState({alertOpened:!0}),this.pmToRemove=e},this.removePaymentAlertCallback=e=>{if(e){const{user:e}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),l.a.delete("/billing/payment_methods/".concat(this.pmToRemove.identifier)).then(e=>{let{data:t}=e;this.setState({alertOpened:!1}),this.getPaymentMethods(),this.props.fetchUserRequest()})}else this.setState({alertOpened:!1})}}componentWillMount(){this.getPaymentMethods(()=>{this.setState({loading:!1})})}render(){const{t:e}=this.props,{paymentMethods:t,alertOpened:a,loading:s}=this.state;return n.a.createElement("div",null,n.a.createElement("div",{className:"title"},e("app.billing.paymentmethod.title")),s&&n.a.createElement("div",{className:"text-input__loading--line",style:{width:"100%",height:27,marginBottom:28,marginTop:70}}),n.a.createElement("table",{className:"billing-table"},n.a.createElement("tbody",null,t.map((e,t)=>n.a.createElement(Ee,{key:t,index:t,item:e,itemDefault:e.default,setPaymentDefault:this.setPaymentDefault,removePaymentMethod:this.removePaymentMethod})))),!s&&0===t.length&&n.a.createElement("div",{className:"billing-payment__method-block__description"},e("app.billing.paymentmethod.nocards")),n.a.createElement(ne.a,{isOpen:a,type:"warning",title:e("app.billing.paymentmethod.alert"),html:!0,text:"",confirmButtonText:e("app.billing.paymentmethod.deletebutton"),cancelButtonText:e("app.billing.paymentmethod.cancelbutton"),callback:this.removePaymentAlertCallback}),n.a.createElement("div",{className:"title title_54"},e("app.billing.paymentmethod.addtitle")),n.a.createElement("div",{className:"billing-payment__method-block"},n.a.createElement("div",{className:"billing-payment__method-block__title"},e("app.billing.paymentmethod.creditordebit")),n.a.createElement("div",{className:"billing-payment__method-block__description"},e("app.billing.paymentmethod.adddescription")),n.a.createElement(O.a,{className:"billing-payment__method-block__link",to:"/account/profile/billing/add-payment-method"},e("app.billing.paymentmethod.addbutton"))))}}const Se={fetchUserRequest:E};var xe=Object(h.b)(e=>({sessions:e.sessions,user:e.sessions}),Se)(Object(I.a)()(ke));class Ne extends s.Component{componentDidMount(){document.title="".concat(this.props.t("app.titles.billing")," - Siter.io")}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"dashboard__settings"},n.a.createElement("div",{className:"dashboard__settings-col-1"},n.a.createElement("div",{className:"dashboard__settings-menu"},n.a.createElement(O.a,{to:"/account/profile/billing/subscriptions",className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},e("app.billing.menu.subscriptions")),n.a.createElement(O.a,{to:"/account/profile/billing/payment-method",className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},e("app.billing.menu.pm")),n.a.createElement(O.a,{to:"/account/profile/billing/payment-history",className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},e("app.billing.menu.ph")))),n.a.createElement("div",{className:"dashboard__settings-col-2"},n.a.createElement(_.a,{exact:!0,component:ye,path:"/account/profile/billing/subscriptions"}),n.a.createElement(_.a,{exact:!0,component:xe,path:"/account/profile/billing/payment-method"}),n.a.createElement(_.a,{exact:!0,component:_e,path:"/account/profile/billing/payment-history"})))}}var Be=Object(h.b)(e=>({}),{})(Object(I.a)()(Ne));const Fe=Object(b.a)("AUTHENTICATE_REQUEST",(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};return{email:e,password:t,cb:a,onError:s}})),Ae=Object(b.a)("AUTHENTICATE_SUCCESS",e=>e),Le=Object(b.a)("LOGOUT");class Oe extends s.Component{componentDidMount(){document.body.classList.add("body-profile")}componentWillUnmount(){document.body.classList.remove("body-profile")}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"dashboard"},n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement("div",{className:"dashboard__sites-navbar dashboard__items-searchbar"},n.a.createElement("div",{className:"dashboard__sites-navbar__site-menu"},n.a.createElement("nav",{className:"header-menu__nav"},n.a.createElement(O.a,{to:"/account/profile/general/userinfo",isActive:(e,t)=>e||t.pathname.indexOf("/account/profile/general")>-1,activeClassName:"link_active",className:"header-menu__link"},n.a.createElement("span",null,e("app.account.topmenu.account"))),n.a.createElement(O.a,{activeClassName:"link_active",isActive:(e,t)=>e||t.pathname.indexOf("/account/profile/billing")>-1,to:"/account/profile/billing/subscriptions",className:"header-menu__link"},n.a.createElement("span",null,e("app.account.topmenu.billing"))))))))),n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement(_.a,{component:ce,path:"/account/profile/general"}),n.a.createElement(_.a,{component:Be,path:"/account/profile/billing"})))))}}const De={logout:Le};var Me=Object(h.b)(e=>({user:e.sessions}),De)(Object(I.a)()(Oe)),Pe=a(58),Ie=a(243),Te=a.n(Ie),Re=a(244),je=a.n(Re),Ge=a(245),He=a.n(Ge),Ue=a(65),Ze=a(4),ze=a.n(Ze);const Ve=(e,t)=>({style:{base:{fontSize:e,border:"1px solid black",color:"#424770",letterSpacing:"0.025em",fontFamily:"Roboto","::placeholder":{color:"#aab7c4"},padding:t},invalid:{color:"#EB5757"}}}),We=()=>{},qe=()=>{},Ke=()=>{};class Ye extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={change:{complete:!1},loading:!1,agree:!1,countries:[],customer_params:{name:"",address:{city:"",country:"",line1:"",line2:"",state:""},vat_id:""},vatNumber:"",vatNumberError:null},this.handleChange=e=>{this.setState({[e.elementType]:e.complete})},this.isValid=()=>{const{cardNumber:e,cardExpiry:t,cardCvc:a,customer_params:s}=this.state,{address:n,name:o}=s;return e&&t&&a&&n.city&&n.country&&n.line1&&n.state&&o},this.request=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>{};const r=new XMLHttpRequest;o?r.open(a,t,!0):r.open(a,l.a.defaults.baseURL+t,!0),r.setRequestHeader("Authorization","Bearer ".concat(e.props.user.jwt)),r.setRequestHeader("Content-Type","application/json"),r.onload=()=>{[200,201].indexOf(r.status)>-1?n(JSON.parse(r.response)):i()},r.send(JSON.stringify(s))},this.getCountries=()=>{const e=this;this.request("/countries.json","GET",{},t=>{this.setState({countries:t}),ze.a.get("https://ipinfo.io",(function(a){const s=a,n=t.find(e=>e.value===s.country);let o=e.state.customer_params;o.address.country=null===n||void 0===n?void 0:n.value,o.address.city=s.city,o.address.state=s.region,e.setState({customer_params:o})}),"jsonp")},!0)},this.saveUser=e=>{const{user:t}=this.props,{customer_params:a}=this.state;l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.put("/users/".concat(t.id),{customer_params:a,pp_agreement:!0}).then(t=>{let{data:a}=t;e(a)}).catch(e=>{})},this.createPaymentMethod=e=>{const{user:t,onError:a,onSuccess:s}=this.props;let{customer_params:n}=this.state,o={token_id:e,customer_params:n};delete o.customer_params.vat_id,l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.post("/billing/payment_methods",o).then(e=>{let{data:t}=e;this.props.fetchUserRequest(()=>{s(t)})}).catch(e=>{this.setState({loading:!1}),a&&a(e)})},this.onTokenReceived=e=>{let{token:t}=e;t&&this.createPaymentMethod(t.id)},this.handleSubmit=e=>{e.preventDefault();const{stripe:t}=this.props;t?(this.setState({loading:!0}),this.saveUser(()=>{let e={name:this.state.customer_params.name};Object.keys(this.state.customer_params.address).forEach(t=>e["address_"+t]=this.state.customer_params.address[t]),t.createToken(e).then(this.onTokenReceived)})):console.log("Stripe.js hasn't loaded yet.")},this.handleAgree=e=>{this.setState({agree:e.target.checked})},this.handleChangeCountry=e=>{let{customer_params:t}=this.state;t.address.country=e.value,this.setState({customer_params:t})},this.handleChangeName=e=>{let{customer_params:t}=this.state;t.name=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressLine1=e=>{let{customer_params:t}=this.state;t.address.line1=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressLine2=e=>{let{customer_params:t}=this.state;t.address.line2=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressCity=e=>{let{customer_params:t}=this.state;t.address.city=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressZip=e=>{let{customer_params:t}=this.state;t.address.postal_code=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressState=e=>{let{customer_params:t}=this.state;t.address.state=e.target.value,this.setState({customer_params:t})},this.handleChangeVat=e=>{this.setState({vatNumber:e.target.value})},this.validateVat=async()=>{const{user:e}=this.props,{vatNumber:t}=this.state;if(null===t)return;const a=t.replaceAll(" ","");this.setState({vatNumberError:null,vatNumber:a}),l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt);try{await l.a.put("/users/".concat(e.id,"/update_tax"),{vat_id:a})}catch({response:s}){const[{title:e}]=s.data.errors;this.setState({vatNumberError:e})}}}componentWillMount(){this.getCountries()}render(){const{loading:e,agree:t,customer_params:a,submitted:s,vatNumber:o,vatNumberError:i}=this.state,{buttonValue:r,buttonClassName:l,t:c}=this.props;return n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"billing-method-page_body"},n.a.createElement("div",{className:"billing-method-page_left-col"},n.a.createElement("div",{className:"billing-method-page_header"},n.a.createElement("div",{className:"billing-method-page_title"},n.a.createElement("img",{src:Te.a,alt:"Lock"}),c("app.billing.paymentmethod.addcreditcard")),n.a.createElement("img",{src:He.a,width:105,alt:""})),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb25"},n.a.createElement("label",{className:"label"},c("app.billing.paymentmethod.cardnumber")),n.a.createElement("div",{className:"billing-method-page_card-input"},n.a.createElement("img",{src:je.a,alt:"Card",style:{display:"none"}}),n.a.createElement(Pe.CardNumberElement,Object.assign({onBlur:We,onChange:this.handleChange,onFocus:qe,onReady:Ke,className:"input",showIcon:!0},Ve(this.props.fontSize))),n.a.createElement(Pe.CardExpiryElement,Object.assign({onBlur:We,onChange:this.handleChange,onFocus:qe,onReady:Ke,className:"input"},Ve(this.props.fontSize))),n.a.createElement(Pe.CardCVCElement,Object.assign({onBlur:We,onChange:this.handleChange,onFocus:qe,onReady:Ke,className:"input",placeholder:c("app.billing.paymentmethod.cvc")},Ve(this.props.fontSize))))),n.a.createElement(J,{tabIndex:"1",value:a.name,onChange:this.handleChangeName,id:"cardname",placeholder:c("app.billing.paymentmethod.cardname.placeholder"),label:c("app.billing.paymentmethod.cardname.label"),type:"text",name:"login",datatype:"cardname",submitted:this.state.submitted,required:!0}),n.a.createElement("div",null,n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:a.address.line1,onChange:this.handleChangeAddressLine1,id:"address1",placeholder:c("app.billing.paymentmethod.addressline1.placeholder"),label:c("app.billing.paymentmethod.addressline1.label"),type:"text",name:"address1",datatype:"address",submitted:s,required:!0})),n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:a.address.line2,onChange:this.handleChangeAddressLine2,id:"address2",placeholder:c("app.billing.paymentmethod.addressline2.placeholder"),label:c("app.billing.paymentmethod.addressline2.label"),type:"text",name:"address2",datatype:"address",submitted:s,required:!1}))),n.a.createElement("div",null,n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:a.address.city,onChange:this.handleChangeAddressCity,id:"city",placeholder:c("app.billing.paymentmethod.city.placeholder"),label:c("app.billing.paymentmethod.city.label"),type:"text",name:"city",datatype:"city",submitted:s,required:!0})),n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{id:"zip",tabIndex:"1",value:a.address.postal_code,onChange:this.handleChangeAddressZip,placeholder:c("app.billing.paymentmethod.zip.placeholder"),label:c("app.billing.paymentmethod.zip.label"),type:"text",name:"zip",datatype:"zip",submitted:s,required:!1}))),n.a.createElement("div",null,n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement("label",{className:"label label_required"},c("app.billing.paymentmethod.country.label")),n.a.createElement(Ue.a,{name:"country",id:"country",value:this.state.countries.find(e=>e.label===this.state.customer_params.address.country),onChange:this.handleChangeCountry,scrollMenuIntoView:!1,placeholder:c("app.billing.paymentmethod.country.placeholder"),searchable:!0,clearable:!1,className:"payment-method__select payment-method__select_white",options:this.state.countries})),n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:a.address.state,onChange:this.handleChangeAddressState,id:"state",placeholder:c("app.billing.paymentmethod.state.placeholder"),label:c("app.billing.paymentmethod.state.label"),type:"text",name:"state",datatype:"state",submitted:s,required:!0}))),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb25"},n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:o,onChange:this.handleChangeVat,onBlur:this.validateVat,type:"text",id:"vat",name:"vat",placeholder:c("app.billing.paymentmethod.vatnumber.placeholder"),label:c("app.billing.paymentmethod.vatnumber.label"),datatype:"vat",required:!1,submitted:s}),i&&n.a.createElement("span",{className:"input_error-message"},i)))),n.a.createElement("div",{className:"billing-method-page_right-col"},n.a.createElement("div",{className:"billing-method-page_header"},n.a.createElement("div",{className:"billing-method-page_title"},c("app.billing.paymentmethod.ordersummary")),n.a.createElement("div",{className:"caption"},c("app.billing.paymentmethod.applycoupon"))),n.a.createElement("div",{className:"billing-method-page_card"},n.a.createElement("div",{className:"ta-left"},n.a.createElement("div",{className:"checkbox-wrapper"},n.a.createElement("input",{onChange:this.handleAgree,id:"ms__form-checkbox",type:"checkbox",tabIndex:"-1",className:"checkbox",checked:t}),n.a.createElement("label",{htmlFor:"ms__form-checkbox",title:"Open in New Window",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text",style:{fontSize:14,color:"#464D52",verticalAlign:"text-bottom",fontWeight:"400"}},n.a.createElement("span",null,c("app.billing.paymentmethod.agree"),"\xa0"),n.a.createElement("a",{className:"link link_black link_underline inline-top",href:"https://siter.io/terms",target:"_blank",rel:"noopener noreferrer",style:{position:"relative",zIndex:1}},c("app.billing.paymentmethod.terms")),".")))),n.a.createElement("button",{disabled:e||!t||!this.isValid(),className:"button button_green button_full billing-item__button4 "+l},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",fill:"none"},n.a.createElement("path",{d:"M0 8C0 7.44772 0.447715 7 1 7H13C13.5523 7 14 7.44772 14 8V15C14 15.5523 13.5523 16 13 16H1C0.447716 16 0 15.5523 0 15V8Z",fill:"currentColor"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5L4 9C4 10.6569 5.34315 12 7 12C8.65685 12 10 10.6569 10 9V5C10 3.34315 8.65685 2 7 2C5.34315 2 4 3.34315 4 5ZM2 9C2 11.7614 4.23858 14 7 14C9.76142 14 12 11.7614 12 9V5C12 2.23858 9.76142 -1.20706e-07 7 0C4.23858 1.20706e-07 2 2.23858 2 5L2 9Z",fill:"currentColor"})),e?c("app.billing.paymentmethod.loadingbutton"):r||c("app.billing.paymentmethod.addcard"))))))}}const Je={fetchUserRequest:E};var Xe=Object(h.b)(e=>({user:e.sessions}),Je)(Object(Pe.injectStripe)(Object(I.a)()(Ye))),Qe=a(246),$e=a.n(Qe);class et extends s.Component{constructor(){super(...arguments),this.onSuccess=()=>{L.a.push("/account/profile/billing/payment-method")}}render(){return n.a.createElement("div",{className:"dashboard"},n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement($e.a,{uniqueId:"payment-method",script:"https://js.stripe.com/v3/",loader:"Loading..."},n.a.createElement(Pe.StripeProvider,{apiKey:window.STRIPE_KEY},n.a.createElement(Pe.Elements,null,n.a.createElement(Xe,{buttonClassName:"billing-item__button4_nomb",onSuccess:this.onSuccess})))))))}}var tt=Object(h.b)(e=>({user:e.sessions}),{})(Object(I.a)()(et));const at=Object(b.a)("FETCH_SITES_REQUEST",e=>[e]),st=Object(b.a)("FETCH_SITES_SUCCESS",e=>e),nt=(e,t)=>({style:{base:{fontSize:e,border:"1px solid black",color:"#424770",letterSpacing:"0.025em",fontFamily:"Roboto","::placeholder":{color:"#aab7c4"},padding:t},invalid:{color:"#EB5757"}}}),ot=()=>{},it=()=>{},rt=()=>{};class lt extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={change:{complete:!1},loading:!1,agree:!1,customer_params:{name:"",address:{city:"",postal_code:"",country:"",line1:"",line2:"",state:""}},countries:[],currentPeriod:"_annual",currentPlan:{},totaltext:0,vatNumberError:null,vatNumber:"",total:void 0,tax:void 0,subtotal:void 0,taxCalculated:!1,couponInput:!1,couponLoader:!1,couponValid:!1,couponValue:"",discountId:null,totalDiscount:0},this.periods=()=>{const{t:e}=this.props;return[{value:"_monthly",label:e("app.billing.plans.monthly")},{value:"_annual",label:e("app.billing.plans.annualy")}]},this.handleChange=e=>{this.setState({[e.elementType]:e.complete})},this.isValid=()=>{const{cardNumber:e,cardExpiry:t,cardCvc:a,customer_params:s,vatNumberError:n}=this.state,{address:o,name:i}=s;return(e&&t&&a||this.props.user.payment_method)&&o.city&&o.country&&o.line1&&o.state&&i&&null===n},this.request=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>{};const r=new XMLHttpRequest;o?r.open(a,t,!0):r.open(a,l.a.defaults.baseURL+t,!0),r.setRequestHeader("Authorization","Bearer ".concat(e.props.user.jwt)),r.setRequestHeader("Content-Type","application/json"),r.onload=()=>{[200,201].indexOf(r.status)>-1?n(JSON.parse(r.response)):i()},r.send(JSON.stringify(s))},this.getCountries=()=>{const e=this;this.request("/countries.json","GET",{},t=>{this.setState({countries:t}),this.props.user.payment_method?this.props.user.customer_params&&this.props.user.customer_params.address&&this.setState({customer_params:this.props.user.customer_params},this.previewUpcomingInvoice):ze.a.get("https://ipinfo.io",(function(a){const s=a,n=t.find(e=>e.value===s.country);let o=e.state.customer_params;o.address.country=null===n||void 0===n?void 0:n.value,o.address.city=s.city,o.address.state=s.region,console.log(s),e.setState({customer_params:o},e.previewUpcomingInvoice)}),"jsonp")},!0)},this.createPaymentMethod=e=>{const{user:t,onError:a}=this.props;let{customer_params:s}=this.state,n={token_id:e,customer_params:s};l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.post("/billing/payment_methods",n).then(this.props.fetchUserRequest).then(this.onAddSuccess).catch(e=>{this.setState({loading:!1}),a&&a(e)})},this.updatePaymentMethod=e=>{const{user:t}=this.props;let{customer_params:a}=this.state,s={customer_params:a};l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.put("/billing/payment_methods/".concat(t.payment_method.identifier),s).then(t=>{let{data:a}=t;e(a)}).catch(e=>{})},this.saveUser=()=>{const{user:e}=this.props,{customer_params:t}=this.state;return l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),l.a.put("/users/".concat(e.id),{customer_params:t,pp_agreement:!0})},this.updateSubscription=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const{discountId:a}=e.state,{user:s}=e.props;e.props.fetchSitesRequest(()=>{let n={plan_id:e.state.currentPlan.stripe_plan_id};null!==a&&(n.coupon=a),l.a.defaults.headers.common.Authorization="Bearer ".concat(s.jwt),l.a.put("/billing/subscriptions/".concat(s.subscription.identifier),n).then(a=>{let{data:s}=a;e.confirmCardPayment(s,t)}).catch(t=>{e.setState({loading:!1}),L.a.push("/account/profile/billing/subscriptions")})})},this.onSubscriptionUpdated=e=>{const{user:t,t:a}=this.props;this.props.fetchUserRequest(),this.setState({loading:!1}),window.fpr&&window.fpr("referral",{email:t.email}),y.b.success(a("app.billing.successupdateplan"),"OK",5e3),e(),L.a.push("/account/profile/billing/subscriptions")},this.confirmCardPayment=(e,t)=>{const{stripe:a}=this.props;a.confirmCardPayment(e.client_secret).then(e=>{e.error?this.setState({loading:!1}):this.onSubscriptionUpdated(t)})},this.onAddSuccess=()=>{this.updateSubscription(this.props.fetchUserRequest,this.props.fetchUserRequest)},this.previewUpcomingInvoice=()=>{const{currentPlan:e,customer_params:t,discountId:a,vatNumber:s}=this.state;if(""===t.address.country||void 0===e.stripe_plan_id)return void console.log("Country or plan is not selected");const n={...t};""!==s&&null!==s&&(n.tax_ids=[{value:s,type:"eu_vat"}]);const o={price_id:e.stripe_plan_id,customer_params:n};null!==a&&(o.discounts=[{coupon:a}]),this.setState({loading:!0}),l.a.post("/billing/invoices/preview",o).then(e=>{let{data:t}=e;const{total:a,subtotal:s,tax:n,total_discount_amounts:o}=t,i=0!==o.length?o[0].amount:null;this.setState({total:a,subtotal:s,tax:n,totalDiscount:i,taxCalculated:!0,loading:!1})},()=>{this.setState({loading:!1,taxCalculated:!1})})},this.handleSubmit=e=>{e.preventDefault(),window.gtag&&window.gtag("event","purchase",{value:this.state.currentPlan.price.cents,currency:"USD",items:[{item_name:this.state.currentPlan.interval,price:this.state.currentPlan.price.cents}]}),this.persistUserAndPaymentMethod()},this.persistUserAndPaymentMethod=()=>{const{user:e,stripe:t}=this.props;t?(this.setState({loading:!0}),e.payment_method?this.saveUser().then(this.updatePaymentMethod).then(this.onAddSuccess):this.saveUser().then(this.createStripeToken)):console.log("Stripe.js hasn't loaded yet.")},this.createStripeToken=()=>{const{stripe:e}=this.props;let t={name:this.state.customer_params.name};Object.keys(this.state.customer_params.address).forEach(e=>t["address_"+e]=this.state.customer_params.address[e]),e.createToken(t).then(this.onTokenReceived)},this.onTokenReceived=e=>{let{token:t}=e;t&&this.createPaymentMethod(t.id)},this.handleAgree=e=>{this.setState({agree:e.target.checked})},this.plansJson=[],this.getPlans=()=>{this.getCountries();const{user:e}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),l.a.get("/billing/plans").then(e=>{let{data:t}=e;this.plansJson=t,this.setPlans(!0),this.setState({loading:!1})})},this.setPlans=()=>{let{currentPeriod:e,currentPlan:t}=this.state;const{user:a}=this.props;let s=this.plansJson.find(t=>t.identifier==="personal"+e),n=this.plansJson.find(t=>t.identifier==="professional"+e),o=this.plansJson.find(t=>t.identifier==="agency"+e);const i=this.plansJson.find(t=>t.identifier==="new_solo"+e),r=this.plansJson.find(t=>t.identifier==="new_plus"+e),l=this.plansJson.find(t=>t.identifier==="new_pro"+e);let c=[];c=i&&r&&l?[...c,i,r,l]:[...c,s,n,o],t.id&&(t=this.plansJson.find(a=>a.interval===e.replace("_","")&&a.name===t.name));const p=c.find(e=>e.interval===(a.subscription&&a.subscription.plan.interval)&&e.name===(a.subscription&&a.subscription.plan.name)),d=c.indexOf(p);d>-1&&c.splice(d,1),this.setState({plans:c,loading:!1,currentPlan:c[c.length-1]},this.previewUpcomingInvoice)},this.handleChangeCurrentPeriod=e=>{let{value:t}=e;this.setState({currentPeriod:t},this.setPlans)},this.handleChangePlan=e=>{const{currentPeriod:t}=this.state;let a=this.plansJson.find(a=>{let{name:s,interval:n}=a;return s===e.name&&n===t.replace("_","")});a&&this.setState({currentPlan:a},this.previewUpcomingInvoice)},this.handleChangeCountry=e=>{let{customer_params:t}=this.state;null!==e&&(t.address.country=e.value,this.setState({customer_params:t},this.previewUpcomingInvoice))},this.handleChangeName=e=>{let{customer_params:t}=this.state;t.name=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressLine1=e=>{let{customer_params:t}=this.state;t.address.line1=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressLine2=e=>{let{customer_params:t}=this.state;t.address.line2=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressCity=e=>{let{customer_params:t}=this.state;t.address.city=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressZip=e=>{let{customer_params:t}=this.state;t.address.postal_code=e.target.value,this.setState({customer_params:t})},this.handleChangeAddressState=e=>{let{customer_params:t}=this.state;t.address.state=e.target.value,this.setState({customer_params:t})},this.handleChangeVat=e=>{this.setState({vatNumber:e.target.value})},this.onKeyPress=e=>{13===e.keyCode&&this.handleApplyCoupon()},this.handleChangeCouponValue=e=>{this.setState({couponValue:e.target.value})},this.checkCoupon=e=>{const{user:t}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.get("/billing/check_coupon?coupon=".concat(this.state.couponValue)).then(t=>{e(t.data)})},this.handleApplyCoupon=()=>{this.setState({couponLoader:!0}),this.checkCoupon(e=>{e.valid?(this.setState({couponValid:!0,discountId:e.id},this.previewUpcomingInvoice),y.b.success("Coupon successfully applied!","OK",5e3)):(this.setState({couponValid:!1,discountId:null}),y.b.error("Coupon not found","Error",5e3)),this.setState({couponLoader:!1})})},this.onPopupVisibleChange=()=>{setTimeout(()=>{const e=document.getElementById("coupon");e&&e.focus()},200)},this.couponOverlay=()=>{const{couponLoader:e,couponValid:t,couponValue:a}=this.state,{t:s}=this.props;return n.a.createElement("div",{className:"billing-item__coupon-block"},n.a.createElement("input",{id:"coupon",onKeyDown:this.onKeyPress,disabled:t,value:a,onChange:this.handleChangeCouponValue,type:"text",className:"input billing-item__coupon-input"}),t?n.a.createElement("div",null):n.a.createElement("button",{disabled:e,onClick:this.handleApplyCoupon,className:"button button_blue billing-item__coupon-button"},e?s("app.billing.checkout.loading"):"".concat(s("app.billing.checkout.applycoupon")," ->")))},this._renderOption=e=>{const{t:t}=this.props,a=t("app.billing.subscriptions.projectwebsites"),s=t("app.billing.subscriptions.projectwebsite");return n.a.createElement("div",null,n.a.createElement("span",{className:"va-middle"},"".concat(e.name," - ").concat(e.limitation.sites_count," ").concat(1===e.limitation.sites_count?s:a," - ").concat(e.price.symbol).concat(parseFloat(e.price.cents))))},this._renderValue=e=>{var t;const{t:a}=this.props,s=a("app.billing.subscriptions.projectwebsites"),o=a("app.billing.subscriptions.projectwebsite");return n.a.createElement("div",{className:"select-value-container"},n.a.createElement("span",{className:"va-middle"},e.name," - ",e.limitation?e.limitation.sites_count:0," ",1===(null===(t=e.limitation)||void 0===t?void 0:t.sites_count)?o:s))},this.toMoney=e=>{const{currentPlan:t}=this.state;return"undefined"===typeof t||"undefined"===typeof t.price?"":"".concat(t.price.symbol).concat(parseFloat(e/100))},this.validateVat=async()=>{const{user:e}=this.props,{vatNumber:t}=this.state;if(null===t)return;const a=t.replaceAll(" ","");this.setState({vatNumberError:null,vatNumber:a}),l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt);try{const t=await l.a.put("/users/".concat(e.id,"/update_tax"),{vat_id:a});return this.previewUpcomingInvoice(t)}catch({response:s}){const[{title:e}]=s.data.errors;this.setState({vatNumberError:e})}}}componentWillMount(){var e;const{user:t}=this.props;this.setState({currentPeriod:"_"+((null===(e=t.subscription)||void 0===e?void 0:e.plan.interval)||"monthly"),vatNumber:t.vat_number||""},this.getPlans)}_renderPriceWithTax(){const{loading:e,taxCalculated:t,tax:a,total:s,subtotal:o,discountId:i,totalDiscount:r}=this.state,{t:l}=this.props;return e?n.a.createElement(n.a.Fragment,null):t?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"checkout-summary__title"},l("app.billing.checkout.subtotaltext"),n.a.createElement("span",{className:"fr"},this.toMoney(o))),null!==i&&n.a.createElement("div",{className:"checkout-summary__title"},l("app.billing.checkout.coupon"),n.a.createElement("span",{className:"uppercase"},n.a.createElement("b",null,"( ",i," )")),n.a.createElement("span",{className:"fr"},"-",this.toMoney(r))),n.a.createElement("div",{className:"checkout-summary__title"},l("app.billing.checkout.taxtext"),n.a.createElement("span",{className:"fr"},this.toMoney(a))),n.a.createElement("div",{className:"checkout-summary__title"},l("app.billing.checkout.totaltext"),n.a.createElement("span",{className:"fr"},this.toMoney(s)))):n.a.createElement("p",{style:{padding:"5px 0 12px 0"}},"Calculating tax and total sum...")}render(){const{loading:e,agree:t,submitted:a,plans:s,currentPlan:o,couponValid:i,customer_params:r,vatNumber:l,vatNumberError:c}=this.state,{buttonValue:p,buttonClassName:d,t:h,user:m}=this.props,{payment_method:u}=m;return n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"billing-method-page_body"},n.a.createElement("div",{className:"billing-method-page_left-col"},n.a.createElement("div",{className:"billing-method-page_header"},n.a.createElement("div",{className:"billing-method-page_title"},n.a.createElement("img",{src:Te.a,alt:"Lock"}),h("app.billing.checkout.title")),n.a.createElement("img",{width:105,src:He.a,alt:""})),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb25"},n.a.createElement("label",{className:"label label_nowrap"},h("app.billing.paymentmethod.cardnumber")),n.a.createElement("div",{className:"billing-method-page_card-input"},u?n.a.createElement("div",null,u.brand," (",n.a.createElement("span",{className:"billing-table__card-dots"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022")," ",n.a.createElement("span",{className:"va-middle inline-wrapper"},u.last4),")\xa0",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(O.a,{style:{fontSize:12},className:"link link_underline",to:"/account/profile/billing/payment-method"},h("app.billing.subscriptions.updatemethodlink"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{src:je.a,alt:"Card",style:{display:"none"}}),n.a.createElement(Pe.CardNumberElement,Object.assign({onBlur:ot,onChange:this.handleChange,onFocus:it,onReady:rt,showIcon:!0,className:"input"},nt(this.props.fontSize))),n.a.createElement(Pe.CardExpiryElement,Object.assign({onBlur:ot,onChange:this.handleChange,onFocus:it,onReady:rt,className:"input"},nt(this.props.fontSize))),n.a.createElement(Pe.CardCVCElement,Object.assign({onBlur:ot,onChange:this.handleChange,onFocus:it,onReady:rt,className:"input",placeholder:h("app.billing.paymentmethod.cvc")},nt(this.props.fontSize)))))),n.a.createElement(J,{tabIndex:"1",value:r.name,onChange:this.handleChangeName,id:"cardname",placeholder:h("app.billing.paymentmethod.cardname.placeholder"),label:h("app.billing.paymentmethod.cardname.label"),type:"text",name:"login",datatype:"cardname",submitted:this.state.submitted,required:!0}),n.a.createElement("div",null,n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:r.address.line1,onChange:this.handleChangeAddressLine1,id:"address1",placeholder:h("app.billing.paymentmethod.addressline1.placeholder"),label:h("app.billing.paymentmethod.addressline1.label"),type:"text",name:"address1",datatype:"address",submitted:a,required:!0})),n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:r.address.line2,onChange:this.handleChangeAddressLine2,id:"address2",placeholder:h("app.billing.paymentmethod.addressline2.placeholder"),label:h("app.billing.paymentmethod.addressline2.label"),type:"text",name:"address2",datatype:"address",submitted:a,required:!1}))),n.a.createElement("div",null,n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:r.address.city,onChange:this.handleChangeAddressCity,id:"city",placeholder:h("app.billing.paymentmethod.city.placeholder"),label:h("app.billing.paymentmethod.city.label"),type:"text",name:"city",datatype:"city",submitted:a,required:!0})),n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{id:"zip",tabIndex:"1",value:r.address.postal_code,onChange:this.handleChangeAddressZip,placeholder:h("app.billing.paymentmethod.zip.placeholder"),label:h("app.billing.paymentmethod.zip.label"),type:"text",name:"zip",datatype:"zip",submitted:a,required:!1}))),n.a.createElement("div",null,n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement("label",{className:"label label_nowrap label_required"},h("app.billing.paymentmethod.country.label")),n.a.createElement(Ue.a,{name:"country",id:"country",value:this.state.countries.find(e=>e.value===this.state.customer_params.address.country),onChange:this.handleChangeCountry,scrollMenuIntoView:!1,placeholder:h("app.billing.paymentmethod.country.placeholder"),searchable:!0,clearable:!1,className:"payment-method__select payment-method__select_white",options:this.state.countries})),n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:r.address.state,onChange:this.handleChangeAddressState,id:"state",placeholder:h("app.billing.paymentmethod.state.placeholder"),label:h("app.billing.paymentmethod.state.label"),type:"text",name:"state",datatype:"state",submitted:a,required:!0}))),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb25"},n.a.createElement("div",{className:"input-wrapper_2"},n.a.createElement(J,{tabIndex:"1",value:l,onChange:this.handleChangeVat,onBlur:this.validateVat,type:"text",id:"vat",name:"vat",placeholder:h("app.billing.paymentmethod.vatnumber.placeholder"),label:h("app.billing.paymentmethod.vatnumber.label"),datatype:"vat",required:!1,submitted:a}),c&&n.a.createElement("span",{className:"input_error-message"},c)))),n.a.createElement("div",{className:"billing-method-page_right-col"},n.a.createElement("div",{className:"billing-method-page_header"},n.a.createElement("div",{className:"billing-method-page_title"},h("app.billing.paymentmethod.ordersummary")),!i&&n.a.createElement(P.a,{ref:"tooltip",arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"bottom",trigger:["click"],overlayClassName:"custom-tooltip custom-tooltip__coupon",align:{offset:[0,20]},onPopupVisibleChange:this.onPopupVisibleChange,transitionName:"rc-tooltip-zoom",overlay:this.couponOverlay()},n.a.createElement("div",{className:"caption cp coupon-label"},h("app.billing.paymentmethod.applycoupon")))),n.a.createElement("div",{className:"billing-method-page_card"},n.a.createElement("div",{className:"ta-left"},void 0!==o?this._renderPriceWithTax():n.a.createElement("span",null),n.a.createElement("div",{className:"checkbox-wrapper",style:{whiteSpace:"nowrap"}},n.a.createElement("input",{onChange:this.handleAgree,id:"ms__form-checkbox",type:"checkbox",tabIndex:"-1",className:"checkbox",checked:t}),n.a.createElement("label",{htmlFor:"ms__form-checkbox",title:"Open in New Window",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text label_required",style:{fontSize:14,color:"#464D52",verticalAlign:"text-bottom",fontWeight:"400"}},n.a.createElement("span",null,h("app.billing.checkout.agree"),"\xa0"),n.a.createElement("a",{className:"link link_black link_underline inline-top",href:"https://siter.io/terms",target:"_blank",rel:"noopener noreferrer",style:{position:"relative",zIndex:1}},h("app.billing.paymentmethod.terms")),"\xa0&\xa0",n.a.createElement("a",{className:"link link_black link_underline inline-top",href:"https://siter.io/privacy",target:"_blank",rel:"noopener noreferrer",style:{position:"relative",zIndex:1}},h("app.billing.checkout.privacy")))))),n.a.createElement("button",{disabled:e||!t||!this.isValid(),className:"button button_green button_full billing-item__button4 "+d},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",fill:"none"},n.a.createElement("path",{d:"M0 8C0 7.44772 0.447715 7 1 7H13C13.5523 7 14 7.44772 14 8V15C14 15.5523 13.5523 16 13 16H1C0.447716 16 0 15.5523 0 15V8Z",fill:"currentColor"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5L4 9C4 10.6569 5.34315 12 7 12C8.65685 12 10 10.6569 10 9V5C10 3.34315 8.65685 2 7 2C5.34315 2 4 3.34315 4 5ZM2 9C2 11.7614 4.23858 14 7 14C9.76142 14 12 11.7614 12 9V5C12 2.23858 9.76142 -1.20706e-07 7 0C4.23858 1.20706e-07 2 2.23858 2 5L2 9Z",fill:"currentColor"})),e?h("app.billing.paymentmethod.loadingbutton"):p||h("app.billing.checkout.button")),n.a.createElement("div",{className:"input-wrapper mt20"},n.a.createElement("label",{className:"label label_nowrap label_small"},h("app.billing.checkout.billingcycle")),n.a.createElement(Ue.a,{name:"period",id:"period",value:this.state.currentPeriod,onChange:this.handleChangeCurrentPeriod,scrollMenuIntoView:!1,placeholder:h("app.billing.checkout.billingcycle"),searchable:!1,clearable:!1,className:"payment-method__select payment-method__select_white",options:this.periods()})),n.a.createElement("div",{className:"input-wrapper mt20"},n.a.createElement("label",{className:"label label_small"},h("app.billing.checkout.selectplan")),n.a.createElement(Ue.a,{name:"plan",id:"plan",value:this.state.currentPlan,onChange:this.handleChangePlan,scrollMenuIntoView:!1,placeholder:h("app.billing.checkout.selectplan"),searchable:!1,clearable:!1,valueRenderer:this._renderValue,optionRenderer:this._renderOption,labelKey:"name",valueKey:"id",className:"payment-method__select payment-method__select_white",options:s}))))))}}const ct={fetchUserRequest:E,fetchSitesRequest:at};var pt=Object(h.b)(e=>({user:e.sessions}),ct)(Object(Pe.injectStripe)(Object(I.a)()(lt)));class dt extends s.Component{constructor(){super(...arguments),this.state={bubbleShow:!0,showStage:!1},this.hideBubble=()=>{this.setState({bubbleShow:!1}),clearInterval(this.interval)}}componentDidMount(){this.interval=setInterval(()=>{const{showStage:e}=this.state;this.setState({showStage:!e})},3e3)}componentWillUnmount(){clearInterval(this.interval)}componentWillMount(){this.props.fetchUserRequest(e=>{e.email_confirmed||(L.a.push("/account/profile/billing/subscriptions"),y.b.error("Please confirm your email address to complete registration","Email confirmation",5e5,()=>{},void 0,!0,"Close","Resend link","resendEmailConfirmation"))})}render(){return n.a.createElement("div",{className:"dashboard"},n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement($e.a,{uniqueId:"checkout_form",script:"https://js.stripe.com/v3/",loader:"Loading..."},n.a.createElement(Pe.StripeProvider,{apiKey:window.STRIPE_KEY},n.a.createElement(Pe.Elements,null,n.a.createElement(pt,{buttonClassName:"billing-item__button4_nomb"})))))))}}const ht={fetchUserRequest:E};var mt=Object(h.b)(e=>({user:e.sessions}),ht)(Object(I.a)()(dt));const ut=Object(b.a)("CREATE_COLLABORATION_REQUEST",(e,t)=>[e,t]),gt=Object(b.a)("CREATE_COLLABORATION_SUCCESS",e=>e),_t=Object(b.a)("UPDATE_COLLABORATION_REQUEST",(e,t)=>[e,t]),ft=Object(b.a)("UPDATE_COLLABORATION_SUCCESS",e=>e),vt=Object(b.a)("DELETE_COLLABORATION_REQUEST",(e,t)=>[e,t]),wt=Object(b.a)("DELETE_COLLABORATION_SUCCESS",e=>e),Ct=n.a.createElement("svg",{className:"dashboard__top-icon",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 64 64",fill:"none"},n.a.createElement("g",{clipPath:"url(#clipsiteitem)"},n.a.createElement("path",{d:"M11.0581 51.1661C6.48693 47.994 4.20133 46.4079 4.20178 44.2099C4.20223 42.0118 6.48847 40.4267 11.0609 37.2563L12.1227 36.5201C21.2101 30.2193 25.7538 27.0689 30.9442 27.0673C36.1344 27.0657 40.6802 30.2134 49.7717 36.5089L50.8829 37.2783C55.4653 40.4513 57.7564 42.0379 57.7563 44.2384C57.756 46.4389 55.4646 48.025 50.8815 51.1972L36.1036 61.4258C33.6233 63.1426 32.3832 64.0009 30.9674 64.0001C29.5516 63.9993 28.3125 63.1395 25.8343 61.4197L11.0581 51.1661Z",fill:"url(#paint0_linearsiteitem)"}),n.a.createElement("path",{d:"M5.8668 26.8571L27.6547 59.9571C27.7094 60.0402 27.7633 60.1219 27.8161 60.2021C29.276 62.4181 30.0472 63.5338 31.2457 63.7583C32.4433 63.9827 33.5874 63.2271 35.7917 61.6999C35.873 61.6437 35.9557 61.5863 36.0399 61.5279L54.1419 48.9768C54.2686 48.8889 54.3929 48.8027 54.5148 48.7181C57.4894 46.6535 58.9892 45.5591 59.3099 43.9509C59.6438 42.2767 58.5781 40.6581 56.4468 37.4208L35.9582 6.30052C33.6108 2.73501 32.4371 0.952259 30.5756 0.602841C28.7141 0.253423 26.9383 1.48256 23.3867 3.94079L8.37068 14.3343C4.87494 16.7539 3.12708 17.9637 2.76427 19.7782C2.40148 21.5926 3.55669 23.3476 5.8668 26.8571Z",fill:"url(#paint1_linearsiteitem)"}),n.a.createElement("path",{opacity:"0.6",d:"M5.8668 26.8569C3.55669 23.3473 2.40148 21.5923 2.76427 19.7779C3.12708 17.9634 8.37068 14.334 8.37068 14.334C8.37068 14.334 18.9468 18.4117 28.9161 24.8589L29.2017 24.6605C30.0286 24.0861 30.4422 23.7989 30.9147 23.7988C31.3872 23.7986 31.8008 24.0855 32.628 24.6593L55.0738 40.2292C57.7411 42.0793 59.0747 43.0045 59.0746 44.2868C59.0746 44.4807 59.0441 44.6664 58.9831 44.8483C58.3445 46.0252 56.9063 47.0579 54.5147 48.7178L36.1104 61.4786C36.087 61.4949 36.0635 61.5113 36.0399 61.5276L35.7917 61.6997C33.5874 63.2268 32.4433 63.9825 31.2457 63.7581C31.0959 63.73 30.9527 63.688 30.8141 63.6317C29.8437 63.2374 29.0936 62.1409 27.8161 60.2018L5.8668 26.8569Z",fill:"url(#paint2_linearsiteitem)"}),n.a.createElement("path",{d:"M28.0092 37.7497L11.5332 26.6455L7.6845 24.0426C4.57385 21.9388 3.01852 20.8869 3.0121 19.4138C3.00755 18.367 3.7871 17.5265 5.34847 16.3636L27.4565 1.19594C28.7989 0.399975 29.8334 0.00150446 30.9501 4.25093e-06C32.0885 -0.0015251 33.1425 0.409607 34.5255 1.23285L53.9019 14.4482C56.506 16.3353 57.8075 17.6425 57.8051 19.2962C57.8019 21.5059 55.4729 23.0905 50.8148 26.2597L47.208 28.7136L34.0126 37.6601C32.7759 38.4351 31.9011 38.823 30.9469 38.8243C30.0265 38.8256 29.1793 38.4672 28.0092 37.7497Z",fill:"url(#paint3_linearsiteitem)"}),n.a.createElement("path",{d:"M31.869 0.0898448L49.621 27.0534L47.1467 28.7459L34.0068 37.7025C32.7754 38.4784 31.9043 38.8667 30.9541 38.868C30.0376 38.8693 29.1939 38.5105 28.0288 37.7922L11.6224 26.6755L7.78981 24.0696C4.69226 21.9634 3.14349 20.9104 3.1371 19.4356C3.13256 18.3877 3.90883 17.5462 5.46362 16.382L27.4784 1.19729C28.8152 0.400425 29.8453 0.00150614 30.9574 4.25511e-06C31.2647 -0.00041081 31.5658 0.0295398 31.869 0.0898448Z",fill:"url(#paint4_linearsiteitem)"})),n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"paint0_linearsiteitem",x1:"2.27455",y1:"44.7685",x2:"30.3537",y2:"65.8219",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#A0A0A0"}),n.a.createElement("stop",{offset:"1",stopColor:"#6D6D6D"})),n.a.createElement("linearGradient",{id:"paint1_linearsiteitem",x1:"13.8595",y1:"11.6253",x2:"57.8455",y2:"46.6422",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#757575"}),n.a.createElement("stop",{offset:"1",stopColor:"#9A9A9A"})),n.a.createElement("linearGradient",{id:"paint2_linearsiteitem",x1:"2.27472",y1:"21.4254",x2:"29.6418",y2:"64.5862",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#636363",stopOpacity:"0"}),n.a.createElement("stop",{offset:"0.663965",stopColor:"#A1A1A1",stopOpacity:"0"}),n.a.createElement("stop",{offset:"1",stopColor:"#CFCFCF"})),n.a.createElement("linearGradient",{id:"paint3_linearsiteitem",x1:"30.4086",y1:"1.45872e-06",x2:"49.0122",y2:"27.916",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#919191"}),n.a.createElement("stop",{offset:"1",stopColor:"#C4C4C4"})),n.a.createElement("linearGradient",{id:"paint4_linearsiteitem",x1:"1.90681",y1:"19.4654",x2:"32.3029",y2:"38.7964",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#838383"}),n.a.createElement("stop",{offset:"1",stopColor:"#A2A2A2"})),n.a.createElement("clipPath",{id:"clipsiteitem"},n.a.createElement("rect",{width:"62.0689",height:"64",fill:"white"}))));class yt extends s.Component{constructor(){super(...arguments),this.state={optionsOpened:!1,selectedCollaborations:[],plans:!1},this.handleToggleOptions=()=>{this.setState({optionsOpened:!this.state.optionsOpened})},this.getProtocol=e=>this.props.site.https?"https://":"http://",this.options=n.a.createElement("div",{className:"dashboard__item-page__footer-name__more-options-wrapper"},n.a.createElement("a",{href:"".concat(this.getProtocol()+this.props.site.default_domain,"/"),target:"blank",className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.sites.projectmenu.gotosite")),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.site.id,"/settings/general"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.sites.projectmenu.settings")),n.a.createElement("div",{id:"delete_site_button",role:"button",onClick:this.props.handleRemoveSite.bind(null,this.props.site),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.sites.projectmenu.delete"))),this.isDefaultImage=e=>e&&e.indexOf("nopreview")>-1,this.getHomepage=()=>{let{site:e}=this.props;return e.pages.find(t=>t.id===e.home_page_id)||{}},this.getBackgroundImage=()=>{const e=this.getHomepage();if(e){const{og_image:t,image:a,og_image_manual:s}=e;if(s){if(!this.isDefaultImage(t))return t}else if(!this.isDefaultImage(a))return a}},this.onPopupVisibleChange=()=>{this.setState({showMoreIcon:!this.state.showMoreIcon})},this.handleShowMoreIcon=()=>{this.setState({showMoreIcon:!0})},this.clickLink=e=>{this.userPaid()||(e.preventDefault(),window.open("/account/".concat(this.props.site.home_page_id,"/preview")))},this.userPaid=()=>{const{user:e}=this.props;return e.subscription&&"active"===e.subscription.status&&-1===e.subscription.plan.identifier.indexOf("free")}}render(){const{showMoreIcon:e}=this.state,{name:t,id:a,default_domain:s,favicon:o}=this.props.site,{t:i}=this.props,r=this.userPaid();return n.a.createElement("div",{className:"dashboard__item dashboard__item_green",key:a},n.a.createElement(O.a,{to:"/account/sites/".concat(a,"/pages"),style:{backgroundImage:"url(".concat(this.getBackgroundImage(),")")},className:"dashboard__top inline-middle ".concat(r?"":"dashboard__top_mini")},this.isDefaultImage(this.getHomepage().og_image)||!this.getHomepage().og_image?Ct:""),n.a.createElement("div",{className:"dashboard__bottom clearfix"},n.a.createElement("div",{className:"inline-wrapper dashboard__item-info"},n.a.createElement(O.a,{className:"dashboard__item-info__link ".concat(r?"":"dashboard__item-info__link_mini"),to:"/account/sites/".concat(a,"/pages")},n.a.createElement("div",{className:"dashboard__item-info__fav"},n.a.createElement("img",{alt:t,src:o?o.url:"",width:"54px",height:"54px"})),n.a.createElement("span",{className:"dashboard__name ".concat(r?"":"dashboard__name_mini")},t)),r&&n.a.createElement("div",null,n.a.createElement("a",{onClick:this.clickLink,href:"".concat(this.getProtocol()+s,"/"),target:"blank",className:"dashboard__sites-navbar__site-info__title-url ".concat(r?"":"dashboard__sites-navbar__site-info__title-url_mini"," ")},n.a.createElement("span",null,s)))),r?n.a.createElement(P.a,{ref:"tooltip",arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"topRight",trigger:["click"],overlayClassName:"custom-tooltip custom-tooltip__dashboard-item",align:{offset:[0,-5]},transitionName:"rc-tooltip-zoom",onPopupVisibleChange:this.onPopupVisibleChange,overlay:this.options},n.a.createElement("div",{onClick:this.handleShowMoreIcon,className:"dashboard__item-page__footer-name__more dashboard__item-page__footer-name__more_site fr",style:e?{opacity:1}:{}},n.a.createElement("svg",{width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z",fill:"#2F80ED"})))):n.a.createElement(O.a,{to:"/account/profile/billing/checkout",className:"button button_green button_upgrade fr"},i("app.sites.upgradebutton"))))}}const bt={deleteCollaborationRequest:vt,fetchSitesRequest:at};var Et=Object(h.b)(e=>({user:e.sessions}),bt)(Object(I.a)()(yt));var kt=Object(I.a)()(e=>{const{sites:t,handleRemoveSite:a,loading:s,t:o}=e;return n.a.createElement("div",{className:"dashboard"},n.a.createElement("div",{className:"dashboard__items-searchbar"},n.a.createElement("span",{className:"dashboard__items-title"},o("app.sites.title")),n.a.createElement(O.a,{to:"/account/sites/create",className:"button button_white button_add-page fr"},n.a.createElement("span",null,o("app.sites.newsitebutton")))),n.a.createElement("div",{className:"dashboard__items"},s&&n.a.createElement("div",null,n.a.createElement("div",{className:"text-input__loading--line",style:{width:360,height:191,marginBottom:0}}),n.a.createElement("div",{className:"text-input__loading--line",style:{width:200,height:20,marginTop:12,marginBottom:0}}),n.a.createElement("div",{className:"text-input__loading--line",style:{width:160,height:15,marginTop:12,marginBottom:0}})),!s&&0===t.filter(e=>!1===e.deleted).length&&n.a.createElement(O.a,{to:"/account/sites/create",className:"dashboard__empty-item"},n.a.createElement("span",null,"+ ",o("app.sites.newsiteitem"))),!s&&t.filter(e=>!1===e.deleted).map(e=>n.a.createElement(Et,{key:e.id,site:e,handleRemoveSite:a}))))}),St=a(16);class xt extends s.Component{constructor(){super(...arguments),this.state={alertOpened:!1,site:{},sites:[],loading:!0,showConfirmLoader:!1},this.getSites=()=>{this.setState({loading:!0}),this.props.fetchSitesRequest(e=>{this.setState({sites:e}),this.setState({loading:!1})})},this.removeSite=e=>{let t=this.state.sites;e=t.find(t=>t.subdomain===e.subdomain);let a=t.indexOf(e);a>-1&&(t.splice(a,1),this.setState({sites:t})),this.props.removeSiteRequest(e.id,()=>{this.props.fetchSitesRequest(e=>{this.setState({sites:e})})})},this.handleRemove=e=>{this.setState({alertOpened:!0})},this.handleRemoveSite=e=>{this.setState({alertOpened:!0,site:e})},this.handleCallbackAlert=e=>{this.setState({alertOpened:!1}),e&&this.removeSite(this.state.site)}}componentDidMount(){const{t:e}=this.props;this.getSites(),document.title="".concat(e("app.titles.mywebsites")," - Siter.io"),"?confirmed=1"===this.props.location.search&&(this.setState({showConfirmLoader:!0}),this.props.fetchUserRequest(()=>{y.b.success(e("app.sites.youremailconfirmed"),"OK",5e3),localStorage.setItem("emailConfirmationShowed",!0),this.setState({showConfirmLoader:!1})}))}render(){const{sites:e,loading:t,showConfirmLoader:a}=this.state,{t:s}=this.props;return n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"animate-wrapper"},a&&n.a.createElement("div",{className:"siter-loader_confirmation-overlay"},n.a.createElement("div",{className:"siter-loader_confirmation-text"},s("app.sites.emailconfirmationloader"),n.a.createElement("span",null,"."),n.a.createElement("span",null,"."),n.a.createElement("span",null,"."))),n.a.createElement(ne.a,{isOpen:this.state.alertOpened,type:"warning",title:s("app.sites.remove.title"),text:s("app.sites.remove.description"),confirmButtonText:s("app.sites.remove.removebutton"),cancelButtonText:s("app.sites.remove.cancelbutton"),callback:this.handleCallbackAlert,showCloseButton:!0}),n.a.createElement(kt,{sites:e,loading:t,handleRemoveSite:this.handleRemoveSite}))))}}const Nt={fetchUserRequest:E,fetchSitesRequest:at,removeSiteRequest:St.e};var Bt=Object(h.b)(e=>({sites:e.sites,sections:e.sections,user:e.sessions}),Nt)(Object(I.a)()(xt)),Ft=a(32);const At=n.a.createElement("svg",{className:"dashboard__top-icon",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 64 64",fill:"none"},n.a.createElement("g",{clipPath:"url(#clipsiteitem)"},n.a.createElement("path",{d:"M11.0581 51.1661C6.48693 47.994 4.20133 46.4079 4.20178 44.2099C4.20223 42.0118 6.48847 40.4267 11.0609 37.2563L12.1227 36.5201C21.2101 30.2193 25.7538 27.0689 30.9442 27.0673C36.1344 27.0657 40.6802 30.2134 49.7717 36.5089L50.8829 37.2783C55.4653 40.4513 57.7564 42.0379 57.7563 44.2384C57.756 46.4389 55.4646 48.025 50.8815 51.1972L36.1036 61.4258C33.6233 63.1426 32.3832 64.0009 30.9674 64.0001C29.5516 63.9993 28.3125 63.1395 25.8343 61.4197L11.0581 51.1661Z",fill:"url(#paint0_linearsiteitem)"}),n.a.createElement("path",{d:"M5.8668 26.8571L27.6547 59.9571C27.7094 60.0402 27.7633 60.1219 27.8161 60.2021C29.276 62.4181 30.0472 63.5338 31.2457 63.7583C32.4433 63.9827 33.5874 63.2271 35.7917 61.6999C35.873 61.6437 35.9557 61.5863 36.0399 61.5279L54.1419 48.9768C54.2686 48.8889 54.3929 48.8027 54.5148 48.7181C57.4894 46.6535 58.9892 45.5591 59.3099 43.9509C59.6438 42.2767 58.5781 40.6581 56.4468 37.4208L35.9582 6.30052C33.6108 2.73501 32.4371 0.952259 30.5756 0.602841C28.7141 0.253423 26.9383 1.48256 23.3867 3.94079L8.37068 14.3343C4.87494 16.7539 3.12708 17.9637 2.76427 19.7782C2.40148 21.5926 3.55669 23.3476 5.8668 26.8571Z",fill:"url(#paint1_linearsiteitem)"}),n.a.createElement("path",{opacity:"0.6",d:"M5.8668 26.8569C3.55669 23.3473 2.40148 21.5923 2.76427 19.7779C3.12708 17.9634 8.37068 14.334 8.37068 14.334C8.37068 14.334 18.9468 18.4117 28.9161 24.8589L29.2017 24.6605C30.0286 24.0861 30.4422 23.7989 30.9147 23.7988C31.3872 23.7986 31.8008 24.0855 32.628 24.6593L55.0738 40.2292C57.7411 42.0793 59.0747 43.0045 59.0746 44.2868C59.0746 44.4807 59.0441 44.6664 58.9831 44.8483C58.3445 46.0252 56.9063 47.0579 54.5147 48.7178L36.1104 61.4786C36.087 61.4949 36.0635 61.5113 36.0399 61.5276L35.7917 61.6997C33.5874 63.2268 32.4433 63.9825 31.2457 63.7581C31.0959 63.73 30.9527 63.688 30.8141 63.6317C29.8437 63.2374 29.0936 62.1409 27.8161 60.2018L5.8668 26.8569Z",fill:"url(#paint2_linearsiteitem)"}),n.a.createElement("path",{d:"M28.0092 37.7497L11.5332 26.6455L7.6845 24.0426C4.57385 21.9388 3.01852 20.8869 3.0121 19.4138C3.00755 18.367 3.7871 17.5265 5.34847 16.3636L27.4565 1.19594C28.7989 0.399975 29.8334 0.00150446 30.9501 4.25093e-06C32.0885 -0.0015251 33.1425 0.409607 34.5255 1.23285L53.9019 14.4482C56.506 16.3353 57.8075 17.6425 57.8051 19.2962C57.8019 21.5059 55.4729 23.0905 50.8148 26.2597L47.208 28.7136L34.0126 37.6601C32.7759 38.4351 31.9011 38.823 30.9469 38.8243C30.0265 38.8256 29.1793 38.4672 28.0092 37.7497Z",fill:"url(#paint3_linearsiteitem)"}),n.a.createElement("path",{d:"M31.869 0.0898448L49.621 27.0534L47.1467 28.7459L34.0068 37.7025C32.7754 38.4784 31.9043 38.8667 30.9541 38.868C30.0376 38.8693 29.1939 38.5105 28.0288 37.7922L11.6224 26.6755L7.78981 24.0696C4.69226 21.9634 3.14349 20.9104 3.1371 19.4356C3.13256 18.3877 3.90883 17.5462 5.46362 16.382L27.4784 1.19729C28.8152 0.400425 29.8453 0.00150614 30.9574 4.25511e-06C31.2647 -0.00041081 31.5658 0.0295398 31.869 0.0898448Z",fill:"url(#paint4_linearsiteitem)"})),n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"paint0_linearsiteitem",x1:"2.27455",y1:"44.7685",x2:"30.3537",y2:"65.8219",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#A0A0A0"}),n.a.createElement("stop",{offset:"1",stopColor:"#6D6D6D"})),n.a.createElement("linearGradient",{id:"paint1_linearsiteitem",x1:"13.8595",y1:"11.6253",x2:"57.8455",y2:"46.6422",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#757575"}),n.a.createElement("stop",{offset:"1",stopColor:"#9A9A9A"})),n.a.createElement("linearGradient",{id:"paint2_linearsiteitem",x1:"2.27472",y1:"21.4254",x2:"29.6418",y2:"64.5862",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#636363",stopOpacity:"0"}),n.a.createElement("stop",{offset:"0.663965",stopColor:"#A1A1A1",stopOpacity:"0"}),n.a.createElement("stop",{offset:"1",stopColor:"#CFCFCF"})),n.a.createElement("linearGradient",{id:"paint3_linearsiteitem",x1:"30.4086",y1:"1.45872e-06",x2:"49.0122",y2:"27.916",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#919191"}),n.a.createElement("stop",{offset:"1",stopColor:"#C4C4C4"})),n.a.createElement("linearGradient",{id:"paint4_linearsiteitem",x1:"1.90681",y1:"19.4654",x2:"32.3029",y2:"38.7964",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#838383"}),n.a.createElement("stop",{offset:"1",stopColor:"#A2A2A2"})),n.a.createElement("clipPath",{id:"clipsiteitem"},n.a.createElement("rect",{width:"62.0689",height:"64",fill:"white"}))));class Lt extends s.Component{constructor(){super(...arguments),this.state={optionsOpened:!1,alertOpened:!1,duplicating:!1,showMoreIcon:!1},this.t="",this.handleToggleOptions=()=>{this.setState({optionsOpened:!this.state.optionsOpened})},this.getSiteUrl=()=>{let e="";return this.props.site.home_page_id!==this.props.page.id&&(e=this.props.page.path),"".concat(this.getProtocol()+this.props.site.default_domain,"/").concat(e)},this.removePage=()=>{this.props.removePageRequest({pageId:this.props.page.id,siteId:this.props.siteId},()=>{this.props.getPages()})},this.handleRemove=e=>{this.setState({alertOpened:!0})},this.handleCallbackAlert=e=>{this.setState({alertOpened:!1}),e&&this.removePage()},this.handleDuplicate=e=>{e.preventDefault(),this.setState({duplicating:!0});const{t:t}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),l.a.post("/pages/".concat(this.props.page.id,"/copy"),{},{headers:{"Content-Type":"application/json"}}).then(e=>{this.props.getPages(),this.setState({duplicating:!1}),y.b.success(t("app.pages.successcopied"),"OK",5e3)}).catch(e=>{this.setState({duplicating:!1}),y.b.error("Unknown server error (".concat(e.status,")"),"Error",5e3)})},this.handlePublish=e=>{const{t:t}=this.props;e.preventDefault(),l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),l.a.post("/pages/".concat(this.props.page.id,"/publish"),{},{headers:{"Content-Type":"application/json"}}).then(e=>{y.b.success(t("app.pages.successpublished"),"OK",5e3)}).catch(e=>{y.b.error("Unknown server error (".concat(e.status,")"),"Error",5e3)})},this.linkToEditorOverride=e=>{const{t:t}=this.props;this.props.user&&(Object(K.n)()||(e.preventDefault(),this.refs.tooltip.close(),y.b.error(t("app.editor.settingspanel.confirmemail.message"),t("app.editor.settingspanel.confirmemail.title"),5e3,()=>{},void 0,!0,t("app.editor.settingspanel.confirmemail.close"),t("app.editor.settingspanel.confirmemail.button"),"resendEmailConfirmation")))},this.options=n.a.createElement("div",{className:"dashboard__item-page__footer-name__more-options-wrapper"},n.a.createElement(O.a,{onClick:this.linkToEditorOverride,to:"/account/sites/".concat(this.props.siteId,"/pages/").concat(this.props.page.id,"/editor"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.pagemenu.openineditor")),n.a.createElement("a",{href:"/account/".concat(this.props.page.id,"/preview"),target:"blank",className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.pagemenu.preview")," \u2197"),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.siteId,"/pages/").concat(this.props.page.id,"/settings/general"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.pagemenu.settings")),n.a.createElement("div",{onClick:this.handleDuplicate,className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.pagemenu.duplicate")),n.a.createElement("div",{id:"delete_page",onClick:this.handleRemove,className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.pagemenu.delete"))),this.isDefaultImage=e=>e&&e.indexOf("nopreview")>-1,this.onPopupVisibleChange=()=>{this.setState({showMoreIcon:!this.state.showMoreIcon})},this.handleShowMoreIcon=()=>{this.setState({showMoreIcon:!0})},this.getBackgroundImage=()=>{const{og_image:e,image:t,og_image_manual:a}=this.props.page;if(a){if(!this.isDefaultImage(e))return e}else if(!this.isDefaultImage(t))return t},this.getProtocol=e=>this.props.site.https?"https://":"http://",this.getPagePath=()=>this.props.site.home_page_id===this.props.page.id?"":this.props.page.path,this.clickLink=e=>{this.userPaid()||(e.preventDefault(),window.open("/account/".concat(this.props.page.id,"/preview")))},this.userPaid=()=>{const{user:e}=this.props;return e.subscription&&"active"===e.subscription.status&&-1===e.subscription.plan.identifier.indexOf("free")},this.overlayForPublished=()=>{const{published:e,published_at:t}=this.props.page;return n.a.createElement("div",null,e?n.a.createElement("span",null,"Published ",t?n.a.createElement(ue.a,{fromNow:!0,date:t}):" recently"):"Not published yet...")}}render(){const{name:e,id:t,published:a,og_image:s}=this.props.page,{site:o}=this.props,{showMoreIcon:i}=this.state;let r=this.getPagePath();const l=this.userPaid();return o.home_page_id===t&&(r=""),n.a.createElement("div",{"data-name":e,className:"dashboard__item dashboard__item_green",key:t},n.a.createElement(ne.a,{isOpen:this.state.alertOpened,type:"warning",title:"Remove selected page?",html:!0,text:"Deleting page will also remove its activity and history. This action cannot be undone.",confirmButtonText:"Remove",cancelButtonText:"Cancel",callback:this.handleCallbackAlert}),n.a.createElement(P.a,{arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"topLeft",trigger:["hover"],ref:"tooltippublished",overlayClassName:"custom-tooltip-page-item",align:{offset:[-24,-7]},transitionName:"rc-tooltip-zoom",overlay:this.overlayForPublished},n.a.createElement("div",{className:"dashboard__item-circle "+(a&&" dashboard__item-circle_active")})),this.state.duplicating&&n.a.createElement("div",{className:"str-section__add-overlay str-section__add-overlay_show"},n.a.createElement("div",{className:"str-section__add-overlay-loader"})),n.a.createElement(O.a,{onClick:this.linkToEditorOverride,to:"/account/sites/".concat(o.id,"/pages/").concat(t,"/editor"),style:{backgroundImage:"url(".concat(this.getBackgroundImage(),")")},className:"dashboard__top inline-middle"},this.isDefaultImage(s)?At:""),n.a.createElement("div",{className:"dashboard__bottom clearfix"},n.a.createElement("div",{className:"inline-wrapper dashboard__item-info"},n.a.createElement(O.a,{className:"dashboard__item-info__link",to:"/account/sites/".concat(o.id,"/pages/").concat(t,"/editor")},n.a.createElement("span",{className:"dashboard__name dashboard__name_page"},o.home_page_id===t&&n.a.createElement("span",{className:"dashboard__name-home"},"\u2605"),e)),n.a.createElement("div",null,n.a.createElement("a",{onClick:this.clickLink,href:"".concat(this.getProtocol()+o.default_domain).concat(r?"/"+r:""),target:"blank",className:"dashboard__sites-navbar__site-info__title-url"},l?n.a.createElement("span",null,o.default_domain,r?"/"+r:""):n.a.createElement("span",null,"preview")))),n.a.createElement(P.a,{arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"topRight",trigger:["click"],ref:"tooltip",overlayClassName:"custom-tooltip",align:{offset:[0,-5]},transitionName:"rc-tooltip-zoom",onPopupVisibleChange:this.onPopupVisibleChange,overlay:this.options},n.a.createElement("div",{className:"dashboard__item-page__footer-name__more dashboard__item-page__footer-name__more_site fr",style:i?{opacity:1}:{}},n.a.createElement("svg",{width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z",fill:"#2F80ED"}))))))}}const Ot={removePageRequest:Ft.e,createPageRequest:Ft.a};var Dt=Object(h.b)(e=>({user:e.sessions}),Ot)(Object(I.a)()(Lt));var Mt=e=>{const{pages:t,siteId:a,getPages:s,loading:o,site:i}=e;return n.a.createElement("div",{className:"dashboard__items"},o&&n.a.createElement("div",null,n.a.createElement("div",{className:"text-input__loading--line",style:{width:360,height:191,marginBottom:0}}),n.a.createElement("div",{className:"text-input__loading--line",style:{width:200,height:20,marginTop:12,marginBottom:0}})),!o&&0===t.length&&n.a.createElement(O.a,{to:"/account/sites/".concat(a,"/pages/create"),className:"dashboard__empty-item"},n.a.createElement("span",null,"+ add new page")),!o&&t.sort((e,t)=>(t.id===i.home_page_id)-(e.id===i.home_page_id)).map(e=>n.a.createElement(Dt,{key:e.id,page:e,siteId:a,site:i,getPages:s})))};class Pt extends s.Component{constructor(){super(...arguments),this.state={pages:[],loading:!0},this.getPages=()=>{this.setState({loading:!0}),this.getPagesRequest(e=>{this.setState({pages:e}),this.setState({loading:!1})})},this.getPagesRequest=e=>{l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),l.a.get("/sites/".concat(this.props.match.params.siteId,"/pages")).then(t=>e(t.data.pages))}}componentWillMount(){this.props.fetchSiteRequest(this.props.match.params.siteId,e=>{document.title="".concat(e.name," ").concat(this.props.t("app.titles.pages")," - Siter.io"),this.setState({site:e}),this.getPages()})}render(){const{loading:e,pages:t,site:a}=this.state;return n.a.createElement(Mt,{siteId:this.props.match.params.siteId,pages:t,getPages:this.getPages,loading:e,site:a})}}const It={fetchSiteRequest:St.c};var Tt=Object(h.b)(e=>({user:e.sessions,site:e.site}),It)(Object(I.a)()(Pt)),Rt=a(489),jt=a.n(Rt)()({displayName:"ContentEditable",render:function(){return n.a.createElement("span",{className:this.props.className,onInput:this.emitChange,onBlur:this.emitChange,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onPaste:this.onPaste,onDoubleClick:this.props.onDoubleClick,contentEditable:this.props.editable,id:this.props.id,dangerouslySetInnerHTML:{__html:this.props.html}})},shouldComponentUpdate:function(e){return e.html!==i.a.findDOMNode(this).innerHTML||e.editable!==this.props.editable},valid:function(e){let t={"\xe0":"a","\xe4":"a","\xe1":"a","\xe2":"a","\xe6":"a","\xe5":"a","\xeb":"e","\xe8":"e","\xe9":"e","\xea":"e","\xee":"i","\xef":"i","\xec":"i","\xed":"i","\xf2":"o","\xf3":"o","\xf6":"o","\xf4":"o","\xf8":"o","\xf9":"o","\xfa":"u","\xfc":"u","\xfb":"u","\xf1":"n","\xe7":"c","\xdf":"s","\xff":"y","\u0153":"o","\u0155":"r","\u015b":"s","\u0144":"n","\u1e55":"p","\u1e83":"w","\u01f5":"g","\u01f9":"n","\u1e3f":"m","\u01d8":"u","\u1e8d":"x","\u017a":"z","\u1e27":"h","\xb7":"-","/":"-",_:"-",",":"-",":":"-",";":"-"};return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/./g,(e,a,s)=>t[e]||e).replace(/&/g,"").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},onPaste:function(e){e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");(t+this.props.html).length<=this.props.maxLength&&window.document.execCommand("insertText",!1,t)},onKeyPress:function(e){this.props.hasOwnProperty("maxLength")&&this.props.html.length>=this.props.maxLength&&e.preventDefault()},onKeyDown:function(e){var t={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45"},a={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"},s=e.which;if(t.hasOwnProperty(s)&&(s=t[s]),s=!e.shiftKey&&s>=65&&s<=90?String.fromCharCode(s+32):e.shiftKey&&a.hasOwnProperty(s)?a[s]:96<=s&&s<=105?String.fromCharCode(s-48):String.fromCharCode(s),38===e.keyCode||39===e.keyCode||40===e.keyCode||37===e.keyCode||8===e.keyCode)return;"string"===typeof{"\xe0":"a","\xe4":"a","\xe1":"a","\xe2":"a","\xe6":"a","\xe5":"a","\xeb":"e","\xe8":"e","\xe9":"e","\xea":"e","\xee":"i","\xef":"i","\xec":"i","\xed":"i","\xf2":"o","\xf3":"o","\xf6":"o","\xf4":"o","\xf8":"o","\xf9":"o","\xfa":"u","\xfc":"u","\xfb":"u","\xf1":"n","\xe7":"c","\xdf":"s","\xff":"y","\u0153":"o","\u0155":"r","\u015b":"s","\u0144":"n","\u1e55":"p","\u1e83":"w","\u01f5":"g","\u01f9":"n","\u1e3f":"m","\u01d8":"u","\u1e8d":"x","\u017a":"z","\u1e27":"h","\xb7":"-","/":"-",_:"-",",":"-",":":"-",";":"-"}[s]&&e.preventDefault(),"-"!==s&&(this.valid(s)||e.preventDefault())},emitChange:function(e){var t=i.a.findDOMNode(this).innerHTML;this.props.onChange&&t!==this.lastHtml&&this.props.onChange({target:{value:t.replace(/<br\s*\/?>/gi,"")}}),this.lastHtml=t}}),Gt=a(164);a(441);const Ht=["image/png","image/jpeg","image/gif","image/svg+xml"];class Ut extends s.Component{constructor(e){super(e),this.t=(new Date).getTime(),this.uploaded=e=>{setTimeout(()=>{this.setState({progress:.7})}),setTimeout(()=>{this.setState({progress:1})},500),setTimeout(()=>{this.props.onChange(JSON.parse(e)),this.setState({loading:!1,imagePreviewUrl:""})},1e3)},this.uploadImage=e=>{const{t:t}=this.props;if(e.size/1e6>10)return y.b.error("".concat(t("app.formerrors.filesize")," ").concat(10," MB"),"Error",5e3),void this.setState({loading:!1,progress:0,imagePreviewUrl:"",file:""});if(-1===Ht.indexOf(e.type))return y.b.error(t("app.formerrors.filetypeisnotallowed"),"Error",5e3),void this.setState({loading:!1,progress:0,imagePreviewUrl:"",file:""});var a=this;return new Promise((t,s)=>{let n=new FormData;n.append("data",e),this.props.assetType&&n.append("asset_type",this.props.assetType);var o=new XMLHttpRequest;o.open("POST","".concat(l.a.defaults.baseURL,"/assets"),!0),o.setRequestHeader("Authorization","Bearer "+this.props.sessions.jwt),o.onload=function(){[200,201].indexOf(this.status)>-1?a.uploaded(this.response):(s(this.statusText),a.setState({loading:!1,progress:0,imagePreviewUrl:""}))},o.send(n)})},this._removeImage=()=>{this.props.handleRemove(),this.setState({file:"",imagePreviewUrl:""}),document.getElementById("uploadForm__"+this.t).reset()},this.onDrop=e=>{let t=new FileReader,a=e[0];t.onloadend=()=>{this.setState({file:a,loading:!0,progress:.2,imagePreviewUrl:"url("+t.result+")"})},t.readAsDataURL(a),setTimeout(()=>{this.uploadImage(this.state.file)},300)},this.bgImagePreview=()=>this.state.imagePreviewUrl?this.state.imagePreviewUrl:"url("+this.props.value+")",this.state={progress:0,file:"",imagePreviewUrl:"",loading:!1},this._handleImageChange=this._handleImageChange.bind(this),this._handleSubmit=this._handleSubmit.bind(this)}_handleSubmit(e){e.preventDefault(),this.uploadImage(this.state.file)}_handleImageChange(e){e.preventDefault();let t=new FileReader,a=e.target.files[0];t.onloadend=()=>{this.setState({file:a,imagePreviewUrl:"url("+t.result+")"})},t.readAsDataURL(a),this.setState({loading:!0,progress:.2}),setTimeout(()=>{this.uploadImage(this.state.file)},300)}componentDidUpdate(){document.getElementById("uploadForm__"+this.t)&&document.getElementById("uploadForm__"+this.t).reset()}render(){const{loading:e}=this.state,{t:t}=this.props;return n.a.createElement(n.a.Fragment,null,e&&n.a.createElement("div",{className:"se__s-p-colorpicker-overlay"}),n.a.createElement("div",{className:"se__s-p__uploader"},n.a.createElement("form",{className:"se__s-p__uploader-form",id:"uploadForm__"+this.t,name:"uploadForm",onSubmit:this._handleSubmit},n.a.createElement("input",{id:"uploadFile"+this.t,className:"hidden",name:"file",type:"file",onChange:this._handleImageChange}),n.a.createElement("label",{htmlFor:"uploadFile"+this.t,className:"button button_white button_upload"},t("app.pages.newpage.uploadimage")),n.a.createElement("span",{className:"siter-uploader__description"},e?t("app.pages.newpage.loading"):t("app.pages.newpage.submit")+" (JPG, PNG)"))))}}var Zt=Object(h.b)(e=>({sessions:e.sessions}),{})(Object(I.a)()(Ut));const zt=n.a.createElement("svg",{className:"dashboard__top-icon",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 64 64",fill:"none"},n.a.createElement("g",{clipPath:"url(#clipsiteitem)"},n.a.createElement("path",{d:"M11.0581 51.1661C6.48693 47.994 4.20133 46.4079 4.20178 44.2099C4.20223 42.0118 6.48847 40.4267 11.0609 37.2563L12.1227 36.5201C21.2101 30.2193 25.7538 27.0689 30.9442 27.0673C36.1344 27.0657 40.6802 30.2134 49.7717 36.5089L50.8829 37.2783C55.4653 40.4513 57.7564 42.0379 57.7563 44.2384C57.756 46.4389 55.4646 48.025 50.8815 51.1972L36.1036 61.4258C33.6233 63.1426 32.3832 64.0009 30.9674 64.0001C29.5516 63.9993 28.3125 63.1395 25.8343 61.4197L11.0581 51.1661Z",fill:"url(#paint0_linearsiteitem)"}),n.a.createElement("path",{d:"M5.8668 26.8571L27.6547 59.9571C27.7094 60.0402 27.7633 60.1219 27.8161 60.2021C29.276 62.4181 30.0472 63.5338 31.2457 63.7583C32.4433 63.9827 33.5874 63.2271 35.7917 61.6999C35.873 61.6437 35.9557 61.5863 36.0399 61.5279L54.1419 48.9768C54.2686 48.8889 54.3929 48.8027 54.5148 48.7181C57.4894 46.6535 58.9892 45.5591 59.3099 43.9509C59.6438 42.2767 58.5781 40.6581 56.4468 37.4208L35.9582 6.30052C33.6108 2.73501 32.4371 0.952259 30.5756 0.602841C28.7141 0.253423 26.9383 1.48256 23.3867 3.94079L8.37068 14.3343C4.87494 16.7539 3.12708 17.9637 2.76427 19.7782C2.40148 21.5926 3.55669 23.3476 5.8668 26.8571Z",fill:"url(#paint1_linearsiteitem)"}),n.a.createElement("path",{opacity:"0.6",d:"M5.8668 26.8569C3.55669 23.3473 2.40148 21.5923 2.76427 19.7779C3.12708 17.9634 8.37068 14.334 8.37068 14.334C8.37068 14.334 18.9468 18.4117 28.9161 24.8589L29.2017 24.6605C30.0286 24.0861 30.4422 23.7989 30.9147 23.7988C31.3872 23.7986 31.8008 24.0855 32.628 24.6593L55.0738 40.2292C57.7411 42.0793 59.0747 43.0045 59.0746 44.2868C59.0746 44.4807 59.0441 44.6664 58.9831 44.8483C58.3445 46.0252 56.9063 47.0579 54.5147 48.7178L36.1104 61.4786C36.087 61.4949 36.0635 61.5113 36.0399 61.5276L35.7917 61.6997C33.5874 63.2268 32.4433 63.9825 31.2457 63.7581C31.0959 63.73 30.9527 63.688 30.8141 63.6317C29.8437 63.2374 29.0936 62.1409 27.8161 60.2018L5.8668 26.8569Z",fill:"url(#paint2_linearsiteitem)"}),n.a.createElement("path",{d:"M28.0092 37.7497L11.5332 26.6455L7.6845 24.0426C4.57385 21.9388 3.01852 20.8869 3.0121 19.4138C3.00755 18.367 3.7871 17.5265 5.34847 16.3636L27.4565 1.19594C28.7989 0.399975 29.8334 0.00150446 30.9501 4.25093e-06C32.0885 -0.0015251 33.1425 0.409607 34.5255 1.23285L53.9019 14.4482C56.506 16.3353 57.8075 17.6425 57.8051 19.2962C57.8019 21.5059 55.4729 23.0905 50.8148 26.2597L47.208 28.7136L34.0126 37.6601C32.7759 38.4351 31.9011 38.823 30.9469 38.8243C30.0265 38.8256 29.1793 38.4672 28.0092 37.7497Z",fill:"url(#paint3_linearsiteitem)"}),n.a.createElement("path",{d:"M31.869 0.0898448L49.621 27.0534L47.1467 28.7459L34.0068 37.7025C32.7754 38.4784 31.9043 38.8667 30.9541 38.868C30.0376 38.8693 29.1939 38.5105 28.0288 37.7922L11.6224 26.6755L7.78981 24.0696C4.69226 21.9634 3.14349 20.9104 3.1371 19.4356C3.13256 18.3877 3.90883 17.5462 5.46362 16.382L27.4784 1.19729C28.8152 0.400425 29.8453 0.00150614 30.9574 4.25511e-06C31.2647 -0.00041081 31.5658 0.0295398 31.869 0.0898448Z",fill:"url(#paint4_linearsiteitem)"})),n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"paint0_linearsiteitem",x1:"2.27455",y1:"44.7685",x2:"30.3537",y2:"65.8219",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#A0A0A0"}),n.a.createElement("stop",{offset:"1",stopColor:"#6D6D6D"})),n.a.createElement("linearGradient",{id:"paint1_linearsiteitem",x1:"13.8595",y1:"11.6253",x2:"57.8455",y2:"46.6422",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#757575"}),n.a.createElement("stop",{offset:"1",stopColor:"#9A9A9A"})),n.a.createElement("linearGradient",{id:"paint2_linearsiteitem",x1:"2.27472",y1:"21.4254",x2:"29.6418",y2:"64.5862",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#636363",stopOpacity:"0"}),n.a.createElement("stop",{offset:"0.663965",stopColor:"#A1A1A1",stopOpacity:"0"}),n.a.createElement("stop",{offset:"1",stopColor:"#CFCFCF"})),n.a.createElement("linearGradient",{id:"paint3_linearsiteitem",x1:"30.4086",y1:"1.45872e-06",x2:"49.0122",y2:"27.916",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#919191"}),n.a.createElement("stop",{offset:"1",stopColor:"#C4C4C4"})),n.a.createElement("linearGradient",{id:"paint4_linearsiteitem",x1:"1.90681",y1:"19.4654",x2:"32.3029",y2:"38.7964",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#838383"}),n.a.createElement("stop",{offset:"1",stopColor:"#A2A2A2"})),n.a.createElement("clipPath",{id:"clipsiteitem"},n.a.createElement("rect",{width:"62.0689",height:"64",fill:"white"}))));var Vt=a(86).v4;class Wt extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={name:"Untitled",path:"untitled",og_description:"",meta_description:"",saving:!1,home:!1,emojiPickedOpen:!1,og_title:"",meta_title:"",og_image:""},this.slugify=e=>{const t={"\xe0":"a","\xe4":"a","\xe1":"a","\xe2":"a","\xe6":"a","\xe5":"a","\xeb":"e","\xe8":"e","\xe9":"e","\xea":"e","\xee":"i","\xef":"i","\xec":"i","\xed":"i","\xf2":"o","\xf3":"o","\xf6":"o","\xf4":"o","\xf8":"o","\xf9":"o","\xfa":"u","\xfc":"u","\xfb":"u","\xf1":"n","\xe7":"c","\xdf":"s","\xff":"y","\u0153":"o","\u0155":"r","\u015b":"s","\u0144":"n","\u1e55":"p","\u1e83":"w","\u01f5":"g","\u01f9":"n","\u1e3f":"m","\u01d8":"u","\u1e8d":"x","\u017a":"z","\u1e27":"h","\xb7":"-","/":"-",_:"-",",":"-",":":"-",";":"-"};return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/./g,(e,a,s)=>t[e]||e).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},this.handleChangeName=e=>{let{value:t}=e.target;this.setState({name:t,path:this.slugify(t),og_title:t,meta_title:t})},this.handleChangePath=e=>{this.setState({path:e.target.value})},this.handlePublish=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};l.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.user.jwt),l.a.post("/pages/".concat(t,"/publish"),{},{headers:{"Content-Type":"application/json"}}).then(a).catch(a)},this.handleUpdate=e=>{e.preventDefault();const{t:t}=this.props,{name:a,path:s,og_description:n,meta_description:o,home:i,og_image:r,id:l,og_title:c,meta_title:p,og_image_manual:d,importOk:h,components:m,published:u}=this.state;let g={name:a,path:s,og_description:n,meta_description:o,og_title:c,meta_title:p,id:l,og_image_manual:d};r&&(g.og_image=r),h&&(g.styles=this.state.styles,this.saveComponentsRequest({components:m},()=>{y.b.success("Components successfully saved","OK",5e3)})),delete g.components;let _=e=>{this.setState({page:e}),y.b.success("".concat(t("app.pages.pagesettings.pagesaved")).concat(u?"":" "+t("app.pages.pagesettings.andpublished")),"OK",5e3),this.setState({saving:!1})};this.setState({saving:!0}),this.props.updatePageRequest(g,e=>{i!==(e.id===this.props.site.home_page_id)?this.handleSetHomePage(i,e.id,()=>_(e)):_()},()=>{this.setState({saving:!1})})},this.handleChangeDescription=e=>{let{value:t}=e.target;this.setState({meta_description:t,og_description:t})},this.handleSetHomePage=(e,t,a)=>{const{site:s}=this.props;s.home_page_id=e?t:"",this.state.published?this.props.updateSiteRequest(s,a):this.props.updateSiteRequest(s,()=>{this.handlePublish(t,a),this.setState({published:!0})})},this.handleChangeHome=e=>{this.setState({home:e.target.checked})},this.addEmoji=e=>{this.setState({emojiPickedOpen:!1,name:"".concat(this.state.name," ").concat(e.native)})},this.handleOpenEmojiPicker=()=>{this.setState({emojiPickedOpen:!this.state.emojiPickedOpen})},this.getProtocol=e=>this.props.site.https?"https://":"http://",this.handleChangeOgImage=e=>{let{asset:t}=e;this.setState({og_image:t.url+"?t=".concat((new Date).getTime()),og_image_manual:!0})},this.replaceIds=e=>{let t=JSON.stringify(e);for(const a of e){const e=new RegExp("".concat(a.id),"g");t=t.replace(e,Vt())}return JSON.parse(t)},this.saveComponentsRequest=(e,t)=>{let a="/components/save?page_id=".concat(this.state.id);l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),l.a.put(a,e).then(t)},this.handleChangeRestoreText=e=>{let{page:t}=JSON.parse(e.target.value);delete t.id,t.components=this.replaceIds(t.components),this.setState(t)},this.getPagePath=()=>"home"===this.state.path?"":this.state.path,this.focusToPathInput=()=>{const e=document.getElementById("path");e&&e.focus()}}componentDidMount(){const{site:e,match:t}=this.props,{pageId:a,siteId:s}=t.params;this.props.fetchSiteRequest(s),this.props.fetchPageRequest({pageId:a,siteId:s},t=>{null===t.headcode&&(t.headcode=""),t.home=e.home_page_id===t.id,this.setState(Object.assign(this.state,t))}),"?fff=1"===document.location.search&&this.setState({importOk:!0})}render(){const{saving:e,name:t,og_description:a,home:s,path:o,emojiPickedOpen:i,og_image:r,restoretext:l,importOk:c,published:p}=this.state,{site:d,match:h,t:m}=this.props,{pageId:u,siteId:g}=h.params,_=this.getPagePath();return n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"dashboard clearfix"},n.a.createElement("div",{className:"create-page__left"},n.a.createElement("div",{className:"title"},m("app.pages.pagesettings.title")),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30"},n.a.createElement("label",{htmlFor:"name",className:"label"},m("app.pages.pagesettings.titlelabel")),n.a.createElement("div",{className:"input-wrapper__icon"},n.a.createElement("input",{value:t,onChange:this.handleChangeName,id:"name",autoFocus:"autofocus",placeholder:m("app.pages.pagesettings.titleplaceholder"),type:"text",name:"name",required:"",className:"input"}),n.a.createElement("svg",{onClick:this.handleOpenEmojiPicker,className:"cp input-wrapper__icon-svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9ZM9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M8 7C8 7.55228 7.55228 8 7 8C6.44772 8 6 7.55228 6 7C6 6.44772 6.44772 6 7 6C7.55228 6 8 6.44772 8 7Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M12 7C12 7.55228 11.5523 8 11 8C10.4477 8 10 7.55228 10 7C10 6.44772 10.4477 6 11 6C11.5523 6 12 6.44772 12 7Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M11.3557 10.4111C12.0944 10.2264 12.7132 10.9073 12.2286 11.4947C11.4719 12.4122 10.3068 13 9 13C7.6932 13 6.52815 12.4122 5.77135 11.4947C5.28684 10.9073 5.90561 10.2264 6.64431 10.4111L8.27239 10.8181C8.75011 10.9375 9.24989 10.9375 9.72761 10.8181L11.3557 10.4111Z",fill:"#BDBDBD"})),i&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"create-page__emojipicker-overlay",onClick:this.handleOpenEmojiPicker}),n.a.createElement("div",{className:"create-page__emojipicker"},n.a.createElement(Gt.a,{onSelect:this.addEmoji})))),n.a.createElement("div",{className:"input-wrapper__hint"},m("app.pages.pagesettings.willbeused"))),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30"},n.a.createElement("label",{htmlFor:"description",className:"label"},m("app.pages.pagesettings.descriptionlabel")),n.a.createElement("textarea",{value:a||"",onChange:this.handleChangeDescription,id:"description",placeholder:m("app.pages.pagesettings.descriptionplaceholder"),type:"text",name:"login",required:"",className:"textarea"}),n.a.createElement("div",{className:"input-wrapper__hint"},m("app.pages.pagesettings.descriptioninfo"))),n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{className:"label",onClick:this.focusToPathInput},m("app.pages.pagesettings.link")),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30 input input__content-editable__wrapper",onClick:this.focusToPathInput},n.a.createElement("span",{className:"input__after"},d.domain||"".concat(d.subdomain,".siter.io"),"/"),n.a.createElement(jt,{id:"path",editable:!0,className:"input__content-editable input__content-editable_black",html:o,onChange:this.handleChangePath}))),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("div",{className:"create-page__checkbox-wrapper"},n.a.createElement("input",{onChange:this.handleChangeHome,id:"home",type:"checkbox",tabIndex:"-1",className:"checkbox",checked:s}),n.a.createElement("label",{htmlFor:"home",title:"Home",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text va-middle"},m(p?"app.pages.pagesettings.homepage":"app.pages.pagesettings.makehomeandpublish")," ",n.a.createElement("span",{className:"blue-text"},"(\u2605)")))),n.a.createElement("div",{className:"input-wrapper__hint input-wrapper__hint_checkbox"},m("app.pages.pagesettings.current")," ",n.a.createElement(O.a,{to:"/account/sites/".concat(d.id,"/pages/").concat(d.home_page_id,"/editor"),target:"_blank"},m("app.pages.pagesettings.homepage"),"\u2197")," ",m("app.pages.pagesettings.willbedisabled"))),n.a.createElement("div",{className:"dashboard-create__site-notify mt30"},"\u2600 ",m("app.pages.pagesettings.info")),c&&n.a.createElement("textarea",{value:l,onChange:this.handleChangeRestoreText}),n.a.createElement("button",{disabled:e,onClick:this.handleUpdate,className:"button button_green dashboard-create__site-button mt40"},m(e?"app.pages.pagesettings.loading":"app.pages.pagesettings.savebutton")),n.a.createElement(O.a,{to:"/account/sites/".concat(g,"/pages/").concat(u,"/editor"),className:"button button_white page-settings__editor-button mt40"},m("app.pages.pagesettings.editthepage"))),n.a.createElement("div",{className:"create-page__right"},n.a.createElement("div",{className:"create-page__right-title"},m("app.pages.pagesettings.preview")),n.a.createElement("div",{className:"pages-settings-modal__facebook"},-1===r.indexOf("nopreview")?n.a.createElement("div",{className:"dashboard__top",style:{backgroundImage:"url(".concat(r,")")},alt:"Og image"}):n.a.createElement("div",{className:"dashboard__top inline-middle"},zt),n.a.createElement("div",{className:"pages-settings-modal__facebook-content"},n.a.createElement("div",{className:"dashboard__item-info__link"},n.a.createElement("div",{className:"dashboard__item-info__fav"},n.a.createElement("img",{alt:d.name,src:d.favicon?d.favicon.url:"",width:"54px",height:"54px"})),n.a.createElement("span",{className:"dashboard__name",style:{maxWidth:309}},d.default_domain+(s?"":"/"+_))),n.a.createElement("div",{className:"pages-settings-modal__facebook-content__desc"},t),n.a.createElement("div",{className:"pages-settings-modal__facebook-content__url"},a||m("app.pages.pagesettings.nodescription")))),n.a.createElement("div",{className:"create-page__right-uploader"},n.a.createElement(Zt,{assetType:"page",value:r,onChange:this.handleChangeOgImage})),n.a.createElement("div",{className:"dashboard-create__site-notify mt20"},"\u2600 ",m("app.pages.newpage.infoimage")))))}}const qt={fetchPageRequest:Ft.c,fetchSiteRequest:St.c,updatePageRequest:Ft.g,updateSiteRequest:St.g};var Kt=Object(h.b)(e=>({site:e.site,user:e.sessions}),qt)(Object(I.a)()(Wt));class Yt extends s.Component{render(){return n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"dashboard clearfix"},n.a.createElement(_.a,{component:Kt,path:"/account/sites/:siteId/pages/:pageId/settings/general"})))}}var Jt=Object(h.b)(e=>({sessions:e.sessions}),{})(Yt),Xt=a(12),Qt=a.n(Xt);class $t extends s.Component{constructor(){super(...arguments),this.getBackgroundImage=e=>{const{og_image:t,image:a,og_image_manual:s}=e;if(s){if(!this.isDefaultImage(t))return t}else if(!this.isDefaultImage(a))return a},this.isDefaultImage=e=>e&&e.indexOf("nopreview")>-1}render(){const{close:e,templates:t,t:a,choosedTemplate:s,handleChooseTemplate:o}=this.props;return n.a.createElement("div",{resize:"height",className:"login-wrapper dashboard-create__site"},n.a.createElement(Qt.a,{keyEventName:Xt.KEYDOWN,keyValue:"Escape",onKeyHandle:e}),n.a.createElement("div",{className:"dashboard-create__site-overlay",onClick:e}),n.a.createElement("div",{className:"inline-wrapper modal-window plan-modal__window"},n.a.createElement("div",{className:"billing-item billing-item_subscription billing-item_subscription-request billing-item_subscription-request_custom"},n.a.createElement("div",{className:"billing-item_form-header"},n.a.createElement("svg",{onClick:e,className:"cp",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.8"},n.a.createElement("path",{d:"M17 1L1 17",stroke:"#333333"}),n.a.createElement("path",{d:"M1 1L17 17",stroke:"#333333"}))),a("app.pages.newpage.templatesmodaltitle")),n.a.createElement("div",{className:"billing-item_form-body billing-item_form-body_templates"},n.a.createElement("div",{className:"create-page__templates"},t.map((e,t)=>n.a.createElement("div",{className:"create-page__templates-item",key:t},n.a.createElement("div",{className:"create-page__templates-item__header",style:{backgroundImage:"url(".concat(this.getBackgroundImage(e),")")}},n.a.createElement("div",{className:"create-page__templates-item__header-buttons"},n.a.createElement("button",{className:"button button_white create-page__templates-button-1",onClick:o.bind(null,e.id,e.og_image,!0)},"Choose"),n.a.createElement("a",{rel:"noopener noreferrer",href:"/account/".concat(e.id,"/preview"),target:"_blank",className:"button button_white create-page__templates-button-2"},n.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.01676 10L8.57732 2.42503L8.56428 8.26597H9.98514V0H1.73371L1.72068 1.40808H7.56055L0 8.98305L1.01676 10Z",fill:"#333333"}))))),n.a.createElement("div",{className:"create-page__templates-item__footer "+(s===e.id&&"create-page__templates-item__footer_blue")},s===e.id&&n.a.createElement("svg",{className:"va-middle create-page__templates-item__footer-icon",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M9 0.674805C7.33122 0.674805 5.69992 1.16966 4.31238 2.09678C2.92484 3.0239 1.84338 4.34166 1.20477 5.88341C0.566156 7.42516 0.399065 9.12166 0.724628 10.7584C1.05019 12.3951 1.85378 13.8985 3.03379 15.0785C4.2138 16.2585 5.71721 17.0621 7.35393 17.3877C8.99064 17.7132 10.6871 17.5462 12.2289 16.9075C13.7706 16.2689 15.0884 15.1875 16.0155 13.7999C16.9427 12.4124 17.4375 10.7811 17.4375 9.1123C17.4375 6.87454 16.5486 4.72843 14.9662 3.14609C13.3839 1.56375 11.2378 0.674805 9 0.674805ZM13.6519 6.7498L7.63313 12.7686C7.60496 12.7951 7.56774 12.8098 7.52907 12.8098C7.49039 12.8098 7.45317 12.7951 7.425 12.7686L4.34813 9.6748C4.24336 9.56941 4.18456 9.42685 4.18456 9.27824C4.18456 9.12964 4.24336 8.98707 4.34813 8.88168C4.45352 8.77691 4.59609 8.71811 4.74469 8.71811C4.8933 8.71811 5.03586 8.77691 5.14125 8.88168L7.425 11.1654C7.45317 11.1919 7.49039 11.2067 7.52907 11.2067C7.56774 11.2067 7.60496 11.1919 7.63313 11.1654L12.8588 5.9398C12.9641 5.83504 13.1067 5.77623 13.2553 5.77623C13.4039 5.77623 13.5465 5.83504 13.6519 5.9398C13.7063 5.99228 13.7496 6.05519 13.7792 6.12477C13.8088 6.19436 13.824 6.26919 13.824 6.3448C13.824 6.42041 13.8088 6.49525 13.7792 6.56484C13.7496 6.63442 13.7063 6.69733 13.6519 6.7498Z",fill:"#3E87F8"})),n.a.createElement("span",{className:"va-middle"},e.name)))))))))}}var ea=Object(h.b)(e=>({user:e.sessions}),{})(Object(I.a)()($t));const ta=n.a.createElement("svg",{className:"dashboard__top-icon",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 64 64",fill:"none"},n.a.createElement("g",{clipPath:"url(#clipsiteitem)"},n.a.createElement("path",{d:"M11.0581 51.1661C6.48693 47.994 4.20133 46.4079 4.20178 44.2099C4.20223 42.0118 6.48847 40.4267 11.0609 37.2563L12.1227 36.5201C21.2101 30.2193 25.7538 27.0689 30.9442 27.0673C36.1344 27.0657 40.6802 30.2134 49.7717 36.5089L50.8829 37.2783C55.4653 40.4513 57.7564 42.0379 57.7563 44.2384C57.756 46.4389 55.4646 48.025 50.8815 51.1972L36.1036 61.4258C33.6233 63.1426 32.3832 64.0009 30.9674 64.0001C29.5516 63.9993 28.3125 63.1395 25.8343 61.4197L11.0581 51.1661Z",fill:"url(#paint0_linearsiteitem)"}),n.a.createElement("path",{d:"M5.8668 26.8571L27.6547 59.9571C27.7094 60.0402 27.7633 60.1219 27.8161 60.2021C29.276 62.4181 30.0472 63.5338 31.2457 63.7583C32.4433 63.9827 33.5874 63.2271 35.7917 61.6999C35.873 61.6437 35.9557 61.5863 36.0399 61.5279L54.1419 48.9768C54.2686 48.8889 54.3929 48.8027 54.5148 48.7181C57.4894 46.6535 58.9892 45.5591 59.3099 43.9509C59.6438 42.2767 58.5781 40.6581 56.4468 37.4208L35.9582 6.30052C33.6108 2.73501 32.4371 0.952259 30.5756 0.602841C28.7141 0.253423 26.9383 1.48256 23.3867 3.94079L8.37068 14.3343C4.87494 16.7539 3.12708 17.9637 2.76427 19.7782C2.40148 21.5926 3.55669 23.3476 5.8668 26.8571Z",fill:"url(#paint1_linearsiteitem)"}),n.a.createElement("path",{opacity:"0.6",d:"M5.8668 26.8569C3.55669 23.3473 2.40148 21.5923 2.76427 19.7779C3.12708 17.9634 8.37068 14.334 8.37068 14.334C8.37068 14.334 18.9468 18.4117 28.9161 24.8589L29.2017 24.6605C30.0286 24.0861 30.4422 23.7989 30.9147 23.7988C31.3872 23.7986 31.8008 24.0855 32.628 24.6593L55.0738 40.2292C57.7411 42.0793 59.0747 43.0045 59.0746 44.2868C59.0746 44.4807 59.0441 44.6664 58.9831 44.8483C58.3445 46.0252 56.9063 47.0579 54.5147 48.7178L36.1104 61.4786C36.087 61.4949 36.0635 61.5113 36.0399 61.5276L35.7917 61.6997C33.5874 63.2268 32.4433 63.9825 31.2457 63.7581C31.0959 63.73 30.9527 63.688 30.8141 63.6317C29.8437 63.2374 29.0936 62.1409 27.8161 60.2018L5.8668 26.8569Z",fill:"url(#paint2_linearsiteitem)"}),n.a.createElement("path",{d:"M28.0092 37.7497L11.5332 26.6455L7.6845 24.0426C4.57385 21.9388 3.01852 20.8869 3.0121 19.4138C3.00755 18.367 3.7871 17.5265 5.34847 16.3636L27.4565 1.19594C28.7989 0.399975 29.8334 0.00150446 30.9501 4.25093e-06C32.0885 -0.0015251 33.1425 0.409607 34.5255 1.23285L53.9019 14.4482C56.506 16.3353 57.8075 17.6425 57.8051 19.2962C57.8019 21.5059 55.4729 23.0905 50.8148 26.2597L47.208 28.7136L34.0126 37.6601C32.7759 38.4351 31.9011 38.823 30.9469 38.8243C30.0265 38.8256 29.1793 38.4672 28.0092 37.7497Z",fill:"url(#paint3_linearsiteitem)"}),n.a.createElement("path",{d:"M31.869 0.0898448L49.621 27.0534L47.1467 28.7459L34.0068 37.7025C32.7754 38.4784 31.9043 38.8667 30.9541 38.868C30.0376 38.8693 29.1939 38.5105 28.0288 37.7922L11.6224 26.6755L7.78981 24.0696C4.69226 21.9634 3.14349 20.9104 3.1371 19.4356C3.13256 18.3877 3.90883 17.5462 5.46362 16.382L27.4784 1.19729C28.8152 0.400425 29.8453 0.00150614 30.9574 4.25511e-06C31.2647 -0.00041081 31.5658 0.0295398 31.869 0.0898448Z",fill:"url(#paint4_linearsiteitem)"})),n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"paint0_linearsiteitem",x1:"2.27455",y1:"44.7685",x2:"30.3537",y2:"65.8219",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#A0A0A0"}),n.a.createElement("stop",{offset:"1",stopColor:"#6D6D6D"})),n.a.createElement("linearGradient",{id:"paint1_linearsiteitem",x1:"13.8595",y1:"11.6253",x2:"57.8455",y2:"46.6422",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#757575"}),n.a.createElement("stop",{offset:"1",stopColor:"#9A9A9A"})),n.a.createElement("linearGradient",{id:"paint2_linearsiteitem",x1:"2.27472",y1:"21.4254",x2:"29.6418",y2:"64.5862",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#636363",stopOpacity:"0"}),n.a.createElement("stop",{offset:"0.663965",stopColor:"#A1A1A1",stopOpacity:"0"}),n.a.createElement("stop",{offset:"1",stopColor:"#CFCFCF"})),n.a.createElement("linearGradient",{id:"paint3_linearsiteitem",x1:"30.4086",y1:"1.45872e-06",x2:"49.0122",y2:"27.916",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#919191"}),n.a.createElement("stop",{offset:"1",stopColor:"#C4C4C4"})),n.a.createElement("linearGradient",{id:"paint4_linearsiteitem",x1:"1.90681",y1:"19.4654",x2:"32.3029",y2:"38.7964",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#838383"}),n.a.createElement("stop",{offset:"1",stopColor:"#A2A2A2"})),n.a.createElement("clipPath",{id:"clipsiteitem"},n.a.createElement("rect",{width:"62.0689",height:"64",fill:"white"}))));class aa extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={name:"Untitled",path:"untitled",og_description:"",meta_description:"",saving:!1,home:!1,emojiPickedOpen:!1,og_title:"",meta_title:"",og_image:"",templates:[],choosedTemplate:"blank",site:{pages:[]},templatesOpen:!1},this.slugify=e=>{let t={"\xe0":"a","\xe4":"a","\xe1":"a","\xe2":"a","\xe6":"a","\xe5":"a","\xeb":"e","\xe8":"e","\xe9":"e","\xea":"e","\xee":"i","\xef":"i","\xec":"i","\xed":"i","\xf2":"o","\xf3":"o","\xf6":"o","\xf4":"o","\xf8":"o","\xf9":"o","\xfa":"u","\xfc":"u","\xfb":"u","\xf1":"n","\xe7":"c","\xdf":"s","\xff":"y","\u0153":"o","\u0155":"r","\u015b":"s","\u0144":"n","\u1e55":"p","\u1e83":"w","\u01f5":"g","\u01f9":"n","\u1e3f":"m","\u01d8":"u","\u1e8d":"x","\u017a":"z","\u1e27":"h","\xb7":"-","/":"-",_:"-",",":"-",":":"-",";":"-"};return Object.assign(t,{"\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"e","\u0436":"j","\u0437":"z","\u0438":"i","\u0439":"y","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"shch","\u044b":"y","\u044d":"e","\u044e":"u","\u044f":"ya"}),e.toString().toLowerCase().replace(/\s+/g,"-").replace(/./g,(e,a,s)=>t[e]||e).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},this.handleChangeName=e=>{let{value:t}=e.target;this.setState({name:t,path:this.slugify(t),og_title:t,meta_title:t})},this.handleChangePath=e=>{this.setState({path:e.target.value})},this.handlePublish=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};l.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.user.jwt),l.a.post("/pages/".concat(t,"/publish"),{},{headers:{"Content-Type":"application/json"}}).then(a).catch(a)},this.handleCreate=e=>{const{name:t,path:a,og_description:s,og_title:n,meta_title:o,meta_description:i,og_image:r,og_image_manual:l,choosedTemplate:c}=this.state;let p={name:t,path:a,og_description:s,og_title:n,meta_title:o,meta_description:i,og_image_manual:l,siteId:this.props.site.id,background:{bg_color_angle:"0deg",bg_color_start:"rgba(255, 255, 255, 1)",bg_color_stop:"rgba(255, 255, 255, 1)"}};e.preventDefault(),r&&(p.og_image=r),"blank"!==c&&(p.template_id=c),this.setState({saving:!0});let d=(e,t)=>{this.setState({saving:!1}),this.goToEditor(e,t)};this.props.createPageRequest(p,e=>{d(e.id,p.siteId)},()=>{this.setState({saving:!1})},()=>{this.setState({saving:!1})})},this.goToEditor=(e,t)=>{L.a.push("/account/sites/".concat(t,"/pages/").concat(e,"/editor"))},this.handleChangeDescription=e=>{let{value:t}=e.target;this.setState({meta_description:t,og_description:t})},this.handleChangeHome=e=>{this.setState({home:e.target.checked})},this.addEmoji=e=>{this.setState({emojiPickedOpen:!1,name:"".concat(this.state.name," ").concat(e.native)})},this.handleOpenEmojiPicker=()=>{this.setState({emojiPickedOpen:!this.state.emojiPickedOpen})},this.getProtocol=e=>this.props.site.https?"https://":"http://",this.handleChangeOgImage=e=>{let{asset:t}=e;this.setState({og_image:t.url+"?t=".concat((new Date).getTime()),og_image_manual:!0})},this.getTemplates=()=>{l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),l.a.get("/templates").then(e=>{this.setState({templates:e.data.pages})})},this.handleChooseTemplate=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"blank"===t&&(a=""),e.setState({choosedTemplate:t,template_og_image:a},s?e.handleToggleOpenTemplates:()=>{})},this.getPagePath=()=>"home"===this.state.path?"":this.state.path,this.focusToPathInput=()=>{const e=document.getElementById("path");e&&e.focus()},this.handleToggleOpenTemplates=()=>{this.setState({templatesOpen:!this.state.templatesOpen})}}componentWillMount(){this.props.fetchSiteRequest(this.props.match.params.siteId,e=>{this.setState({home:0===e.pages.length,name:e.name,path:this.slugify(e.name),site:e},()=>{this.handleChangeName({target:{value:e.name}})})}),this.getTemplates();const{t:e}=this.props;Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST||Object(K.n)()||(L.a.push("/account/sites/"+this.props.match.params.siteId+"/pages"),y.b.error(e("app.editor.settingspanel.confirmemail.message"),e("app.editor.settingspanel.confirmemail.title"),5e3,()=>{},void 0,!0,e("app.editor.settingspanel.confirmemail.close"),e("app.editor.settingspanel.confirmemail.button"),"resendEmailConfirmation"))}render(){const{saving:e,name:t,og_description:a,home:s,path:o,emojiPickedOpen:i,og_image:r,og_image_manual:l,templates:c,choosedTemplate:p,template_og_image:d,site:h,templatesOpen:m}=this.state,{t:u}=this.props,g=this.getPagePath();return n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"dashboard clearfix"},n.a.createElement("div",{className:"create-page__left"},e?n.a.createElement("div",{className:"text-input__loading--line input-wrapper_mb30",style:{width:"100%",height:195}}):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"title"},u("app.pages.newpage.title")),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30"},n.a.createElement("label",{htmlFor:"name",className:"label"},u("app.pages.newpage.titlelabel")),n.a.createElement("div",{className:"input-wrapper__icon"},n.a.createElement("input",{value:t,onChange:this.handleChangeName,id:"name",autoFocus:"autofocus",placeholder:u("app.pages.newpage.titleplaceholder"),type:"text",name:"name",required:"",className:"input"}),n.a.createElement("svg",{onClick:this.handleOpenEmojiPicker,className:"cp input-wrapper__icon-svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9ZM9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M8 7C8 7.55228 7.55228 8 7 8C6.44772 8 6 7.55228 6 7C6 6.44772 6.44772 6 7 6C7.55228 6 8 6.44772 8 7Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M12 7C12 7.55228 11.5523 8 11 8C10.4477 8 10 7.55228 10 7C10 6.44772 10.4477 6 11 6C11.5523 6 12 6.44772 12 7Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M11.3557 10.4111C12.0944 10.2264 12.7132 10.9073 12.2286 11.4947C11.4719 12.4122 10.3068 13 9 13C7.6932 13 6.52815 12.4122 5.77135 11.4947C5.28684 10.9073 5.90561 10.2264 6.64431 10.4111L8.27239 10.8181C8.75011 10.9375 9.24989 10.9375 9.72761 10.8181L11.3557 10.4111Z",fill:"#BDBDBD"})),i&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"create-page__emojipicker-overlay",onClick:this.handleOpenEmojiPicker}),n.a.createElement("div",{className:"create-page__emojipicker"},n.a.createElement(Gt.a,{onSelect:this.addEmoji})))),n.a.createElement("div",{className:"input-wrapper__hint"},u("app.pages.newpage.titledescription")))),e?n.a.createElement("div",{className:"text-input__loading--line input-wrapper_mb30",style:{width:"100%",height:134}}):n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30"},n.a.createElement("label",{htmlFor:"description",className:"label"},u("app.pages.newpage.descriptionlabel")),n.a.createElement("textarea",{value:a,onChange:this.handleChangeDescription,id:"description",placeholder:u("app.pages.newpage.descriptionplaceholder"),type:"text",name:"login",required:"",className:"textarea"}),n.a.createElement("div",{className:"input-wrapper__hint"},u("app.pages.newpage.descriptioninfo"))),e?n.a.createElement("div",{className:"text-input__loading--line input-wrapper_mb30",style:{width:"100%",height:206}}):n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("label",{className:"label"},u("app.pages.newpage.choosetemplate")),n.a.createElement("div",{className:"create-page__templates create-page__templates_custom",style:{height:190}},n.a.createElement("div",{className:"create-page__templates-item cp",onClick:this.handleChooseTemplate.bind(null,"blank")},n.a.createElement("div",{className:"create-page__templates-item__header create-page__templates-item__header_custom"},n.a.createElement("div",{className:"create-page__templates-item__header-buttons"},n.a.createElement("button",{className:"button button_blue create-page__templates-button-1 create-page__templates-button-1_custom"},"Select Blank"))),n.a.createElement("div",{className:"create-page__templates-item__footer "+("blank"===p&&"create-page__templates-item__footer_blue")},"blank"===p&&n.a.createElement("svg",{className:"va-middle create-page__templates-item__footer-icon",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M9 0.674805C7.33122 0.674805 5.69992 1.16966 4.31238 2.09678C2.92484 3.0239 1.84338 4.34166 1.20477 5.88341C0.566156 7.42516 0.399065 9.12166 0.724628 10.7584C1.05019 12.3951 1.85378 13.8985 3.03379 15.0785C4.2138 16.2585 5.71721 17.0621 7.35393 17.3877C8.99064 17.7132 10.6871 17.5462 12.2289 16.9075C13.7706 16.2689 15.0884 15.1875 16.0155 13.7999C16.9427 12.4124 17.4375 10.7811 17.4375 9.1123C17.4375 6.87454 16.5486 4.72843 14.9662 3.14609C13.3839 1.56375 11.2378 0.674805 9 0.674805ZM13.6519 6.7498L7.63313 12.7686C7.60496 12.7951 7.56774 12.8098 7.52907 12.8098C7.49039 12.8098 7.45317 12.7951 7.425 12.7686L4.34813 9.6748C4.24336 9.56941 4.18456 9.42685 4.18456 9.27824C4.18456 9.12964 4.24336 8.98707 4.34813 8.88168C4.45352 8.77691 4.59609 8.71811 4.74469 8.71811C4.8933 8.71811 5.03586 8.77691 5.14125 8.88168L7.425 11.1654C7.45317 11.1919 7.49039 11.2067 7.52907 11.2067C7.56774 11.2067 7.60496 11.1919 7.63313 11.1654L12.8588 5.9398C12.9641 5.83504 13.1067 5.77623 13.2553 5.77623C13.4039 5.77623 13.5465 5.83504 13.6519 5.9398C13.7063 5.99228 13.7496 6.05519 13.7792 6.12477C13.8088 6.19436 13.824 6.26919 13.824 6.3448C13.824 6.42041 13.8088 6.49525 13.7792 6.56484C13.7496 6.63442 13.7063 6.69733 13.6519 6.7498Z",fill:"#3E87F8"})),n.a.createElement("span",{className:"va-middle"},u("app.pages.newpage.blanktemplate")))),n.a.createElement("div",{className:"create-page__templates-item cp",onClick:this.handleToggleOpenTemplates},n.a.createElement("div",{className:"create-page__templates-item__header create-page__templates-item__header_custom-templates create-page__templates-item__header_custom",style:d?{backgroundImage:"url(".concat(d,")")}:{}},n.a.createElement("div",{className:"create-page__templates-item__header-buttons"},n.a.createElement("button",{className:"button button_blue create-page__templates-button-1_custom"},"Select Template"))),n.a.createElement("div",{className:"create-page__templates-item__footer "+("blank"!==p&&"create-page__templates-item__footer_blue")},"blank"!==p&&n.a.createElement("svg",{className:"va-middle create-page__templates-item__footer-icon",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M9 0.674805C7.33122 0.674805 5.69992 1.16966 4.31238 2.09678C2.92484 3.0239 1.84338 4.34166 1.20477 5.88341C0.566156 7.42516 0.399065 9.12166 0.724628 10.7584C1.05019 12.3951 1.85378 13.8985 3.03379 15.0785C4.2138 16.2585 5.71721 17.0621 7.35393 17.3877C8.99064 17.7132 10.6871 17.5462 12.2289 16.9075C13.7706 16.2689 15.0884 15.1875 16.0155 13.7999C16.9427 12.4124 17.4375 10.7811 17.4375 9.1123C17.4375 6.87454 16.5486 4.72843 14.9662 3.14609C13.3839 1.56375 11.2378 0.674805 9 0.674805ZM13.6519 6.7498L7.63313 12.7686C7.60496 12.7951 7.56774 12.8098 7.52907 12.8098C7.49039 12.8098 7.45317 12.7951 7.425 12.7686L4.34813 9.6748C4.24336 9.56941 4.18456 9.42685 4.18456 9.27824C4.18456 9.12964 4.24336 8.98707 4.34813 8.88168C4.45352 8.77691 4.59609 8.71811 4.74469 8.71811C4.8933 8.71811 5.03586 8.77691 5.14125 8.88168L7.425 11.1654C7.45317 11.1919 7.49039 11.2067 7.52907 11.2067C7.56774 11.2067 7.60496 11.1919 7.63313 11.1654L12.8588 5.9398C12.9641 5.83504 13.1067 5.77623 13.2553 5.77623C13.4039 5.77623 13.5465 5.83504 13.6519 5.9398C13.7063 5.99228 13.7496 6.05519 13.7792 6.12477C13.8088 6.19436 13.824 6.26919 13.824 6.3448C13.824 6.42041 13.8088 6.49525 13.7792 6.56484C13.7496 6.63442 13.7063 6.69733 13.6519 6.7498Z",fill:"#3E87F8"})),n.a.createElement("span",{className:"va-middle"},u("app.pages.newpage.customtemplate")))),m&&n.a.createElement(ea,{handleChooseTemplate:this.handleChooseTemplate,choosedTemplate:p,close:this.handleToggleOpenTemplates,templates:c}))),e?n.a.createElement("div",{className:"text-input__loading--line input-wrapper_mb30",style:{width:"100%",height:44}}):n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{className:"label",onClick:this.focusToPathInput},u("app.pages.newpage.linklabel")),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30 input",onClick:this.focusToPathInput},n.a.createElement("span",{className:"input__after"},h.domain||"".concat(h.subdomain,".siter.io"),"/"),n.a.createElement(jt,{id:"path",editable:!0,className:"input__content-editable input__content-editable_black",html:o,onChange:this.handleChangePath}))),h&&h.pages.length>0&&n.a.createElement(n.a.Fragment,null,e?n.a.createElement("div",{className:"text-input__loading--line",style:{width:"100%",height:56,marginBottom:20}}):n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("div",{className:"create-page__checkbox-wrapper"},n.a.createElement("input",{onChange:this.handleChangeHome,id:"home",type:"checkbox",tabIndex:"-1",className:"checkbox",checked:s}),n.a.createElement("label",{htmlFor:"home",title:"Home",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text va-middle"},u("app.pages.newpage.makehome")," ",n.a.createElement("span",{className:"blue-text"},"(\u2605)")))),n.a.createElement("div",{className:"input-wrapper__hint input-wrapper__hint_checkbox"},u("app.pages.newpage.makehomedesc")," ",n.a.createElement(O.a,{to:"/account/sites/".concat(h.id,"/pages/").concat(h.home_page_id,"/editor"),target:"_blank"},u("app.pages.newpage.homepage"),"\u2197")," ",u("app.pages.newpage.makehomesubdesc"),n.a.createElement("br",null),u("app.pages.newpage.ps")))),e?n.a.createElement("div",{className:"text-input__loading--line mt30",style:{width:"100%",height:36,marginBottom:0}}):n.a.createElement("div",{className:"dashboard-create__site-notify".concat(h&&h.pages.length>0?" mt30":"")},"\u2600 ",u("app.pages.newpage.info")),n.a.createElement("button",{disabled:e,onClick:this.handleCreate,className:"button button_green dashboard-create__site-button mt40"},u("app.pages.newpage.button"))),n.a.createElement("div",{className:"create-page__right"},e?n.a.createElement("div",null,n.a.createElement("div",{className:"text-input__loading--line",style:{width:"100%",height:348,marginBottom:20}}),n.a.createElement("div",{className:"text-input__loading--line mt20",style:{width:"100%",height:44,marginBottom:20}}),n.a.createElement("div",{className:"text-input__loading--line mt20",style:{width:"100%",height:44,marginBottom:20}})):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"create-page__right-title"},u("app.pages.newpage.preview")),n.a.createElement("div",{className:"pages-settings-modal__facebook"},l?n.a.createElement("div",{className:"dashboard__top",style:{backgroundImage:"url(".concat(r,")")},alt:"Og image"}):"blank"!==p?n.a.createElement("div",{className:"dashboard__top",style:{backgroundImage:"url(".concat(d,")")},alt:"Og image"}):n.a.createElement("div",{className:"dashboard__top inline-middle"},ta),n.a.createElement("div",{className:"pages-settings-modal__facebook-content"},n.a.createElement("div",{className:"dashboard__item-info__link"},n.a.createElement("div",{className:"dashboard__item-info__fav"},n.a.createElement("img",{alt:h.name,src:h.favicon?h.favicon.url:"",width:"54px",height:"54px"})),n.a.createElement("span",{className:"dashboard__name",style:{maxWidth:309}},h.default_domain+(s?"":"/"+g))),n.a.createElement("div",{className:"pages-settings-modal__facebook-content__desc"},t),n.a.createElement("div",{className:"pages-settings-modal__facebook-content__url"},a||u("app.pages.newpage.nodesc")))),n.a.createElement("div",{className:"create-page__right-uploader"},n.a.createElement(Zt,{assetType:"page",value:r,onChange:this.handleChangeOgImage})),n.a.createElement("div",{className:"dashboard-create__site-notify mt20"},"\u2600 ",u("app.pages.newpage.infoimage"))))))}}const sa={createPageRequest:Ft.a,fetchSiteRequest:St.c};var na=Object(h.b)(e=>({site:e.site,user:e.sessions}),sa)(Object(I.a)()(aa));class oa extends s.Component{constructor(){super(...arguments),this.options=(e,t)=>{const{t:a}=this.props;return n.a.createElement("div",{className:"dashboard__item-page__footer-name__more-options-wrapper"},n.a.createElement("div",{onClick:()=>{this.props.handleChangeStatus(e,"admin")},className:"dashboard__item-page__footer-name__more-options__item ".concat("admin"===e.status&&"dashboard__item-page__footer-name__more-options__item_active")},a("app.team.optionsadmin")),n.a.createElement("div",{onClick:()=>{this.props.handleChangeStatus(e,"member")},className:"dashboard__item-page__footer-name__more-options__item dashboard__item-page__footer-name__more-options__item_noredhover ".concat("member"===e.status&&"dashboard__item-page__footer-name__more-options__item_active")},a("app.team.optionsmember")))}}render(){const{site:e,handleRemoveCollaboration:t,handleShowInfo:a,showInfo:s,t:o}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"title"},o("app.team.collaboratorstitle"),n.a.createElement("span",{className:"cp va-middle members-info__icon",onClick:a},n.a.createElement("svg",{width:"13px",height:"13px",viewBox:"0 0 13 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.a.createElement("g",{id:"Members",transform:"translate(-530.000000, -397.000000)"},n.a.createElement("g",{id:"Group-6",transform:"translate(530.000000, 397.000000)"},n.a.createElement("circle",{id:"Oval-6",fill:"#BDBDBD",cx:"6.5",cy:"6.5",r:"6.5"}),n.a.createElement("text",{id:"i",fontFamily:"Roboto-BlackItalic, Roboto",fontSize:"10",fontStyle:"italic",fontWeight:"700",fill:"#F2F4F8"},n.a.createElement("tspan",{x:"5",y:"10"},"i")))))))),s&&n.a.createElement("div",{className:"members-table__info-popup"},n.a.createElement("div",{className:"members-table__info-popup__triangle"}),n.a.createElement("div",{className:"members-table__info-popup-wrapper"},n.a.createElement("div",{className:"members-table__info-popup-col"},n.a.createElement("div",{className:"members-table__info-popup-col__title"},o("app.team.collaboratorinfo.member")),n.a.createElement("div",{className:"members-table__info-popup-col__item"},o("app.team.collaboratorinfo.invitemembers")),n.a.createElement("div",{className:"members-table__info-popup-col__item"},o("app.team.collaboratorinfo.adddomains")),n.a.createElement("div",{className:"members-table__info-popup-col__item"},o("app.team.collaboratorinfo.paid"))),n.a.createElement("div",{className:"members-table__info-popup-col"},n.a.createElement("div",{className:"members-table__info-popup-col__title"},o("app.team.collaboratorinfo.admin")),n.a.createElement("div",{className:"members-table__info-popup-col__item"},o("app.team.collaboratorinfo.invitemembers")),n.a.createElement("div",{className:"members-table__info-popup-col__item"},o("app.team.collaboratorinfo.adddomains")),n.a.createElement("div",{className:"members-table__info-popup-col__item"},o("app.team.collaboratorinfo.paid")),n.a.createElement("div",{className:"members-table__info-popup-col__item"},o("app.team.collaboratorinfo.transfer")))),n.a.createElement("svg",{className:"members-table__info-popup__close-icon",onClick:a,width:"8px",height:"8px",viewBox:"0 0 8 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.a.createElement("g",{id:"Members",transform:"translate(-920.000000, -385.000000)",fill:"#C4C8D5",fillRule:"nonzero"},n.a.createElement("g",{id:"Group-3",transform:"translate(553.000000, 370.000000)"},n.a.createElement("path",{d:"M372.313705,18.8994912 L374.637056,21.2228421 C374.916002,21.501788 374.825549,22.0445008 374.435025,22.4350251 C374.044501,22.8255494 373.501788,22.9160015 373.222842,22.6370556 L370.899491,20.3137048 L368.57614,22.6370556 C368.297194,22.9160015 367.754482,22.8255494 367.363957,22.4350251 C366.973433,22.0445008 366.882981,21.501788 367.161927,21.2228421 L369.485278,18.8994912 L367.161927,16.5761404 C366.882981,16.2971944 366.973433,15.7544816 367.363957,15.3639573 C367.754482,14.973433 368.297194,14.8829809 368.57614,15.1619268 L370.899491,17.4852776 L373.222842,15.1619268 C373.501788,14.8829809 374.044501,14.973433 374.435025,15.3639573 C374.825549,15.7544816 374.916002,16.2971944 374.637056,16.5761404 L372.313705,18.8994912 Z",id:"close"})))))),n.a.createElement("table",{className:"members-table"},n.a.createElement("tbody",null,e.collaborations.map((a,s)=>n.a.createElement("tr",{key:s},n.a.createElement("td",null,n.a.createElement("div",{className:"members-table__info"},n.a.createElement("div",{className:"members-table__avatar",style:{backgroundImage:"url(".concat(a.user.avatar_url,")")},alt:"User Avatar"}),n.a.createElement("span",{className:"members-table__name"},a.user.username))),n.a.createElement("td",null,n.a.createElement("a",{href:"mailto:".concat(a.user.email),className:"members-table__email"},a.user.email)),n.a.createElement("td",{className:"va-middle"},a.user.id===e.owner_id?n.a.createElement("div",{className:"members-table__status-wrapper",style:{opacity:.6}},n.a.createElement("div",{className:"members-table__status",style:{cursor:"default"}},o("app.team.owner"),n.a.createElement("svg",{width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{opacity:"0.5",d:"M1 1L7 7L13 1",stroke:"#333333"})))):n.a.createElement(P.a,{arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"bottomRight",trigger:["click"],overlayClassName:"custom-tooltip_113",transitionName:"rc-tooltip-zoom",overlay:this.options(a)},n.a.createElement("div",{className:"members-table__status-wrapper"},n.a.createElement("div",{className:"members-table__status"},a.status,n.a.createElement("svg",{width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{opacity:"0.5",d:"M1 1L7 7L13 1",stroke:"#333333"})))))),n.a.createElement("td",{className:"va-middle ta-right"},a.user.id!==e.owner_id&&e.collaborations.length>1&&n.a.createElement("span",{className:"members-table__link",onClick:t.bind(null,a)},"Revoke Access")))))))}}var ia=Object(h.b)(e=>({user:e.sessions}),{})(Object(I.a)()(oa)),ra=a(491),la=a.n(ra);var ca=Object(I.a)()(e=>{const{invites:t,removeInvite:a,handleReminder:s,t:o}=e;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"title"},o("app.team.invitedtitle")),n.a.createElement("table",{className:"members-table members-table_invited"},n.a.createElement("tbody",null,t.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("div",{className:"members-table__info"},n.a.createElement("img",{className:"members-table__avatar",src:la.a,alt:"User Avatar"}),n.a.createElement("a",{href:"mailto:".concat(e.email),className:"members-table__name"},e.email))),n.a.createElement("td",{className:"va-middle"},n.a.createElement("span",{className:"members-table__status2"},"pending"===e.status?"".concat(o("app.team.notresponded")," "):"")),n.a.createElement("td",{className:"va-middle"},"pending"===e.status&&n.a.createElement("div",{onClick:s.bind(null,e),to:"/",className:"members-table__link members-table__link_blue"},o("app.team.resend"))),n.a.createElement("td",{className:"va-middle"},n.a.createElement("div",{onClick:a.bind(null,e),to:"/",className:"members-table__link"},o("app.team.revoke"))))))))});class pa extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={showInfo:!1,invites:[],loading:!0,plans:!1},this.handleShowInfo=()=>{this.setState({showInfo:!this.state.showInfo})},this.request=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};l.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.user.jwt),l.a[a.toLowerCase()](t,s).then(e=>{n(e.data)})},this.getInvites=e=>{this.request("/invites?site_id=".concat(e),"GET",{},e=>{this.setState({invites:e.invites})})},this.removeInvite=e=>{const{siteId:t}=this.props.match.params;this.request("/invites/".concat(e.id,"?site_id=").concat(t),"DELETE",{},e=>{y.b.success("Invite successfully removed","Members invite",5e3),this.state.invites.filter(e=>"accepted"!==e.status).length-1===0&&L.a.push("/account/sites/".concat(this.props.match.params.siteId,"/team/accepted")),this.getInvites(t)})},this.handleReminder=e=>{this.request("/invites/".concat(e.id,"?site_id=").concat(this.props.match.params.siteId),"PUT",{},e=>{y.b.success("Reminder sent","Members invite",5e3)})},this.handleChangeStatus=(e,t)=>{this.props.updateCollaborationRequest({collaborationId:e.id,siteId:this.props.match.params.siteId,status:t},()=>{this.props.fetchSiteRequest(this.props.match.params.siteId)})},this.handleRemoveCollaboration=e=>{this.props.deleteCollaborationRequest({collaborationId:e.id,siteId:this.props.match.params.siteId},()=>{e.user.id===this.props.user.id?L.a.push("/account/sites"):this.props.fetchSiteRequest(this.props.match.params.siteId)})}}componentDidMount(){document.title="".concat(this.props.t("app.titles.team")," - Siter.io"),this.setState({loading:!0}),this.props.fetchSiteRequest(this.props.match.params.siteId,e=>{this.getInvites(e.id),this.setState({loading:!1})})}render(){var e,t;const{loading:a,invites:s,showInfo:o}=this.state,{t:i}=this.props,r=s.filter(e=>"accepted"!==e.status),l=r.length;return n.a.createElement("div",{className:"members-wrapper"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"dashboard__settings"},n.a.createElement("div",{className:"dashboard__settings-col-1"},n.a.createElement("div",{className:"dashboard__settings-menu"},n.a.createElement(O.a,{className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active",to:"/account/sites/".concat(this.props.match.params.siteId,"/team/accepted")},i("app.team.menu.collaborators"),n.a.createElement("span",{className:"dashboard__settings-menu__item-count"},null===(e=this.props.site)||void 0===e||null===(t=e.collaborations)||void 0===t?void 0:t.length)),l>0&&n.a.createElement(O.a,{className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active",to:"/account/sites/".concat(this.props.match.params.siteId,"/team/invited")},i("app.team.menu.invited"),n.a.createElement("span",{className:"dashboard__settings-menu__item-count"},l)))),n.a.createElement("div",{className:"dashboard__settings-col-2"},a&&i("app.team.loading"),!a&&"accepted"===this.props.match.params.folderId&&n.a.createElement(ia,{selectClasses:this.selectClasses,handleChangeStatus:this.handleChangeStatus,site:this.props.site,handleShowInfo:this.handleShowInfo,showInfo:o,handleRemoveCollaboration:this.handleRemoveCollaboration}),!a&&"invited"===this.props.match.params.folderId&&n.a.createElement(ca,{handleReminder:this.handleReminder,removeInvite:this.removeInvite,invites:r,site:this.props.site})))))}}const da={updateCollaborationRequest:_t,deleteCollaborationRequest:vt,fetchSiteRequest:St.c};var ha=Object(h.b)(e=>({site:e.site,user:e.sessions}),da)(Object(I.a)()(pa));class ma extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={email:"",text:"Example",disableButton:!0},this.handleChangeEmail=e=>{this.setState({email:e.target.value})},this.request=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};l.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.user.jwt),l.a[a.toLowerCase()](t,s).then(e=>{n(e.data)})},this.getInvites=e=>{this.request("/invites?site_id=".concat(e),"GET",{},e=>{this.setState({invites:e.invites,disableButton:!1})})},this.siteOwner=()=>this.props.site.owner_id===this.props.user.id,this.handleInvite=e=>{e.preventDefault();const{siteId:t}=this.props.match.params,{email:a}=this.state;if(this.setState({submitted:!0}),a&&Object(K.w)(a,"email")){const e={email:this.state.email,siteId:t};this.setState({disableButton:!0}),l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.sessions.jwt),l.a.post("/invites?site_id=".concat(t),e).then(e=>{this.props.fetchSiteRequest(t),this.setState({disableButton:!0}),L.a.push("/account/sites/".concat(t,"/team/invited"))}).catch(()=>{this.setState({disableButton:!1})})}},this.close=()=>{L.a.push("/account/sites/".concat(this.props.match.params.siteId,"/team/accepted"))},this.handleOpenPlans=()=>{L.a.push("/account/profile/billing/checkout")}}componentDidMount(){const{siteId:e}=this.props.match.params;this.getInvites(e),this.props.fetchSiteRequest(e)}render(){const{email:e}=this.state,{t:t}=this.props;return n.a.createElement("div",{className:"members-invite__container"},n.a.createElement("div",{className:"title"},t("app.team.addcollaboratorsbutton")),n.a.createElement(J,{tabIndex:"1",value:e,onChange:this.handleChangeEmail,id:"login",autoFocus:"autofocus",placeholder:t("app.team.emailplaceholder"),label:t("app.team.emaillabel"),type:"text",name:"login",datatype:"email",submitted:this.state.submitted,required:!0}),n.a.createElement("button",{style:{marginTop:0},name:"button",onClick:this.handleInvite,disabled:this.state.disableButton,type:"submit",title:"Finish",className:"button button_green members-button"},this.state.disableButton?t("app.team.loading"):t("app.team.sendbutton")))}}const ua={fetchSiteRequest:St.c};var ga=Object(h.b)(e=>({site:e.site,sessions:e.sessions,user:e.sessions}),ua)(Object(I.a)()(ma));class _a extends s.Component{constructor(){super(...arguments),this.state={name:this.props.site.name,emojiPickedOpen:!1,uploading:!1},this.oldSubdomain=this.props.site.subdomain,this.handleChangeName=e=>{this.setState({name:e.target.value})},this.handleSave=e=>{const{t:t}=this.props;e.preventDefault(),this.setState({disableButton:!0}),this.props.updateSiteRequest({name:this.state.name,id:this.props.site.id},e=>{this.setState({disableButton:!1}),y.b.success(t("app.settings.general.successmessage"),t("app.settings.general.successtitle"),5e3)})},this.uploaded=e=>{window.t=(new Date).getTime(),this.props.fetchSiteRequest(this.props.site.id)},this._handleImageChange=e=>{const t=this;e.preventDefault();const a=new FileReader,s=e.target.files[0];a.onloadend=()=>{const e=new Image;e.onload=function(){t.uploadImage(s,!1,e)},e.src=a.result},a.readAsDataURL(s),this.setState({uploading:!0})},this.addEmoji=e=>{this.setState({emojiPickedOpen:!1,name:"".concat(this.state.name," ").concat(e.native)})},this.handleOpenEmojiPicker=()=>{this.setState({emojiPickedOpen:!this.state.emojiPickedOpen})}}uploadImage(e){let t=arguments.length>2?arguments[2]:void 0;const a=this;return this.setState({uploading:!0}),new Promise((s,n)=>{const o=new FormData;o.append("favicon",e);const i=new XMLHttpRequest;i.open("put","".concat(l.a.defaults.baseURL,"/sites/").concat(this.props.site.id),!0),i.setRequestHeader("Authorization","Bearer ".concat(this.props.user.jwt)),i.onload=function(){200===this.status?(a.uploaded(JSON.parse(this.response),t),a.setState({uploading:!1})):(n(this.statusText),a.setState({uploading:!1}))},i.send(o)})}render(){const{disableButton:e,emojiPickedOpen:t,name:a,uploading:s}=this.state,{t:o}=this.props;return n.a.createElement("div",{className:"settings-general__container"},n.a.createElement("div",{className:"title"},o("app.settings.general.title")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("label",{htmlFor:"uploadFile",className:"label"},o("app.settings.general.websiteicon")),n.a.createElement("div",{className:"settings-favicon__uploader"},n.a.createElement("input",{id:"uploadFile",className:"hidden",name:"file",type:"file",onChange:this._handleImageChange}),n.a.createElement("img",{width:"100%",src:this.props.site.favicon&&"".concat(this.props.site.favicon.url,"?t=").concat((new Date).getTime()),alt:"Avatar"}),n.a.createElement("label",{htmlFor:"uploadFile",className:"settings-favicon__uploader-status"},o(s?"app.settings.general.loading":"app.settings.general.uploadbutton"))),n.a.createElement("div",{className:"input-wrapper__hint input-wrapper__hint_mt12"},o("app.settings.general.description")," ",n.a.createElement("br",null),o("app.settings.general.seconddescription"))),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("label",{className:"label"},o("app.settings.general.titlelabel")),n.a.createElement("div",{className:"input-wrapper__icon"},n.a.createElement("input",{value:a,onChange:this.handleChangeName,id:"name",placeholder:o("app.settings.general.titleplaceholder"),type:"text",name:"login",required:"",className:"input input_hover"}),n.a.createElement("svg",{onClick:this.handleOpenEmojiPicker,className:"cp input-wrapper__icon-svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9ZM9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M8 7C8 7.55228 7.55228 8 7 8C6.44772 8 6 7.55228 6 7C6 6.44772 6.44772 6 7 6C7.55228 6 8 6.44772 8 7Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M12 7C12 7.55228 11.5523 8 11 8C10.4477 8 10 7.55228 10 7C10 6.44772 10.4477 6 11 6C11.5523 6 12 6.44772 12 7Z",fill:"#BDBDBD"}),n.a.createElement("path",{d:"M11.3557 10.4111C12.0944 10.2264 12.7132 10.9073 12.2286 11.4947C11.4719 12.4122 10.3068 13 9 13C7.6932 13 6.52815 12.4122 5.77135 11.4947C5.28684 10.9073 5.90561 10.2264 6.64431 10.4111L8.27239 10.8181C8.75011 10.9375 9.24989 10.9375 9.72761 10.8181L11.3557 10.4111Z",fill:"#BDBDBD"})),t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"create-page__emojipicker-overlay",onClick:this.handleOpenEmojiPicker}),n.a.createElement("div",{className:"create-page__emojipicker"},n.a.createElement(Gt.a,{onSelect:this.addEmoji})))),n.a.createElement("div",{className:"input-wrapper__hint"},o("app.settings.general.titledescription"))),n.a.createElement("button",{disabled:e,className:"button button_green dashboard-create__site-button",onClick:this.handleSave},o("app.settings.general.buttonsave")))}}const fa={updateSiteRequest:St.g,fetchSiteRequest:St.c};var va=Object(h.b)(e=>({site:e.site,user:e.sessions}),fa)(Object(I.a)()(_a));const wa=n.a.createElement("svg",{className:"billing-coupon__loader",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(255, 255, 255)",display:"block",shapeRendering:"auto"},viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},n.a.createElement("g",{transform:"rotate(0 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(30 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(60 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(90 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(120 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(150 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(180 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(210 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(240 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(270 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(300 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}))),n.a.createElement("g",{transform:"rotate(330 50 50)"},n.a.createElement("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#27ae60"},n.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})))),Ca=n.a.createElement("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1.70711 4.55956C1.31658 4.16904 0.683418 4.16904 0.292893 4.55956C-0.0976311 4.95008 -0.0976311 5.58325 0.292893 5.97377L1.70711 4.55956ZM3.90912 8.17579L3.20201 8.88289L3.90912 8.17579ZM5.42263 8.06005L6.22904 8.65141L6.22904 8.65141L5.42263 8.06005ZM11.4064 1.59136C11.733 1.146 11.6367 0.520196 11.1914 0.193595C10.746 -0.133006 10.1202 -0.0367289 9.7936 0.408636L11.4064 1.59136ZM0.292893 5.97377L3.20201 8.88289L4.61623 7.46868L1.70711 4.55956L0.292893 5.97377ZM6.22904 8.65141L11.4064 1.59136L9.7936 0.408636L4.61623 7.46868L6.22904 8.65141ZM3.20201 8.88289C4.06876 9.74964 5.50416 9.63988 6.22904 8.65141L4.61623 7.46868L4.61623 7.46868L3.20201 8.88289Z",fill:"#27AE60"})),ya=e=>n.a.createElement("label",null,e.brand&&n.a.createElement(he,{brand:e.brand}),n.a.createElement("span",{className:"billing-table__card-dots"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022")," ",n.a.createElement("span",{className:"va-middle inline-wrapper"},e.last4)),ba=e=>e.brand?n.a.createElement("label",null,e.brand&&n.a.createElement(he,{brand:e.brand}),n.a.createElement("span",{className:"billing-table__card-dots"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022")," ",n.a.createElement("span",{className:"va-middle inline-wrapper"},e.last4)):n.a.createElement("span",null,"Choose...");class Ea extends s.Component{constructor(){super(...arguments),this.state={step:0,plans:[],currentPlan:void 0,paymentMethods:[],paymentMethod:{},buyInProgress:!1,updateDefault:!1,loading:!0,couponInput:!1,couponLoader:!1,couponValid:!1,percentOff:0},this.handleNext=()=>{this.setState({step:1})},this.handleBack=()=>{this.setState({step:0})},this.onAddPaymentMethodSuccess=()=>{this.getPaymentMethods(),this.handleNext()},this.getPlans=()=>{const{user:e}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(e.jwt),l.a.get("/billing/plans").then(e=>{let{data:t}=e;const a=t.find(e=>"monthly"===e.name);this.setState({plans:t,currentPlan:a,loading:!1})})},this.filteredPlans=()=>{const{plans:e}=this.state;let t=e.find(e=>e.id===this.state.currentPlan.id);return e.filter(e=>e.id!==t.id)},this.handleChangePlan=()=>{this.filteredPlans().length>0&&this.setState({currentPlan:this.filteredPlans()[0]})},this.getPaymentMethods=e=>{const{user:t}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.get("/billing/payment_methods").then(a=>{let{data:s}=a;this.setState({paymentMethods:s,paymentMethod:t.payment_method},e)})},this.setPaymentDefault=(e,t)=>{let{identifier:a}=e;const{user:s,fetchUserRequest:n}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(s.jwt),l.a.patch("/billing/payment_methods/".concat(a)).then(e=>{let{data:a}=e;n(),t()})},this.handleChangePaymentMethod=e=>{this.setState({updateDefault:!0}),this.setPaymentDefault(e,()=>{this.setState({updateDefault:!1,paymentMethod:e})})},this.createSubscription=e=>{const{user:t}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.post("/billing/subscriptions",e).then(()=>{this.setState({buyInProgress:!1}),this.props.fetchSiteRequest(e.subdomain),this.props.withoutRedirect||L.a.push("/account/sites/".concat(e.subdomain,"/settings/domains")),this.props.close()}).catch(e=>{this.setState({buyInProgress:!1})})},this.handleBuy=()=>{const{currentPlan:e,couponValid:t,couponValue:a}=this.state,{createSiteRequest:s}=this.props;let n={plan_id:e.stripe_plan_id};t&&(n.coupon=a),s&&!this.createdSiteSubdomain?s(e=>{this.createdSiteSubdomain=e.subdomain,this.setState({buyInProgress:!0}),this.createSubscription(n)},()=>{this.props.close()}):(n.subdomain=this.createdSiteSubdomain||this.props.subdomain,this.setState({buyInProgress:!0}),this.createSubscription(n))},this.handleChangeCouponValue=e=>{this.setState({couponValue:e.target.value})},this.checkCoupon=e=>{const{user:t}=this.props;l.a.defaults.headers.common.Authorization="Bearer ".concat(t.jwt),l.a.get("/billing/check_coupon?coupon=".concat(this.state.couponValue)).then(t=>{e(t.data)})},this.getCouponPercentage=e=>{const{percentOff:t}=this.state;return e/100*t},this.handleApplyCoupon=()=>{this.setState({couponLoader:!0}),this.checkCoupon(e=>{e.valid?(this.setState({couponValid:!0,percentOff:e.percent_off}),y.b.success("Coupon successfully applied!","OK",5e3)):(this.setState({couponValid:!1}),y.b.error("Coupon not found","Error",5e3)),this.setState({couponLoader:!1})})},this.handleOpenCouponInput=()=>{this.setState({couponInput:!0},()=>{document.getElementById("coupon").focus()})}}componentWillMount(){this.getPlans(),this.getPaymentMethods(),this.props.user.payment_method&&this.setState({step:1})}roundToTwo(e){return+(Math.round(e+"e+2")+"e-2")}render(){const{close:e,t:t}=this.props,{step:a,currentPlan:s,buyInProgress:o,loading:i,paymentMethods:r,paymentMethod:l,updateDefault:c,couponInput:p,couponValue:d,couponLoader:h,couponValid:m}=this.state,u=this.filteredPlans()[0]?this.filteredPlans()[0]:{};let g="monthly";return s&&(g=s.interval),n.a.createElement("div",{resize:"height",className:"login-wrapper dashboard-create__site subscription-modal"},n.a.createElement(Qt.a,{keyEventName:Xt.KEYDOWN,keyValue:"Escape",onKeyHandle:e}),n.a.createElement("div",{className:"dashboard-create__site-overlay",onClick:e}),n.a.createElement("div",{className:"inline-wrapper modal-window plan-modal__window"},n.a.createElement("div",{className:"billing-item"},i&&n.a.createElement("div",null,n.a.createElement("div",{className:"plans-loading--line"}),n.a.createElement("div",{className:"plans-loading--line"}),n.a.createElement("div",{className:"plans-loading--line"}),n.a.createElement("div",{className:"plans-loading--line"}),n.a.createElement("div",{className:"plans-loading--line"}),n.a.createElement("div",{className:"plans-loading--line"}),n.a.createElement("div",{className:"plans-loading--line"})),s&&!i&&n.a.createElement("div",null,n.a.createElement("span",{className:"billing-item__title"},s.name),n.a.createElement("div",{className:"billing-item__price"},n.a.createElement("span",null,s.price.symbol,((parseFloat(s.price.cents)-this.getCouponPercentage(parseFloat(s.price.cents)))/("monthly"===g?1:12)).toFixed(0)),"\xa0",n.a.createElement("span",null,"/ month")),n.a.createElement("ul",{className:"billing-item__features"},n.a.createElement("li",{className:"billing-item__features-item"},Ca,t("app.settings.billing.plans.customdomain")),n.a.createElement("li",{className:"billing-item__features-item"},Ca,t("app.settings.billing.plans.unlimitedpages")),n.a.createElement("li",{className:"billing-item__features-item"},Ca,t("app.settings.billing.plans.unlimitedcollaborators")),n.a.createElement("li",{className:"billing-item__features-item"},Ca,"monthly"===s.interval?t("app.settings.billing.plans.monthly"):t("app.settings.billing.plans.annualy"))),p?n.a.createElement("div",{className:"billing-item__coupon-block"},n.a.createElement("input",{id:"coupon",disabled:m,value:d,onChange:this.handleChangeCouponValue,type:"text",className:"input billing-item__coupon-input"}),h?wa:m?n.a.createElement("div",null):n.a.createElement("svg",{className:"billing-item__coupon-block__icon",onClick:this.handleApplyCoupon,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M10 0.75C8.1458 0.75 6.33324 1.29983 4.79153 2.32997C3.24982 3.36011 2.04821 4.82429 1.33863 6.53734C0.629062 8.2504 0.443406 10.1354 0.805142 11.954C1.16688 13.7725 2.05976 15.443 3.37088 16.7541C4.68199 18.0652 6.35246 18.9581 8.17103 19.3199C9.9896 19.6816 11.8746 19.4959 13.5877 18.7864C15.3007 18.0768 16.7649 16.8752 17.795 15.3335C18.8252 13.7918 19.375 11.9792 19.375 10.125C19.375 7.6386 18.3873 5.25403 16.6291 3.49587C14.871 1.73772 12.4864 0.75 10 0.75V0.75ZM15.1688 7.5L8.48125 14.1875C8.44995 14.2169 8.4086 14.2333 8.36563 14.2333C8.32266 14.2333 8.2813 14.2169 8.25 14.1875L4.83125 10.75C4.71485 10.6329 4.64951 10.4745 4.64951 10.3094C4.64951 10.1443 4.71485 9.98585 4.83125 9.86875C4.94836 9.75234 5.10676 9.687 5.27188 9.687C5.437 9.687 5.5954 9.75234 5.7125 9.86875L8.25 12.4062C8.2813 12.4357 8.32266 12.4521 8.36563 12.4521C8.4086 12.4521 8.44995 12.4357 8.48125 12.4062L14.2875 6.6C14.4046 6.48359 14.563 6.41825 14.7281 6.41825C14.8932 6.41825 15.0517 6.48359 15.1688 6.6C15.2292 6.6583 15.2774 6.7282 15.3102 6.80552C15.3431 6.88284 15.36 6.96599 15.36 7.05C15.36 7.13401 15.3431 7.21716 15.3102 7.29448C15.2774 7.3718 15.2292 7.4417 15.1688 7.5V7.5Z",fill:"#27AE60"}))):n.a.createElement("button",{className:"button button_white billing-item__button-coupon button_full",onClick:this.handleOpenCouponInput},n.a.createElement("span",{className:"va-middle"},t("app.settings.billing.plans.enterpromocode"))),n.a.createElement("button",{className:"button button_white billing-item__button button_full",onClick:this.handleChangePlan},t("app.settings.billing.plans.switchto")," ",n.a.createElement("span",{className:"capitalize"},u.interval)),n.a.createElement("div",{className:"billing-item__bottom-text billing-item__bottom-text1"},t("app.settings.billing.plans.billed")," ",s.price.symbol,this.roundToTwo(parseFloat(s.price.cents)-this.getCouponPercentage(parseFloat(s.price.cents)))," ","monthly"===s.interval?t("app.settings.billing.plans.monthtomonth"):t("app.settings.billing.plans.yeartoyear")," ",t("app.settings.billing.plans.untilcanceled"),"monthly"===s.interval?n.a.createElement("span",null,"\xa0",s.price.symbol,this.roundToTwo(12*parseFloat(s.price.cents)-this.getCouponPercentage(12*parseFloat(s.price.cents)))," ",t("app.settings.billing.plans.peryear")):n.a.createElement("div",null)))),0===a&&n.a.createElement(f.a,{to:"/account/profile/billing/add-payment-method"}),1===a&&n.a.createElement("div",{className:"billing-item billing-item_form"},n.a.createElement("div",{className:"billing-item_form-header"},!this.props.disableClose&&n.a.createElement("svg",{onClick:e,className:"cp",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.8"},n.a.createElement("path",{d:"M17 1L1 17",stroke:"#333333"}),n.a.createElement("path",{d:"M1 1L17 17",stroke:"#333333"}))),t("app.settings.billing.plans.selectpayment")),n.a.createElement("div",{className:"billing-item_form-body"},n.a.createElement("label",{className:"label"},t("app.settings.billing.plans.paymentmethod")),c?n.a.createElement("div",{className:"plans-loading--line",style:{marginTop:0,marginBottom:0,height:46,width:"100%"}}):n.a.createElement(Ue.a,{name:"select",value:l&&r.find(e=>e.id===l.id),onChange:this.handleChangePaymentMethod,searchable:!1,autoFocus:!1,clearable:!1,scrollMenuIntoView:!1,valueRenderer:ba,optionRenderer:ya,labelKey:"name",valueKey:"id",className:"payment-method__select",disabled:c,options:r}),n.a.createElement("button",{onClick:this.handleBuy,disabled:o||c,className:"button button_green button_full billing-item__button2 billing-item__button3"},t(o?"app.settings.billing.plans.loading":"app.settings.billing.plans.completebutton")),n.a.createElement("button",{className:"button button_white billing-item__button button_full billing-item__button3",onClick:this.handleBack},t("app.settings.billing.plans.addnewpaymentmethod")),s&&s.price&&l&&n.a.createElement("div",{className:"billing-item__bottom-text billing-item__bottom-text_payment-method ta-left"},t("app.settings.billing.plans.subscriptionwillrenew"),"\xa0","monthly"===s.interval?n.a.createElement(ue.a,{className:"capitalize",format:"MMMM DD, Y",date:ve()().add(1,"month")}):n.a.createElement(ue.a,{className:"capitalize",format:"MMMM DD, Y",date:ve()().add(1,"year")}),".",n.a.createElement("br",null),t("app.settings.billing.plans.yourcurrenttotal")," ",s.price.symbol,parseFloat(s.price.cents)-this.getCouponPercentage(parseFloat(s.price.cents)),".",n.a.createElement("br",null),"\xa0",n.a.createElement("br",null),t("app.settings.billing.plans.paymentmethod"),": MasterCard (",n.a.createElement("span",{className:"billing-table__card-dots"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022")," ",n.a.createElement("span",{className:"va-middle inline-wrapper"},l.last4),")",n.a.createElement("br",null),"\xa0",n.a.createElement("br",null),n.a.createElement(O.a,{className:"link link_black link_underline inline-top",to:"/account/profile/billing/payment-method",target:"_blank",rel:"noopener noreferrer",style:{position:"relative",zIndex:1}},t("app.settings.billing.plans.updatebutton")))))))}}const ka={fetchUserRequest:E,fetchSiteRequest:St.c};var Sa=Object(h.b)(e=>({user:e.sessions}),ka)(Object(Pe.injectStripe)(Object(I.a)()(Ea)));class xa extends s.Component{constructor(){super(...arguments),this.state={plans:!1,updateOpen:!1},this.getSite=()=>{this.props.fetchSiteRequest(this.props.match.params.siteId)},this.validDaysCount=()=>{const{user:e}=this.props;let t=ve()();return ve()(e.subscription.current_period_end).diff(t,"days")},this.handleOpenPlans=()=>{this.setState({plans:!0})},this.handleClosePlans=()=>{this.setState({plans:!1})},this.handleOpenUpdate=()=>{this.setState({updateOpen:!0})},this.handleCloseUpdate=()=>{this.setState({updateOpen:!1})}}componentWillMount(){this.getSite()}render(){const{site:e,user:t,t:a}=this.props,{payment_method:s}=t,{plans:o}=this.state;return n.a.createElement("div",null,t&&t.subscription?n.a.createElement("div",null,n.a.createElement("div",{className:"settings-general__container-billing-col"},n.a.createElement("div",{className:"title"},a("app.settings.billing.title")),n.a.createElement("table",{className:"settings-general__container-billing-col-table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,a("app.settings.billing.plan")),n.a.createElement("td",null,a("app.settings.billing.paid"))),n.a.createElement("tr",null,n.a.createElement("td",null,a("app.settings.billing.status")),n.a.createElement("td",{className:"capitalize"},t.subscription.status)),t.subscription.cancel_at&&n.a.createElement("tr",null,n.a.createElement("td",null,a("app.settings.billing.cancelat")),n.a.createElement("td",{className:"capitalize"},n.a.createElement(ue.a,{className:"capitalize",format:"MMMM DD, Y",date:t.subscription.cancel_at}))),n.a.createElement("tr",null,n.a.createElement("td",null,a("app.settings.billing.price")),n.a.createElement("td",null,t.subscription.plan.price.currency.symbol,parseFloat(t.subscription.plan.price.fractional),"/","monthly"===t.subscription.plan.interval?a("app.settings.billing.monthly"):a("app.settings.billing.annual"))),"active"===t.subscription.status&&!t.subscription.cancel_at&&n.a.createElement("tr",null,n.a.createElement("td",null,a("app.settings.billing.nextpayment")),n.a.createElement("td",null,n.a.createElement(ue.a,{className:"capitalize",format:"MMMM DD, Y",date:t.subscription.current_period_end}))))),n.a.createElement("button",{onClick:this.handleOpenUpdate,className:"button button_blue settings-general__container-billing-col-table__button"},a("app.settings.billing.changeorcancel"))),n.a.createElement("div",{className:"settings-general__container-billing-col"},s&&n.a.createElement("div",null,n.a.createElement("div",{className:"title"},a("app.settings.billing.paymentmethod")),n.a.createElement("div",{className:"settings-general__container-billing__payment-method"},n.a.createElement(he,{brand:s.brand}),n.a.createElement("span",{className:"va-middle"},n.a.createElement("span",{className:"billing-table__card-dots"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022")," ",n.a.createElement("span",{className:"va-middle inline-wrapper"},s.last4)),n.a.createElement("div",{className:"fr text-gray settings-general__container-billing__payment-method-exp"},a("app.settings.billing.exp")," ",(s.exp_month<10?"0":"")+s.exp_month,"/",s.exp_year)),n.a.createElement("div",{className:"billing-graytext settings-general__container-billing__payment-method-bottom__text"},"active"===t.subscription.status?"Payment scheduled in ".concat(this.validDaysCount()," days."):"","\xa0",n.a.createElement(O.a,{to:"/account/profile/billing/payment-method",className:"billing-graytext__link"},a("app.settings.billing.updatepaymentmethod")))))):n.a.createElement("div",null,n.a.createElement("div",{className:"settings-general__container-billing-col"},n.a.createElement("div",{className:"title"},a("app.settings.billing.title")),n.a.createElement("table",{className:"settings-general__container-billing-col-table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,a("app.settings.billing.plan")),n.a.createElement("td",null,a("app.settings.billing.free"))),n.a.createElement("tr",null,n.a.createElement("td",null,a("app.settings.billing.status")),n.a.createElement("td",null,a("app.settings.billing.active"))),n.a.createElement("tr",null,n.a.createElement("td",null,a("app.settings.billing.price")),n.a.createElement("td",null,"$0/",a("app.settings.billing.annual"))))),n.a.createElement("button",{className:"button button_green settings-general__container-billing-col-table__button",onClick:this.handleOpenPlans},"Upgrade to Pro"),o&&n.a.createElement(Sa,{subdomain:e.subdomain,close:this.handleClosePlans}))))}}const Na={fetchSiteRequest:St.c};var Ba=Object(h.b)(e=>({site:e.site,user:e.sessions}),Na)(Object(I.a)()(xa));class Fa extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={domain:"",subdomain:"",test:!1,disableButton:!1,disableButtonAddDomain:!1,https:!1,plans:!1},this.siteOwner=()=>this.props.site.owner_id===this.props.user.id,this.request=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=arguments.length>4?arguments[4]:void 0;l.a.defaults.headers.common.Authorization="Bearer ".concat(e.props.sessions.jwt),l.a.post(t,{},{headers:{"Content-Type":"application/json"}}).then(e=>{n(e)}).catch(e=>{o(e)})},this.pingDomain=e=>{const{t:t}=this.props;e.preventDefault(),this.setState({test:!0}),this.request("/sites/".concat(this.props.match.params.siteId,"/check_dns?domain=").concat(this.state.domain),"POST",{},e=>{e.data.active?this.request("/sites/".concat(this.props.match.params.siteId,"/ping_domain?domain=").concat(this.state.domain),"POST",{},e=>{this.setState({test:!1}),(e=e.data).active?y.b.success(t("app.settings.domains.domainsuccess"),t("app.settings.domains.success"),5e3):y.b.error(t("app.settings.domains.domainconnecterror"),t("app.settings.domains.error"),5e3)},()=>{y.b.error(t("app.settings.domains.servererror"),t("app.settings.domains.error"),5e3),this.setState({test:!1})}):(y.b.error(t("app.settings.domains.domaindnserror"),t("app.settings.domains.error"),5e3),this.setState({test:!1}))},()=>{this.setState({test:!1})})},this.handleSave=e=>{const{t:t}=this.props;this.setState({disableButton:!0}),this.props.updateSiteRequest({subdomain:this.state.subdomain,domain:this.state.domain?this.state.domain:null,id:this.props.match.params.siteId,https:this.state.https},()=>{y.b.success(t("app.settings.domains.savesuccess"),t("app.settings.domains.savetitle"),5e3),this.setState({disableButton:!1}),this.subdomain!==this.state.subdomain&&L.a.push("/account/sites")},()=>{this.setState({disableButton:!1})})},this.handleAddDomain=e=>{const{t:t}=this.props;this.setState({disableButtonAddDomain:!0}),this.props.updateSiteRequest({domain:this.state.domain?this.state.domain.toLowerCase():null,https:!0,id:this.props.match.params.siteId},()=>{y.b.success(t("app.settings.domains.domainadded"),t("app.settings.domains.domaintitle"),5e3),this.setState({disableButtonAddDomain:!1})},()=>{this.setState({disableButtonAddDomain:!1})})},this.handleUpdateDomain=e=>{const{t:t}=this.props;this.setState({disableButtonAddDomain:!0}),this.props.updateSiteRequest({domain:this.state.domain?this.state.domain.toLowerCase():null,https:!0,id:this.props.match.params.siteId},()=>{this.setState({disableButtonAddDomain:!1}),""===this.state.domain?y.b.success(t("app.settings.domains.domainremoved"),t("app.settings.domains.domaintitle"),5e3):y.b.success(t("app.settings.domains.domainsaved"),t("app.settings.domains.domaintitle"),5e3)},()=>{})},this.handleChangeDomain=e=>{this.setState({domain:e.target.value})},this.handleChangeSubdomain=e=>{this.setState({subdomain:e.target.value})},this.handleOpenPlans=()=>{L.a.push("/account/profile/billing/checkout")},this.userPaid=()=>{const{user:e}=this.props;return e.subscription&&"active"===e.subscription.status&&-1===e.subscription.plan.identifier.indexOf("free")},this.checkDomain=()=>{this.state.domain&&this.setState({domain:this.state.domain.replace("www.","")})}}componentDidMount(){const{domain:e,subdomain:t,https:a}=this.props.site;this.subdomain=t,this.setState({domain:e,subdomain:t,https:a})}render(){const{subdomain:e,domain:t,disableButton:a,disableButtonAddDomain:s,test:o}=this.state,{t:i,user:r}=this.props;return n.a.createElement("div",{className:"settings-general__container"},n.a.createElement("div",{className:"title"},i("app.settings.domains.titlefree")),r.subscription&&r.subscription.plan.limitation.link_domain?n.a.createElement("div",null,n.a.createElement("label",{className:"label"},i("app.settings.domains.freedomainlabel")),n.a.createElement("div",{className:"input-wrapper input-wrapper_create-site input"},n.a.createElement(jt,{editable:!0,className:"input__content-editable",maxLength:30,html:e,onChange:this.handleChangeSubdomain}),n.a.createElement("span",{className:"input__after"},".siter.io")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("input",{disabled:!0,id:"ms__form-checkbox",type:"checkbox",tabIndex:"-1",className:"checkbox",checked:!0}),n.a.createElement("label",{htmlFor:"ms__form-checkbox",title:"HTTPS",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text va-middle"},i("app.settings.domains.checkbox"))),n.a.createElement("button",{disabled:a,className:"button button_green mt40 dashboard-create__site-button mb40",onClick:this.handleSave},i("app.settings.domains.savebutton"))),n.a.createElement("div",{className:"title mb0"},i("app.settings.domains.titledomain")),n.a.createElement("div",{className:"input-wrapper mt20"},n.a.createElement("label",{htmlFor:"subdomain",className:"label"},i("app.settings.domains.domainnamelabel")),n.a.createElement("div",{className:"input-wrapper__contrls"},n.a.createElement("input",{value:t||"",onChange:this.handleChangeDomain,onBlur:this.checkDomain,id:"subdomain",placeholder:i("app.settings.domains.domainplaceholder"),type:"text",name:"subdomain",required:"",className:"input input_domain input_hover"}),this.props.site.domain?n.a.createElement("button",{className:"button button_white button_domain",onClick:this.handleUpdateDomain},"Save"):n.a.createElement("button",{disabled:s||!t||t.length<2,className:"button button_white button_domain",onClick:this.handleAddDomain},i("app.settings.domains.adddomainbutton"))),this.props.site.domain&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-wrapper mt10"},n.a.createElement("input",{id:"add-ssl",disabled:!0,type:"checkbox",tabIndex:"-1",className:"checkbox",checked:!0}),n.a.createElement("label",{htmlFor:"add-ssl",title:"HTTPS",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text va-middle"},i("app.settings.domains.checkbox")))),n.a.createElement("div",{className:"dashboard-create__site-notify mt10"},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://help.siter.io/article/163-add-custom-domain"},i("app.settings.domains.domaininfofirst")),n.a.createElement("br",null),i("app.settings.domains.domaininfosecond")," ",n.a.createElement("b",null,"5.161.34.112"),n.a.createElement("br",null),i("app.settings.domains.domaininfothird"),n.a.createElement("br",null),i("app.settings.domains.domaininfoforth")),n.a.createElement("button",{disabled:o,className:"mt20 button button_white",onClick:this.pingDomain},i(o?"app.settings.domains.loading":"app.settings.domains.testdomainbutton"))))):n.a.createElement("div",null,n.a.createElement("div",{className:"dashboard-create__site-notify",style:{lineHeight:"24px"}},i("app.settings.domains.paidwarning")),this.siteOwner()?n.a.createElement("button",{className:"button button_green dashboard-create__site-button mt40",onClick:this.handleOpenPlans},i("app.settings.domains.upgradebutton")):n.a.createElement("div",{className:"dashboard-create__site-notify mt20",style:{lineHeight:"24px"}},i("app.settings.domains.paidwarning2"))))}}const Aa={updateSiteRequest:St.g};var La=Object(h.b)(e=>({site:e.site,sessions:e.sessions,user:e.sessions}),Aa)(Object(I.a)()(Fa));class Oa extends s.Component{constructor(){super(...arguments),this.state={facebook_pixel_id:"",google_analytics_id:"",forms_facebook_pixel_id:"",forms_facebook_pixel_token:"",googleLoaded:!1,googleCounters:[],googleAuthenticated:!1,googleCountersLoading:!1},this.initializeGsi=()=>{this.GoogleAuth=window.google.accounts.oauth2.initTokenClient({client_id:window.googleKey,scope:"https://www.googleapis.com/auth/analytics.readonly",callback:e=>{this.googleToken=e.access_token,localStorage.setItem("googleToken",this.googleToken),this.updateListOfGoogleCounters()}}),this.setState({googleLoaded:!0})},this.connectGSI=()=>{const e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.onload=this.initializeGsi,e.async=!0,e.id="google-client-script",document.querySelector("body").appendChild(e)},this.handleSave=e=>{const{t:t}=this.props;this.setState({disableButton:!0}),this.props.updateSiteRequest({facebook_pixel_id:this.state.facebook_pixel_id,google_analytics_id:this.state.google_analytics_id,forms_facebook_pixel_id:this.state.forms_facebook_pixel_id,forms_facebook_pixel_token:this.state.forms_facebook_pixel_token,id:this.props.match.params.siteId},()=>{y.b.success(t("app.settings.domains.savesuccess"),t("app.settings.domains.savetitle"),5e3),this.setState({disableButton:!1})},()=>{this.setState({disableButton:!1})})},this.handleChangeFacebookPixelId=e=>{this.setState({facebook_pixel_id:e.target.value})},this.handleChangeGoogleAnalyticsId=e=>{this.setState({google_analytics_id:e.target.value})},this.handleChangeFormsFacebookPixelId=e=>{this.setState({forms_facebook_pixel_id:e.target.value})},this.handleChangeFormsFacebookPixelToken=e=>{this.setState({forms_facebook_pixel_token:e.target.value})},this.request=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const o=new XMLHttpRequest;o.open(t,e,!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization","Bearer "+a),o.onload=()=>{200===o.status?s(JSON.parse(o.response)):n()},o.send()},this.updateListOfGoogleCounters=()=>{let e=this;this.googleToken&&(this.setState({googleProcess:!1,googleCountersLoading:!0,googleAuthenticated:!0}),this.request("https://analyticsadmin.googleapis.com/v1alpha/accountSummaries","GET",this.googleToken,t=>{let a=[];if(Array.isArray(t.accountSummaries))for(let s of t.accountSummaries)this.request("https://analyticsadmin.googleapis.com/v1alpha/properties?filter=ancestor:".concat(s.account),"GET",this.googleToken,t=>{if(t.properties)for(const s of t.properties){let t=0;this.request("https://analyticsadmin.googleapis.com/v1alpha/".concat(s.name,"/dataStreams"),"GET",this.googleToken,s=>{if(s.dataStreams&&s.dataStreams.length>0)for(const i of s.dataStreams){var n,o;"WEB_DATA_STREAM"===i.type&&a.push({label:(null===i||void 0===i?void 0:i.displayName)+" ("+(null===i||void 0===i||null===(n=i.webStreamData)||void 0===n?void 0:n.measurementId)+")",value:null===i||void 0===i||null===(o=i.webStreamData)||void 0===o?void 0:o.measurementId}),t===s.dataStreams.length-1&&e.setState({googleCounters:a,googleCountersLoading:!1}),t++}else y.b.error("No data streams in Google Analytics")},this.googleSignOut)}},this.googleSignOut);else y.b.error("No data streams in Google Analytics"),this.googleSignOut()},this.googleSignOut))},this.handleAuthGoogle=()=>{this.setState({googleProcess:!0}),this.GoogleAuth.requestAccessToken()},this.handleChangeGoogleCounter=e=>{this.setState({google_analytics_id:e.value})},this.googleSignOut=()=>{window.google.accounts.oauth2.revoke(this.googleToken,()=>{console.log("access token revoked")}),localStorage.removeItem("googleToken"),this.setState({google_analytics_id:"",googleLoaded:!0,googleAuthenticated:!1,googleProcess:!1},this.handleSave)}}componentWillMount(){this.connectGSI()}componentWillUnmount(){const e=document.getElementById("google-client-script");e&&e.remove()}componentDidMount(){const{site:e}=this.props;this.setState({facebook_pixel_id:e.facebook_pixel_id,google_analytics_id:e.google_analytics_id,forms_facebook_pixel_id:e.forms_facebook_pixel_id,forms_facebook_pixel_token:e.forms_facebook_pixel_token}),this.googleToken=localStorage.getItem("googleToken"),this.googleToken&&this.updateListOfGoogleCounters()}render(){const{google_analytics_id:e,disableButton:t,googleAuthenticated:a,googleLoaded:s,googleManual:o,googleCountersLoading:i,googleProcess:r,facebook_pixel_id:l}=this.state,{t:c}=this.props;return n.a.createElement("div",{className:"settings-general__container"},n.a.createElement("div",{className:"title"},c("app.settings.analytics.title")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("label",{htmlFor:"google_analytics_id",className:"label"},c("app.settings.analytics.googleanalyticstitle")),s&&!a&&!r&&n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("button",{className:"button button_gg button_gg-connect",onClick:this.handleAuthGoogle},c("app.settings.analytics.button"))),(!s||r||i)&&n.a.createElement("div",null,n.a.createElement("span",{style:{lineHeight:"43px",display:"inline-block",fontWeight:500,verticalAlign:"middle",marginRight:12}},c("app.settings.analytics.loading")),r&&n.a.createElement("button",{className:"button button_white",style:{fontWeight:500},onClick:this.updateListOfGoogleCounters.bind(null,!0)},c("app.settings.analytics.refresh"))),s&&!i&&a&&!r&&n.a.createElement("div",null,n.a.createElement(Ue.a,{placeholder:c("app.settings.analytics.chooseproject"),name:"google-counter",id:"google-counter",className:"input_google_id",value:e,onChange:this.handleChangeGoogleCounter,scrollMenuIntoView:!1,clearable:!1,options:this.state.googleCounters}),n.a.createElement("svg",{className:"cp",onClick:this.googleSignOut,style:{width:17,verticalAlign:"top",marginTop:11,marginLeft:14},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M768.8 702.2c-8 0-16-3.2-22.4-9.6-12.8-12.8-12.8-32 0-44.7l137.4-137.4-137.3-137.4c-12.8-12.8-12.8-32 0-44.7s32-12.8 44.7 0L951 488.1c12.8 12.8 12.8 32 0 44.7L791.2 692.6c-6.4 6.4-14.4 9.6-22.4 9.6zM321.5 510.5c0-17.6 14.4-32 32-32h559.2c17.6 0 32 14.4 32 32s-14.4 32-32 32H353.5c-17.6-0.1-32-14.4-32-32zM65.9 830V191c0-52.7 43.1-95.9 95.9-95.9h351.5c52.7 0 95.9 43.1 95.9 95.9v127.8c0 17.6-14.4 32-32 32s-32-14.4-32-32V191c0-17.6-14.4-32-32-32H161.7c-17.6 0-32 14.4-32 32v639c0 17.6 14.4 32 32 32h351.5c17.6 0 32-14.4 32-32V702.2c0-17.6 14.4-32 32-32s32 14.4 32 32V830c0 52.7-43.1 95.9-95.9 95.9H161.7c-52.7 0-95.8-43.1-95.8-95.9z"}))),o&&n.a.createElement("input",{value:e,onChange:this.handleChangeGoogleAnalyticsId,id:"google_analytics_id",placeholder:c("app.settings.analytics.googleanalyticsplaceholder"),type:"text",name:"google_analytics_id",required:"",className:"input input_domain input_hover"})),n.a.createElement("div",{className:"dashboard-create__site-notify"},c("app.settings.analytics.info")),n.a.createElement("div",{className:"input-wrapper mt40"},n.a.createElement("label",{htmlFor:"facebook_pixel_id",className:"label"},c("app.settings.analytics.fbpixeltitle")),n.a.createElement("input",{value:l,onChange:this.handleChangeFacebookPixelId,id:"facebook_pixel_id",placeholder:c("app.settings.analytics.fbpixelplaceholder"),type:"text",name:"facebook_pixel_id",required:"",className:"input input_domain input_hover"})),n.a.createElement("div",{className:"dashboard-create__site-notify"},c("app.settings.analytics.fbinfo")),n.a.createElement("button",{disabled:t,className:"button button_green mt40 dashboard-create__site-button mb40",onClick:this.handleSave},c("app.settings.domains.savebutton")))}}const Da={updateSiteRequest:St.g};var Ma=Object(h.b)(e=>({site:e.site,sessions:e.sessions}),Da)(Object(I.a)()(Oa)),Pa=a(492),Ia=a.n(Pa),Ta=a(493),Ra=a.n(Ta),ja=a(494),Ga=a.n(ja),Ha=a(495),Ua=a.n(Ha),Za=a(496),za=a.n(Za);class Va extends s.Component{constructor(){super(...arguments),this.handleSave=e=>{e.preventDefault(),this.props.updateSiteRequest({id:this.props.site.id})}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"settings-content__title"},"Integrations"),n.a.createElement("div",{className:"settings-content__description"},"For many of us, our very first experience of learning about the celestial bodies. Begins when we saw our first full moon in the sky."),n.a.createElement("table",{className:"settings-content__integrations-table",width:"100%"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{width:"30%"},n.a.createElement("img",{width:"150px",src:Ia.a,alt:"Google Analytics"})),n.a.createElement("td",{width:"60%"},n.a.createElement("span",{className:"settings-content__integrations-desc"},"For many of us, our very first experience of learning about the celestial bodies.")),n.a.createElement("td",{width:"10%",className:"ta-right"},n.a.createElement("label",{className:"switcher settings-content__integrations-switcher"},n.a.createElement("input",{checked:!0,onChange:this.handleChange,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),n.a.createElement("tr",null,n.a.createElement("td",{width:"30%"},n.a.createElement("img",{width:"150px",src:Ra.a,alt:"Mailchimp"})),n.a.createElement("td",{width:"60%"},n.a.createElement("span",{className:"settings-content__integrations-desc"},"For many of us, our very first experience of learning about the celestial bodies.")),n.a.createElement("td",{width:"10%",className:"ta-right"},n.a.createElement("label",{className:"switcher settings-content__integrations-switcher"},n.a.createElement("input",{checked:!0,onChange:this.handleChange,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),n.a.createElement("tr",null,n.a.createElement("td",{width:"30%"},n.a.createElement("img",{width:"150px",src:Ga.a,alt:"Slack"})),n.a.createElement("td",{width:"60%"},n.a.createElement("span",{className:"settings-content__integrations-desc"},"For many of us, our very first experience of learning about the celestial bodies.")),n.a.createElement("td",{width:"10%",className:"ta-right"},n.a.createElement("label",{className:"switcher settings-content__integrations-switcher"},n.a.createElement("input",{checked:!0,onChange:this.handleChange,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),n.a.createElement("tr",null,n.a.createElement("td",{width:"30%"},n.a.createElement("img",{width:"150px",src:Ua.a,alt:"Yandex metrica"})),n.a.createElement("td",{width:"60%"},n.a.createElement("span",{className:"settings-content__integrations-desc"},"For many of us, our very first experience of learning about the celestial bodies.")),n.a.createElement("td",{width:"10%",className:"ta-right"},n.a.createElement("label",{className:"switcher settings-content__integrations-switcher"},n.a.createElement("input",{checked:!0,onChange:this.handleChange,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))),n.a.createElement("tr",null,n.a.createElement("td",{width:"30%"},n.a.createElement("img",{width:"150px",src:za.a,alt:"Yandex money"})),n.a.createElement("td",{width:"60%"},n.a.createElement("span",{className:"settings-content__integrations-desc"},"For many of us, our very first experience of learning about the celestial bodies.")),n.a.createElement("td",{width:"10%",className:"ta-right"},n.a.createElement("label",{className:"switcher settings-content__integrations-switcher"},n.a.createElement("input",{checked:!0,onChange:this.handleChange,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))))))))}}const Wa={updateSiteRequest:St.g};var qa=Object(h.b)(e=>({site:e.site}),Wa)(Va);class Ka extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={selected_option:"",email:"",all_options:[],loading:!1,agreement:!1},this.handleTransfer=e=>{const{t:t}=this.props,{email:a}=this.state;a&&Object(K.w)(a,"email")&&(this.setState({loading:!0}),l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.sessions.jwt),l.a.post("/grants",{email:a,site_id:this.props.site.id}).then(e=>{y.b.success(t("app.settings.transfer.successmessage"),t("app.settings.transfer.successtitle"),5e3),this.setState({loading:!1})}).catch(e=>{this.setState({loading:!1})}))},this.handleChangeEmail=e=>{this.setState({email:e.target.value})},this.handleInputChange=e=>{this.request("/users/search?limit=30&q=".concat(e),"GET",{},e=>{const{users:t}=JSON.parse(e);this.setState({all_options:t})})},this.request=function(t,a,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=arguments.length>4?arguments[4]:void 0;const i=new XMLHttpRequest;i.open(a,l.a.defaults.baseURL+t,!0),i.setRequestHeader("Authorization","Bearer ".concat(e.props.sessions.jwt)),i.setRequestHeader("Content-Type","application/json"),i.onload=()=>{200===i.status?n(i.response):o()},i.send(JSON.stringify(s))},this.handleChangeAgreement=e=>{this.setState({agreement:e.target.checked})}}render(){const{agreement:e,loading:t,email:a}=this.state,{t:s}=this.props;return n.a.createElement("div",{className:"settings-general__container"},n.a.createElement("div",{className:"title"},s("app.settings.transfer.title")),n.a.createElement(J,{tabIndex:"1",value:a,onChange:this.handleChangeEmail,id:"login",placeholder:s("app.settings.transfer.emailplaceholder"),label:s("app.settings.transfer.emaillabel"),type:"text",name:"login",datatype:"email",submitted:this.state.submitted,required:!0}),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("div",{className:"create-page__checkbox-wrapper"},n.a.createElement("input",{onChange:this.handleChangeAgreement,id:"agreement",type:"checkbox",tabIndex:"-1",className:"checkbox",checked:e}),n.a.createElement("label",{htmlFor:"agreement",title:"Agreement",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text label-text_433 va-middle"},s("app.settings.transfer.checkboxlabel"))))),n.a.createElement("div",{className:"dashboard-create__site-notify"},"\u2600 ",s("app.settings.transfer.info")),n.a.createElement("button",{onClick:this.handleTransfer,disabled:!e||t,className:"button button_green dashboard-create__site-button mt40"},s("app.settings.transfer.button")))}}const Ya={updateSiteRequest:St.g};var Ja=Object(h.b)(e=>({site:e.site,sessions:e.sessions}),Ya)(Object(I.a)()(Ka));const Xa=n.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{clipPath:"url(#site-logo-svg)"},n.a.createElement("path",{d:"M5.70107 25.583C3.34438 23.997 2.16603 23.204 2.16626 22.105C2.16649 21.0059 3.34517 20.2134 5.70253 18.6282L6.24991 18.2601C10.935 15.1097 13.2775 13.5345 15.9535 13.5337C18.6293 13.5329 20.9729 15.1067 25.6601 18.2544L26.233 18.6392C28.5955 20.2257 29.7767 21.019 29.7766 22.1192C29.7765 23.2195 28.5951 24.0125 26.2323 25.5986L18.6135 30.7129C17.3347 31.5713 16.6953 32.0005 15.9654 32.0001C15.2355 31.9997 14.5967 31.5698 13.319 30.7099L5.70107 25.583Z",fill:"url(#paint0_linear)"}),n.a.createElement("path",{d:"M3.02474 13.4284L14.2576 29.9783C14.2858 30.0199 14.3136 30.0607 14.3408 30.1009C15.0935 31.2089 15.4911 31.7667 16.109 31.879C16.7264 31.9911 17.3163 31.6133 18.4527 30.8498C18.4946 30.8217 18.5373 30.7929 18.5807 30.7637L27.9132 24.4882C27.9786 24.4443 28.0427 24.4012 28.1055 24.3589C29.6391 23.3265 30.4123 22.7794 30.5777 21.9753C30.7498 21.1382 30.2004 20.3289 29.1016 18.7102L18.5386 3.15006C17.3283 1.3673 16.7232 0.475928 15.7635 0.301218C14.8038 0.126509 13.8883 0.741075 12.0572 1.97019L4.31563 7.16693C2.51338 8.37673 1.61226 8.98165 1.42521 9.88889C1.23817 10.7961 1.83375 11.6736 3.02474 13.4284Z",fill:"url(#paint1_linear)"}),n.a.createElement("path",{d:"M3.02474 13.4284C1.83375 11.6737 1.23817 10.7962 1.42521 9.88895C1.61226 8.98171 4.31563 7.16699 4.31563 7.16699C4.31563 7.16699 9.76823 9.20587 14.908 12.4294L15.0552 12.3303C15.4815 12.0431 15.6947 11.8995 15.9383 11.8994C16.1819 11.8993 16.3952 12.0428 16.8216 12.3297L28.3937 20.1146C29.7688 21.0397 30.4564 21.5022 30.4564 22.1434C30.4564 22.2404 30.4406 22.3332 30.4092 22.4242C30.0799 23.0126 29.3384 23.529 28.1055 24.3589L18.617 30.7393C18.6049 30.7475 18.5928 30.7556 18.5807 30.7638L18.4527 30.8499C17.3163 31.6134 16.7264 31.9912 16.109 31.879C16.0317 31.865 15.9579 31.844 15.8865 31.8158C15.3862 31.6187 14.9994 31.0704 14.3408 30.1009L3.02474 13.4284Z",fill:"url(#paint2_linear)"}),n.a.createElement("path",{d:"M14.4401 18.8748L5.94587 13.3228L3.96163 12.0213C2.35791 10.9694 1.55605 10.4434 1.55274 9.70688C1.55039 9.18352 1.9523 8.76324 2.75727 8.1818L14.1552 0.597972C14.8473 0.199988 15.3806 0.000752232 15.9564 2.12547e-06C16.5433 -0.000762552 17.0867 0.204804 17.7996 0.616424L27.7893 7.22412C29.1319 8.16764 29.8028 8.82124 29.8016 9.64812C29.8 10.753 28.5992 11.5452 26.1977 13.1298L24.3382 14.3568L17.5352 18.83C16.8976 19.2176 16.4466 19.4115 15.9547 19.4122C15.4802 19.4128 15.0434 19.2336 14.4401 18.8748Z",fill:"url(#paint3_linear)"}),n.a.createElement("path",{d:"M16.4301 0.0449224L25.5822 13.5267L24.3066 14.373L17.5323 18.8512C16.8974 19.2392 16.4483 19.4334 15.9584 19.434C15.4859 19.4346 15.051 19.2552 14.4503 18.8961L5.99182 13.3378L4.01593 12.0348C2.41897 10.9817 1.62049 10.4552 1.6172 9.7178C1.61486 9.19384 2.01507 8.77312 2.81665 8.191L14.1665 0.598644C14.8557 0.200212 15.3868 0.000753068 15.9601 2.12756e-06C16.1185 -0.000205405 16.2738 0.0147699 16.4301 0.0449224Z",fill:"url(#paint4_linear)"})),n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"paint0_linear",x1:"1.17267",y1:"22.3842",x2:"15.3271",y2:"33.3273",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#F5BBCA"}),n.a.createElement("stop",{offset:"1",stopColor:"#E87FF1"})),n.a.createElement("linearGradient",{id:"paint1_linear",x1:"7.14544",y1:"5.81245",x2:"29.2801",y2:"23.9819",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#3516A7"}),n.a.createElement("stop",{offset:"1",stopColor:"#5068D8"})),n.a.createElement("linearGradient",{id:"paint2_linear",x1:"1.17282",y1:"10.7127",x2:"14.6736",y2:"32.6673",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#4122A3",stopOpacity:"0"}),n.a.createElement("stop",{offset:"0.663965",stopColor:"#6163E1",stopOpacity:"0"}),n.a.createElement("stop",{offset:"1",stopColor:"#E69FFF"})),n.a.createElement("linearGradient",{id:"paint3_linear",x1:"15.6772",y1:"7.29361e-07",x2:"24.8663",y2:"14.2179",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#5592F4"}),n.a.createElement("stop",{offset:"1",stopColor:"#9EEEFF"})),n.a.createElement("linearGradient",{id:"paint4_linear",x1:"0.98291",y1:"9.73272",x2:"15.5791",y2:"21.0196",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"#1A6BE8"}),n.a.createElement("stop",{offset:"1",stopColor:"#4D93FF"})),n.a.createElement("clipPath",{id:"site-logo-svg"},n.a.createElement("rect",{width:"32",height:"32",fill:"white"}))));class Qa extends s.Component{constructor(){super(...arguments),this.state={loading:!0,disabledButton:!1},this.siterLabelColorOptions=[{label:this.props.t("app.settings.promoteicon.originalcolor"),value:"original"},{label:this.props.t("app.settings.promoteicon.whitecolor"),value:"white"},{label:this.props.t("app.settings.promoteicon.blackcolor"),value:"black"}],this.siterLabelPositions=[{label:this.props.t("app.settings.promoteicon.left"),value:"left"},{label:this.props.t("app.settings.promoteicon.right"),value:"right"}],this.handleChangeSiterLabelColor=e=>{this.setState({powered_by_label_color:e.target.value})},this.handleChangeSiterLabelPosition=e=>{this.setState({powered_by_label_position:e.target.value})},this.handleSave=()=>{const{t:e}=this.props;this.setState({disabledButton:!0}),this.props.updateSiteRequest(Object.assign({id:this.props.match.params.siteId},this.state),()=>{this.setState({disabledButton:!1}),y.b.success(e("app.settings.promoteicon.successmessage"),e("app.settings.promoteicon.successtitle"),5e3)})},this.handleChangeShowSiterLabel=e=>{this.setState({show_powered_by_label:e.target.checked})},this.labelClasses=()=>{const{powered_by_label_position:e,powered_by_label_color:t}=this.state;return M()("settings-siterlabel__preview-item",{["settings-siterlabel__preview-item_".concat(t)]:!0,["settings-siterlabel__preview-item_".concat(e)]:!0})}}componentDidMount(){this.props.fetchSiteRequest(this.props.match.params.siteId,e=>{let{show_powered_by_label:t,powered_by_label_color:a,powered_by_label_position:s}=e;this.setState({show_powered_by_label:t,powered_by_label_position:s,powered_by_label_color:a,loading:!1})})}render(){const{show_powered_by_label:e,powered_by_label_position:t,powered_by_label_color:a,disabledButton:s,loading:o}=this.state,{t:i}=this.props;return n.a.createElement(n.a.Fragment,null,o?i("app.settings.promoteicon.loading"):n.a.createElement("div",null,n.a.createElement("div",{className:"settings-content__left"},n.a.createElement("div",{className:"title"},n.a.createElement("label",{htmlFor:"toggle"},n.a.createElement("label",{className:"switcher switcher_small settings-content__checkbox va-middle",style:{marginTop:-2}},n.a.createElement("input",{id:"toggle",checked:e,onChange:this.handleChangeShowSiterLabel,type:"checkbox",tabIndex:"-1",className:"ios-switch green"}),n.a.createElement("div",null,n.a.createElement("div",null))),i("app.settings.promoteicon.title"))),e&&n.a.createElement("div",null,n.a.createElement("div",{className:"settings-content__checkboxes"},n.a.createElement("div",{className:"input-wrapper input-wrapper_2"},this.siterLabelColorOptions.map((e,t)=>n.a.createElement("div",{className:"radio-wrapper ms-radio",key:t},n.a.createElement("div",null,n.a.createElement("input",{checked:a===e.value,id:e.value,type:"radio",value:e.value,name:"ms-target",className:"radio",onChange:this.handleChangeSiterLabelColor}),n.a.createElement("label",{htmlFor:e.value,className:"radio-label-wrapper"},n.a.createElement("div",{className:"radio-label radio-label_small fl"}),n.a.createElement("span",{className:"label-text"},e.label)))))),n.a.createElement("div",{className:"input-wrapper input-wrapper_2"},this.siterLabelPositions.map((e,a)=>n.a.createElement("div",{className:"radio-wrapper ms-radio",key:a},n.a.createElement("div",null,n.a.createElement("input",{checked:t===e.value,id:e.value,type:"radio",value:e.value,name:"label-position",className:"radio",onChange:this.handleChangeSiterLabelPosition}),n.a.createElement("label",{htmlFor:e.value,className:"radio-label-wrapper"},n.a.createElement("div",{className:"radio-label radio-label_small fl"}),n.a.createElement("span",{className:"label-text"},e.label))))))),n.a.createElement("div",{className:"dashboard-create__site-notify"},"\u2600 ",i("app.settings.promoteicon.info"))),n.a.createElement("button",{disabled:s,className:"button button_green dashboard-create__site-button "+(e&&"mt40"),onClick:this.handleSave},i("app.settings.promoteicon.savebutton"))),e&&n.a.createElement("div",{className:"settings-content__right"},n.a.createElement("div",{className:"settings-content__right-title"},i("app.editor.settingspanel.preview")),n.a.createElement("div",{className:"settings-siterlabel__preview"},n.a.createElement("div",{className:this.labelClasses()},Xa)))))}}const $a={updateSiteRequest:St.g,fetchSiteRequest:St.c};var es=Object(h.b)(e=>({site:e.site,sessions:e.sessions}),$a)(Object(I.a)()(Qa)),ts=a(161),as=a.n(ts);a(442),a(443),a(315);class ss extends s.Component{constructor(){super(...arguments),this.state={head_html:""},this.handleSave=e=>{this.setState({disableButton:!0}),this.props.updateSiteRequest({head_html:this.state.head_html,id:this.props.site.id},()=>{y.b.success("Site successfully saved","OK",5e3),this.setState({disableButton:!1})})},this.handleChangeHtml=e=>{this.setState({head_html:e})}}componentDidMount(){this.props.fetchSiteRequest(this.props.match.params.siteId,e=>{this.setState({head_html:e.head_html||""})})}render(){const{disableButton:e}=this.state;return n.a.createElement("div",{className:"dashboard__settings-content__single"},n.a.createElement("div",{className:"title"},"Custom Code"),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30"},n.a.createElement("label",{htmlFor:"name",className:"label"},"Head Code Injection"),n.a.createElement(as.a,{value:this.state.head_html,showPrintMargin:!1,mode:"html",theme:"xcode",onChange:this.handleChangeHtml,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:1/0},width:"100%",height:"199px",className:"section-editor__code_margin",tabSize:2}),n.a.createElement("div",{className:"input-wrapper__hint"},"Paste the code that will be injected into the ","<head>"," section of this website.")),n.a.createElement("div",{className:"dashboard-create__site-notify"},"\u2600 Keep in mind that these injections delivered as-is and we do not validate before nor after the injection."),n.a.createElement("div",null,n.a.createElement("button",{disabled:e,onClick:this.handleSave,className:"button button_green dashboard-create__site-button mt40"},e?"Loading...":"Save Changes")))}}const ns={updateSiteRequest:St.g,fetchSiteRequest:St.c};var os=Object(h.b)(e=>({site:e.site,sessions:e.sessions}),ns)(ss);class is extends s.Component{constructor(){super(...arguments),this.state={app_ads:""},this.handleSave=e=>{const{t:t}=this.props;this.setState({disableButton:!0}),this.props.updateSiteRequest({app_ads:this.state.app_ads,id:this.props.site.id},()=>{y.b.success(t("app.settings.facebookappads.savesuccess"),t("app.settings.facebookappads.savetitle"),5e3),this.setState({disableButton:!1})})},this.handleChangeContent=e=>{this.setState({app_ads:e})}}componentDidMount(){this.props.fetchSiteRequest(this.props.match.params.siteId,e=>{this.setState({app_ads:e.app_ads||""})})}render(){const{disableButton:e}=this.state,{t:t}=this.props;return n.a.createElement("div",{className:"dashboard__settings-content__single"},n.a.createElement("div",{className:"title"},t("app.settings.facebookappads.title")),n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30"},n.a.createElement("label",{htmlFor:"name",className:"label"},t("app.settings.facebookappads.description")," /app-ads.txt"),n.a.createElement(as.a,{value:this.state.app_ads,showPrintMargin:!1,mode:"html",theme:"xcode",onChange:this.handleChangeContent,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:1/0},width:"100%",height:"199px",className:"section-editor__code_margin",tabSize:2}),n.a.createElement("div",{className:"input-wrapper__hint"},t("app.settings.facebookappads.subdescription"))),n.a.createElement("div",{className:"dashboard-create__site-notify"},"\u2600 ",t("app.settings.facebookappads.info")," ",n.a.createElement("b",null,"facebook.com, app ID, RESELLER, c3e20eee3f780d68")),n.a.createElement("div",null,n.a.createElement("button",{disabled:e,onClick:this.handleSave,className:"button button_green dashboard-create__site-button mt40"},t(e?"app.settings.facebookappads.loading":"app.settings.facebookappads.savebutton"))))}}const rs={updateSiteRequest:St.g,fetchSiteRequest:St.c};var ls=Object(h.b)(e=>({site:e.site,sessions:e.sessions}),rs)(Object(I.a)()(is));class cs extends s.Component{constructor(){super(...arguments),this.state={agreement:!1,loading:!1},this.handleChangeAgreement=e=>{this.setState({agreement:e.target.checked})},this.removeSite=()=>{const{t:e}=this.props;this.setState({loading:!0}),this.props.removeSiteRequest(this.props.match.params.siteId,()=>{L.a.push("/account/sites"),y.b.success(e("app.settings.deletesite.successmessage"),e("app.settings.deletesite.successtitle"),5e3),this.setState({loading:!1})})}}render(){const{agreement:e,loading:t}=this.state,{t:a}=this.props;return n.a.createElement("div",{className:"settings-general__container"},n.a.createElement("div",{className:"title"},a("app.settings.deletesite.title")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("div",{className:"create-page__checkbox-wrapper"},n.a.createElement("input",{onChange:this.handleChangeAgreement,id:"agreement",type:"checkbox",tabIndex:"-1",className:"checkbox",checked:e}),n.a.createElement("label",{htmlFor:"agreement",title:"Agreement",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text label-text_433 va-middle"},a("app.settings.deletesite.checkbox"))))),n.a.createElement("div",{className:"dashboard-create__site-notify dashboard-create__site-notify_red"},"\u2600 ",a("app.settings.deletesite.info")),n.a.createElement("button",{onClick:this.removeSite,disabled:!e||t,className:"button button_red dashboard-create__site-button mt40"},a("app.settings.deletesite.button")))}}const ps={removeSiteRequest:St.e};var ds=Object(h.b)(e=>({site:e.site,sessions:e.sessions}),ps)(Object(I.a)()(cs));const hs=["eot","woff","woff2","ttf","otf","svg"];class ms extends s.Component{constructor(e){super(e),this.t=(new Date).getTime(),this.uploaded=(e,t,a,s)=>{setTimeout(()=>{this.setState({progress:.7})}),setTimeout(()=>{this.setState({progress:1})},500),setTimeout(()=>{let n=JSON.parse(e);n.asset.name=t.split(".")[0]?t.split(".")[0]:"New Font",n.asset.type=a,n.asset.size=s,this.props.onChange(n),this.setState({loading:!1,imagePreviewUrl:""})},1e3)},this.uploadImage=e=>{const{t:t}=this.props;var a=e.size/1e6;let s=e.name.split(".").pop();if(a>10)return y.b.error("".concat(t("app.formerrors.filesize")," ").concat(10," MB"),"Error",5e3),void this.setState({loading:!1,progress:0,imagePreviewUrl:"",file:""});if(-1===hs.indexOf(s))return y.b.error(t("app.formerrors.filetypeisnotallowed"),"Error",5e3),void this.setState({loading:!1,progress:0,imagePreviewUrl:"",file:""});var n=this;return new Promise((t,a)=>{let o=new FormData;o.append("data",e),this.props.assetType&&o.append("asset_type",this.props.assetType);var i=new XMLHttpRequest;i.open("POST","".concat(l.a.defaults.baseURL,"/assets"),!0),i.setRequestHeader("Authorization","Bearer "+this.props.sessions.jwt),i.onload=function(){[200,201].indexOf(this.status)>-1?n.uploaded(this.response,e.name,s,function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const s=t?1e3:1024;if(Math.abs(e)<s)return e+" B";const n=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"];let o=-1;const i=10**a;do{e/=s,++o}while(Math.round(Math.abs(e)*i)/i>=s&&o<n.length-1);return e.toFixed(a)+" "+n[o]}(e.size)):(a(this.statusText),n.setState({loading:!1,progress:0,imagePreviewUrl:""}))},i.send(o)})},this._removeImage=()=>{this.props.handleRemove(),this.setState({file:"",imagePreviewUrl:""}),document.getElementById("uploadForm__"+this.t).reset()},this.onDrop=e=>{let t=new FileReader,a=e[0];t.onloadend=()=>{this.setState({file:a,loading:!0,progress:.2,imagePreviewUrl:"url("+t.result+")"})},t.readAsDataURL(a),setTimeout(()=>{this.uploadImage(this.state.file)},300)},this.state={progress:0,file:"",imagePreviewUrl:"",loading:!1},this._handleImageChange=this._handleImageChange.bind(this),this._handleSubmit=this._handleSubmit.bind(this)}_handleSubmit(e){e.preventDefault(),this.uploadImage(this.state.file)}_handleImageChange(e){e.preventDefault();let t=new FileReader,a=e.target.files[0];t.onloadend=()=>{this.setState({file:a})},t.readAsDataURL(a),this.setState({loading:!0,progress:.2}),setTimeout(()=>{this.uploadImage(this.state.file)},300)}componentDidUpdate(){document.getElementById("uploadForm__"+this.t)&&document.getElementById("uploadForm__"+this.t).reset()}render(){const{loading:e}=this.state,{t:t}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"fr",style:{marginTop:-10,display:"block"}},n.a.createElement("form",{id:"uploadForm__"+this.t,name:"uploadForm",onSubmit:this._handleSubmit},n.a.createElement("label",{htmlFor:"uploadFile"+this.t,style:{fontWeight:"normal"},disabled:e,className:"button fr button_green"},t(e?"app.settings.fonts.loading":"app.settings.fonts.uploadbutton")),n.a.createElement("input",{id:"uploadFile"+this.t,className:"hidden",name:"file",type:"file",onChange:this._handleImageChange}))))}}var us=Object(h.b)(e=>({sessions:e.sessions}),{})(Object(I.a)()(ms));const gs={100:"Thin",200:"Extra Light",300:"Light",400:"Regular",500:"Medium",600:"SemiBold",700:"Bold",800:"ExtraBold",900:"HeavyBold"};class _s extends s.Component{constructor(){super(...arguments),this.handleChangeFont=(e,t)=>{let{font:a}=this.state;Object.assign(a,e),this.setState({font:a})},this.handleSave=()=>{const{t:e}=this.props,{font:t}=this.state;/^[A-Za-z\s]*$/.test(t.family)?(this.props.handleChangeFont(t,t.id,!0),this.props.close()):y.b.error(e("app.formerrors.onlylettersallowed"),"Error",5e3)}}componentWillMount(){this.setState({font:JSON.parse(JSON.stringify(this.props.font))})}render(){const{t:e,close:t}=this.props,{font:a}=this.state;return n.a.createElement("div",{resize:"height",className:"login-wrapper dashboard-create__site subscription-modal"},n.a.createElement(Qt.a,{keyEventName:Xt.KEYDOWN,keyValue:"Escape",onKeyHandle:t}),n.a.createElement("div",{className:"dashboard-create__site-overlay",onClick:t}),n.a.createElement("div",{className:"inline-wrapper modal-window plan-modal__window ta-left",style:{backgroundColor:"white",borderRadius:6}},n.a.createElement("div",{className:"uploaded-fonts__list-item",style:{marginBottom:0}},n.a.createElement("div",{className:"uploaded-fonts__list-item__title"},n.a.createElement("span",null,a.filename)),n.a.createElement("div",{className:"uploaded-fonts__list-item__form"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"family",className:"uploaded-fonts__list-item__form-label"},e("app.settings.fonts.fontfamily")),n.a.createElement("input",{id:"family",value:a.family,className:"input",onChange:e=>{this.handleChangeFont({family:e.target.value},a.id)}})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"weight",className:"uploaded-fonts__list-item__form-label"},e("app.settings.fonts.fontweight")),n.a.createElement(Ue.a,{name:"select",id:"weight",value:a.weight,onChange:e=>{this.handleChangeFont({weight:e.value},a.id)},searchable:!1,autoFocus:!1,clearable:!1,scrollMenuIntoView:!1,labelKey:"label",valueKey:"value",placeholder:e("app.settings.fonts.fontfamily"),className:"payment-method__select custom-fonts-select",options:Object.keys(gs).map(e=>({value:e,label:e+" ("+gs[e]+")"}))})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"style",className:"uploaded-fonts__list-item__form-label"},e("app.settings.fonts.style")),n.a.createElement(Ue.a,{name:"select",id:"style",value:a.style,onChange:e=>{this.handleChangeFont({style:e.value},a.id)},searchable:!1,autoFocus:!1,clearable:!1,scrollMenuIntoView:!1,labelKey:"label",valueKey:"value",placeholder:e("app.settings.fonts.style"),className:"payment-method__select custom-fonts-select",options:[{label:"Normal",value:"normal"},{label:"Italic",value:"italic"},{label:"Oblique",value:"oblique"}]})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"weight",className:"uploaded-fonts__list-item__form-label"},"\xa0"),n.a.createElement("button",{className:"button button_blue uploaded-fonts__list-item__form-button",onClick:this.handleSave},e("app.settings.fonts.save")))))))}}var fs=Object(h.b)(e=>({user:e.sessions}),{})(Object(I.a)()(_s));const vs={100:"Thin",200:"Extra Light",300:"Light",400:"Regular",500:"Medium",600:"SemiBold",700:"Bold",800:"ExtraBold",900:"HeavyBold"};class ws extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={fonts:[],alertOpened:!1},this.remove=e=>{this.setState(t=>({fonts:t.fonts.filter(t=>t.id!==e)}),()=>{this.props.updateSiteRequest({id:this.state.siteId,fonts:this.state.fonts},()=>{})})},this.onFontUploaded=e=>{let{asset:t}=e,{fonts:a}=this.state,s={id:t.id,status:"uploaded",family:t.name,url:t.url,filename:t.name+"."+t.type,format:t.type,weight:400,style:"normal",size:t.size};a.push(s),this.setState({fonts:a},()=>{this.props.updateSiteRequest({id:this.state.siteId,fonts:a},()=>{})})},this.handleChangeFont=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{fonts:n}=e.state,o=n.find(e=>e.id===a);Object.assign(o,t),e.setState({fonts:n},()=>{s&&e.props.updateSiteRequest({id:e.state.siteId,fonts:n},()=>{})})},this.handleAddFont=e=>{const{t:t}=this.props;let{fonts:a}=this.state,s=a.find(t=>t.id===e);/^[A-Za-z\s]*$/.test(s.family)?(s.status="installed",this.setState({fonts:a},()=>{this.props.updateSiteRequest({id:this.state.siteId,fonts:a},()=>{})})):y.b.error(t("app.formerrors.onlylettersallowed"),"Error",5e3)},this.onVisibleChange=e=>{this.setState({tooltipActive:e})},this.options=e=>{const{t:t}=this.props;return n.a.createElement("div",{className:"tooltip-popup"},n.a.createElement("div",{onClick:this.handleEditFont.bind(null,e),className:"tooltip-item"},t("app.settings.fonts.editfont")),n.a.createElement("div",{onClick:this.handleDeleteInstalledFont.bind(null,e),className:"tooltip-item"},t("app.settings.fonts.deletefont")))},this.handleEditFont=e=>{let{fonts:t}=this.state,a=t.find(t=>t.id===e);this.refs["tooltip"+e].close(),this.setState({fontForEdit:a})},this.handleDeleteInstalledFont=e=>{this.fontIdToDelete=e,this.setState({alertOpened:!0})},this.removeInstalledFontCallback=e=>{e&&this.remove(this.fontIdToDelete),this.setState({alertOpened:!1})},this.closeEdit=()=>{this.setState({fontForEdit:!1})}}componentWillMount(){this.setState({loading:!0}),this.props.fetchSiteRequest(this.props.match.params.siteId,e=>{this.setState({fonts:e.fonts,loading:!1,siteId:e.id})})}render(){const{t:e}=this.props,{fonts:t,loading:a,tooltipActive:s,alertOpened:o,fontForEdit:i}=this.state,r=t.filter(e=>"installed"===e.status),l=t.filter(e=>"uploaded"===e.status);return console.log(t),n.a.createElement("div",null,n.a.createElement("div",{className:"title"},e("app.settings.fonts.title"),n.a.createElement(us,{assetType:"font",onChange:this.onFontUploaded})),!a&&0===r.length&&0===l.length&&n.a.createElement("div",{className:"settings-general__container dashboard-create__site-notify"},e("app.settings.fonts.info")),n.a.createElement(ne.a,{isOpen:o,type:"warning",title:e("app.settings.fonts.deletealert"),html:!0,text:"",confirmButtonText:e("app.settings.fonts.deletebutton"),cancelButtonText:e("app.settings.fonts.cancelbutton"),callback:this.removeInstalledFontCallback}),n.a.createElement("div",{className:"uploaded-fonts__list"},l.map((t,a)=>n.a.createElement("div",{className:"uploaded-fonts__list-item",key:a},n.a.createElement("div",{className:"uploaded-fonts__list-item__title"},n.a.createElement("span",null,t.filename),n.a.createElement("svg",{onClick:this.remove.bind(null,t.id),className:"uploaded-fonts__list-item__title-remove",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.4"},n.a.createElement("path",{d:"M11 1L1 11",stroke:"#333333"}),n.a.createElement("path",{d:"M1 1L11 11",stroke:"#333333"})))),n.a.createElement("div",{className:"uploaded-fonts__list-item__form"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"family",className:"uploaded-fonts__list-item__form-label"},e("app.settings.fonts.fontfamily")),n.a.createElement("input",{id:"family",value:t.family,className:"input",onChange:e=>{this.handleChangeFont({family:e.target.value},t.id)}})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"weight",className:"uploaded-fonts__list-item__form-label"},e("app.settings.fonts.fontweight")),n.a.createElement(Ue.a,{name:"select",id:"weight",value:t.weight,onChange:e=>{this.handleChangeFont({weight:e.value},t.id)},searchable:!1,autoFocus:!1,clearable:!1,scrollMenuIntoView:!1,labelKey:"label",valueKey:"value",placeholder:e("app.settings.fonts.fontfamily"),className:"payment-method__select custom-fonts-select",options:Object.keys(vs).map(e=>({value:e,label:e+" ("+vs[e]+")"}))})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"style",className:"uploaded-fonts__list-item__form-label"},e("app.settings.fonts.style")),n.a.createElement(Ue.a,{name:"select",id:"style",value:t.style,onChange:e=>{this.handleChangeFont({style:e.value},t.id)},searchable:!1,autoFocus:!1,clearable:!1,scrollMenuIntoView:!1,labelKey:"label",valueKey:"value",placeholder:e("app.settings.fonts.style"),className:"payment-method__select custom-fonts-select",options:[{label:"Normal",value:"normal"},{label:"Italic",value:"italic"},{label:"Oblique",value:"oblique"}]})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"weight",className:"uploaded-fonts__list-item__form-label"},"\xa0"),n.a.createElement("button",{className:"button button_blue uploaded-fonts__list-item__form-button",onClick:this.handleAddFont.bind(null,t.id)},e("app.settings.fonts.addfont"))))))),a&&n.a.createElement("div",null,n.a.createElement("div",{className:"text-input__loading--line",style:{height:23}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:23}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:23}}),n.a.createElement("div",{className:"text-input__loading--line",style:{height:23}})),n.a.createElement("div",{className:"mb40"}),r.length>0&&n.a.createElement("div",null,n.a.createElement("div",{className:"title"},e("app.settings.fonts.titlesecond")),n.a.createElement("div",{className:"installed-fonts__list"},n.a.createElement("table",{className:"installed-fonts__list-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,e("app.settings.fonts.fontname")),n.a.createElement("th",null,e("app.settings.fonts.style")),n.a.createElement("th",null,e("app.settings.fonts.format")),n.a.createElement("th",null,e("app.settings.fonts.size")))),n.a.createElement("tbody",null,r.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"va-middle"},e.family," ",e.weight," (",vs[e.weight],")"),n.a.createElement("td",{className:"va-middle text-gray capitalize"},e.style),n.a.createElement("td",{className:"va-middle uppercase"},e.format),n.a.createElement("td",{className:"va-middle"},e.size,n.a.createElement(P.a,{ref:"tooltip"+e.id,arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"bottomRight",trigger:["click"],overlayClassName:"custom-tooltip_150",overlay:this.options(e.id),transitionName:"rc-tooltip-zoom",onVisibleChange:this.onVisibleChange},n.a.createElement("div",{className:"billing-table__tooltip-caller billing-table__tooltip-caller_2 ".concat(s?"billing-table__tooltip-caller_active":"")},n.a.createElement("svg",{className:"cp",width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M2 12C0.9 12 -1.35505e-07 12.9 -8.74228e-08 14C-3.93402e-08 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12ZM2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6C0.9 6 -3.97774e-07 6.9 -3.49691e-07 8C-3.01609e-07 9.1 0.9 10 2 10ZM2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 3.93402e-08 2 8.74228e-08C0.899999 1.35505e-07 -6.60042e-07 0.9 -6.11959e-07 2C-5.63877e-07 3.1 0.9 4 2 4Z",fill:"#828282"}))))))))))),i&&n.a.createElement(fs,{font:i,close:this.closeEdit,handleChangeFont:this.handleChangeFont}))}}const Cs={updateSiteRequest:St.g,fetchSiteRequest:St.c};var ys=Object(h.b)(e=>({sessions:e.sessions,user:e.sessions}),Cs)(Object(I.a)()(ws));class bs extends s.Component{constructor(){super(...arguments),this.state={alertOpened:!1,site:{},loading:!0}}componentDidMount(){const{siteId:e}=this.props.match.params;document.title="".concat(this.props.t("app.titles.settings")," - Siter.io"),this.props.location.pathname==="/account/sites/".concat(e,"/settings")&&L.a.push("/account/sites/".concat(e,"/settings/general")),this.setState({loading:!0}),this.props.fetchSiteRequest(e,()=>{this.setState({loading:!1})})}render(){const{loading:e}=this.state,{site:t,user:a,t:s}=this.props;return n.a.createElement("div",{className:"dashboard__settings"},n.a.createElement("div",{className:"dashboard__settings-col-1"},n.a.createElement("div",{className:"dashboard__settings-menu"},n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/general"),className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},s("app.settings.menu.general")),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/domains"),className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},s("app.settings.menu.domains")),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/analytics"),className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},s("app.settings.menu.analytics")),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/fonts"),className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},s("app.settings.menu.fonts")),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/headhtml"),className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},s("app.settings.menu.customcode")),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/appads"),style:{padding:"17px 0px 17px 19px"},className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},s("app.settings.menu.fb")),t.owner_id===a.id&&n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/transfer"),className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},s("app.settings.menu.transfer")),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/promote-icon"),className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active"},s("app.settings.menu.promoicon")),n.a.createElement(O.a,{to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/delete"),className:"dashboard__settings-menu__item",activeClassName:"dashboard__settings-menu__item_active-red"},s("app.settings.menu.delete")))),n.a.createElement("div",{className:"dashboard__settings-col-2"},!e&&n.a.createElement("div",null,n.a.createElement(_.a,{exact:!0,component:va,path:"/account/sites/:siteId/settings/general"}),n.a.createElement(_.a,{exact:!0,component:Ba,path:"/account/sites/:siteId/settings/billing"}),n.a.createElement(_.a,{exact:!0,component:La,path:"/account/sites/:siteId/settings/domains"}),n.a.createElement(_.a,{exact:!0,component:Ma,path:"/account/sites/:siteId/settings/analytics"}),n.a.createElement(_.a,{exact:!0,component:qa,path:"/account/sites/:siteId/settings/integrations"}),n.a.createElement(_.a,{exact:!0,component:Ja,path:"/account/sites/:siteId/settings/transfer"}),n.a.createElement(_.a,{exact:!0,component:es,path:"/account/sites/:siteId/settings/promote-icon"}),n.a.createElement(_.a,{exact:!0,component:os,path:"/account/sites/:siteId/settings/headhtml"}),n.a.createElement(_.a,{exact:!0,component:ls,path:"/account/sites/:siteId/settings/appads"}),n.a.createElement(_.a,{exact:!0,component:ds,path:"/account/sites/:siteId/settings/delete"}),n.a.createElement(_.a,{exact:!0,component:ys,path:"/account/sites/:siteId/settings/fonts"})),e&&"Loading..."))}}const Es={fetchSiteRequest:St.c};var ks=Object(h.b)(e=>({site:e.site,user:e.sessions}),Es)(Object(I.a)()(bs)),Ss=a(328),xs=a.n(Ss);class Ns extends s.Component{render(){return n.a.createElement("div",{className:"request-window__body"},n.a.createElement("div",{className:"zapier-integration-content"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"title title_mt13"},"Integrations"),n.a.createElement("div",{className:"integrations-list_grid"},n.a.createElement(O.a,{className:"integrations-list_grid-element",to:"./integration/zapier"},n.a.createElement("div",{className:"integrations-list_element_img-wrapper integrations-list_element_img-wrapper-zapier-color"},n.a.createElement("img",{src:xs.a,alt:"zapier",className:"integrations-list_element_img"})),n.a.createElement("div",{className:"integrations-list_element_title-wrapper"},n.a.createElement("img",{src:xs.a,alt:"zapier",className:"integrations-list_element_title-icon"}),n.a.createElement("span",{className:"integrations-list_element_title"},"Zapier")))))))}}var Bs=Ns;const Fs=Object(b.a)("FETCH_REQUEST_FOLDERS_REQUEST",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[e,t,a]})),As=Object(b.a)("FETCH_REQUEST_FOLDERS_SUCCESS",e=>e);var Ls=a(87),Os=a.n(Ls);const Ds=Object(b.a)("FETCH_REQUESTS_REQUEST",(e,t)=>[e,t]),Ms=Object(b.a)("FETCH_REQUESTS_SUCCESS",e=>e),Ps=Object(b.a)("UPDATE_REQUEST_REQUEST",(e,t)=>[e,t]),Is=Object(b.a)("UPDATE_REQUEST_SUCCESS",e=>e);class Ts extends s.Component{constructor(){super(...arguments),this.handleRemove=()=>{this.props.close(),this.props.removeRequest()}}render(){const{close:e,request:t,t:a}=this.props;return n.a.createElement("div",{resize:"height",className:"login-wrapper dashboard-create__site"},n.a.createElement(Qt.a,{keyEventName:Xt.KEYDOWN,keyValue:"Escape",onKeyHandle:e}),n.a.createElement("div",{className:"dashboard-create__site-overlay",onClick:e}),n.a.createElement("div",{className:"inline-wrapper modal-window plan-modal__window"},n.a.createElement("div",{className:"billing-item billing-item_subscription billing-item_subscription-request"},n.a.createElement("div",{className:"billing-item_form-header"},n.a.createElement("svg",{onClick:e,className:"cp",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.8"},n.a.createElement("path",{d:"M17 1L1 17",stroke:"#333333"}),n.a.createElement("path",{d:"M1 1L17 17",stroke:"#333333"}))),a("app.forms.entry")," #",t.id),n.a.createElement("div",{className:"billing-item_form-body"},t.properties.map((e,t)=>n.a.createElement("div",{key:t},n.a.createElement("div",{className:"request-view__title"},e[0]),n.a.createElement("div",{className:"request-view__value"},e[1]))),n.a.createElement("button",{className:"button button_white",onClick:this.handleRemove},a("app.forms.removebutton")),n.a.createElement("span",{className:"request-view__date"},a("app.forms.receivedat")," ",ve()(t.created_at).format("MM/DD/YY"),"\xa0at\xa0",ve()(t.created_at).format("h:mm A"))))))}}var Rs=Object(h.b)(e=>({user:e.sessions}),{})(Object(I.a)()(Ts));class js extends s.Component{constructor(){super(...arguments),this.state={name:this.props.formName},this.handleChangeName=e=>{this.setState({name:e.target.value})},this.saveComponentsRequest=(e,t)=>{let a="/components/save_one?page_id=".concat(this.props.pageId);l.a.defaults.headers.common.Authorization="Bearer ".concat(this.props.user.jwt),l.a.put(a,e).then(t)},this.save=()=>{this.setState({saving:!0}),this.saveComponentsRequest({id:this.props.formId,description:this.state.name},()=>{this.props.close(!0),this.setState({saving:!1})})}}render(){const{close:e}=this.props,{saving:t}=this.props;return n.a.createElement("div",{resize:"height",className:"login-wrapper dashboard-create__site"},n.a.createElement(Qt.a,{keyEventName:Xt.KEYDOWN,keyValue:"Escape",onKeyHandle:e}),n.a.createElement("div",{className:"dashboard-create__site-overlay",onClick:e}),n.a.createElement("div",{className:"inline-wrapper modal-window plan-modal__window"},n.a.createElement("div",{className:"billing-item billing-item_subscription billing-item_subscription-request__rename"},n.a.createElement("svg",{onClick:e,className:"cp",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.8"},n.a.createElement("path",{d:"M17 1L1 17",stroke:"#333333"}),n.a.createElement("path",{d:"M1 1L17 17",stroke:"#333333"}))),n.a.createElement("div",{className:"request-rename__title"},"Rename form"),n.a.createElement("label",{htmlFor:"name",className:"request-rename__label"},"Enter new name"),n.a.createElement("input",{autoFocus:!0,id:"name",type:"text",className:"request-rename__input input",value:this.state.name,onChange:this.handleChangeName}),n.a.createElement("button",{className:"button button_green",disabled:t,onClick:this.save},"Save Changes"))))}}var Gs=Object(h.b)(e=>({user:e.sessions}),{})(js);ve.a.suppressDeprecationWarnings=!0;class Hs extends s.Component{constructor(){super(...arguments),this.state={currentRequest:void 0,filteredRequests:[],choosedRequests:[],entityModal:!1,loading:!0},this.removeRequest=()=>{this.moveTo("Declined"),this.state.currentRequest&&this.refs["tooltip"+this.state.currentRequest.id]&&this.refs["tooltip"+this.state.currentRequest.id].close()},this.options=e=>{const{t:t}=this.props;return n.a.createElement("div",{className:"tooltip-popup"},n.a.createElement("div",{className:"tooltip-item",onClick:this.openEntityModal},t("app.forms.viewentry")),n.a.createElement("div",{onClick:this.removeRequest,className:"tooltip-item"},this.state.choosedRequests.length>1?t("app.forms.removeentries"):t("app.forms.removeentry")),e&&n.a.createElement("div",{onClick:this.openRenameModal,className:"tooltip-item"},t("app.forms.renameform")))},this.openEntityModal=e=>{let t={entityModal:!0};e.id&&(t.currentRequest=e),this.setState(t,()=>{this.state.currentRequest.read||(this.updateRequest(this.state.currentRequest,{read:!0}),this.props.updateRequestRequest({site_id:this.props.siteId,request_id:this.state.currentRequest.code,read:!0},()=>{this.props.fetchSiteRequest(this.props.siteId)})),this.state.currentRequest&&this.refs["tooltip"+this.state.currentRequest.id]&&this.refs["tooltip"+this.state.currentRequest.id].close()})},this.closeEntityModal=()=>{this.setState({entityModal:!1})},this.openRenameModal=()=>{this.setState({renameModal:!0}),this.state.currentRequest&&this.refs["tooltip"+this.state.currentRequest.id]&&this.refs["tooltip"+this.state.currentRequest.id].close()},this.closeRenameModal=e=>{this.setState({renameModal:!1}),e&&this.getRequestsByParams(this.props.folderId,this.props.searchText,this.props.startDate,this.props.endDate)},this.searchRequests=e=>{this.getRequestsByParams(this.props.folderId,e,this.props.startDate,this.props.endDate)},this.getRequestsByParams=(e,t,a,s)=>{this.props.fetchRequestsRequest({site_id:this.props.siteId,folder_id:e,from:ve()(a).format("YYYY-MM-DD"),to:ve()(s).format("YYYY-MM-DD"),q:t,limit:30},e=>{this.setState({filteredRequests:e,loading:!1})})},this.selectAllRequests=()=>{this.state.choosedRequests.length===this.state.filteredRequests.length?this.setState({choosedRequests:[]}):this.setState({choosedRequests:[...this.state.filteredRequests]})},this.handleChooseRequest=(e,t)=>{if(this.setState({currentRequest:e}),t.target.checked&&this.setState({choosedRequests:[...this.state.choosedRequests,e]}),!t.target.checked){const t=this.state.choosedRequests.splice(0),a=t.indexOf(e);a>-1&&(t.splice(a,1),this.setState({choosedRequests:t}))}},this.requestIsChoosed=e=>this.state.choosedRequests.indexOf(e)>-1,this.requestItemClassName=e=>(this.state.currentRequest&&(this.state.currentRequest.code,e.code),"request-window__body__list-item"),this.updateRequest=(e,t)=>{const{filteredRequests:a}=this.state;e=a.find(t=>t.code===e.code),Object.assign(e,t),this.setState({filteredRequests:a})},this.handleSetCurrentRequest=e=>{if(this.setState({currentRequest:e}),!e)return!1;e.read||(this.updateRequest(e,{read:!0}),this.props.updateRequestRequest({site_id:this.props.siteId,request_id:e.code,read:!0},()=>{}))},this.handleAboutToReachBottom=()=>{this.props.fetchRequestsRequest({site_id:this.props.siteId,folder_id:this.props.folderId,from:ve()(this.props.startDate).format("YYYY-MM-DD"),to:ve()(this.props.endDate).format("YYYY-MM-DD"),q:this.props.searchText,limit:30,last_id:this.state.filteredRequests[this.state.filteredRequests.length-1].id},e=>{e.length>0&&this.setState({filteredRequests:this.state.filteredRequests.concat(e)},()=>{this.adding=!1}),this.lastCount=e.length})},this.lastCount=30,this.handleScrollUpdate=e=>{const{scrollTop:t,scrollHeight:a,clientHeight:s}=e;(t+500)/(a-s)>1&&this.state.filteredRequests.length>0&&this.lastCount>=30&&!this.adding&&(this.adding=!0,this.handleAboutToReachBottom())},this.removeRequestFromCurrentList=e=>{const{filteredRequests:t}=this.state,a=t.indexOf(e);a>-1&&(t.splice(a,1),this.setState({filteredRequests:t,currentRequest:void 0}),this.props.fetchRequestFoldersRequest(this.props.siteId,()=>{},{startDate:this.props.startDate,endDate:this.props.endDate}))},this.moveTo=e=>{const t=this.props.requestFolders.find(e=>e.id===this.props.folderId).name;if(e===t)return;const a=this.props.requestFolders.find(t=>t.name===e);this.state.currentRequest&&this.props.updateRequestRequest({site_id:this.props.siteId,request_id:this.state.currentRequest.code,folder_id:a.id,site_request_folder_id:a.__id,read:!0},()=>{this.removeRequestFromCurrentList(this.state.currentRequest),this.props.fetchSiteRequest(this.props.siteId)}),this.state.choosedRequests.length>0&&this.state.choosedRequests.forEach((e,t)=>{this.props.updateRequestRequest({site_id:this.props.siteId,request_id:e.code,folder_id:a.id,site_request_folder_id:a.__id,read:!0},()=>{this.removeRequestFromCurrentList(e),this.setState({choosedRequests:[]}),this.state.choosedRequests.length===t&&this.props.fetchSiteRequest(this.props.siteId)})})},this.onVisibleChange=(e,t)=>{this.setState({currentRequest:t})},this.getHeight=()=>{const e=window.innerHeight;return document.getElementsByClassName("forms-table").length>0&&!window.topPadding&&(window.topPadding=e-document.getElementsByClassName("forms-table")[0].getBoundingClientRect().y-150),window.topPadding}}componentWillReceiveProps(e){this.props.folderId!==e.folderId&&(this.setState({filteredRequests:[]}),this.handleSetCurrentRequest(void 0),this.getRequestsByParams(e.folderId,this.props.searchText,this.props.startDate,this.props.endDate),this.props.fetchRequestFoldersRequest(this.props.siteId,()=>{},{startDate:this.props.startDate,endDate:this.props.endDate}),this.lastCount=30,this.adding=!1),this.props.searchText!==e.searchText&&this.searchRequests(e.searchText),this.props.startDate!==e.startDate&&this.getRequestsByParams(this.props.folderId,this.props.searchText,e.startDate,e.endDate),this.props.endDate!==e.endDate&&this.getRequestsByParams(this.props.folderId,this.props.searchText,e.startDate,e.endDate)}componentDidMount(){const e=document.createElement("script");e.src="https://cdn.zapier.com/packages/partner-sdk/v0/zapier-elements/zapier-elements.esm.js",e.type="module",document.body.appendChild(e);const t=document.createElement("link");t.href="https://cdn.zapier.com/packages/partner-sdk/v0/zapier-elements/zapier-elements.css",t.rel="stylesheet",document.head.appendChild(t),this.props.fetchSiteRequest(this.props.siteId),this.getRequestsByParams(this.props.folderId,this.props.searchText,this.props.startDate,this.props.endDate),this.cleanup=()=>{document.body.removeChild(e),document.head.removeChild(t)}}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"request-window__body"},n.a.createElement("div",{className:"request-window__body__list"},n.a.createElement(Os.a,{style:{height:this.getHeight()},onUpdate:this.handleScrollUpdate},!this.state.loading&&0===this.state.filteredRequests.length&&n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"dashboard-create__site-notify forms-table",style:{lineHeight:"22.4px",width:463}},"For this website, no entries have yet been collected. As soon as visitors fill out the form, it will appear here.")),this.state.filteredRequests.length>0?n.a.createElement("table",{className:"forms-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{width:"1%",className:"va-middle"},this.state.choosedRequests.length>0&&this.state.filteredRequests.length===this.state.choosedRequests.length&&n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{id:"ms__form-ch",type:"checkbox",tabIndex:"-1",className:"checkbox",onChange:this.selectAllRequests,checked:!0}),n.a.createElement("label",{htmlFor:"ms__form-ch",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))))),this.state.choosedRequests.length>0&&this.state.filteredRequests.length!==this.state.choosedRequests.length&&n.a.createElement("svg",{onClick:this.selectAllRequests,width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"va-middle"},n.a.createElement("rect",{x:"0.5",y:"0.5",width:"17",height:"17",rx:"2.5",fill:"#F8F8F8"}),n.a.createElement("rect",{x:"0.5",y:"0.5",width:"17",height:"17",rx:"2.5",fill:"url(#paint0_linear_2029_2869)"}),n.a.createElement("rect",{x:"0.5",y:"0.5",width:"17",height:"17",rx:"2.5",stroke:"#E4E8ED"}),n.a.createElement("path",{d:"M5.5 8C4.94772 8 4.5 8.44772 4.5 9C4.5 9.55228 4.94772 10 5.5 10V8ZM12.5 10C13.0523 10 13.5 9.55228 13.5 9C13.5 8.44772 13.0523 8 12.5 8V10ZM5.5 10H12.5V8H5.5V10Z",fill:"#828282"}),n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"paint0_linear_2029_2869",x1:"9",y1:"18",x2:"9",y2:"-1.49012e-07",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{stopColor:"white"}),n.a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})))),0===this.state.choosedRequests.length&&n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"checkbox",id:"ms__form-ch1",tabIndex:"-1",className:"checkbox",onChange:this.selectAllRequests,checked:!1}),n.a.createElement("label",{htmlFor:"ms__form-ch1",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"}))))))))),n.a.createElement("th",null,e("app.forms.id")),n.a.createElement("th",null,e("app.forms.form")),n.a.createElement("th",{width:"50%"},e("app.forms.entries")),n.a.createElement("th",null,e("app.forms.date")))),n.a.createElement("tbody",null,this.state.filteredRequests.map(e=>n.a.createElement("tr",{key:e.id,className:this.requestIsChoosed(e)?"request-active":""},n.a.createElement("td",{width:"1%",className:"va-middle text-gray",style:{position:"relative"},onClick:()=>{this.handleChooseRequest(e,{target:{checked:!this.requestIsChoosed(e)}})}},n.a.createElement("input",{onChange:()=>{},id:"ms__form-checkbox-".concat(e.id),type:"checkbox",tabIndex:"-1",className:"checkbox",checked:this.requestIsChoosed(e)}),n.a.createElement("label",{htmlFor:"ms__form-checkbox-".concat(e.id),className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))))),n.a.createElement("td",{className:"va-middle cp",onClick:this.openEntityModal.bind(null,e)},e.id),n.a.createElement("td",{className:"va-middle cp request-form__name ".concat(!e.read&&"request-unread"),onClick:this.openEntityModal.bind(null,e)},Object(K.f)(e.form&&e.form.description||e.metadata.form_title||"Form")),n.a.createElement("td",{width:"50%",className:"va-middle ta-right request-message cp ".concat(!e.read&&"request-unread"),onClick:this.openEntityModal.bind(null,e)},e.properties.length),n.a.createElement("td",{className:"va-middle",width:"220px"},n.a.createElement("div",{className:"request-date cp"},n.a.createElement("span",{onClick:this.openEntityModal.bind(null,e)},ve()(e.created_at).format("MMM DD, YYYY"),"\xa0at\xa0",ve()(e.created_at).format("h:mm A")),n.a.createElement(P.a,{ref:"tooltip"+e.id,align:{offset:[20,10]},arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"bottomRight",trigger:["click"],overlayClassName:"custom-tooltip_178",transitionName:"rc-tooltip-zoom",overlay:this.options(e.form),onVisibleChange:t=>{this.onVisibleChange(t,e)}},n.a.createElement("div",{className:"request-options__wrapper"},n.a.createElement("svg",{className:"request-options cp",width:"16",height:"4",viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M4 2C4 0.9 3.1 3.41332e-07 2 3.89414e-07C0.9 4.37497e-07 -1.35505e-07 0.9 -8.74228e-08 2C-3.93402e-08 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2ZM6 2C6 3.1 6.9 4 8 4C9.1 4 10 3.1 10 2C10 0.9 9.1 7.90636e-08 8 1.27146e-07C6.9 1.75229e-07 6 0.9 6 2ZM12 2C12 3.1 12.9 4 14 4C15.1 4 16 3.1 16 2C16 0.9 15.1 -1.83205e-07 14 -1.35122e-07C12.9 -8.70396e-08 12 0.9 12 2Z",fill:"#BDBDBD"})))))))))):n.a.createElement("table",{className:"forms-table"})),n.a.createElement("div",{className:"requests-bottom"},this.state.choosedRequests.length>0&&n.a.createElement("button",{className:"button button_orange mt50 fr",onClick:this.removeRequest},e("app.forms.removebutton"))),this.state.entityModal&&n.a.createElement(Rs,{close:this.closeEntityModal,removeRequest:this.removeRequest,request:this.state.currentRequest}),this.state.renameModal&&n.a.createElement(Gs,{close:this.closeRenameModal,pageId:this.state.currentRequest.metadata.page_id,formId:this.state.currentRequest.metadata.form_id,formName:this.state.currentRequest.form&&this.state.currentRequest.form.description||"Form"})))}}const Us={fetchRequestsRequest:Ds,updateRequestRequest:Ps,fetchSiteRequest:St.c};var Zs=Object(h.b)(e=>({requests:e.requests,request:e.request,requestFolders:e.requestFolders}),Us)(Object(I.a)()(Hs));class zs extends s.Component{constructor(){super(...arguments),this.state={showDateRangePicker:!1,searchText:"",currentRange:{startDate:ve()("20220101").format("DD MMM YYYY"),endDate:ve()().format("DD MMM YYYY")},requestFolders:[],folderId:0},this.handleUpdateDateRange=e=>{this.setState({currentRange:{startDate:e.startDate,endDate:e.endDate}},()=>{this.props.fetchRequestFoldersRequest(this.props.match.params.siteId,()=>{},this.state.currentRange)})},this.handleUpdateSearchText=e=>{this.setState({searchText:e.target.value})}}componentDidMount(){document.title="".concat(this.props.t("app.titles.forms")," - Siter.io"),this.props.fetchRequestFoldersRequest(this.props.match.params.siteId,e=>{this.setState({folderId:e.find(e=>e.is_default).id})},this.state.currentRange)}componentWillReceiveProps(e){e.requestFolders.length!==this.props.requestFolders.length&&this.setState({requestFolders:e.requestFolders})}render(){const{t:e}=this.props;return n.a.createElement("div",{className:"requests-wrapper"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"title title_mt13"},e("app.forms.title"))),n.a.createElement("div",{className:"request-window"},0!==this.state.folderId&&n.a.createElement(Zs,{handleChangeRequestFolders:this.handleChangeRequestFolders,fetchRequestFoldersRequest:this.props.fetchRequestFoldersRequest,startDate:this.state.currentRange.startDate,endDate:this.state.currentRange.endDate,siteId:this.props.match.params.siteId,folderId:this.state.folderId,searchText:this.state.searchText,zapierIntegrationVisible:this.props.zapierIntegrationVisible,userEmail:this.props.userEmail,userName:this.props.userName})))}}const Vs={fetchRequestFoldersRequest:Fs};var Ws=Object(h.b)(e=>({site:e.site,requestFolders:e.requestFolders}),Vs)(Object(I.a)()(zs));class qs extends s.Component{componentDidMount(){const e=document.createElement("script");e.src="https://cdn.zapier.com/packages/partner-sdk/v0/zapier-elements/zapier-elements.esm.js",e.type="module",e.onload=()=>this.setState({isLoading:!1}),document.body.appendChild(e);const t=document.createElement("link");t.href="https://cdn.zapier.com/packages/partner-sdk/v0/zapier-elements/zapier-elements.css",t.rel="stylesheet",document.head.appendChild(t)}componentWillUnmount(){const e=document.querySelector('script[src="https://cdn.zapier.com/packages/partner-sdk/v0/zapier-elements/zapier-elements.esm.js"]');e&&document.body.removeChild(e);const t=document.querySelector('link[href="https://cdn.zapier.com/packages/partner-sdk/v0/zapier-elements/zapier-elements.css"]');t&&document.head.removeChild(t)}render(){const{userEmail:e,userName:t}=this.props;return n.a.createElement("div",{className:"request-window__body"},n.a.createElement("div",{className:"zapier-integration-content"},n.a.createElement("zapier-workflow",{"sign-up-email":e,"sign-up-first-name":t,"client-id":"3CTApph6Ia5dtCunPd07EKJsGgpPeu9uKoZXZjUK",theme:"black","intro-copy-display":"show","manage-zaps-display":"show","app-search-bar-display":"show","template-style":"row","zap-create-from-scratch-display":"show"})))}}var Ks=qs;class Ys extends s.Component{constructor(){super(...arguments),this.state={searchValue:"",filteredOptions:[],showDropdown:!1},this.getInitialOptions=()=>[{label:"Zapier",path:"/account/sites/".concat(this.props.site.id,"/integration/zapier")}],this.setDropdownRef=e=>{this.dropdownRef=e},this.handleClickOutside=e=>{this.dropdownRef&&!this.dropdownRef.contains(e.target)&&this.setState({showDropdown:!1})},this.handleInputChange=e=>{const t=e.target.value.toLowerCase(),a=this.getInitialOptions().filter(e=>e.label.toLowerCase().includes(t)).slice(0,5);this.setState({searchValue:t,filteredOptions:a,showDropdown:!0})},this.handleInputFocus=()=>{this.state.searchValue||this.setState({filteredOptions:this.getInitialOptions().slice(0,5),showDropdown:!0})},this.handleOptionClick=e=>{L.a.push(e),this.setState({searchValue:"",filteredOptions:this.getInitialOptions().slice(0,5),showDropdown:!1})},this.options=()=>n.a.createElement("div",{className:"dashboard__item-page__footer-name__more-options-wrapper"},n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/general"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.menu.settingsmenu.general")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/domains"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.menu.settingsmenu.domains")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/analytics"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.settings.menu.analytics")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/fonts"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.settings.menu.fonts")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/headhtml"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.menu.settingsmenu.customcode")),n.a.createElement(O.a,{style:{whiteSpace:"nowrap"},onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/appads"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.menu.settingsmenu.fb")),this.props.user.id===this.props.site.owner_id&&n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/transfer"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.menu.settingsmenu.transfer")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/promote-icon"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.settings.menu.promoicon")),n.a.createElement(O.a,{onClick:this.closeTooltip,to:"/account/sites/".concat(this.props.site.id,"/settings/delete"),className:"dashboard__item-page__footer-name__more-options__item"},this.props.t("app.pages.menu.settingsmenu.delete"))),this.membersClassName=()=>this.props.history.location.pathname.indexOf("/team/")>-1?"header-menu__link link_active":"header-menu__link",this.closeTooltip=()=>{this.refs.tooltip.close()},this.handleLogout=()=>{localStorage.removeItem("persist:primary"),document.location.reload()}}componentDidMount(){this.setState({filteredOptions:this.getInitialOptions().slice(0,5)}),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)}render(){const{searchValue:e,filteredOptions:t,showDropdown:a}=this.state,{id:s,unread_requests_count:o}=this.props.site,{t:i}=this.props,r=L.a.location.pathname.indexOf("/account/sites/".concat(s,"/settings"))>-1;return n.a.createElement("div",{className:"dashboard"},L.a.location.pathname!=="/account/sites/".concat(s,"/team/accepted/invite")&&n.a.createElement("div",{className:"animate-wrapper animate-wrapper_white"},n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement("div",{className:"dashboard__sites-navbar dashboard__items-searchbar"},n.a.createElement("div",{className:"dashboard__sites-navbar__site-menu"},n.a.createElement("nav",{className:"header-menu__nav header-menu__nav-site"},n.a.createElement(O.a,{activeClassName:"link_active",to:"/account/sites/".concat(this.props.match.params.siteId,"/pages"),className:"header-menu__link"},n.a.createElement("span",null,i("app.pages.menu.pages"))),n.a.createElement(O.a,{className:this.membersClassName(),to:"/account/sites/".concat(this.props.match.params.siteId,"/team/accepted")},n.a.createElement("span",null,i("app.pages.menu.team"))),n.a.createElement(O.a,{className:"header-menu__link",activeClassName:"link_active",to:"/account/sites/".concat(this.props.match.params.siteId,"/forms")},n.a.createElement("span",null,i("app.pages.menu.forms")," ",o>0&&n.a.createElement("span",{className:"requests-count ".concat(o>0?"requests-count_active":"")},o))),n.a.createElement(O.a,{className:"header-menu__link",activeClassName:"link_active",to:"/account/sites/".concat(this.props.match.params.siteId,"/integration")},n.a.createElement("span",null,"Integrations")),n.a.createElement(O.a,{id:"site-settings",className:L.a.location.pathname.startsWith("/account/sites/".concat(this.props.match.params.siteId,"/settings"))?"header-menu__link header-menu__link_last link_active":"header-menu__link header-menu__link_last",to:"/account/sites/".concat(this.props.match.params.siteId,"/settings/general")},n.a.createElement("span",null,i("app.pages.menu.settings"))),n.a.createElement(P.a,{arrowContent:n.a.createElement("div",{className:"rc-tooltip-arrow-inner"}),placement:"topRight",ref:"tooltip",trigger:["click"],transitionName:"rc-tooltip-zoom",overlayClassName:"custom-tooltip custom-tooltip_178 custom-tooltip_shadow custom-tooltip__menu",overlay:this.options()},n.a.createElement("div",{className:"header-menu__nav-popup__arrow-wrapper va-middle"},n.a.createElement("svg",{className:"header-menu__nav-popup__arrow",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{opacity:"0.5"},n.a.createElement("path",{d:"M1.73218 1.02629C1.52579 0.84283 1.20976 0.861421 1.0263 1.06781C0.842838 1.2742 0.861428 1.59024 1.06782 1.7737L1.73218 1.02629ZM5 4.59999L4.66782 4.9737C4.85726 5.14209 5.14274 5.14209 5.33218 4.9737L5 4.59999ZM8.93218 1.7737C9.13857 1.59024 9.15716 1.2742 8.97371 1.06781C8.79025 0.861421 8.47421 0.84283 8.26782 1.02629L8.93218 1.7737ZM1.06782 1.7737L4.66782 4.9737L5.33218 4.22629L1.73218 1.02629L1.06782 1.7737ZM5.33218 4.9737L8.93218 1.7737L8.26782 1.02629L4.66782 4.22629L5.33218 4.9737Z",fill:"black"}))))),L.a.location.pathname.indexOf("/account/sites/".concat(s,"/team/"))>-1?n.a.createElement(O.a,{to:"/account/sites/".concat(s,"/team/accepted/invite"),className:"button button_white button_add-page fr"},n.a.createElement("span",null,i("app.team.invitebutton"))):-1===L.a.location.pathname.indexOf("/account/sites/".concat(s,"/settings/"))&&-1===L.a.location.pathname.indexOf("/account/sites/".concat(s,"/integration"))&&n.a.createElement(O.a,{to:"/account/sites/".concat(s,"/pages/create"),className:"button button_white button_add-page fr"},n.a.createElement("span",null,i("app.pages.newpagebutton"))),!1,r&&n.a.createElement("span",{className:"button button_white button_add-page fr",onClick:this.handleLogout},"Sign out"))))))),n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement("div",{className:"wrapper wrapper_inside "+(L.a.location.pathname.indexOf("/forms")>-1&&"wrapper_inside-forms")},n.a.createElement("div",{className:"animate-wrapper"},n.a.createElement(_.a,{component:Tt,path:"/account/sites/:siteId/pages"}),n.a.createElement(_.a,{exact:!0,component:na,path:"/account/sites/:siteId/pages/create"}),n.a.createElement(_.a,{component:Jt,path:"/account/sites/:siteId/pages/:pageId/settings"}),n.a.createElement(_.a,{exact:!0,path:"/account/sites/:siteId/forms",component:Ws}),n.a.createElement(_.a,{component:ks,path:"/account/sites/:siteId/settings"}),n.a.createElement(_.a,{exact:!0,component:ha,path:"/account/sites/:siteId/team/:folderId"}),n.a.createElement(_.a,{exact:!0,component:ga,path:"/account/sites/:siteId/team/accepted/invite"}),n.a.createElement(_.a,{path:"/test",render:()=>n.a.createElement("div",null,"Test Route")}),n.a.createElement(_.a,{exact:!0,path:"/account/sites/:siteId/integration",component:Bs}),n.a.createElement(_.a,{exact:!0,path:"/account/sites/:siteId/integration/zapier",component:Ks})))))}}const Js={removeSiteRequest:St.e};var Xs=Object(h.b)(e=>({site:e.site,user:e.sessions}),Js)(Object(I.a)()(Ys));class Qs extends s.Component{constructor(){super(...arguments),this.capitalizeFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1),this.state={name:"",subdomain:"",domainType:"later",saving:!1,plansModal:!1},this.slugify=e=>{let t={"\xe0":"a","\xe4":"a","\xe1":"a","\xe2":"a","\xe6":"a","\xe5":"a","\xeb":"e","\xe8":"e","\xe9":"e","\xea":"e","\xee":"i","\xef":"i","\xec":"i","\xed":"i","\xf2":"o","\xf3":"o","\xf6":"o","\xf4":"o","\xf8":"o","\xf9":"o","\xfa":"u","\xfc":"u","\xfb":"u","\xf1":"n","\xe7":"c","\xdf":"s","\xff":"y","\u0153":"o","\u0155":"r","\u015b":"s","\u0144":"n","\u1e55":"p","\u1e83":"w","\u01f5":"g","\u01f9":"n","\u1e3f":"m","\u01d8":"u","\u1e8d":"x","\u017a":"z","\u1e27":"h","\xb7":"-","/":"-",_:"-",",":"-",":":"-",";":"-"};return Object.assign(t,{"\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"e","\u0436":"j","\u0437":"z","\u0438":"i","\u0439":"y","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"shch","\u044b":"y","\u044d":"e","\u044e":"u","\u044f":"ya"}),e.toString().toLowerCase().replace(/\s+/g,"-").replace(/./g,(e,a,s)=>t[e]||e).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},this.handleChangeName=e=>{this.setState({name:e.target.value,subdomain:this.slugify(e.target.value.slice(0,16)+"-"+(new Date).getTime())})},this.handleChangeSubdomain=e=>{this.setState({subdomain:e.target.value})},this.createSiteRequest=(e,t)=>this.props.createSiteRequest({name:this.state.name,subdomain:this.state.subdomain},e,t),this.onTabFocus=()=>{this.props.fetchUserRequest()},this.handleCreate=e=>{e.preventDefault();const{domainType:t}=this.state,{t:a}=this.props;Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST||(this.setState({disabledRadio:!0,saving:!0}),this.props.fetchUserRequest(e=>{if(!e.email_confirmed)return this.setState({disabledRadio:!1,saving:!1}),void y.b.warning(a("app.editor.settingspanel.confirmemail.message"),a("app.editor.settingspanel.confirmemail.title"),5e3,()=>{},void 0,!0,a("app.editor.settingspanel.confirmemail.close"),a("app.editor.settingspanel.confirmemail.button"),"resendEmailConfirmation");if("now"!==t||this.userPaid()){if(!e.subscription)return y.b.error("Subscription not found, please contact support or create free","Error",5e3),void L.a.push("/account/profile/billing/subscriptions");this.setState({saving:!0}),this.createSiteRequest(e=>{this.props.fetchUserRequest(),this.props.fetchSitesRequest(),this.setState({saving:!1}),L.a.push("/account/sites/".concat(e.id,"/pages/create"))},()=>{this.setState({saving:!1})})}else this.openPlansModal()}))},this.close=()=>{L.a.push("/account/sites")},this.handleFocusToSubdomain=()=>{document.getElementsByClassName("input__content-editable")[0].focus()},this.userPaid=()=>{const{user:e}=this.props;return e.subscription&&"active"===e.subscription.status&&-1===e.subscription.plan.identifier.indexOf("free")},this.handleChangeDomainType=e=>{const{t:t}=this.props,a=e.target.value;this.setState({disabledRadio:!0}),this.props.fetchUserRequest(s=>{if(this.setState({disabledRadio:!1}),"now"===a&&!s.email_confirmed)return y.b.warning(t("app.editor.settingspanel.confirmemail.message"),t("app.editor.settingspanel.confirmemail.title"),5e3,()=>{},void 0,!0,t("app.editor.settingspanel.confirmemail.close"),t("app.editor.settingspanel.confirmemail.button"),"resendEmailConfirmation"),e.preventDefault(),!1;this.setState({domainType:a},()=>{"now"!==a||this.userPaid()||this.openPlansModal()})})},this.openPlansModal=()=>{L.a.push("/account/profile/billing/checkout")}}componentDidMount(){this.setState({name:"".concat(this.capitalizeFirstLetter(this.props.user.username),"'s site"),subdomain:this.slugify(this.props.user.username.slice(0,16)+"-"+(new Date).getTime())}),window.addEventListener("focus",this.onTabFocus),document.addEventListener("siter.update_master_components",this.onTabFocus)}componentWillUnmount(){window.removeEventListener("focus",this.onTabFocus),document.removeEventListener("siter.update_master_components",this.onTabFocus)}render(){const{saving:e,disabledRadio:t}=this.state,{t:a}=this.props;return n.a.createElement("div",{className:"wrapper wrapper_inside"},n.a.createElement("div",{className:"dashboard"},n.a.createElement("div",{className:"title"},a("app.sites.newsite.title")),n.a.createElement("div",{className:"dashboard-create__site-container"},n.a.createElement("div",{className:"input-wrapper input-wrapper_mb30"},n.a.createElement("label",{className:"label"},a("app.sites.newsite.titlelabel")),n.a.createElement("input",{value:this.state.name,onChange:this.handleChangeName,id:"name",placeholder:a("app.sites.newsite.titleplaceholder"),type:"text",autoFocus:!0,name:"login",required:"",className:"input input_hover"})),n.a.createElement("div",{className:"title mt60"},a("app.sites.newsite.domaintitle")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("div",null,n.a.createElement("div",{className:"radio-wrapper ms-radio"},n.a.createElement("div",null,n.a.createElement("input",{disabled:t,checked:"later"===this.state.domainType,id:"later",type:"radio",value:"later",name:"ms-target",className:"radio",onChange:this.handleChangeDomainType}),n.a.createElement("label",{htmlFor:"later",className:"radio-label-wrapper"},n.a.createElement("div",{className:"radio-label radio-label_small fl"}),n.a.createElement("span",{className:"label-text"},a("app.sites.newsite.later")))))),n.a.createElement("div",null,n.a.createElement("div",{className:"radio-wrapper ms-radio"},n.a.createElement("div",null,n.a.createElement("input",{disabled:t,checked:"now"===this.state.domainType,id:"now",type:"radio",value:"now",name:"ms-target",className:"radio",onChange:this.handleChangeDomainType}),n.a.createElement("label",{htmlFor:"now",className:"radio-label-wrapper"},n.a.createElement("div",{className:"radio-label radio-label_small fl"}),n.a.createElement("span",{className:"label-text"},a("app.sites.newsite.now"))))))),n.a.createElement("div",{className:"dashboard-create__site-notify mt30"},"\u2600 ",a("app.sites.newsite.info")),n.a.createElement("button",{disabled:e,onClick:this.handleCreate,className:"button button_green dashboard-create__site-button mt40"},a("app.sites.newsite.button")))))}}const $s={createSiteRequest:St.a,fetchSitesRequest:at,fetchUserRequest:E};var en=Object(h.b)(e=>({user:e.sessions,sites:e.sites}),$s)(Object(I.a)()(Qs));class tn extends s.Component{constructor(){super(...arguments),this.state={success:!1,error:!1},this.getUser=()=>{let e=localStorage.getItem("persist:primary");if(e){let t=JSON.parse(e),a=JSON.parse(t.sessions);if(a.id)return a}}}componentDidMount(){setTimeout(()=>{const{match:e}=this.props,{service:t,token:a}=e.params,s={t:a,service:t},n=this.getUser();l.a.defaults.headers.common.Authorization="Bearer ".concat(n.jwt),l.a.post("/open_auth/pair",s).then(e=>{let{data:t}=e;t.jwt&&setTimeout(()=>{this.setState({success:!0})},2e3)}).catch(()=>{this.setState({error:!0})})},200)}render(){const{service:e}=this.props.match.params,{success:t,error:a}=this.state;return n.a.createElement("div",{className:"dashboard"},a?n.a.createElement("div",{className:"open-auth__text"},"Sorry, something right wrong :( Please retry."):n.a.createElement("div",null,t?n.a.createElement("div",{className:"open-auth__text"},n.a.createElement("b",null,"Siter.io")," successfully paired with ",n.a.createElement("strong",{style:{fontWeight:"normal"},className:"capitalize"},e),". Go back to ",n.a.createElement("strong",{style:{fontWeight:"normal"},className:"capitalize"},e),"."):n.a.createElement("div",{className:"siter-loader_confirmation-overlay siter-loader_confirmation-overlay_nobg"},n.a.createElement("div",{className:"siter-loader_confirmation-text"},"Login via ",n.a.createElement("strong",{style:{fontWeight:"normal"},className:"capitalize"},e),n.a.createElement("span",null,"."),n.a.createElement("span",null,"."),n.a.createElement("span",null,".")))))}}const an={authenticateSuccess:Ae,fetchSitesRequest:at};var sn=Object(h.b)(e=>({}),an)(tn),nn=a(497),on=a(247),rn=a.n(on);class ln extends s.Component{constructor(){super(...arguments),this.state={email:"",validEmail:!1,password:"",loading:!1,googleLoading:!0},this.handleEmailChanged=e=>{const t=e.target.value;this.setState({email:t})},this.connectGSI=()=>{const e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.onload=this.initializeGsi,e.async=!0,e.id="google-client-script",document.querySelector("body").appendChild(e)},this.initializeGsi=()=>{window.google&&(this.unmounted||this.setState({googleLoading:!1}),this.GoogleAuth=window.google.accounts.oauth2.initTokenClient({client_id:window.googleKey,scope:"email profile",callback:e=>{this.googleToken=e.access_token,this.responseGoogle(e)}}))},this.handleAuthGoogle=()=>{this.GoogleAuth.requestAccessToken()},this.setBeacon=e=>{window.Beacon&&window.Beacon("identify",{id:e.id,name:e.username,email:e.email,avatar:e.avatar_url})},this.routeUser=e=>{let t=localStorage.getItem("persist:primary");if(t){let a=JSON.parse(t),s=JSON.parse(a.sessions);if(s.id){const t=s.jwt;t&&this.setState({loading:!0}),e?(this.setBeacon(e),L.a.push("/account/sites")):t&&(this.props.fetchUserRequest(e=>{this.setBeacon(e)}),L.a.push("/account/sites"))}}},this.handlePasswordChanged=e=>{const t=e.target.value;this.setState({password:t})},this.redirectUrl=()=>{if(L.a.location.search.indexOf("?r=")>-1){let e=L.a.location.search+"";return e=e.replace("?r=",""),L.a.push(e),!0}},this.handleSignIn=e=>{e.preventDefault();const t=this.state.email.toLowerCase(),{password:a}=this.state;this.setState({submitted:!0}),Object(K.w)(t,"email")&&a&&(this.setState({loading:!0}),this.props.authenticateRequest(t,a,e=>{setTimeout(()=>{this.setState({loading:!1}),this.redirectUrl()||this.routeUser(e)},500)},()=>{this.setState({loading:!1})}))},this.responseFacebook=e=>{e.accessToken&&ze.a.ajax({type:"POST",url:"".concat(window.apiUrl,"/auth/facebook/callback"),data:{access_token:e.accessToken},success:e=>{this.props.authenticateSuccess(e.user),this.redirectUrl()||L.a.push("/account/sites")},error:()=>{}})},this.responseGoogle=e=>{ze.a.ajax({type:"POST",url:"".concat(window.apiUrl,"/auth/google_oauth2/callback"),data:e,success:e=>{this.props.authenticateSuccess(e.user),this.redirectUrl()||L.a.push("/account/sites")}})},this.responseGoogleFail=e=>{console.log(e)},this.t=(new Date).getTime()}componentWillMount(){this.connectGSI()}componentWillUnmount(){const e=document.getElementById("google-client-script");e&&e.remove(),this.unmounted=!0}componentDidMount(){this.routeUser(),this.unmounted=!1}render(){const{email:e,password:t,loading:a,googleLoading:s}=this.state,{t:o}=this.props;return n.a.createElement("div",{className:"login-page"},n.a.createElement("div",{resize:"height",className:"login-wrapper"},n.a.createElement("a",{href:"https://siter.io/",className:"l-p__backlink"},o("app.login.backlabel")," ",n.a.createElement("b",null,o("app.login.backtitle"))),n.a.createElement("div",{className:"inline-wrapper"},n.a.createElement("h1",{className:"l-p__title"},o("app.login.title")," ",n.a.createElement("b",null,"siter.io")),n.a.createElement("div",{className:"login-wrapper__container"},n.a.createElement("div",{className:"inline-wrapper"},n.a.createElement("button",{disabled:s,className:"button button_gg button-social-rounded",onClick:this.handleAuthGoogle},o("app.login.googlebutton")),n.a.createElement(rn.a,{cssClass:"button button_fb",textButton:o("app.login.facebookbutton"),appId:window.fbKey,autoLoad:!1,isMobile:!1,fields:"name,email,picture",cookie:!0,callback:this.responseFacebook})),n.a.createElement("div",{className:"l-p__separator ta-left"},n.a.createElement("span",null,o("app.login.divider"))),n.a.createElement("form",{className:"ta-left",name:"loginForm",onSubmit:this.handleSignIn,noValidate:!0},n.a.createElement(J,{tabIndex:"1",value:e,onChange:this.handleEmailChanged,id:"login",autoFocus:"autofocus",placeholder:o("app.login.emailplaceholder"),label:o("app.login.emaillabel"),type:"text",name:"login",datatype:"email",submitted:this.state.submitted,required:!0}),n.a.createElement(J,{tabIndex:"1",value:t,onChange:this.handlePasswordChanged,id:"password",placeholder:o("app.login.passwordplaceholder"),label:o("app.login.passwordlabel"),labelComponent:n.a.createElement(O.a,{className:"fr l-p__link",to:"/reset_password/blank"},o("app.login.forgotlink")),type:"password",name:"password",datatype:"password",submitted:this.state.submitted,required:!0}),n.a.createElement("div",{className:"input-wrapper inline-wrapper ta-left l-p__button__wrap"},n.a.createElement("button",{disabled:a,className:"button button_green l-p__button"},o(a?"app.login.loadingbutton":"app.login.loginbutton"))),n.a.createElement("div",{className:"input-wrapper inline-wrapper ta-left l-p__button__wrap"},n.a.createElement(O.a,{to:"/signup",className:"button button_white l-p__button blue-text"},o("app.login.signupbutton"))))),n.a.createElement("div",{className:"l-p__footer-links l-p__footer-links_black"},n.a.createElement(O.a,{className:"inline-top l-p__footer-links__item",to:"/signup"},o("app.login.footer.signup")),"\xa0\xa0-\xa0\xa0",n.a.createElement("a",{rel:"noopener noreferrer",className:"inline-top l-p__footer-links__item",href:"http://help.siter.io/",target:"_blank"},o("app.login.footer.help"))))))}}const cn={authenticateRequest:Fe,authenticateSuccess:Ae,fetchUserRequest:E};var pn=Object(h.b)(e=>({loggingIn:e,user:e.sessions}),cn)(Object(I.a)()(ln)),dn=a(517);const hn=n.a.createRef();class mn extends s.Component{constructor(){super(...arguments),this.state={email:"",validEmail:!1,password:"",confirmPassword:"",pp_agreement:!1,loading:!1,googleLoading:!0},this.connectGSI=()=>{const e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.onload=this.initializeGsi,e.async=!0,e.id="google-client-script",document.querySelector("body").appendChild(e)},this.initializeGsi=()=>{window.google&&(this.setState({googleLoading:!1}),this.GoogleAuth=window.google.accounts.oauth2.initTokenClient({client_id:window.googleKey,scope:"email profile",callback:e=>{this.googleToken=e.access_token,this.responseGoogle(e)}}))},this.handleEmailChanged=e=>{const t=e.target.value;this.setState({email:t})},this.handlePasswordChanged=e=>{const t=e.target.value;this.setState({password:t})},this.handleConfirmPasswordChanged=e=>{const t=e.target.value;this.setState({confirmPassword:t})},this.setBeacon=e=>{window.Beacon&&window.Beacon("identify",{id:e.id,name:e.username,email:e.email,avatar:e.avatar_url})},this.getInviteToken=()=>{if(this.props.location.search)return this.props.location.search.replace("?invite_token=","")},this.createUserRequest=(e,t)=>{const{t:a}=this.props;this.setState({loading:!0}),this.props.createUserRequest(e,e=>{this.setBeacon(e),window.fpr("referral",{email:e.email}),this.setState({loading:!1}),t?this.props.fetchSitesRequest(e=>{if(e.length>0){const{id:t,name:s}=e[0];L.a.push("/account/sites/".concat(t,"/pages")),y.b.success(a("app.signup.invitemessage"),"".concat(a("app.signup.invitetitle")," ").concat(s))}else L.a.push("/account/sites/create")}):L.a.push("/account/sites/create")},()=>{this.setState({loading:!1})})},this.validPasswords=()=>{const{password:e,confirmPassword:t}=this.state;return e&&e===t},this.handleSignUp=async e=>{const t=this.getInviteToken();e.preventDefault(),this.setTimeSignUp(),this.setState({submitted:!0});const a={email:this.state.email.toLowerCase(),password:this.state.password,password_confirmation:this.state.confirmPassword,pp_agreement:this.state.pp_agreement};t&&(a.invite_token=t),this.validPasswords()&&a.email&&Object(K.w)(a.email,"email")&&(await hn.current.executeAsync(),hn.current.reset(),this.createUserRequest(a,t))},this.setTimeSignUp=()=>{localStorage.setItem("signUpTime",(new Date).getTime())},this.request=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};const n=new XMLHttpRequest;n.open(t,e,!0),n.setRequestHeader("Content-Type","application/json"),n.onload=()=>{200===n.status&&s(JSON.parse(n.response))},n.send(JSON.stringify(a))},this.responseFacebook=e=>{this.setTimeSignUp(),ze.a.ajax({type:"POST",url:"".concat(window.apiUrl,"/auth/facebook/callback"),data:{access_token:e.accessToken},success:e=>{this.props.authenticateSuccess(e.user),(new Date).getTime()-new Date(e.user.created_at).getTime()>6e4?L.a.push("/account/sites"):(window.fpr("referral",{email:e.user.email}),L.a.push("/account/sites/create"))},error:()=>{}})},this.responseGoogle=e=>{this.setTimeSignUp(),ze.a.ajax({type:"POST",url:"".concat(window.apiUrl,"/auth/google_oauth2/callback"),data:e,success:e=>{this.props.authenticateSuccess(e.user),(new Date).getTime()-new Date(e.user.created_at).getTime()>6e4?L.a.push("/account/sites"):(window.fpr("referral",{email:e.user.email}),L.a.push("/account/sites/create"))}})},this.handleAuthGoogle=()=>{this.GoogleAuth.requestAccessToken()},this.responseGoogleFail=e=>{console.log(e)},this.handleChangeAgreement=e=>{this.setState({pp_agreement:e.target.checked})}}componentWillMount(){this.connectGSI()}componentWillUnmount(){const e=document.getElementById("google-client-script");e&&e.remove()}render(){const{email:e,password:t,confirmPassword:a,loading:s,googleLoading:o}=this.state,{t:i}=this.props;return n.a.createElement("div",{className:"login-page login-page_black",style:{backgroundImage:"url(https://source.unsplash.com/random/1280x720?sig=".concat(this.t,"&abstract)")}},n.a.createElement("div",{resize:"height",className:"login-wrapper"},n.a.createElement(O.a,{to:"/",className:"l-p__backlink l-p__backlink_signup"},i("app.signup.backlabel")," ",n.a.createElement("b",null,i("app.signup.backtitle"))),n.a.createElement("div",{className:"inline-wrapper"},n.a.createElement("h1",{className:"l-p__title l-p__title_white"},i("app.signup.title")," ",n.a.createElement("b",null,"siter.io")),n.a.createElement("div",{className:"login-wrapper__container"},n.a.createElement("div",{className:"inline-wrapper"},n.a.createElement("button",{disabled:o,className:"button button_gg button-social-rounded",onClick:this.handleAuthGoogle},i("app.signup.googlebutton")),n.a.createElement(rn.a,{cssClass:"button button_fb",textButton:i("app.signup.facebookbutton"),appId:window.fbKey,autoLoad:!1,isMobile:!1,fields:"name,email,picture",cookie:!0,callback:this.responseFacebook})),n.a.createElement("div",{className:"l-p__separator ta-left"},n.a.createElement("span",null,i("app.signup.divider"))),n.a.createElement("form",{className:"ta-left",name:"loginForm",onSubmit:this.handleSignUp,noValidate:!0},n.a.createElement(dn.a,{ref:hn,sitekey:"6Lc1NZ0nAAAAALtPPxMcovGt5ZHsed6zQ6IDk-nQ",size:"invisible"}),n.a.createElement(J,{tabIndex:"1",value:e,onChange:this.handleEmailChanged,id:"login",autoFocus:"autofocus",placeholder:i("app.signup.emailplaceholder"),label:i("app.signup.emaillabel"),type:"text",name:"login",datatype:"email",submitted:this.state.submitted,required:!0}),n.a.createElement(J,{tabIndex:"1",value:t,onChange:this.handlePasswordChanged,id:"user_password",placeholder:i("app.signup.passwordplaceholder"),label:i("app.signup.passwordlabel"),type:"password",name:"user_password",datatype:"password",submitted:this.state.submitted,required:!0}),n.a.createElement(J,{tabIndex:"1",value:a,onChange:this.handleConfirmPasswordChanged,id:"user_password",placeholder:i("app.signup.passwordretryplaceholder"),label:i("app.signup.passwordretrylabel"),type:"password",name:"user_password",equals:t,datatype:"password",submitted:this.state.submitted,required:!0}),n.a.createElement("div",{className:"ta-left",style:{marginBottom:20}},n.a.createElement("div",{className:"checkbox-wrapper"},n.a.createElement("input",{onChange:this.handleChangeAgreement,id:"ms__form-checkbox",type:"checkbox",tabIndex:"-1",className:"checkbox",checked:this.state.pp_agreement}),n.a.createElement("label",{htmlFor:"ms__form-checkbox",title:"Open in New Window",className:"checkbox-label-wrapper radio-label-wrapper"},n.a.createElement("div",{className:"checkbox-label checkbox-label_small fl"},n.a.createElement("svg",{width:"11px",className:"icon-check",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null),n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"ui/check-on",transform:"translate(-3.000000, -4.000000)",stroke:"#FFFFFF",strokeWidth:"2"},n.a.createElement("g",{id:"Shape"},n.a.createElement("polyline",{points:"13 5 7 11 4 8"})))))),n.a.createElement("span",{className:"label-text",style:{fontSize:14,color:"#464D52"}},n.a.createElement("span",null,i("app.signup.acceptlabel"),"\xa0"),n.a.createElement("a",{className:"link link_black link_underline inline-top",href:"https://siter.io/privacy",target:"_blank",rel:"noopener noreferrer",style:{position:"relative",zIndex:1}},i("app.signup.acceptlink")))))),n.a.createElement("div",{className:"input-wrapper inline-wrapper ta-left l-p__button__wrap",style:{width:"100%"}},n.a.createElement("button",{className:"button button_green l-p__button",disabled:s},i(s?"app.signup.signupbuttonloading":"app.signup.signupbutton"))))),n.a.createElement("div",{className:"l-p__footer-links"},n.a.createElement(O.a,{className:"inline-top l-p__footer-links__item",to:"/"},i("app.signup.footer.login")),"\xa0\xa0-\xa0\xa0",n.a.createElement("a",{rel:"noopener noreferrer",className:"inline-top l-p__footer-links__item",href:"http://help.siter.io/",target:"_blank"},i("app.signup.footer.help"))))))}}const un={createUserRequest:S,authenticateSuccess:Ae,fetchSitesRequest:at};var gn=Object(h.b)(e=>({registering:e}),un)(Object(I.a)()(mn));class _n extends s.Component{constructor(){super(...arguments),this.state={email:"",validEmail:!1,password:"",alertOpened:!1,code:""},this.handleEmailChanged=e=>{const t=e.target.value;this.setState({email:t})},this.handlePasswordChanged=e=>{const t=e.target.value;this.setState({password:t})},this.handleCodeChanged=e=>{const t=e.target.value;this.setState({code:t})},this.setBeacon=e=>{window.Beacon&&window.Beacon("identify",{id:e.id,name:e.username,email:e.email,avatar:e.avatar_url})},this.handleSendCode=e=>{const{email:t}=this.state;e.preventDefault(),this.setState({requestingCode:!0}),t&&Object(K.w)(t,"email")&&this.props.resetUserRequest({email:t},e=>{void 0!==e&&this.setState({alertOpened:!0,requestingCode:!1})})},this.handleResetPassword=e=>{e.preventDefault();const{email:t,password:a,code:s}=this.state;this.setState({submitted:!0}),t&&Object(K.w)(t,"email")&&a&&s&&this.props.resetUserRequest({email:t,code:s,password:a},e=>{this.setBeacon(e),y.b.success("Password successfully updated","OK",5e3),L.a.push("/account/sites")})},this.handleCallbackAlert=e=>{this.setState({alertOpened:!1,submitted:!1}),L.a.push("/reset_password/code")}}componentDidMount(){"blank"!==this.props.match.params.code&&this.setState({code:this.props.match.params.code})}render(){const{email:e,password:t,submitted:a,code:s,requestingCode:o}=this.state,{t:i}=this.props;return n.a.createElement("div",{className:"login-page"},n.a.createElement(ne.a,{isOpen:this.state.alertOpened,type:"info",showCancelButton:!1,confirmButtonText:"OK",title:"Check your email",text:"Reset password code sent!",callback:this.handleCallbackAlert}),n.a.createElement("div",{resize:"height",className:"login-wrapper"},n.a.createElement(O.a,{to:"/",className:"l-p__backlink"},i("app.forgot.backlabel")," ",n.a.createElement("b",null,i("app.forgot.backtitle"))),n.a.createElement("div",{className:"inline-wrapper"},n.a.createElement("h1",{className:"l-p__title"},i("app.forgot.title")),n.a.createElement("div",{className:"login-wrapper__container"},n.a.createElement("form",{className:"ta-left",name:"loginForm",onSubmit:"blank"!==this.props.match.params.code?this.handleResetPassword:this.handleSendCode,noValidate:!0},n.a.createElement(J,{tabIndex:"1",value:e,onChange:this.handleEmailChanged,id:"login",autoFocus:"autofocus",placeholder:i("app.forgot.emailplaceholder"),label:i("app.forgot.emaillabel"),type:"text",name:"login",datatype:"email",submitted:a,required:!0}),"blank"!==this.props.match.params.code&&n.a.createElement("div",null,n.a.createElement(J,{tabIndex:"1",value:s,onChange:this.handleCodeChanged,id:"user_password",placeholder:i("app.forgot.codeplaceholder"),label:i("app.forgot.codelabel"),type:"text",name:"user_password",datatype:"password",submitted:a,required:!0}),n.a.createElement(J,{tabIndex:"1",value:t,onChange:this.handlePasswordChanged,id:"user_password",placeholder:i("app.forgot.newpasswordplaceholder"),label:i("app.forgot.newpasswordlabel"),type:"password",name:"user_password",datatype:"password",submitted:a,required:!0})),n.a.createElement("div",{className:"input-wrapper input-wrapper_nomargin"},n.a.createElement("button",{disabled:o,type:"button",onClick:"blank"!==this.props.match.params.code?this.handleResetPassword:this.handleSendCode,className:"button button_green l-p__button"},"blank"!==this.props.match.params.code?i("app.forgot.updatebutton"):i("app.forgot.resetbutton"))))))))}}const fn={resetUserRequest:F};var vn=Object(h.b)(e=>({loggingIn:e}),fn)(Object(I.a)()(_n));class wn extends s.Component{componentDidMount(){document.title="Siter.io demo";let e="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjF9.ZnaMmn1fcnswmU-7VkcwhxoY7CUGOaduYyvcFgW8OEY";switch(window.ENV){default:break;case"staging":e="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjU1Nn0.M6SQVkLYL_gHcP4_j7BITdu97ON4LHXRj9sBD4YBPN8"}"9ab0ca91"===this.props.match.params.id&&(l.a.defaults.headers.common.Authorization="Bearer ".concat(e),l.a.get("/users").then(e=>{const{user:t}=e.data;this.props.authenticateSuccess(t),this.props.fetchSitesRequest(e=>{const t=e[0];L.a.push("/account/sites/".concat(t.id,"/pages/").concat(t.pages[0].id,"/editor"))})}))}render(){return n.a.createElement("div",null)}}const Cn={authenticateSuccess:Ae,fetchSitesRequest:at};var yn=Object(h.b)(e=>({lastapp:e.application}),Cn)(wn);const bn=function(e){class t extends s.Component{constructor(e){super(e),this.state={component:null}}async componentDidMount(){const t=JSON.parse(window.sessionStorage.getItem("retry-lazy-refreshed")||"false");try{const{default:t}=await e();window.sessionStorage.setItem("retry-lazy-refreshed","false"),this.setState({component:t})}catch{if(!t)return window.sessionStorage.setItem("retry-lazy-refreshed","true"),window.location.reload(!0)}}render(){const e=this.state.component;return e?n.a.createElement(e,this.props):null}}return t}(()=>a.e(18).then(a.bind(null,1028)));class En extends s.Component{constructor(e){super(e),this.showConfirmEmailAlert=()=>{let e;if(localStorage.getItem("signUpTime")){var t=parseInt(localStorage.getItem("signUpTime"),10);e=(new Date).getTime()-t>3e5}else t="",e=!0;const a=localStorage.getItem("emailConfirmationShowed");this.props.userId&&!this.props.emailConfirmed&&e&&!a&&(this.state.showAlertEmail||this.setState({showAlertEmail:!0},()=>{y.b.error("Please confirm your email address to complete registration","Email confirmation",5e5,()=>{this.setState({showAlertEmail:!1})},void 0,!0,"Close","Resend link","resendEmailConfirmation"),this.props.fetchUserRequest(),localStorage.setItem("emailConfirmationShowed",!0)}))},this.publicPages=["/signup","/reset_password","/demo"],this.isPublicPage=()=>{let e=0;return this.publicPages.forEach(t=>{L.a.location.pathname.indexOf(t)>-1&&e++,["/","/account/sites/test/pages/test/editor",{waitUntil:"networkidle2"}].indexOf(L.a.location.pathname)>-1&&e++}),e>0},this.state={disableFooter:L.a.location.pathname.indexOf("editor")>-1||L.a.location.pathname.indexOf("preview")>-1||L.a.location.pathname.indexOf("forms")>-1||this.isPublicPage(),disableNavBar:L.a.location.pathname.indexOf("editor")>-1||L.a.location.pathname.indexOf("preview")>-1,showAlertEmail:!1,showAlertPastDue:!1},this.accessGranted=()=>L.a.location.pathname.indexOf("account")>-1&&(void 0!==this.props.userId||this.isPublicPage()),"app.siter.io"===window.location.hostname&&C.a.initialize(window.GAkey),L.a.listen((e,t)=>{C.a.send({hitType:"pageview",page:e.pathname+e.search}),this.setState({disableFooter:e.pathname.indexOf("editor")>-1||e.pathname.indexOf("preview")>-1||e.pathname.indexOf("forms")>-1||this.isPublicPage(),disableNavBar:e.pathname.indexOf("editor")>-1||e.pathname.indexOf("preview")>-1}),this.isPublicPage()||this.showConfirmEmailAlert()})}componentWillMount(){this.props.user&&this.props.user.jwt&&!this.isPublicPage()&&this.props.fetchUserRequest()}render(){return n.a.createElement(u.a,{history:L.a},n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,null,n.a.createElement(_.a,{component:yn,path:"/demo/:id"}),n.a.createElement(_.a,{exact:!0,component:pn,path:"/"}),n.a.createElement(_.a,{component:gn,path:"/signup"}),n.a.createElement(_.a,{component:vn,path:"/reset_password/:code"}),n.a.createElement(_.a,{component:nn.a,path:"/account/:pageId/preview"})),this.accessGranted()?n.a.createElement(n.a.Fragment,null,!this.state.disableNavBar&&n.a.createElement(_.a,{component:H,path:"/account"}),n.a.createElement("div",{className:this.state.disableFooter?this.state.disableNavBar?"siter-content__full-height":"":"siter-content"},n.a.createElement(g.a,null,n.a.createElement(_.a,{exact:!0,component:Bt,path:"/account/sites"}),n.a.createElement(_.a,{exact:!0,component:en,path:"/account/sites/create"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/pages"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/forms"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/integration"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/integration/zapier"}),n.a.createElement(_.a,{component:Jt,path:"/account/sites/:siteId/pages/:pageId/settings"}),n.a.createElement(_.a,{exact:!0,component:na,path:"/account/sites/:siteId/pages/create"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/general"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/billing"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/domains"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/fonts"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/analytics"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/integrations"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/transfer"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/promote-icon"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/headhtml"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/appads"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings/delete"}),n.a.createElement(_.a,{component:Xs,path:"/account/sites/:siteId/request"}),n.a.createElement(_.a,{component:Xs,path:"/account/sites/:siteId/team"}),n.a.createElement(_.a,{exact:!0,component:Xs,path:"/account/sites/:siteId/settings"}),n.a.createElement(_.a,{component:tt,exact:!0,path:"/account/profile/billing/add-payment-method"}),n.a.createElement(_.a,{component:mt,exact:!0,path:"/account/profile/billing/checkout"}),n.a.createElement(_.a,{component:Me,path:"/account/profile"}),n.a.createElement(_.a,{component:bn,path:"/account/sites/:siteId/pages/:pageId/editor"}),n.a.createElement(_.a,{component:sn,path:"/account/open_auth/:service/:token"}),-1===L.a.location.pathname.indexOf("preview")&&n.a.createElement(_.a,{component:V}))),!this.state.disableFooter&&n.a.createElement("div",{className:"wrapper-border__top"},n.a.createElement(z,null))):L.a.location.pathname.indexOf("account")>-1&&-1===L.a.location.pathname.indexOf("preview")?n.a.createElement(f.a,{to:"/?r=".concat(L.a.location.pathname)}):n.a.createElement("div",null),n.a.createElement(v.ModalContainer,null)))}}const kn={fetchUserRequest:E};var Sn=Object(h.b)(e=>({emailConfirmed:e.sessions.email_confirmed,userId:e.sessions.id,user:e.sessions,sites:e.sites}),kn)(En),xn=a(85),Nn=a(516),Bn=a(256),Fn=a(499),An=a.n(Fn),Ln=a(1026);var On=Object(Ln.a)({[Ae]:(e,t)=>({...t.payload}),[B]:(e,t)=>({...t.payload})},{});var Dn=Object(Ln.a)({[x]:(e,t)=>({...e,...t.payload}),[k]:(e,t)=>({...e,...t.payload}),[A]:(e,t)=>({...e,...t.payload})},{jwt:""});var Mn=Object(Ln.a)({[St.h]:(e,t)=>({...t.payload}),[St.d]:(e,t)=>({...t.payload}),[St.b]:(e,t)=>({...t.payload}),[St.f]:(e,t)=>({...t.payload})},[]);var Pn=Object(Ln.a)({[st]:(e,t)=>[...t.payload]},[]);const In=Object(b.a)("FETCH_PAGES_REQUEST"),Tn=Object(b.a)("FETCH_PAGES_SUCCESS",e=>e);var Rn=Object(Ln.a)({[Tn]:(e,t)=>[...t.payload]},[]);const jn=Object(b.a)("FETCH_PAGES_TEMPLATES_REQUEST",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};return e})),Gn=Object(b.a)("FETCH_PAGES_TEMPLATES_SUCCESS",e=>e);var Hn=Object(Ln.a)({[Gn]:(e,t)=>[...t.payload]},[]);var Un=Object(Ln.a)({[Ft.d]:(e,t)=>({...t.payload}),[Ft.b]:(e,t)=>({...t.payload}),[Ft.f]:(e,t)=>({...t.payload}),[Ft.h]:(e,t)=>({...t.payload})},{});const Zn=Object(b.a)("FETCH_PAGES_CATEGORIES_REQUEST",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};return e})),zn=Object(b.a)("FETCH_PAGES_CATEGORIES_SUCCESS",e=>e);var Vn=Object(Ln.a)({[zn]:(e,t)=>[...t.payload]},[]);var Wn=Object(Ln.a)({[gt]:(e,t)=>({...t.payload}),[ft]:(e,t)=>({...t.payload}),[wt]:(e,t)=>({...t.payload})},[]);const qn=Object(b.a)("FETCH_ADDONS_REQUEST",e=>e),Kn=Object(b.a)("FETCH_ADDONS_SUCCESS",e=>e);var Yn=Object(Ln.a)({[Kn]:(e,t)=>[...t.payload]},[]);var Jn=Object(Ln.a)({[R]:(e,t)=>[...t.payload]},[]);const Xn=Object(b.a)("UPDATE_NOTIFICATION_REQUEST",e=>e),Qn=Object(b.a)("UPDATE_NOTIFICATION_SUCCESS",e=>e);var $n=Object(Ln.a)({[Qn]:(e,t)=>({...t.payload})},[]);const eo=Object(b.a)("FETCH_SUBSCRIPTIONS_REQUEST",e=>e),to=Object(b.a)("FETCH_SUBSCRIPTIONS_SUCCESS",e=>e);var ao=Object(Ln.a)({[to]:(e,t)=>[...t.payload]},[]);const so=Object(b.a)("FETCH_TRANSACTIONS_REQUEST",e=>e),no=Object(b.a)("FETCH_TRANSACTIONS_SUCCESS",e=>e);var oo=Object(Ln.a)({[no]:(e,t)=>[...t.payload]},[]),io=a(138);var ro=Object(Ln.a)({[io.b]:(e,t)=>[...t.payload]},[]),lo=a(78);var co=Object(Ln.a)({[lo.b]:(e,t)=>({...t.payload})},[]),po=a(137);var ho=Object(Ln.a)({[po.b]:(e,t)=>[...t.payload]},[]),mo=a(120);var uo={user:Dn,sessions:On,sites:Pn,site:Mn,pages:Rn,page:Un,collaboration:Wn,pagesTemplates:Hn,pagesCategories:Vn,plans:Yn,notifications:Jn,notification:$n,subscriptions:ao,transactions:oo,components:ro,component:co,fonts:ho,presets:Object(Ln.a)({[mo.a]:(e,t)=>[...t.payload]},[]),requestFolders:Object(Ln.a)({[As]:(e,t)=>[...t.payload]},[]),requests:Object(Ln.a)({[Ms]:(e,t)=>[...t.payload]},[]),request:Object(Ln.a)({[Is]:(e,t)=>({...t.payload})},[])},go=a(8);const _o=e=>({headers:{Authorization:"Bearer ".concat(e)}}),fo=e=>e.sessions.jwt;function*vo(e,t){try{const a=yield Object(go.d)(fo),s={url:e,..._o(a),...t};return yield Object(go.b)(l.a.request,s)}catch(a){return console.log("API Request error",a),a}}function*wo(e,t){return yield vo(e,{method:"get",...t})}function*Co(e,t){var a=l.a.create();return a.defaults.baseURL="",yield a(e,{method:"get"})}function*yo(e,t){return yield vo(e,{method:"post",data:{...t}})}function*bo(e,t,a){return yield vo(e,{method:"post",data:{...t},...a})}function*Eo(e,t){return yield vo(e,{method:"put",data:{...t}})}function*ko(e,t){return yield vo(e,{method:"delete",data:{...t}})}const So=e=>e.sessions.id;function xo(e){return yo("/users",{...e})}function No(e,t){return Eo("/users/"+t,{...e})}function Bo(e,t){return wo("/users")}function Fo(e){return e.code?Eo("/users/passwords",e):bo("/users/passwords",e)}function Ao(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(xo,t[0]);yield Object(go.c)(x(e.data.user)),yield Object(go.c)(Ae(e.data.user)),t[1](e.data.user)}catch(e){t[2](e),console.log("User create error:",e)}}()}function Lo(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.d)(So),a=yield Object(go.b)(Bo,t,e);yield Object(go.c)(k(a.data.user)),yield Object(go.c)(Ae(a.data.user)),yield t[0](a.data.user)}catch(e){console.log("User fetch error:",e)}}()}function Oo(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.d)(So),a=yield Object(go.b)(No,t[0],e);yield Object(go.c)(B(a.data.user)),t[1]&&(yield t[1](a.data.user))}catch(e){console.log("User update error:",e),t[2](e)}}()}function Do(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Fo,t[0]);yield Object(go.c)(A(e.data)),yield Object(go.c)(Ae(e.data)),t[1]&&(yield t[1](e.data))}catch(e){console.log("User reset error:",e),t[2]&&(yield t[2](e))}}()}function*Mo(){yield Object(go.e)(E,Lo),yield Object(go.e)(S,Ao),yield Object(go.e)(N,Oo),yield Object(go.e)(F,Do)}function Po(e){return yo("/sessions",{...e})}function Io(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Po,t);yield Object(go.c)(Ae(e.data.user)),yield t.cb(e.data.user)}catch(e){yield t.onError(e),console.log("Authenticate error",e)}}()}function*To(){yield Object(go.e)(Fe,Io)}function Ro(){return wo("/sites")}function jo(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Ro);yield Object(go.c)(st(e.data.sites)),t[0]&&(yield t[0](e.data.sites))}catch(e){console.log("Fetch sites error",e)}}()}function*Go(){yield Object(go.e)(at,jo)}function Ho(e){return wo("/sites/".concat(e))}function Uo(e){return Co("/test-data/site.json")}function Zo(e){return bo("/sites",e)}function zo(e){return Eo("/sites/".concat(e.id),e)}function Vo(e){return ko("/sites/".concat(e))}function Wo(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST?Uo:Ho,t[0]);yield Object(go.c)(Object(St.d)(e.data.site)),yield t[1](e.data.site)}catch(e){console.log("Fetch sites error",e)}}()}function qo(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(zo,t[0]);yield Object(go.c)(Object(St.h)(e.data.site)),yield t[1](e.data.site)}catch(e){t[2](),console.log("Update site error",e)}}()}function Ko(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Vo,t[0]);yield Object(go.c)(Object(St.f)(e.data.site)),yield t[1]()}catch(e){console.log("Fetch sites error",e)}}()}function Yo(e){let{payload:t}=e;return function*(){let e=t[1],a=t[2];try{const a=yield Object(go.b)(Zo,t[0]);yield Object(go.c)(Object(St.b)(a.data.site)),yield e(a.data.site)}catch(s){console.log("Create site error",s),a(s)}}()}function*Jo(){yield Object(go.e)(St.c,Wo),yield Object(go.e)(St.a,Yo),yield Object(go.e)(St.e,Ko),yield Object(go.e)(St.g,qo)}function Xo(e){return wo("/sites/".concat(e,"/pages"))}function Qo(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Xo,t);yield Object(go.c)(Tn(e.data.pages))}catch(e){console.log("Fetch pages error",e)}}()}function*$o(){yield Object(go.e)(In,Qo)}var ei="";function ti(){return ei=L.a.location.pathname.indexOf("admin")>-1?"/admin":"",wo("".concat(ei,"/pages"))}function ai(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(ti,t);yield Object(go.c)(Gn(e.data.pages)),yield t(e.data.pages)}catch(e){console.log("Fetch pages error",e)}}()}function*si(){yield Object(go.e)(jn,ai)}function ni(e){return wo("/pages/".concat(e.pageId,"/editor"))}function oi(e){return bo("/sites/".concat(e.siteId,"/pages"),e)}function ii(e){return ko("/pages/".concat(e.pageId))}function ri(e){return Eo("/pages/".concat(e.id),e)}function li(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(ri,t[0]);e.data&&(yield Object(go.c)(Object(Ft.h)(e.data.page)),yield t[1](e.data.page)),"ERR_BAD_REQUEST"===e.code&&t[2](e)}catch(e){console.log("Update page error",e),t[2](e)}}()}function ci(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(oi,t[0]);e.data&&(yield Object(go.c)(Object(Ft.b)(e.data.page)),yield t[1](e.data.page)),"ERR_BAD_REQUEST"===e.code&&t[2](e)}catch(e){console.log("Create page error",e),t[2](e)}}()}function pi(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(ii,t[0]);yield Object(go.c)(Object(Ft.f)(e.data.page)),yield t[1]()}catch(e){console.log("Remove page error",e)}}()}function di(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(ni,t[0]);yield Object(go.c)(Object(Ft.d)(e.data.page)),yield t[1](e.data.page)}catch(e){console.log("Fetch pages error",e)}}()}function*hi(){yield Object(go.e)(Ft.c,di),yield Object(go.e)(Ft.a,ci),yield Object(go.e)(Ft.e,pi),yield Object(go.e)(Ft.g,li)}function mi(){return wo("/pages/categories")}function ui(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(mi);yield Object(go.c)(zn(e.data.categories)),yield t(e.data.categories)}catch(e){console.log("Fetch pages_categories error",e)}}()}function*gi(){yield Object(go.e)(Zn,ui)}function _i(e){return bo("/sites/".concat(e.siteId,"/collaborations"),e)}function fi(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(_i,t[0]);yield Object(go.c)(gt(e.data.collaboration)),yield t[1]()}catch(e){console.log("Create collaboration error",e)}}()}function vi(e){return Eo("/sites/".concat(e.siteId,"/collaborations/").concat(e.collaborationId),e)}function wi(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(vi,t[0]);yield Object(go.c)(ft(e.data.collaboration)),yield t[1]()}catch(e){console.log("Update collaboration error",e)}}()}function Ci(e){return ko("/sites/".concat(e.siteId,"/collaborations/").concat(e.collaborationId))}function yi(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Ci,t[0]);yield Object(go.c)(wt(e.data.collaboration)),yield t[1]()}catch(e){console.log("Delete collaboration error",e)}}()}function*bi(){yield Object(go.e)(ut,fi),yield Object(go.e)(_t,wi),yield Object(go.e)(vt,yi)}function Ei(){return wo("/payments/plans")}function ki(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Ei);yield Object(go.c)(Kn(e.data.plans))}catch(e){console.log("Fetch plans error",e)}}()}function*Si(){yield Object(go.e)(qn,ki)}function xi(){return wo("/notifications")}function Ni(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(xi,t);yield Object(go.c)(R(e.data.notifications))}catch(e){console.log("Fetch notifications error",e)}}()}function*Bi(){yield Object(go.e)(T,Ni)}function Fi(e){return bo("/notifications/read?id[]={id}")}function Ai(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Fi,t);yield Object(go.c)(Qn(e.data.notification))}catch(e){console.log("Update notification error",e)}}()}function*Li(){yield Object(go.e)(Xn,Ai)}function Oi(){return wo("/payments/subscriptions")}function Di(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Oi);yield Object(go.c)(to(e.data.subscriptions))}catch(e){console.log("Fetch subscriptions error",e)}}()}function*Mi(){yield Object(go.e)(eo,Di)}function Pi(){return wo("/payments/transactions")}function Ii(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Pi);yield Object(go.c)(no(e.data.transactions))}catch(e){console.log("Fetch transactions error",e)}}()}function*Ti(){yield Object(go.e)(so,Ii)}function Ri(){return wo("/components/system")}function ji(){return Co("/test-data/system.json")}function Gi(e){let{payload:t}=e;return function*(){try{let e=yield Object(go.b)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST?ji:Ri);yield Object(go.c)(Object(io.b)(e.data.components)),yield t(e.data.components)}catch(e){console.log("Fetch components error",e)}}()}function*Hi(){yield Object(go.e)(io.a,Gi)}const Ui=a(86).v4;function Zi(e,t){if(e.hasOwnProperty(t)&&Array.isArray(e[t]))for(let a of e[t])a.uid=Ui()}function zi(e){delete e.is_system}function Vi(e){let{payload:t}=e;return function*(){const e=t[0],a=t[1],s=t[2],n=(yield Object(go.d)()).components;let o=[];if(e.hasOwnProperty("templates"))for(const t of e.templates){let e=JSON.parse(JSON.stringify(t));delete e.children,zi(e),e.group_id=null,e.template_id=e.id,e.id=Ui(),e.page_id=window.pageId,o.push(e)}else for(const t of e.slugs){let e=JSON.parse(JSON.stringify(n.find(e=>e.slug===t)));e.id=Ui(),e.page_id=window.pageId,zi(e),Zi(e.data,"fills"),Zi(e.data,"button_fills"),Zi(e.data,"fields_fills"),e.group_type=null,o.push(e)}try{yield Object(go.c)(Object(lo.b)(o)),yield a(o)}catch(i){s(i.status),console.log("Create page component error",i)}}()}function*Wi(){yield Object(go.e)(lo.a,Vi)}function qi(e){return wo("/fonts?offset=".concat(e.offset,"&limit=").concat(e.limit))}function Ki(e){return Co("/test-data/fonts.json")}function Yi(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_TEST?Ki:qi,t);yield Object(go.c)(Object(po.b)(e.data.fonts))}catch(e){console.log("Fetch fonts error",e)}}()}function*Ji(){yield Object(go.e)(po.a,Yi)}function Xi(e,t){return t.startDate&&t.endDate?wo("/sites/".concat(e,"/request_folders?from=").concat(t.startDate,"&to=").concat(t.endDate)):wo("/sites/".concat(e,"/request_folders"))}function Qi(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(Xi,t[0],t[2]);yield Object(go.c)(As(e.data.folders)),yield t[1](e.data.folders)}catch(e){console.log("Fetch requestFolders error",e)}}()}function*$i(){yield Object(go.e)(Fs,Qi)}function er(e){var t,a=(t=e,"?"+Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"));return wo("/sites/".concat(e.site_id,"/requests").concat(a))}function tr(e){let{payload:t}=e;return function*(){try{const e=yield Object(go.b)(er,t[0]);yield Object(go.c)(Ms(e.data)),yield t[1](e.data)}catch(e){console.log("Fetch requests error",e)}}()}function*ar(){yield Object(go.e)(Ds,tr)}function sr(e,t){return Eo("/sites/".concat(e.site_id,"/requests/").concat(e.request_id),e)}function nr(e){let{payload:t}=e;return function*(){var e=t[1];try{const a=yield Object(go.b)(sr,t[0]);yield Object(go.c)(Is(a.data.request)),yield e()}catch(a){console.log("Fetch request error",a)}}()}function*or(){yield Object(go.e)(Ps,nr)}function*ir(){yield Object(go.a)([Mo(),To(),Go(),Jo(),$o(),hi(),bi(),si(),gi(),Si(),Bi(),Li(),Mi(),Ti(),Hi(),Wi(),Ji(),$i(),ar(),or()])}const rr={key:"primary",storage:An.a},lr=Object(Bn.a)(rr,uo),cr=(e,t)=>{if("LOGOUT"===t.type){const t=Object(xn.e)(cr,{},dr());e=void 0,Object(Bn.b)(t).purge()}return lr(e,t)},pr=Object(Nn.a)(),dr=()=>window.navigator.userAgent.includes("Chrome")?Object(xn.d)(Object(xn.a)(pr),((window||{}).__REDUX_DEVTOOLS_EXTENSION__||(()=>e=>e))()):Object(xn.d)(Object(xn.a)(pr));var hr=()=>{const e=Object(xn.e)(cr,{},dr()),t=Object(Bn.b)(e);return pr.run(ir),{persistor:t,store:e}},mr=(a(992),a(500)),ur=a.n(mr),gr=a(230);const _r="change",fr="info";class vr extends gr.EventEmitter{constructor(){super(),this.listNotify=[]}create(e){const t={id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),type:"info",title:null,message:null,timeOut:5e3};e.priority?this.listNotify.unshift(Object.assign(t,e)):this.listNotify.push(Object.assign(t,e)),this.emitChange()}info(e,t,a,s,n){this.create({type:fr,message:e,title:t,timeOut:a,onClick:s,priority:n})}remove(e){this.listNotify=this.listNotify.filter(t=>e.id!==t.id),this.emitChange()}emitChange(){this.emit(_r,this.listNotify)}addChangeListener(e){this.addListener(_r,e)}removeChangeListener(e){this.removeListener(_r,e)}}var wr=new vr;class Cr extends s.Component{constructor(){super(...arguments),this.state={notifications:[]},this.componentWillMount=()=>{wr.addChangeListener(this.handleStoreChange)},this.componentWillUnmount=()=>{wr.removeChangeListener(this.handleStoreChange)},this.handleStoreChange=e=>{this.setState({notifications:e})},this.handleRequestHide=e=>{wr.remove(e)}}render(){return n.a.createElement(n.a.Fragment,null,this.state.notifications.map((e,t)=>n.a.createElement("div",{key:t,resize:"height",className:"login-wrapper dashboard-create__site"},n.a.createElement("div",{className:"inline-wrapper"},n.a.createElement("div",{className:"login__form login__form_site login__form_site_section"},n.a.createElement("img",{width:"234px",src:ur.a,alt:"Restriction"}),n.a.createElement("div",{className:"restrictions-text"},e.message),n.a.createElement("div",{className:"inline-wrapper"},n.a.createElement("button",{className:"button button_silver dashboard-create__site-button dashboard-create__site-button_cancel",onClick:this.handleRequestHide.bind(null,e)},"Cancel")),n.a.createElement("div",{className:"inline-wrapper"},n.a.createElement("a",{href:"/account/profile/billing/select_plan/".concat(this.props.site.id),className:"button dashboard-create__site-button button_blue dashboard-create__site-button_finish"},"Upgrade plan")))))))}}var yr=Object(h.b)(e=>({site:e.site}),{})(Cr),br=a(1019),Er=a(258),kr=a(143),Sr=a(501),xr=a(503);Er.a.use(Sr.a).use(xr.a).use(kr.e).init({fallbackLng:["en","es","de","fr","it","ru"],debug:!1,interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}.json?t=76e8b6c"},defaultNS:"app",ns:["app"],load:"languageOnly",cleanCode:!0,react:{bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i"],useSuspense:!0}}),Er.a.on("languageChanged",e=>{ve.a.locale(e)});var Nr=Er.a;const{persistor:Br,store:Fr}=hr();console.warn=()=>{};class Ar extends s.Component{render(){return n.a.createElement(h.a,{store:Fr},n.a.createElement(br.a,{i18n:Nr},n.a.createElement(m.a,{persistor:Br},n.a.createElement(y.a,null),n.a.createElement(s.Suspense,{fallback:""},n.a.createElement(Sn,null)),n.a.createElement(yr,null))))}}var Lr=Ar,Or=a(504),Dr=a.n(Or);window.log=e=>{"object"===typeof e?console.log(JSON.parse(JSON.stringify(e))):console.log(e)};let Mr,Pr={};navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.unregister()})),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_RELEASE:"76e8b6c"}).REACT_APP_CI?(window.ENV="development",l.a.defaults.baseURL="https://api.siter.work/api",window.fbKey="1960786544251691",window.STRIPE_KEY="pk_test_CbzRuOPcwlNPI0MzQYWSWfB0",window.GAkey="UA-64593695-2",window.googleKey="814868604682-1otb9u9uhqni2gl3iiv1jm4d9da1gp1t.apps.googleusercontent.com"):"l.me"===window.location.hostname?(window.ENV="development",window.apiUrl="https://api.siter.work",window.googleKey="814868604682-1otb9u9uhqni2gl3iiv1jm4d9da1gp1t.apps.googleusercontent.com",window.GAkey="UA-64593695-2",window.fbKey="1960786544251691",window.STRIPE_KEY="pk_test_CbzRuOPcwlNPI0MzQYWSWfB0"):"lvh.me"===window.location.hostname||"localhost"===window.location.hostname?(window.ENV="development",window.apiUrl="http://localhost:3000",window.googleKey="814868604682-1otb9u9uhqni2gl3iiv1jm4d9da1gp1t.apps.googleusercontent.com",window.GAkey="UA-64593695-2",window.fbKey="1960786544251691",window.STRIPE_KEY="pk_test_CbzRuOPcwlNPI0MzQYWSWfB0"):"app.siter.io"===window.location.hostname?(window.ENV="production",window.apiUrl="https://api.siter.io",window.googleKey="814868604682-1otb9u9uhqni2gl3iiv1jm4d9da1gp1t.apps.googleusercontent.com",window.GAkey="G-NG9JWFFDPW",window.fbKey="443445009428581",Mr="https://35fd1c9f802241b4bf78eaf42903a477@o287547.ingest.sentry.io/1521788",window.STRIPE_KEY="pk_live_7wLF9xmu5YRFuJGLEgyt5SqV",Pr={gtmId:"GTM-5J97TBN"}):"dev.app.siter.io"===window.location.hostname?(window.ENV="staging",window.apiUrl="https://dev.api.siter.io",window.googleKey="155970767677-po9a0aeai2p54361bis8k7vu11veq14r.apps.googleusercontent.com",window.GAkey="UA-64593695-2",window.fbKey="1960786544251691",window.STRIPE_KEY="pk_test_CbzRuOPcwlNPI0MzQYWSWfB0"):window.location.hostname.indexOf("siter.work")>-1&&(window.ENV="staging",window.apiUrl="https://api.siter.work",window.googleKey="814868604682-1otb9u9uhqni2gl3iiv1jm4d9da1gp1t.apps.googleusercontent.com",window.GAkey="UA-64593695-2",window.fbKey="1960786544251691",Mr="https://df721af830764beda70dff9fbb729dc9@o287547.ingest.sentry.io/5203792",window.STRIPE_KEY="pk_test_CbzRuOPcwlNPI0MzQYWSWfB0"),l.a.defaults.baseURL=window.apiUrl+"/api",Mr&&c.a({dsn:Mr,release:"76e8b6c",replaysSessionSampleRate:.01,replaysOnErrorSampleRate:1,integrations:[new p.a,new d.a],tracesSampleRate:.1,ignoreErrors:["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications"]}),"app.siter.io"===window.location.hostname&&(Dr.a.initialize(Pr),window.tidioChatApi&&window.tidioChatApi.on("popUpHide",e=>{const t=new Event("siter.tidioHide");document.dispatchEvent(t)})),l.a.interceptors.response.use(e=>e,e=>{if(e.response&&("/"!==L.a.location.pathname&&401===e.response.status&&(localStorage.removeItem("persist:primary"),L.a.push("/?r="+document.location.pathname),document.location.reload()),e.response&&e.response.data&&e.response.data.errors)){const t=e.response.data.errors.map(e=>e.title).join("\n");y.b.error(t,"Error",5e3)}return Promise.reject(e)}),i.a.render(n.a.createElement(Lr,null),document.getElementById("root"))}},[[530,1,2]]]);
//# sourceMappingURL=main.f44a8d84.chunk.js.map